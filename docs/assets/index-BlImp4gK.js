const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browserAll-Bwf7nUvZ.js","assets/webworkerAll-URGRcCh9.js","assets/colorToUniform-C2GHuDhf.js","assets/WebGPURenderer-D_4O3esk.js","assets/SharedSystems-x3rN-YpN.js","assets/WebGLRenderer-B23gfqFg.js","assets/ImageHoverEnlargeView-CRrVyHF5.js","assets/ImageHoverEnlargeView-C153ouj8.css","assets/MediaElementPlayer-u6gE90oL.js","assets/MediaElementPlayer-gYbS_CAP.css","assets/404-CEhGrm4K.js","assets/404-BWHTR6m8.css"])))=>i.map(i=>d[i]);
var rd=Object.defineProperty;var ad=(g,h,x)=>h in g?rd(g,h,{enumerable:!0,configurable:!0,writable:!0,value:x}):g[h]=x;var Wt=(g,h,x)=>ad(g,typeof h!="symbol"?h+"":h,x);(function(){const h=document.createElement("link").relList;if(h&&h.supports&&h.supports("modulepreload"))return;for(const M of document.querySelectorAll('link[rel="modulepreload"]'))E(M);new MutationObserver(M=>{for(const w of M)if(w.type==="childList")for(const v of w.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&E(v)}).observe(document,{childList:!0,subtree:!0});function x(M){const w={};return M.integrity&&(w.integrity=M.integrity),M.referrerPolicy&&(w.referrerPolicy=M.referrerPolicy),M.crossOrigin==="use-credentials"?w.credentials="include":M.crossOrigin==="anonymous"?w.credentials="omit":w.credentials="same-origin",w}function E(M){if(M.ep)return;M.ep=!0;const w=x(M);fetch(M.href,w)}})();/**
* @vue/shared v3.4.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function pa(g,h){const x=new Set(g.split(","));return h?E=>x.has(E.toLowerCase()):E=>x.has(E)}const Pt={},Li=[],le=()=>{},od=()=>!1,Sn=g=>g.charCodeAt(0)===111&&g.charCodeAt(1)===110&&(g.charCodeAt(2)>122||g.charCodeAt(2)<97),ma=g=>g.startsWith("onUpdate:"),Zt=Object.assign,ga=(g,h)=>{const x=g.indexOf(h);x>-1&&g.splice(x,1)},hd=Object.prototype.hasOwnProperty,gt=(g,h)=>hd.call(g,h),pt=Array.isArray,Oi=g=>Cn(g)==="[object Map]",hl=g=>Cn(g)==="[object Set]",mt=g=>typeof g=="function",It=g=>typeof g=="string",Ei=g=>typeof g=="symbol",Mt=g=>g!==null&&typeof g=="object",ll=g=>(Mt(g)||mt(g))&&mt(g.then)&&mt(g.catch),ul=Object.prototype.toString,Cn=g=>ul.call(g),ld=g=>Cn(g).slice(8,-1),fl=g=>Cn(g)==="[object Object]",xa=g=>It(g)&&g!=="NaN"&&g[0]!=="-"&&""+parseInt(g,10)===g,ns=pa(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),En=g=>{const h=Object.create(null);return x=>h[x]||(h[x]=g(x))},ud=/-(\w)/g,Fe=En(g=>g.replace(ud,(h,x)=>x?x.toUpperCase():"")),fd=/\B([A-Z])/g,Xi=En(g=>g.replace(fd,"-$1").toLowerCase()),An=En(g=>g.charAt(0).toUpperCase()+g.slice(1)),Hn=En(g=>g?`on${An(g)}`:""),qe=(g,h)=>!Object.is(g,h),tn=(g,h)=>{for(let x=0;x<g.length;x++)g[x](h)},dl=(g,h,x,E=!1)=>{Object.defineProperty(g,h,{configurable:!0,enumerable:!1,writable:E,value:x})},Fr=g=>{const h=parseFloat(g);return isNaN(h)?g:h},dd=g=>{const h=It(g)?Number(g):NaN;return isNaN(h)?g:h};let ka;const cl=()=>ka||(ka=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ya(g){if(pt(g)){const h={};for(let x=0;x<g.length;x++){const E=g[x],M=It(E)?md(E):ya(E);if(M)for(const w in M)h[w]=M[w]}return h}else if(It(g)||Mt(g))return g}const cd=/;(?![^(]*\))/g,vd=/:([^]+)/,pd=/\/\*[^]*?\*\//g;function md(g){const h={};return g.replace(pd,"").split(cd).forEach(x=>{if(x){const E=x.split(vd);E.length>1&&(h[E[0].trim()]=E[1].trim())}}),h}function Ta(g){let h="";if(It(g))h=g;else if(pt(g))for(let x=0;x<g.length;x++){const E=Ta(g[x]);E&&(h+=E+" ")}else if(Mt(g))for(const x in g)g[x]&&(h+=x+" ");return h.trim()}const gd="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",xd=pa(gd);function vl(g){return!!g||g===""}const _1=g=>It(g)?g:g==null?"":pt(g)||Mt(g)&&(g.toString===ul||!mt(g.toString))?JSON.stringify(g,pl,2):String(g),pl=(g,h)=>h&&h.__v_isRef?pl(g,h.value):Oi(h)?{[`Map(${h.size})`]:[...h.entries()].reduce((x,[E,M],w)=>(x[Kn(E,w)+" =>"]=M,x),{})}:hl(h)?{[`Set(${h.size})`]:[...h.values()].map(x=>Kn(x))}:Ei(h)?Kn(h):Mt(h)&&!pt(h)&&!fl(h)?String(h):h,Kn=(g,h="")=>{var x;return Ei(g)?`Symbol(${(x=g.description)!=null?x:h})`:g};/**
* @vue/reactivity v3.4.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ce;class yd{constructor(h=!1){this.detached=h,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ce,!h&&ce&&(this.index=(ce.scopes||(ce.scopes=[])).push(this)-1)}get active(){return this._active}run(h){if(this._active){const x=ce;try{return ce=this,h()}finally{ce=x}}}on(){ce=this}off(){ce=this.parent}stop(h){if(this._active){let x,E;for(x=0,E=this.effects.length;x<E;x++)this.effects[x].stop();for(x=0,E=this.cleanups.length;x<E;x++)this.cleanups[x]();if(this.scopes)for(x=0,E=this.scopes.length;x<E;x++)this.scopes[x].stop(!0);if(!this.detached&&this.parent&&!h){const M=this.parent.scopes.pop();M&&M!==this&&(this.parent.scopes[this.index]=M,M.index=this.index)}this.parent=void 0,this._active=!1}}}function Td(g,h=ce){h&&h.active&&h.effects.push(g)}function Sd(){return ce}let Ti;class Sa{constructor(h,x,E,M){this.fn=h,this.trigger=x,this.scheduler=E,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,Td(this,M)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,ti();for(let h=0;h<this._depsLength;h++){const x=this.deps[h];if(x.computed&&(Cd(x.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),ei()}return this._dirtyLevel>=4}set dirty(h){this._dirtyLevel=h?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let h=$e,x=Ti;try{return $e=!0,Ti=this,this._runnings++,qa(this),this.fn()}finally{_a(this),this._runnings--,Ti=x,$e=h}}stop(){this.active&&(qa(this),_a(this),this.onStop&&this.onStop(),this.active=!1)}}function Cd(g){return g.value}function qa(g){g._trackId++,g._depsLength=0}function _a(g){if(g.deps.length>g._depsLength){for(let h=g._depsLength;h<g.deps.length;h++)ml(g.deps[h],g);g.deps.length=g._depsLength}}function ml(g,h){const x=g.get(h);x!==void 0&&h._trackId!==x&&(g.delete(h),g.size===0&&g.cleanup())}let $e=!0,Lr=0;const gl=[];function ti(){gl.push($e),$e=!1}function ei(){const g=gl.pop();$e=g===void 0?!0:g}function Ca(){Lr++}function Ea(){for(Lr--;!Lr&&Or.length;)Or.shift()()}function xl(g,h,x){if(h.get(g)!==g._trackId){h.set(g,g._trackId);const E=g.deps[g._depsLength];E!==h?(E&&ml(E,g),g.deps[g._depsLength++]=h):g._depsLength++}}const Or=[];function yl(g,h,x){Ca();for(const E of g.keys()){let M;E._dirtyLevel<h&&(M??(M=g.get(E)===E._trackId))&&(E._shouldSchedule||(E._shouldSchedule=E._dirtyLevel===0),E._dirtyLevel=h),E._shouldSchedule&&(M??(M=g.get(E)===E._trackId))&&(E.trigger(),(!E._runnings||E.allowRecurse)&&E._dirtyLevel!==2&&(E._shouldSchedule=!1,E.scheduler&&Or.push(E.scheduler)))}Ea()}const Tl=(g,h)=>{const x=new Map;return x.cleanup=g,x.computed=h,x},dn=new WeakMap,Si=Symbol(""),Dr=Symbol("");function se(g,h,x){if($e&&Ti){let E=dn.get(g);E||dn.set(g,E=new Map);let M=E.get(x);M||E.set(x,M=Tl(()=>E.delete(x))),xl(Ti,M)}}function Be(g,h,x,E,M,w){const v=dn.get(g);if(!v)return;let y=[];if(h==="clear")y=[...v.values()];else if(x==="length"&&pt(g)){const t=Number(E);v.forEach((o,p)=>{(p==="length"||!Ei(p)&&p>=t)&&y.push(o)})}else switch(x!==void 0&&y.push(v.get(x)),h){case"add":pt(g)?xa(x)&&y.push(v.get("length")):(y.push(v.get(Si)),Oi(g)&&y.push(v.get(Dr)));break;case"delete":pt(g)||(y.push(v.get(Si)),Oi(g)&&y.push(v.get(Dr)));break;case"set":Oi(g)&&y.push(v.get(Si));break}Ca();for(const t of y)t&&yl(t,4);Ea()}function Ed(g,h){const x=dn.get(g);return x&&x.get(h)}const Ad=pa("__proto__,__v_isRef,__isVue"),Sl=new Set(Object.getOwnPropertyNames(Symbol).filter(g=>g!=="arguments"&&g!=="caller").map(g=>Symbol[g]).filter(Ei)),to=Pd();function Pd(){const g={};return["includes","indexOf","lastIndexOf"].forEach(h=>{g[h]=function(...x){const E=Tt(this);for(let w=0,v=this.length;w<v;w++)se(E,"get",w+"");const M=E[h](...x);return M===-1||M===!1?E[h](...x.map(Tt)):M}}),["push","pop","shift","unshift","splice"].forEach(h=>{g[h]=function(...x){ti(),Ca();const E=Tt(this)[h].apply(this,x);return Ea(),ei(),E}}),g}function Md(g){Ei(g)||(g=String(g));const h=Tt(this);return se(h,"has",g),h.hasOwnProperty(g)}class Cl{constructor(h=!1,x=!1){this._isReadonly=h,this._isShallow=x}get(h,x,E){const M=this._isReadonly,w=this._isShallow;if(x==="__v_isReactive")return!M;if(x==="__v_isReadonly")return M;if(x==="__v_isShallow")return w;if(x==="__v_raw")return E===(M?w?Ud:Ml:w?Pl:Al).get(h)||Object.getPrototypeOf(h)===Object.getPrototypeOf(E)?h:void 0;const v=pt(h);if(!M){if(v&&gt(to,x))return Reflect.get(to,x,E);if(x==="hasOwnProperty")return Md}const y=Reflect.get(h,x,E);return(Ei(x)?Sl.has(x):Ad(x))||(M||se(h,"get",x),w)?y:te(y)?v&&xa(x)?y:y.value:Mt(y)?M?wl(y):Mn(y):y}}class El extends Cl{constructor(h=!1){super(!1,h)}set(h,x,E,M){let w=h[x];if(!this._isShallow){const t=ps(w);if(!cn(E)&&!ps(E)&&(w=Tt(w),E=Tt(E)),!pt(h)&&te(w)&&!te(E))return t?!1:(w.value=E,!0)}const v=pt(h)&&xa(x)?Number(x)<h.length:gt(h,x),y=Reflect.set(h,x,E,M);return h===Tt(M)&&(v?qe(E,w)&&Be(h,"set",x,E):Be(h,"add",x,E)),y}deleteProperty(h,x){const E=gt(h,x);h[x];const M=Reflect.deleteProperty(h,x);return M&&E&&Be(h,"delete",x,void 0),M}has(h,x){const E=Reflect.has(h,x);return(!Ei(x)||!Sl.has(x))&&se(h,"has",x),E}ownKeys(h){return se(h,"iterate",pt(h)?"length":Si),Reflect.ownKeys(h)}}class Rd extends Cl{constructor(h=!1){super(!0,h)}set(h,x){return!0}deleteProperty(h,x){return!0}}const wd=new El,Fd=new Rd,Ld=new El(!0);const Aa=g=>g,Pn=g=>Reflect.getPrototypeOf(g);function Bs(g,h,x=!1,E=!1){g=g.__v_raw;const M=Tt(g),w=Tt(h);x||(qe(h,w)&&se(M,"get",h),se(M,"get",w));const{has:v}=Pn(M),y=E?Aa:x?Ra:ms;if(v.call(M,h))return y(g.get(h));if(v.call(M,w))return y(g.get(w));g!==M&&g.get(h)}function bs(g,h=!1){const x=this.__v_raw,E=Tt(x),M=Tt(g);return h||(qe(g,M)&&se(E,"has",g),se(E,"has",M)),g===M?x.has(g):x.has(g)||x.has(M)}function Gs(g,h=!1){return g=g.__v_raw,!h&&se(Tt(g),"iterate",Si),Reflect.get(g,"size",g)}function eo(g){g=Tt(g);const h=Tt(this);return Pn(h).has.call(h,g)||(h.add(g),Be(h,"add",g,g)),this}function io(g,h){h=Tt(h);const x=Tt(this),{has:E,get:M}=Pn(x);let w=E.call(x,g);w||(g=Tt(g),w=E.call(x,g));const v=M.call(x,g);return x.set(g,h),w?qe(h,v)&&Be(x,"set",g,h):Be(x,"add",g,h),this}function so(g){const h=Tt(this),{has:x,get:E}=Pn(h);let M=x.call(h,g);M||(g=Tt(g),M=x.call(h,g)),E&&E.call(h,g);const w=h.delete(g);return M&&Be(h,"delete",g,void 0),w}function no(){const g=Tt(this),h=g.size!==0,x=g.clear();return h&&Be(g,"clear",void 0,void 0),x}function Ns(g,h){return function(E,M){const w=this,v=w.__v_raw,y=Tt(v),t=h?Aa:g?Ra:ms;return!g&&se(y,"iterate",Si),v.forEach((o,p)=>E.call(M,t(o),t(p),w))}}function zs(g,h,x){return function(...E){const M=this.__v_raw,w=Tt(M),v=Oi(w),y=g==="entries"||g===Symbol.iterator&&v,t=g==="keys"&&v,o=M[g](...E),p=x?Aa:h?Ra:ms;return!h&&se(w,"iterate",t?Dr:Si),{next(){const{value:a,done:n}=o.next();return n?{value:a,done:n}:{value:y?[p(a[0]),p(a[1])]:p(a),done:n}},[Symbol.iterator](){return this}}}}function Ue(g){return function(...h){return g==="delete"?!1:g==="clear"?void 0:this}}function Od(){const g={get(w){return Bs(this,w)},get size(){return Gs(this)},has:bs,add:eo,set:io,delete:so,clear:no,forEach:Ns(!1,!1)},h={get(w){return Bs(this,w,!1,!0)},get size(){return Gs(this)},has:bs,add:eo,set:io,delete:so,clear:no,forEach:Ns(!1,!0)},x={get(w){return Bs(this,w,!0)},get size(){return Gs(this,!0)},has(w){return bs.call(this,w,!0)},add:Ue("add"),set:Ue("set"),delete:Ue("delete"),clear:Ue("clear"),forEach:Ns(!0,!1)},E={get(w){return Bs(this,w,!0,!0)},get size(){return Gs(this,!0)},has(w){return bs.call(this,w,!0)},add:Ue("add"),set:Ue("set"),delete:Ue("delete"),clear:Ue("clear"),forEach:Ns(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(w=>{g[w]=zs(w,!1,!1),x[w]=zs(w,!0,!1),h[w]=zs(w,!1,!0),E[w]=zs(w,!0,!0)}),[g,x,h,E]}const[Dd,Id,Bd,bd]=Od();function Pa(g,h){const x=h?g?bd:Bd:g?Id:Dd;return(E,M,w)=>M==="__v_isReactive"?!g:M==="__v_isReadonly"?g:M==="__v_raw"?E:Reflect.get(gt(x,M)&&M in E?x:E,M,w)}const Gd={get:Pa(!1,!1)},Nd={get:Pa(!1,!0)},zd={get:Pa(!0,!1)};const Al=new WeakMap,Pl=new WeakMap,Ml=new WeakMap,Ud=new WeakMap;function Vd(g){switch(g){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Xd(g){return g.__v_skip||!Object.isExtensible(g)?0:Vd(ld(g))}function Mn(g){return ps(g)?g:Ma(g,!1,wd,Gd,Al)}function Rl(g){return Ma(g,!1,Ld,Nd,Pl)}function wl(g){return Ma(g,!0,Fd,zd,Ml)}function Ma(g,h,x,E,M){if(!Mt(g)||g.__v_raw&&!(h&&g.__v_isReactive))return g;const w=M.get(g);if(w)return w;const v=Xd(g);if(v===0)return g;const y=new Proxy(g,v===2?E:x);return M.set(g,y),y}function rs(g){return ps(g)?rs(g.__v_raw):!!(g&&g.__v_isReactive)}function ps(g){return!!(g&&g.__v_isReadonly)}function cn(g){return!!(g&&g.__v_isShallow)}function Fl(g){return g?!!g.__v_raw:!1}function Tt(g){const h=g&&g.__v_raw;return h?Tt(h):g}function Yd(g){return Object.isExtensible(g)&&dl(g,"__v_skip",!0),g}const ms=g=>Mt(g)?Mn(g):g,Ra=g=>Mt(g)?wl(g):g;class Ll{constructor(h,x,E,M){this.getter=h,this._setter=x,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Sa(()=>h(this._value),()=>en(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!M,this.__v_isReadonly=E}get value(){const h=Tt(this);return(!h._cacheable||h.effect.dirty)&&qe(h._value,h._value=h.effect.run())&&en(h,4),Ol(h),h.effect._dirtyLevel>=2&&en(h,2),h._value}set value(h){this._setter(h)}get _dirty(){return this.effect.dirty}set _dirty(h){this.effect.dirty=h}}function Wd(g,h,x=!1){let E,M;const w=mt(g);return w?(E=g,M=le):(E=g.get,M=g.set),new Ll(E,M,w||!M,x)}function Ol(g){var h;$e&&Ti&&(g=Tt(g),xl(Ti,(h=g.dep)!=null?h:g.dep=Tl(()=>g.dep=void 0,g instanceof Ll?g:void 0)))}function en(g,h=4,x){g=Tt(g);const E=g.dep;E&&yl(E,h)}function te(g){return!!(g&&g.__v_isRef===!0)}function Hd(g){return Dl(g,!1)}function Kd(g){return Dl(g,!0)}function Dl(g,h){return te(g)?g:new Zd(g,h)}class Zd{constructor(h,x){this.__v_isShallow=x,this.dep=void 0,this.__v_isRef=!0,this._rawValue=x?h:Tt(h),this._value=x?h:ms(h)}get value(){return Ol(this),this._value}set value(h){const x=this.__v_isShallow||cn(h)||ps(h);h=x?h:Tt(h),qe(h,this._rawValue)&&(this._rawValue=h,this._value=x?h:ms(h),en(this,4))}}function Di(g){return te(g)?g.value:g}const Qd={get:(g,h,x)=>Di(Reflect.get(g,h,x)),set:(g,h,x,E)=>{const M=g[h];return te(M)&&!te(x)?(M.value=x,!0):Reflect.set(g,h,x,E)}};function Il(g){return rs(g)?g:new Proxy(g,Qd)}function ty(g){const h=pt(g)?new Array(g.length):{};for(const x in g)h[x]=$d(g,x);return h}class Jd{constructor(h,x,E){this._object=h,this._key=x,this._defaultValue=E,this.__v_isRef=!0}get value(){const h=this._object[this._key];return h===void 0?this._defaultValue:h}set value(h){this._object[this._key]=h}get dep(){return Ed(Tt(this._object),this._key)}}function $d(g,h,x){const E=g[h];return te(E)?E:new Jd(g,h,x)}/**
* @vue/runtime-core v3.4.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function je(g,h,x,E){try{return E?g(...E):g()}catch(M){Rn(M,h,x)}}function fe(g,h,x,E){if(mt(g)){const M=je(g,h,x,E);return M&&ll(M)&&M.catch(w=>{Rn(w,h,x)}),M}if(pt(g)){const M=[];for(let w=0;w<g.length;w++)M.push(fe(g[w],h,x,E));return M}}function Rn(g,h,x,E=!0){const M=h?h.vnode:null;if(h){let w=h.parent;const v=h.proxy,y=`https://vuejs.org/error-reference/#runtime-${x}`;for(;w;){const o=w.ec;if(o){for(let p=0;p<o.length;p++)if(o[p](g,v,y)===!1)return}w=w.parent}const t=h.appContext.config.errorHandler;if(t){ti(),je(t,null,10,[g,v,y]),ei();return}}jd(g,x,M,E)}function jd(g,h,x,E=!0){console.error(g)}let gs=!1,Ir=!1;const Jt=[];let we=0;const Ii=[];let We=null,mi=0;const Bl=Promise.resolve();let wa=null;function bl(g){const h=wa||Bl;return g?h.then(this?g.bind(this):g):h}function kd(g){let h=we+1,x=Jt.length;for(;h<x;){const E=h+x>>>1,M=Jt[E],w=xs(M);w<g||w===g&&M.pre?h=E+1:x=E}return h}function Fa(g){(!Jt.length||!Jt.includes(g,gs&&g.allowRecurse?we+1:we))&&(g.id==null?Jt.push(g):Jt.splice(kd(g.id),0,g),Gl())}function Gl(){!gs&&!Ir&&(Ir=!0,wa=Bl.then(zl))}function qd(g){const h=Jt.indexOf(g);h>we&&Jt.splice(h,1)}function _d(g){pt(g)?Ii.push(...g):(!We||!We.includes(g,g.allowRecurse?mi+1:mi))&&Ii.push(g),Gl()}function ro(g,h,x=gs?we+1:0){for(;x<Jt.length;x++){const E=Jt[x];if(E&&E.pre){if(g&&E.id!==g.uid)continue;Jt.splice(x,1),x--,E()}}}function Nl(g){if(Ii.length){const h=[...new Set(Ii)].sort((x,E)=>xs(x)-xs(E));if(Ii.length=0,We){We.push(...h);return}for(We=h,mi=0;mi<We.length;mi++)We[mi]();We=null,mi=0}}const xs=g=>g.id==null?1/0:g.id,tc=(g,h)=>{const x=xs(g)-xs(h);if(x===0){if(g.pre&&!h.pre)return-1;if(h.pre&&!g.pre)return 1}return x};function zl(g){Ir=!1,gs=!0,Jt.sort(tc);try{for(we=0;we<Jt.length;we++){const h=Jt[we];h&&h.active!==!1&&je(h,null,14)}}finally{we=0,Jt.length=0,Nl(),gs=!1,wa=null,(Jt.length||Ii.length)&&zl()}}function ec(g,h,...x){if(g.isUnmounted)return;const E=g.vnode.props||Pt;let M=x;const w=h.startsWith("update:"),v=w&&h.slice(7);if(v&&v in E){const p=`${v==="modelValue"?"model":v}Modifiers`,{number:a,trim:n}=E[p]||Pt;n&&(M=x.map(i=>It(i)?i.trim():i)),a&&(M=x.map(Fr))}let y,t=E[y=Hn(h)]||E[y=Hn(Fe(h))];!t&&w&&(t=E[y=Hn(Xi(h))]),t&&fe(t,g,6,M);const o=E[y+"Once"];if(o){if(!g.emitted)g.emitted={};else if(g.emitted[y])return;g.emitted[y]=!0,fe(o,g,6,M)}}function Ul(g,h,x=!1){const E=h.emitsCache,M=E.get(g);if(M!==void 0)return M;const w=g.emits;let v={},y=!1;if(!mt(g)){const t=o=>{const p=Ul(o,h,!0);p&&(y=!0,Zt(v,p))};!x&&h.mixins.length&&h.mixins.forEach(t),g.extends&&t(g.extends),g.mixins&&g.mixins.forEach(t)}return!w&&!y?(Mt(g)&&E.set(g,null),null):(pt(w)?w.forEach(t=>v[t]=null):Zt(v,w),Mt(g)&&E.set(g,v),v)}function wn(g,h){return!g||!Sn(h)?!1:(h=h.slice(2).replace(/Once$/,""),gt(g,h[0].toLowerCase()+h.slice(1))||gt(g,Xi(h))||gt(g,h))}let Ut=null,Fn=null;function vn(g){const h=Ut;return Ut=g,Fn=g&&g.type.__scopeId||null,h}function ic(g){Fn=g}function sc(){Fn=null}function Br(g,h=Ut,x){if(!h||g._n)return g;const E=(...M)=>{E._d&&yo(-1);const w=vn(h);let v;try{v=g(...M)}finally{vn(w),E._d&&yo(1)}return v};return E._n=!0,E._c=!0,E._d=!0,E}function ao(g){const{type:h,vnode:x,proxy:E,withProxy:M,propsOptions:[w],slots:v,attrs:y,emit:t,render:o,renderCache:p,props:a,data:n,setupState:i,ctx:e,inheritAttrs:r}=g,l=vn(g);let s,u;try{if(x.shapeFlag&4){const f=M||E,c=f;s=Re(o.call(c,f,p,a,i,n,e)),u=y}else{const f=h;s=Re(f.length>1?f(a,{attrs:y,slots:v,emit:t}):f(a,null)),u=h.props?y:nc(y)}}catch(f){ls.length=0,Rn(f,g,1),s=kt(me)}let d=s;if(u&&r!==!1){const f=Object.keys(u),{shapeFlag:c}=d;f.length&&c&7&&(w&&f.some(ma)&&(u=rc(u,w)),d=_e(d,u,!1,!0))}return x.dirs&&(d=_e(d,null,!1,!0),d.dirs=d.dirs?d.dirs.concat(x.dirs):x.dirs),x.transition&&(d.transition=x.transition),s=d,vn(l),s}const nc=g=>{let h;for(const x in g)(x==="class"||x==="style"||Sn(x))&&((h||(h={}))[x]=g[x]);return h},rc=(g,h)=>{const x={};for(const E in g)(!ma(E)||!(E.slice(9)in h))&&(x[E]=g[E]);return x};function ac(g,h,x){const{props:E,children:M,component:w}=g,{props:v,children:y,patchFlag:t}=h,o=w.emitsOptions;if(h.dirs||h.transition)return!0;if(x&&t>=0){if(t&1024)return!0;if(t&16)return E?oo(E,v,o):!!v;if(t&8){const p=h.dynamicProps;for(let a=0;a<p.length;a++){const n=p[a];if(v[n]!==E[n]&&!wn(o,n))return!0}}}else return(M||y)&&(!y||!y.$stable)?!0:E===v?!1:E?v?oo(E,v,o):!0:!!v;return!1}function oo(g,h,x){const E=Object.keys(h);if(E.length!==Object.keys(g).length)return!0;for(let M=0;M<E.length;M++){const w=E[M];if(h[w]!==g[w]&&!wn(x,w))return!0}return!1}function oc({vnode:g,parent:h},x){for(;h;){const E=h.subTree;if(E.suspense&&E.suspense.activeBranch===g&&(E.el=g.el),E===g)(g=h.vnode).el=x,h=h.parent;else break}}const Vl="components";function hc(g,h){return Yl(Vl,g,!0,h)||g}const Xl=Symbol.for("v-ndc");function lc(g){return It(g)?Yl(Vl,g,!1)||g:g||Xl}function Yl(g,h,x=!0,E=!1){const M=Ut||Qt;if(M){const w=M.type;{const y=rv(w,!1);if(y&&(y===h||y===Fe(h)||y===An(Fe(h))))return w}const v=ho(M[g]||w[g],h)||ho(M.appContext[g],h);return!v&&E?w:v}}function ho(g,h){return g&&(g[h]||g[Fe(h)]||g[An(Fe(h))])}const uc=g=>g.__isSuspense;function fc(g,h){h&&h.pendingBranch?pt(g)?h.effects.push(...g):h.effects.push(g):_d(g)}const dc=Symbol.for("v-scx"),cc=()=>be(dc),Us={};function sn(g,h,x){return Wl(g,h,x)}function Wl(g,h,{immediate:x,deep:E,flush:M,once:w,onTrack:v,onTrigger:y}=Pt){if(h&&w){const m=h;h=(...T)=>{m(...T),c()}}const t=Qt,o=m=>E===!0?m:xi(m,E===!1?1:void 0);let p,a=!1,n=!1;if(te(g)?(p=()=>g.value,a=cn(g)):rs(g)?(p=()=>o(g),a=!0):pt(g)?(n=!0,a=g.some(m=>rs(m)||cn(m)),p=()=>g.map(m=>{if(te(m))return m.value;if(rs(m))return o(m);if(mt(m))return je(m,t,2)})):mt(g)?h?p=()=>je(g,t,2):p=()=>(i&&i(),fe(g,t,3,[e])):p=le,h&&E){const m=p;p=()=>xi(m())}let i,e=m=>{i=d.onStop=()=>{je(m,t,4),i=d.onStop=void 0}},r;if(In)if(e=le,h?x&&fe(h,t,3,[p(),n?[]:void 0,e]):p(),M==="sync"){const m=cc();r=m.__watcherHandles||(m.__watcherHandles=[])}else return le;let l=n?new Array(g.length).fill(Us):Us;const s=()=>{if(!(!d.active||!d.dirty))if(h){const m=d.run();(E||a||(n?m.some((T,C)=>qe(T,l[C])):qe(m,l)))&&(i&&i(),fe(h,t,3,[m,l===Us?void 0:n&&l[0]===Us?[]:l,e]),l=m)}else d.run()};s.allowRecurse=!!h;let u;M==="sync"?u=s:M==="post"?u=()=>ee(s,t&&t.suspense):(s.pre=!0,t&&(s.id=t.uid),u=()=>Fa(s));const d=new Sa(p,le,u),f=Sd(),c=()=>{d.stop(),f&&ga(f.effects,d)};return h?x?s():l=d.run():M==="post"?ee(d.run.bind(d),t&&t.suspense):d.run(),r&&r.push(c),c}function vc(g,h,x){const E=this.proxy,M=It(g)?g.includes(".")?Hl(E,g):()=>E[g]:g.bind(E,E);let w;mt(h)?w=h:(w=h.handler,x=h);const v=Is(this),y=Wl(M,w.bind(E),x);return v(),y}function Hl(g,h){const x=h.split(".");return()=>{let E=g;for(let M=0;M<x.length&&E;M++)E=E[x[M]];return E}}function xi(g,h=1/0,x){if(h<=0||!Mt(g)||g.__v_skip||(x=x||new Set,x.has(g)))return g;if(x.add(g),h--,te(g))xi(g.value,h,x);else if(pt(g))for(let E=0;E<g.length;E++)xi(g[E],h,x);else if(hl(g)||Oi(g))g.forEach(E=>{xi(E,h,x)});else if(fl(g))for(const E in g)xi(g[E],h,x);return g}function ey(g,h){if(Ut===null)return g;const x=Bn(Ut)||Ut.proxy,E=g.dirs||(g.dirs=[]);for(let M=0;M<h.length;M++){let[w,v,y,t=Pt]=h[M];w&&(mt(w)&&(w={mounted:w,updated:w}),w.deep&&xi(v),E.push({dir:w,instance:x,value:v,oldValue:void 0,arg:y,modifiers:t}))}return g}function ai(g,h,x,E){const M=g.dirs,w=h&&h.dirs;for(let v=0;v<M.length;v++){const y=M[v];w&&(y.oldValue=w[v].value);let t=y.dir[E];t&&(ti(),fe(t,x,8,[g.el,y,g,h]),ei())}}const He=Symbol("_leaveCb"),Vs=Symbol("_enterCb");function pc(){const g={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ds(()=>{g.isMounted=!0}),$l(()=>{g.isUnmounting=!0}),g}const oe=[Function,Array],Kl={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:oe,onEnter:oe,onAfterEnter:oe,onEnterCancelled:oe,onBeforeLeave:oe,onLeave:oe,onAfterLeave:oe,onLeaveCancelled:oe,onBeforeAppear:oe,onAppear:oe,onAfterAppear:oe,onAppearCancelled:oe},mc={name:"BaseTransition",props:Kl,setup(g,{slots:h}){const x=tv(),E=pc();return()=>{const M=h.default&&Ql(h.default(),!0);if(!M||!M.length)return;let w=M[0];if(M.length>1){for(const n of M)if(n.type!==me){w=n;break}}const v=Tt(g),{mode:y}=v;if(E.isLeaving)return Zn(w);const t=lo(w);if(!t)return Zn(w);const o=br(t,v,E,x);Gr(t,o);const p=x.subTree,a=p&&lo(p);if(a&&a.type!==me&&!gi(t,a)){const n=br(a,v,E,x);if(Gr(a,n),y==="out-in"&&t.type!==me)return E.isLeaving=!0,n.afterLeave=()=>{E.isLeaving=!1,x.update.active!==!1&&(x.effect.dirty=!0,x.update())},Zn(w);y==="in-out"&&t.type!==me&&(n.delayLeave=(i,e,r)=>{const l=Zl(E,a);l[String(a.key)]=a,i[He]=()=>{e(),i[He]=void 0,delete o.delayedLeave},o.delayedLeave=r})}return w}}},gc=mc;function Zl(g,h){const{leavingVNodes:x}=g;let E=x.get(h.type);return E||(E=Object.create(null),x.set(h.type,E)),E}function br(g,h,x,E){const{appear:M,mode:w,persisted:v=!1,onBeforeEnter:y,onEnter:t,onAfterEnter:o,onEnterCancelled:p,onBeforeLeave:a,onLeave:n,onAfterLeave:i,onLeaveCancelled:e,onBeforeAppear:r,onAppear:l,onAfterAppear:s,onAppearCancelled:u}=h,d=String(g.key),f=Zl(x,g),c=(C,S)=>{C&&fe(C,E,9,S)},m=(C,S)=>{const A=S[1];c(C,S),pt(C)?C.every(P=>P.length<=1)&&A():C.length<=1&&A()},T={mode:w,persisted:v,beforeEnter(C){let S=y;if(!x.isMounted)if(M)S=r||y;else return;C[He]&&C[He](!0);const A=f[d];A&&gi(g,A)&&A.el[He]&&A.el[He](),c(S,[C])},enter(C){let S=t,A=o,P=p;if(!x.isMounted)if(M)S=l||t,A=s||o,P=u||p;else return;let R=!1;const F=C[Vs]=D=>{R||(R=!0,D?c(P,[C]):c(A,[C]),T.delayedLeave&&T.delayedLeave(),C[Vs]=void 0)};S?m(S,[C,F]):F()},leave(C,S){const A=String(g.key);if(C[Vs]&&C[Vs](!0),x.isUnmounting)return S();c(a,[C]);let P=!1;const R=C[He]=F=>{P||(P=!0,S(),F?c(e,[C]):c(i,[C]),C[He]=void 0,f[A]===g&&delete f[A])};f[A]=g,n?m(n,[C,R]):R()},clone(C){return br(C,h,x,E)}};return T}function Zn(g){if(Ln(g))return g=_e(g),g.children=null,g}function lo(g){if(!Ln(g))return g;const{shapeFlag:h,children:x}=g;if(x){if(h&16)return x[0];if(h&32&&mt(x.default))return x.default()}}function Gr(g,h){g.shapeFlag&6&&g.component?Gr(g.component.subTree,h):g.shapeFlag&128?(g.ssContent.transition=h.clone(g.ssContent),g.ssFallback.transition=h.clone(g.ssFallback)):g.transition=h}function Ql(g,h=!1,x){let E=[],M=0;for(let w=0;w<g.length;w++){let v=g[w];const y=x==null?v.key:String(x)+String(v.key!=null?v.key:w);v.type===he?(v.patchFlag&128&&M++,E=E.concat(Ql(v.children,h,y))):(h||v.type!==me)&&E.push(y!=null?_e(v,{key:y}):v)}if(M>1)for(let w=0;w<E.length;w++)E[w].patchFlag=-2;return E}/*! #__NO_SIDE_EFFECTS__ */function Os(g,h){return mt(g)?Zt({name:g.name},h,{setup:g}):g}const as=g=>!!g.type.__asyncLoader,Ln=g=>g.type.__isKeepAlive;function xc(g,h){Jl(g,"a",h)}function yc(g,h){Jl(g,"da",h)}function Jl(g,h,x=Qt){const E=g.__wdc||(g.__wdc=()=>{let M=x;for(;M;){if(M.isDeactivated)return;M=M.parent}return g()});if(On(h,E,x),x){let M=x.parent;for(;M&&M.parent;)Ln(M.parent.vnode)&&Tc(E,h,x,M),M=M.parent}}function Tc(g,h,x,E){const M=On(h,g,E,!0);jl(()=>{ga(E[h],M)},x)}function On(g,h,x=Qt,E=!1){if(x){const M=x[g]||(x[g]=[]),w=h.__weh||(h.__weh=(...v)=>{if(x.isUnmounted)return;ti();const y=Is(x),t=fe(h,x,g,v);return y(),ei(),t});return E?M.unshift(w):M.push(w),w}}const ze=g=>(h,x=Qt)=>(!In||g==="sp")&&On(g,(...E)=>h(...E),x),Sc=ze("bm"),Ds=ze("m"),Cc=ze("bu"),Ec=ze("u"),$l=ze("bum"),jl=ze("um"),Ac=ze("sp"),Pc=ze("rtg"),Mc=ze("rtc");function Rc(g,h=Qt){On("ec",g,h)}function iy(g,h,x,E){let M;const w=x;if(pt(g)||It(g)){M=new Array(g.length);for(let v=0,y=g.length;v<y;v++)M[v]=h(g[v],v,void 0,w)}else if(typeof g=="number"){M=new Array(g);for(let v=0;v<g;v++)M[v]=h(v+1,v,void 0,w)}else if(Mt(g))if(g[Symbol.iterator])M=Array.from(g,(v,y)=>h(v,y,void 0,w));else{const v=Object.keys(g);M=new Array(v.length);for(let y=0,t=v.length;y<t;y++){const o=v[y];M[y]=h(g[o],o,y,w)}}else M=[];return M}function sy(g,h,x={},E,M){if(Ut.isCE||Ut.parent&&as(Ut.parent)&&Ut.parent.isCE)return kt("slot",x,E);let w=g[h];w&&w._c&&(w._d=!1),ys();const v=w&&kl(w(x)),y=Yr(he,{key:x.key||v&&v.key||`_${h}`},v||[],v&&g._===1?64:-2);return w&&w._c&&(w._d=!0),y}function kl(g){return g.some(h=>mn(h)?!(h.type===me||h.type===he&&!kl(h.children)):!0)?g:null}const Nr=g=>g?vu(g)?Bn(g)||g.proxy:Nr(g.parent):null,os=Zt(Object.create(null),{$:g=>g,$el:g=>g.vnode.el,$data:g=>g.data,$props:g=>g.props,$attrs:g=>g.attrs,$slots:g=>g.slots,$refs:g=>g.refs,$parent:g=>Nr(g.parent),$root:g=>Nr(g.root),$emit:g=>g.emit,$options:g=>_l(g),$forceUpdate:g=>g.f||(g.f=()=>{g.effect.dirty=!0,Fa(g.update)}),$nextTick:g=>g.n||(g.n=bl.bind(g.proxy)),$watch:g=>vc.bind(g)}),Qn=(g,h)=>g!==Pt&&!g.__isScriptSetup&&gt(g,h),wc={get({_:g},h){if(h==="__v_skip")return!0;const{ctx:x,setupState:E,data:M,props:w,accessCache:v,type:y,appContext:t}=g;let o;if(h[0]!=="$"){const i=v[h];if(i!==void 0)switch(i){case 1:return E[h];case 2:return M[h];case 4:return x[h];case 3:return w[h]}else{if(Qn(E,h))return v[h]=1,E[h];if(M!==Pt&&gt(M,h))return v[h]=2,M[h];if((o=g.propsOptions[0])&&gt(o,h))return v[h]=3,w[h];if(x!==Pt&&gt(x,h))return v[h]=4,x[h];zr&&(v[h]=0)}}const p=os[h];let a,n;if(p)return h==="$attrs"&&se(g.attrs,"get",""),p(g);if((a=y.__cssModules)&&(a=a[h]))return a;if(x!==Pt&&gt(x,h))return v[h]=4,x[h];if(n=t.config.globalProperties,gt(n,h))return n[h]},set({_:g},h,x){const{data:E,setupState:M,ctx:w}=g;return Qn(M,h)?(M[h]=x,!0):E!==Pt&&gt(E,h)?(E[h]=x,!0):gt(g.props,h)||h[0]==="$"&&h.slice(1)in g?!1:(w[h]=x,!0)},has({_:{data:g,setupState:h,accessCache:x,ctx:E,appContext:M,propsOptions:w}},v){let y;return!!x[v]||g!==Pt&&gt(g,v)||Qn(h,v)||(y=w[0])&&gt(y,v)||gt(E,v)||gt(os,v)||gt(M.config.globalProperties,v)},defineProperty(g,h,x){return x.get!=null?g._.accessCache[h]=0:gt(x,"value")&&this.set(g,h,x.value,null),Reflect.defineProperty(g,h,x)}};function uo(g){return pt(g)?g.reduce((h,x)=>(h[x]=null,h),{}):g}let zr=!0;function Fc(g){const h=_l(g),x=g.proxy,E=g.ctx;zr=!1,h.beforeCreate&&fo(h.beforeCreate,g,"bc");const{data:M,computed:w,methods:v,watch:y,provide:t,inject:o,created:p,beforeMount:a,mounted:n,beforeUpdate:i,updated:e,activated:r,deactivated:l,beforeDestroy:s,beforeUnmount:u,destroyed:d,unmounted:f,render:c,renderTracked:m,renderTriggered:T,errorCaptured:C,serverPrefetch:S,expose:A,inheritAttrs:P,components:R,directives:F,filters:D}=h;if(o&&Lc(o,E,null),v)for(const B in v){const b=v[B];mt(b)&&(E[B]=b.bind(x))}if(M){const B=M.call(x,x);Mt(B)&&(g.data=Mn(B))}if(zr=!0,w)for(const B in w){const b=w[B],z=mt(b)?b.bind(x,x):mt(b.get)?b.get.bind(x,x):le,V=!mt(b)&&mt(b.set)?b.set.bind(x):le,W=ve({get:z,set:V});Object.defineProperty(E,B,{enumerable:!0,configurable:!0,get:()=>W.value,set:K=>W.value=K})}if(y)for(const B in y)ql(y[B],E,x,B);if(t){const B=mt(t)?t.call(x):t;Reflect.ownKeys(B).forEach(b=>{nn(b,B[b])})}p&&fo(p,g,"c");function O(B,b){pt(b)?b.forEach(z=>B(z.bind(x))):b&&B(b.bind(x))}if(O(Sc,a),O(Ds,n),O(Cc,i),O(Ec,e),O(xc,r),O(yc,l),O(Rc,C),O(Mc,m),O(Pc,T),O($l,u),O(jl,f),O(Ac,S),pt(A))if(A.length){const B=g.exposed||(g.exposed={});A.forEach(b=>{Object.defineProperty(B,b,{get:()=>x[b],set:z=>x[b]=z})})}else g.exposed||(g.exposed={});c&&g.render===le&&(g.render=c),P!=null&&(g.inheritAttrs=P),R&&(g.components=R),F&&(g.directives=F)}function Lc(g,h,x=le){pt(g)&&(g=Ur(g));for(const E in g){const M=g[E];let w;Mt(M)?"default"in M?w=be(M.from||E,M.default,!0):w=be(M.from||E):w=be(M),te(w)?Object.defineProperty(h,E,{enumerable:!0,configurable:!0,get:()=>w.value,set:v=>w.value=v}):h[E]=w}}function fo(g,h,x){fe(pt(g)?g.map(E=>E.bind(h.proxy)):g.bind(h.proxy),h,x)}function ql(g,h,x,E){const M=E.includes(".")?Hl(x,E):()=>x[E];if(It(g)){const w=h[g];mt(w)&&sn(M,w)}else if(mt(g))sn(M,g.bind(x));else if(Mt(g))if(pt(g))g.forEach(w=>ql(w,h,x,E));else{const w=mt(g.handler)?g.handler.bind(x):h[g.handler];mt(w)&&sn(M,w,g)}}function _l(g){const h=g.type,{mixins:x,extends:E}=h,{mixins:M,optionsCache:w,config:{optionMergeStrategies:v}}=g.appContext,y=w.get(h);let t;return y?t=y:!M.length&&!x&&!E?t=h:(t={},M.length&&M.forEach(o=>pn(t,o,v,!0)),pn(t,h,v)),Mt(h)&&w.set(h,t),t}function pn(g,h,x,E=!1){const{mixins:M,extends:w}=h;w&&pn(g,w,x,!0),M&&M.forEach(v=>pn(g,v,x,!0));for(const v in h)if(!(E&&v==="expose")){const y=Oc[v]||x&&x[v];g[v]=y?y(g[v],h[v]):h[v]}return g}const Oc={data:co,props:vo,emits:vo,methods:_i,computed:_i,beforeCreate:jt,created:jt,beforeMount:jt,mounted:jt,beforeUpdate:jt,updated:jt,beforeDestroy:jt,beforeUnmount:jt,destroyed:jt,unmounted:jt,activated:jt,deactivated:jt,errorCaptured:jt,serverPrefetch:jt,components:_i,directives:_i,watch:Ic,provide:co,inject:Dc};function co(g,h){return h?g?function(){return Zt(mt(g)?g.call(this,this):g,mt(h)?h.call(this,this):h)}:h:g}function Dc(g,h){return _i(Ur(g),Ur(h))}function Ur(g){if(pt(g)){const h={};for(let x=0;x<g.length;x++)h[g[x]]=g[x];return h}return g}function jt(g,h){return g?[...new Set([].concat(g,h))]:h}function _i(g,h){return g?Zt(Object.create(null),g,h):h}function vo(g,h){return g?pt(g)&&pt(h)?[...new Set([...g,...h])]:Zt(Object.create(null),uo(g),uo(h??{})):h}function Ic(g,h){if(!g)return h;if(!h)return g;const x=Zt(Object.create(null),g);for(const E in h)x[E]=jt(g[E],h[E]);return x}function tu(){return{app:null,config:{isNativeTag:od,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Bc=0;function bc(g,h){return function(E,M=null){mt(E)||(E=Zt({},E)),M!=null&&!Mt(M)&&(M=null);const w=tu(),v=new WeakSet;let y=!1;const t=w.app={_uid:Bc++,_component:E,_props:M,_container:null,_context:w,_instance:null,version:ov,get config(){return w.config},set config(o){},use(o,...p){return v.has(o)||(o&&mt(o.install)?(v.add(o),o.install(t,...p)):mt(o)&&(v.add(o),o(t,...p))),t},mixin(o){return w.mixins.includes(o)||w.mixins.push(o),t},component(o,p){return p?(w.components[o]=p,t):w.components[o]},directive(o,p){return p?(w.directives[o]=p,t):w.directives[o]},mount(o,p,a){if(!y){const n=kt(E,M);return n.appContext=w,a===!0?a="svg":a===!1&&(a=void 0),g(n,o,a),y=!0,t._container=o,o.__vue_app__=t,Bn(n.component)||n.component.proxy}},unmount(){y&&(g(null,t._container),delete t._container.__vue_app__)},provide(o,p){return w.provides[o]=p,t},runWithContext(o){const p=hs;hs=t;try{return o()}finally{hs=p}}};return t}}let hs=null;function nn(g,h){if(Qt){let x=Qt.provides;const E=Qt.parent&&Qt.parent.provides;E===x&&(x=Qt.provides=Object.create(E)),x[g]=h}}function be(g,h,x=!1){const E=Qt||Ut;if(E||hs){const M=E?E.parent==null?E.vnode.appContext&&E.vnode.appContext.provides:E.parent.provides:hs._context.provides;if(M&&g in M)return M[g];if(arguments.length>1)return x&&mt(h)?h.call(E&&E.proxy):h}}const eu={},iu=()=>Object.create(eu),su=g=>Object.getPrototypeOf(g)===eu;function Gc(g,h,x,E=!1){const M={},w=iu();g.propsDefaults=Object.create(null),nu(g,h,M,w);for(const v in g.propsOptions[0])v in M||(M[v]=void 0);x?g.props=E?M:Rl(M):g.type.props?g.props=M:g.props=w,g.attrs=w}function Nc(g,h,x,E){const{props:M,attrs:w,vnode:{patchFlag:v}}=g,y=Tt(M),[t]=g.propsOptions;let o=!1;if((E||v>0)&&!(v&16)){if(v&8){const p=g.vnode.dynamicProps;for(let a=0;a<p.length;a++){let n=p[a];if(wn(g.emitsOptions,n))continue;const i=h[n];if(t)if(gt(w,n))i!==w[n]&&(w[n]=i,o=!0);else{const e=Fe(n);M[e]=Vr(t,y,e,i,g,!1)}else i!==w[n]&&(w[n]=i,o=!0)}}}else{nu(g,h,M,w)&&(o=!0);let p;for(const a in y)(!h||!gt(h,a)&&((p=Xi(a))===a||!gt(h,p)))&&(t?x&&(x[a]!==void 0||x[p]!==void 0)&&(M[a]=Vr(t,y,a,void 0,g,!0)):delete M[a]);if(w!==y)for(const a in w)(!h||!gt(h,a))&&(delete w[a],o=!0)}o&&Be(g.attrs,"set","")}function nu(g,h,x,E){const[M,w]=g.propsOptions;let v=!1,y;if(h)for(let t in h){if(ns(t))continue;const o=h[t];let p;M&&gt(M,p=Fe(t))?!w||!w.includes(p)?x[p]=o:(y||(y={}))[p]=o:wn(g.emitsOptions,t)||(!(t in E)||o!==E[t])&&(E[t]=o,v=!0)}if(w){const t=Tt(x),o=y||Pt;for(let p=0;p<w.length;p++){const a=w[p];x[a]=Vr(M,t,a,o[a],g,!gt(o,a))}}return v}function Vr(g,h,x,E,M,w){const v=g[x];if(v!=null){const y=gt(v,"default");if(y&&E===void 0){const t=v.default;if(v.type!==Function&&!v.skipFactory&&mt(t)){const{propsDefaults:o}=M;if(x in o)E=o[x];else{const p=Is(M);E=o[x]=t.call(null,h),p()}}else E=t}v[0]&&(w&&!y?E=!1:v[1]&&(E===""||E===Xi(x))&&(E=!0))}return E}function ru(g,h,x=!1){const E=h.propsCache,M=E.get(g);if(M)return M;const w=g.props,v={},y=[];let t=!1;if(!mt(g)){const p=a=>{t=!0;const[n,i]=ru(a,h,!0);Zt(v,n),i&&y.push(...i)};!x&&h.mixins.length&&h.mixins.forEach(p),g.extends&&p(g.extends),g.mixins&&g.mixins.forEach(p)}if(!w&&!t)return Mt(g)&&E.set(g,Li),Li;if(pt(w))for(let p=0;p<w.length;p++){const a=Fe(w[p]);po(a)&&(v[a]=Pt)}else if(w)for(const p in w){const a=Fe(p);if(po(a)){const n=w[p],i=v[a]=pt(n)||mt(n)?{type:n}:Zt({},n);if(i){const e=xo(Boolean,i.type),r=xo(String,i.type);i[0]=e>-1,i[1]=r<0||e<r,(e>-1||gt(i,"default"))&&y.push(a)}}}const o=[v,y];return Mt(g)&&E.set(g,o),o}function po(g){return g[0]!=="$"&&!ns(g)}function mo(g){return g===null?"null":typeof g=="function"?g.name||"":typeof g=="object"&&g.constructor&&g.constructor.name||""}function go(g,h){return mo(g)===mo(h)}function xo(g,h){return pt(h)?h.findIndex(x=>go(x,g)):mt(h)&&go(h,g)?0:-1}const au=g=>g[0]==="_"||g==="$stable",La=g=>pt(g)?g.map(Re):[Re(g)],zc=(g,h,x)=>{if(h._n)return h;const E=Br((...M)=>La(h(...M)),x);return E._c=!1,E},ou=(g,h,x)=>{const E=g._ctx;for(const M in g){if(au(M))continue;const w=g[M];if(mt(w))h[M]=zc(M,w,E);else if(w!=null){const v=La(w);h[M]=()=>v}}},hu=(g,h)=>{const x=La(h);g.slots.default=()=>x},Uc=(g,h)=>{const x=g.slots=iu();if(g.vnode.shapeFlag&32){const E=h._;E?(Zt(x,h),dl(x,"_",E,!0)):ou(h,x)}else h&&hu(g,h)},Vc=(g,h,x)=>{const{vnode:E,slots:M}=g;let w=!0,v=Pt;if(E.shapeFlag&32){const y=h._;y?x&&y===1?w=!1:(Zt(M,h),!x&&y===1&&delete M._):(w=!h.$stable,ou(h,M)),v=h}else h&&(hu(g,h),v={default:1});if(w)for(const y in M)!au(y)&&v[y]==null&&delete M[y]};function Xr(g,h,x,E,M=!1){if(pt(g)){g.forEach((n,i)=>Xr(n,h&&(pt(h)?h[i]:h),x,E,M));return}if(as(E)&&!M)return;const w=E.shapeFlag&4?Bn(E.component)||E.component.proxy:E.el,v=M?null:w,{i:y,r:t}=g,o=h&&h.r,p=y.refs===Pt?y.refs={}:y.refs,a=y.setupState;if(o!=null&&o!==t&&(It(o)?(p[o]=null,gt(a,o)&&(a[o]=null)):te(o)&&(o.value=null)),mt(t))je(t,y,12,[v,p]);else{const n=It(t),i=te(t);if(n||i){const e=()=>{if(g.f){const r=n?gt(a,t)?a[t]:p[t]:t.value;M?pt(r)&&ga(r,w):pt(r)?r.includes(w)||r.push(w):n?(p[t]=[w],gt(a,t)&&(a[t]=p[t])):(t.value=[w],g.k&&(p[g.k]=t.value))}else n?(p[t]=v,gt(a,t)&&(a[t]=v)):i&&(t.value=v,g.k&&(p[g.k]=v))};v?(e.id=-1,ee(e,x)):e()}}}const ee=fc;function Xc(g){return Yc(g)}function Yc(g,h){const x=cl();x.__VUE__=!0;const{insert:E,remove:M,patchProp:w,createElement:v,createText:y,createComment:t,setText:o,setElementText:p,parentNode:a,nextSibling:n,setScopeId:i=le,insertStaticContent:e}=g,r=(Z,J,j,k=null,_=null,q=null,et=void 0,st=null,nt=!!J.dynamicChildren)=>{if(Z===J)return;Z&&!gi(Z,J)&&(k=G(Z),K(Z,_,q,!0),Z=null),J.patchFlag===-2&&(nt=!1,J.dynamicChildren=null);const{type:it,ref:tt,shapeFlag:at}=J;switch(it){case Dn:l(Z,J,j,k);break;case me:s(Z,J,j,k);break;case rn:Z==null&&u(J,j,k,et);break;case he:R(Z,J,j,k,_,q,et,st,nt);break;default:at&1?c(Z,J,j,k,_,q,et,st,nt):at&6?F(Z,J,j,k,_,q,et,st,nt):(at&64||at&128)&&it.process(Z,J,j,k,_,q,et,st,nt,Q)}tt!=null&&_&&Xr(tt,Z&&Z.ref,q,J||Z,!J)},l=(Z,J,j,k)=>{if(Z==null)E(J.el=y(J.children),j,k);else{const _=J.el=Z.el;J.children!==Z.children&&o(_,J.children)}},s=(Z,J,j,k)=>{Z==null?E(J.el=t(J.children||""),j,k):J.el=Z.el},u=(Z,J,j,k)=>{[Z.el,Z.anchor]=e(Z.children,J,j,k,Z.el,Z.anchor)},d=({el:Z,anchor:J},j,k)=>{let _;for(;Z&&Z!==J;)_=n(Z),E(Z,j,k),Z=_;E(J,j,k)},f=({el:Z,anchor:J})=>{let j;for(;Z&&Z!==J;)j=n(Z),M(Z),Z=j;M(J)},c=(Z,J,j,k,_,q,et,st,nt)=>{J.type==="svg"?et="svg":J.type==="math"&&(et="mathml"),Z==null?m(J,j,k,_,q,et,st,nt):S(Z,J,_,q,et,st,nt)},m=(Z,J,j,k,_,q,et,st)=>{let nt,it;const{props:tt,shapeFlag:at,transition:rt,dirs:ot}=Z;if(nt=Z.el=v(Z.type,q,tt&&tt.is,tt),at&8?p(nt,Z.children):at&16&&C(Z.children,nt,null,k,_,Jn(Z,q),et,st),ot&&ai(Z,null,k,"created"),T(nt,Z,Z.scopeId,et,k),tt){for(const ft in tt)ft!=="value"&&!ns(ft)&&w(nt,ft,null,tt[ft],q,Z.children,k,_,N);"value"in tt&&w(nt,"value",null,tt.value,q),(it=tt.onVnodeBeforeMount)&&Ee(it,k,Z)}ot&&ai(Z,null,k,"beforeMount");const ht=Wc(_,rt);ht&&rt.beforeEnter(nt),E(nt,J,j),((it=tt&&tt.onVnodeMounted)||ht||ot)&&ee(()=>{it&&Ee(it,k,Z),ht&&rt.enter(nt),ot&&ai(Z,null,k,"mounted")},_)},T=(Z,J,j,k,_)=>{if(j&&i(Z,j),k)for(let q=0;q<k.length;q++)i(Z,k[q]);if(_){let q=_.subTree;if(J===q){const et=_.vnode;T(Z,et,et.scopeId,et.slotScopeIds,_.parent)}}},C=(Z,J,j,k,_,q,et,st,nt=0)=>{for(let it=nt;it<Z.length;it++){const tt=Z[it]=st?Ke(Z[it]):Re(Z[it]);r(null,tt,J,j,k,_,q,et,st)}},S=(Z,J,j,k,_,q,et)=>{const st=J.el=Z.el;let{patchFlag:nt,dynamicChildren:it,dirs:tt}=J;nt|=Z.patchFlag&16;const at=Z.props||Pt,rt=J.props||Pt;let ot;if(j&&oi(j,!1),(ot=rt.onVnodeBeforeUpdate)&&Ee(ot,j,J,Z),tt&&ai(J,Z,j,"beforeUpdate"),j&&oi(j,!0),it?A(Z.dynamicChildren,it,st,j,k,Jn(J,_),q):et||b(Z,J,st,null,j,k,Jn(J,_),q,!1),nt>0){if(nt&16)P(st,J,at,rt,j,k,_);else if(nt&2&&at.class!==rt.class&&w(st,"class",null,rt.class,_),nt&4&&w(st,"style",at.style,rt.style,_),nt&8){const ht=J.dynamicProps;for(let ft=0;ft<ht.length;ft++){const ct=ht[ft],vt=at[ct],dt=rt[ct];(dt!==vt||ct==="value")&&w(st,ct,vt,dt,_,Z.children,j,k,N)}}nt&1&&Z.children!==J.children&&p(st,J.children)}else!et&&it==null&&P(st,J,at,rt,j,k,_);((ot=rt.onVnodeUpdated)||tt)&&ee(()=>{ot&&Ee(ot,j,J,Z),tt&&ai(J,Z,j,"updated")},k)},A=(Z,J,j,k,_,q,et)=>{for(let st=0;st<J.length;st++){const nt=Z[st],it=J[st],tt=nt.el&&(nt.type===he||!gi(nt,it)||nt.shapeFlag&70)?a(nt.el):j;r(nt,it,tt,null,k,_,q,et,!0)}},P=(Z,J,j,k,_,q,et)=>{if(j!==k){if(j!==Pt)for(const st in j)!ns(st)&&!(st in k)&&w(Z,st,j[st],null,et,J.children,_,q,N);for(const st in k){if(ns(st))continue;const nt=k[st],it=j[st];nt!==it&&st!=="value"&&w(Z,st,it,nt,et,J.children,_,q,N)}"value"in k&&w(Z,"value",j.value,k.value,et)}},R=(Z,J,j,k,_,q,et,st,nt)=>{const it=J.el=Z?Z.el:y(""),tt=J.anchor=Z?Z.anchor:y("");let{patchFlag:at,dynamicChildren:rt,slotScopeIds:ot}=J;ot&&(st=st?st.concat(ot):ot),Z==null?(E(it,j,k),E(tt,j,k),C(J.children||[],j,tt,_,q,et,st,nt)):at>0&&at&64&&rt&&Z.dynamicChildren?(A(Z.dynamicChildren,rt,j,_,q,et,st),(J.key!=null||_&&J===_.subTree)&&lu(Z,J,!0)):b(Z,J,j,tt,_,q,et,st,nt)},F=(Z,J,j,k,_,q,et,st,nt)=>{J.slotScopeIds=st,Z==null?J.shapeFlag&512?_.ctx.activate(J,j,k,et,nt):D(J,j,k,_,q,et,nt):L(Z,J,nt)},D=(Z,J,j,k,_,q,et)=>{const st=Z.component=_c(Z,k,_);if(Ln(Z)&&(st.ctx.renderer=Q),ev(st),st.asyncDep){if(_&&_.registerDep(st,O),!Z.el){const nt=st.subTree=kt(me);s(null,nt,J,j)}}else O(st,Z,J,j,_,q,et)},L=(Z,J,j)=>{const k=J.component=Z.component;if(ac(Z,J,j))if(k.asyncDep&&!k.asyncResolved){B(k,J,j);return}else k.next=J,qd(k.update),k.effect.dirty=!0,k.update();else J.el=Z.el,k.vnode=J},O=(Z,J,j,k,_,q,et)=>{const st=()=>{if(Z.isMounted){let{next:tt,bu:at,u:rt,parent:ot,vnode:ht}=Z;{const Et=uu(Z);if(Et){tt&&(tt.el=ht.el,B(Z,tt,et)),Et.asyncDep.then(()=>{Z.isUnmounted||st()});return}}let ft=tt,ct;oi(Z,!1),tt?(tt.el=ht.el,B(Z,tt,et)):tt=ht,at&&tn(at),(ct=tt.props&&tt.props.onVnodeBeforeUpdate)&&Ee(ct,ot,tt,ht),oi(Z,!0);const vt=ao(Z),dt=Z.subTree;Z.subTree=vt,r(dt,vt,a(dt.el),G(dt),Z,_,q),tt.el=vt.el,ft===null&&oc(Z,vt.el),rt&&ee(rt,_),(ct=tt.props&&tt.props.onVnodeUpdated)&&ee(()=>Ee(ct,ot,tt,ht),_)}else{let tt;const{el:at,props:rt}=J,{bm:ot,m:ht,parent:ft}=Z,ct=as(J);oi(Z,!1),ot&&tn(ot),!ct&&(tt=rt&&rt.onVnodeBeforeMount)&&Ee(tt,ft,J),oi(Z,!0);{const vt=Z.subTree=ao(Z);r(null,vt,j,k,Z,_,q),J.el=vt.el}if(ht&&ee(ht,_),!ct&&(tt=rt&&rt.onVnodeMounted)){const vt=J;ee(()=>Ee(tt,ft,vt),_)}(J.shapeFlag&256||ft&&as(ft.vnode)&&ft.vnode.shapeFlag&256)&&Z.a&&ee(Z.a,_),Z.isMounted=!0,J=j=k=null}},nt=Z.effect=new Sa(st,le,()=>Fa(it),Z.scope),it=Z.update=()=>{nt.dirty&&nt.run()};it.id=Z.uid,oi(Z,!0),it()},B=(Z,J,j)=>{J.component=Z;const k=Z.vnode.props;Z.vnode=J,Z.next=null,Nc(Z,J.props,k,j),Vc(Z,J.children,j),ti(),ro(Z),ei()},b=(Z,J,j,k,_,q,et,st,nt=!1)=>{const it=Z&&Z.children,tt=Z?Z.shapeFlag:0,at=J.children,{patchFlag:rt,shapeFlag:ot}=J;if(rt>0){if(rt&128){V(it,at,j,k,_,q,et,st,nt);return}else if(rt&256){z(it,at,j,k,_,q,et,st,nt);return}}ot&8?(tt&16&&N(it,_,q),at!==it&&p(j,at)):tt&16?ot&16?V(it,at,j,k,_,q,et,st,nt):N(it,_,q,!0):(tt&8&&p(j,""),ot&16&&C(at,j,k,_,q,et,st,nt))},z=(Z,J,j,k,_,q,et,st,nt)=>{Z=Z||Li,J=J||Li;const it=Z.length,tt=J.length,at=Math.min(it,tt);let rt;for(rt=0;rt<at;rt++){const ot=J[rt]=nt?Ke(J[rt]):Re(J[rt]);r(Z[rt],ot,j,null,_,q,et,st,nt)}it>tt?N(Z,_,q,!0,!1,at):C(J,j,k,_,q,et,st,nt,at)},V=(Z,J,j,k,_,q,et,st,nt)=>{let it=0;const tt=J.length;let at=Z.length-1,rt=tt-1;for(;it<=at&&it<=rt;){const ot=Z[it],ht=J[it]=nt?Ke(J[it]):Re(J[it]);if(gi(ot,ht))r(ot,ht,j,null,_,q,et,st,nt);else break;it++}for(;it<=at&&it<=rt;){const ot=Z[at],ht=J[rt]=nt?Ke(J[rt]):Re(J[rt]);if(gi(ot,ht))r(ot,ht,j,null,_,q,et,st,nt);else break;at--,rt--}if(it>at){if(it<=rt){const ot=rt+1,ht=ot<tt?J[ot].el:k;for(;it<=rt;)r(null,J[it]=nt?Ke(J[it]):Re(J[it]),j,ht,_,q,et,st,nt),it++}}else if(it>rt)for(;it<=at;)K(Z[it],_,q,!0),it++;else{const ot=it,ht=it,ft=new Map;for(it=ht;it<=rt;it++){const At=J[it]=nt?Ke(J[it]):Re(J[it]);At.key!=null&&ft.set(At.key,it)}let ct,vt=0;const dt=rt-ht+1;let Et=!1,St=0;const Rt=new Array(dt);for(it=0;it<dt;it++)Rt[it]=0;for(it=ot;it<=at;it++){const At=Z[it];if(vt>=dt){K(At,_,q,!0);continue}let Yt;if(At.key!=null)Yt=ft.get(At.key);else for(ct=ht;ct<=rt;ct++)if(Rt[ct-ht]===0&&gi(At,J[ct])){Yt=ct;break}Yt===void 0?K(At,_,q,!0):(Rt[Yt-ht]=it+1,Yt>=St?St=Yt:Et=!0,r(At,J[Yt],j,null,_,q,et,st,nt),vt++)}const Bt=Et?Hc(Rt):Li;for(ct=Bt.length-1,it=dt-1;it>=0;it--){const At=ht+it,Yt=J[At],Ce=At+1<tt?J[At+1].el:k;Rt[it]===0?r(null,Yt,j,Ce,_,q,et,st,nt):Et&&(ct<0||it!==Bt[ct]?W(Yt,j,Ce,2):ct--)}}},W=(Z,J,j,k,_=null)=>{const{el:q,type:et,transition:st,children:nt,shapeFlag:it}=Z;if(it&6){W(Z.component.subTree,J,j,k);return}if(it&128){Z.suspense.move(J,j,k);return}if(it&64){et.move(Z,J,j,Q);return}if(et===he){E(q,J,j);for(let at=0;at<nt.length;at++)W(nt[at],J,j,k);E(Z.anchor,J,j);return}if(et===rn){d(Z,J,j);return}if(k!==2&&it&1&&st)if(k===0)st.beforeEnter(q),E(q,J,j),ee(()=>st.enter(q),_);else{const{leave:at,delayLeave:rt,afterLeave:ot}=st,ht=()=>E(q,J,j),ft=()=>{at(q,()=>{ht(),ot&&ot()})};rt?rt(q,ht,ft):ft()}else E(q,J,j)},K=(Z,J,j,k=!1,_=!1)=>{const{type:q,props:et,ref:st,children:nt,dynamicChildren:it,shapeFlag:tt,patchFlag:at,dirs:rt}=Z;if(st!=null&&Xr(st,null,j,Z,!0),tt&256){J.ctx.deactivate(Z);return}const ot=tt&1&&rt,ht=!as(Z);let ft;if(ht&&(ft=et&&et.onVnodeBeforeUnmount)&&Ee(ft,J,Z),tt&6)I(Z.component,j,k);else{if(tt&128){Z.suspense.unmount(j,k);return}ot&&ai(Z,null,J,"beforeUnmount"),tt&64?Z.type.remove(Z,J,j,_,Q,k):it&&(q!==he||at>0&&at&64)?N(it,J,j,!1,!0):(q===he&&at&384||!_&&tt&16)&&N(nt,J,j),k&&U(Z)}(ht&&(ft=et&&et.onVnodeUnmounted)||ot)&&ee(()=>{ft&&Ee(ft,J,Z),ot&&ai(Z,null,J,"unmounted")},j)},U=Z=>{const{type:J,el:j,anchor:k,transition:_}=Z;if(J===he){Y(j,k);return}if(J===rn){f(Z);return}const q=()=>{M(j),_&&!_.persisted&&_.afterLeave&&_.afterLeave()};if(Z.shapeFlag&1&&_&&!_.persisted){const{leave:et,delayLeave:st}=_,nt=()=>et(j,q);st?st(Z.el,q,nt):nt()}else q()},Y=(Z,J)=>{let j;for(;Z!==J;)j=n(Z),M(Z),Z=j;M(J)},I=(Z,J,j)=>{const{bum:k,scope:_,update:q,subTree:et,um:st}=Z;k&&tn(k),_.stop(),q&&(q.active=!1,K(et,Z,J,j)),st&&ee(st,J),ee(()=>{Z.isUnmounted=!0},J),J&&J.pendingBranch&&!J.isUnmounted&&Z.asyncDep&&!Z.asyncResolved&&Z.suspenseId===J.pendingId&&(J.deps--,J.deps===0&&J.resolve())},N=(Z,J,j,k=!1,_=!1,q=0)=>{for(let et=q;et<Z.length;et++)K(Z[et],J,j,k,_)},G=Z=>Z.shapeFlag&6?G(Z.component.subTree):Z.shapeFlag&128?Z.suspense.next():n(Z.anchor||Z.el);let X=!1;const H=(Z,J,j)=>{Z==null?J._vnode&&K(J._vnode,null,null,!0):r(J._vnode||null,Z,J,null,null,null,j),X||(X=!0,ro(),Nl(),X=!1),J._vnode=Z},Q={p:r,um:K,m:W,r:U,mt:D,mc:C,pc:b,pbc:A,n:G,o:g};return{render:H,hydrate:void 0,createApp:bc(H)}}function Jn({type:g,props:h},x){return x==="svg"&&g==="foreignObject"||x==="mathml"&&g==="annotation-xml"&&h&&h.encoding&&h.encoding.includes("html")?void 0:x}function oi({effect:g,update:h},x){g.allowRecurse=h.allowRecurse=x}function Wc(g,h){return(!g||g&&!g.pendingBranch)&&h&&!h.persisted}function lu(g,h,x=!1){const E=g.children,M=h.children;if(pt(E)&&pt(M))for(let w=0;w<E.length;w++){const v=E[w];let y=M[w];y.shapeFlag&1&&!y.dynamicChildren&&((y.patchFlag<=0||y.patchFlag===32)&&(y=M[w]=Ke(M[w]),y.el=v.el),x||lu(v,y)),y.type===Dn&&(y.el=v.el)}}function Hc(g){const h=g.slice(),x=[0];let E,M,w,v,y;const t=g.length;for(E=0;E<t;E++){const o=g[E];if(o!==0){if(M=x[x.length-1],g[M]<o){h[E]=M,x.push(E);continue}for(w=0,v=x.length-1;w<v;)y=w+v>>1,g[x[y]]<o?w=y+1:v=y;o<g[x[w]]&&(w>0&&(h[E]=x[w-1]),x[w]=E)}}for(w=x.length,v=x[w-1];w-- >0;)x[w]=v,v=h[v];return x}function uu(g){const h=g.subTree.component;if(h)return h.asyncDep&&!h.asyncResolved?h:uu(h)}const Kc=g=>g.__isTeleport,he=Symbol.for("v-fgt"),Dn=Symbol.for("v-txt"),me=Symbol.for("v-cmt"),rn=Symbol.for("v-stc"),ls=[];let ge=null;function ys(g=!1){ls.push(ge=g?null:[])}function Zc(){ls.pop(),ge=ls[ls.length-1]||null}let Ts=1;function yo(g){Ts+=g}function fu(g){return g.dynamicChildren=Ts>0?ge||Li:null,Zc(),Ts>0&&ge&&ge.push(g),g}function du(g,h,x,E,M,w){return fu(Yi(g,h,x,E,M,w,!0))}function Yr(g,h,x,E,M){return fu(kt(g,h,x,E,M,!0))}function mn(g){return g?g.__v_isVNode===!0:!1}function gi(g,h){return g.type===h.type&&g.key===h.key}const cu=({key:g})=>g??null,an=({ref:g,ref_key:h,ref_for:x})=>(typeof g=="number"&&(g=""+g),g!=null?It(g)||te(g)||mt(g)?{i:Ut,r:g,k:h,f:!!x}:g:null);function Yi(g,h=null,x=null,E=0,M=null,w=g===he?0:1,v=!1,y=!1){const t={__v_isVNode:!0,__v_skip:!0,type:g,props:h,key:h&&cu(h),ref:h&&an(h),scopeId:Fn,slotScopeIds:null,children:x,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:w,patchFlag:E,dynamicProps:M,dynamicChildren:null,appContext:null,ctx:Ut};return y?(Oa(t,x),w&128&&g.normalize(t)):x&&(t.shapeFlag|=It(x)?8:16),Ts>0&&!v&&ge&&(t.patchFlag>0||w&6)&&t.patchFlag!==32&&ge.push(t),t}const kt=Qc;function Qc(g,h=null,x=null,E=0,M=null,w=!1){if((!g||g===Xl)&&(g=me),mn(g)){const y=_e(g,h,!0);return x&&Oa(y,x),Ts>0&&!w&&ge&&(y.shapeFlag&6?ge[ge.indexOf(g)]=y:ge.push(y)),y.patchFlag|=-2,y}if(av(g)&&(g=g.__vccOpts),h){h=Jc(h);let{class:y,style:t}=h;y&&!It(y)&&(h.class=Ta(y)),Mt(t)&&(Fl(t)&&!pt(t)&&(t=Zt({},t)),h.style=ya(t))}const v=It(g)?1:uc(g)?128:Kc(g)?64:Mt(g)?4:mt(g)?2:0;return Yi(g,h,x,E,M,v,w,!0)}function Jc(g){return g?Fl(g)||su(g)?Zt({},g):g:null}function _e(g,h,x=!1,E=!1){const{props:M,ref:w,patchFlag:v,children:y,transition:t}=g,o=h?jc(M||{},h):M,p={__v_isVNode:!0,__v_skip:!0,type:g.type,props:o,key:o&&cu(o),ref:h&&h.ref?x&&w?pt(w)?w.concat(an(h)):[w,an(h)]:an(h):w,scopeId:g.scopeId,slotScopeIds:g.slotScopeIds,children:y,target:g.target,targetAnchor:g.targetAnchor,staticCount:g.staticCount,shapeFlag:g.shapeFlag,patchFlag:h&&g.type!==he?v===-1?16:v|16:v,dynamicProps:g.dynamicProps,dynamicChildren:g.dynamicChildren,appContext:g.appContext,dirs:g.dirs,transition:t,component:g.component,suspense:g.suspense,ssContent:g.ssContent&&_e(g.ssContent),ssFallback:g.ssFallback&&_e(g.ssFallback),el:g.el,anchor:g.anchor,ctx:g.ctx,ce:g.ce};return t&&E&&(p.transition=t.clone(p)),p}function $c(g=" ",h=0){return kt(Dn,null,g,h)}function ny(g,h){const x=kt(rn,null,g);return x.staticCount=h,x}function Re(g){return g==null||typeof g=="boolean"?kt(me):pt(g)?kt(he,null,g.slice()):typeof g=="object"?Ke(g):kt(Dn,null,String(g))}function Ke(g){return g.el===null&&g.patchFlag!==-1||g.memo?g:_e(g)}function Oa(g,h){let x=0;const{shapeFlag:E}=g;if(h==null)h=null;else if(pt(h))x=16;else if(typeof h=="object")if(E&65){const M=h.default;M&&(M._c&&(M._d=!1),Oa(g,M()),M._c&&(M._d=!0));return}else{x=32;const M=h._;!M&&!su(h)?h._ctx=Ut:M===3&&Ut&&(Ut.slots._===1?h._=1:(h._=2,g.patchFlag|=1024))}else mt(h)?(h={default:h,_ctx:Ut},x=32):(h=String(h),E&64?(x=16,h=[$c(h)]):x=8);g.children=h,g.shapeFlag|=x}function jc(...g){const h={};for(let x=0;x<g.length;x++){const E=g[x];for(const M in E)if(M==="class")h.class!==E.class&&(h.class=Ta([h.class,E.class]));else if(M==="style")h.style=ya([h.style,E.style]);else if(Sn(M)){const w=h[M],v=E[M];v&&w!==v&&!(pt(w)&&w.includes(v))&&(h[M]=w?[].concat(w,v):v)}else M!==""&&(h[M]=E[M])}return h}function Ee(g,h,x,E=null){fe(g,h,7,[x,E])}const kc=tu();let qc=0;function _c(g,h,x){const E=g.type,M=(h?h.appContext:g.appContext)||kc,w={uid:qc++,vnode:g,type:E,parent:h,appContext:M,root:null,next:null,subTree:null,effect:null,update:null,scope:new yd(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:h?h.provides:Object.create(M.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ru(E,M),emitsOptions:Ul(E,M),emit:null,emitted:null,propsDefaults:Pt,inheritAttrs:E.inheritAttrs,ctx:Pt,data:Pt,props:Pt,attrs:Pt,slots:Pt,refs:Pt,setupState:Pt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:x,suspenseId:x?x.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return w.ctx={_:w},w.root=h?h.root:w,w.emit=ec.bind(null,w),g.ce&&g.ce(w),w}let Qt=null;const tv=()=>Qt||Ut;let gn,Wr;{const g=cl(),h=(x,E)=>{let M;return(M=g[x])||(M=g[x]=[]),M.push(E),w=>{M.length>1?M.forEach(v=>v(w)):M[0](w)}};gn=h("__VUE_INSTANCE_SETTERS__",x=>Qt=x),Wr=h("__VUE_SSR_SETTERS__",x=>In=x)}const Is=g=>{const h=Qt;return gn(g),g.scope.on(),()=>{g.scope.off(),gn(h)}},To=()=>{Qt&&Qt.scope.off(),gn(null)};function vu(g){return g.vnode.shapeFlag&4}let In=!1;function ev(g,h=!1){h&&Wr(h);const{props:x,children:E}=g.vnode,M=vu(g);Gc(g,x,M,h),Uc(g,E);const w=M?iv(g,h):void 0;return h&&Wr(!1),w}function iv(g,h){const x=g.type;g.accessCache=Object.create(null),g.proxy=new Proxy(g.ctx,wc);const{setup:E}=x;if(E){const M=g.setupContext=E.length>1?nv(g):null,w=Is(g);ti();const v=je(E,g,0,[g.props,M]);if(ei(),w(),ll(v)){if(v.then(To,To),h)return v.then(y=>{So(g,y)}).catch(y=>{Rn(y,g,0)});g.asyncDep=v}else So(g,v)}else pu(g)}function So(g,h,x){mt(h)?g.type.__ssrInlineRender?g.ssrRender=h:g.render=h:Mt(h)&&(g.setupState=Il(h)),pu(g)}function pu(g,h,x){const E=g.type;g.render||(g.render=E.render||le);{const M=Is(g);ti();try{Fc(g)}finally{ei(),M()}}}const sv={get(g,h){return se(g,"get",""),g[h]}};function nv(g){const h=x=>{g.exposed=x||{}};return{attrs:new Proxy(g.attrs,sv),slots:g.slots,emit:g.emit,expose:h}}function Bn(g){if(g.exposed)return g.exposeProxy||(g.exposeProxy=new Proxy(Il(Yd(g.exposed)),{get(h,x){if(x in h)return h[x];if(x in os)return os[x](g)},has(h,x){return x in h||x in os}}))}function rv(g,h=!0){return mt(g)?g.displayName||g.name:g.name||h&&g.__name}function av(g){return mt(g)&&"__vccOpts"in g}const ve=(g,h)=>Wd(g,h,In);function Da(g,h,x){const E=arguments.length;return E===2?Mt(h)&&!pt(h)?mn(h)?kt(g,null,[h]):kt(g,h):kt(g,null,h):(E>3?x=Array.prototype.slice.call(arguments,2):E===3&&mn(x)&&(x=[x]),kt(g,h,x))}const ov="3.4.26";/**
* @vue/runtime-dom v3.4.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const hv="http://www.w3.org/2000/svg",lv="http://www.w3.org/1998/Math/MathML",Ze=typeof document<"u"?document:null,Co=Ze&&Ze.createElement("template"),uv={insert:(g,h,x)=>{h.insertBefore(g,x||null)},remove:g=>{const h=g.parentNode;h&&h.removeChild(g)},createElement:(g,h,x,E)=>{const M=h==="svg"?Ze.createElementNS(hv,g):h==="mathml"?Ze.createElementNS(lv,g):Ze.createElement(g,x?{is:x}:void 0);return g==="select"&&E&&E.multiple!=null&&M.setAttribute("multiple",E.multiple),M},createText:g=>Ze.createTextNode(g),createComment:g=>Ze.createComment(g),setText:(g,h)=>{g.nodeValue=h},setElementText:(g,h)=>{g.textContent=h},parentNode:g=>g.parentNode,nextSibling:g=>g.nextSibling,querySelector:g=>Ze.querySelector(g),setScopeId(g,h){g.setAttribute(h,"")},insertStaticContent(g,h,x,E,M,w){const v=x?x.previousSibling:h.lastChild;if(M&&(M===w||M.nextSibling))for(;h.insertBefore(M.cloneNode(!0),x),!(M===w||!(M=M.nextSibling)););else{Co.innerHTML=E==="svg"?`<svg>${g}</svg>`:E==="mathml"?`<math>${g}</math>`:g;const y=Co.content;if(E==="svg"||E==="mathml"){const t=y.firstChild;for(;t.firstChild;)y.appendChild(t.firstChild);y.removeChild(t)}h.insertBefore(y,x)}return[v?v.nextSibling:h.firstChild,x?x.previousSibling:h.lastChild]}},Ve="transition",Qi="animation",Ss=Symbol("_vtc"),Ia=(g,{slots:h})=>Da(gc,fv(g),h);Ia.displayName="Transition";const mu={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Ia.props=Zt({},Kl,mu);const hi=(g,h=[])=>{pt(g)?g.forEach(x=>x(...h)):g&&g(...h)},Eo=g=>g?pt(g)?g.some(h=>h.length>1):g.length>1:!1;function fv(g){const h={};for(const R in g)R in mu||(h[R]=g[R]);if(g.css===!1)return h;const{name:x="v",type:E,duration:M,enterFromClass:w=`${x}-enter-from`,enterActiveClass:v=`${x}-enter-active`,enterToClass:y=`${x}-enter-to`,appearFromClass:t=w,appearActiveClass:o=v,appearToClass:p=y,leaveFromClass:a=`${x}-leave-from`,leaveActiveClass:n=`${x}-leave-active`,leaveToClass:i=`${x}-leave-to`}=g,e=dv(M),r=e&&e[0],l=e&&e[1],{onBeforeEnter:s,onEnter:u,onEnterCancelled:d,onLeave:f,onLeaveCancelled:c,onBeforeAppear:m=s,onAppear:T=u,onAppearCancelled:C=d}=h,S=(R,F,D)=>{li(R,F?p:y),li(R,F?o:v),D&&D()},A=(R,F)=>{R._isLeaving=!1,li(R,a),li(R,i),li(R,n),F&&F()},P=R=>(F,D)=>{const L=R?T:u,O=()=>S(F,R,D);hi(L,[F,O]),Ao(()=>{li(F,R?t:w),Xe(F,R?p:y),Eo(L)||Po(F,E,r,O)})};return Zt(h,{onBeforeEnter(R){hi(s,[R]),Xe(R,w),Xe(R,v)},onBeforeAppear(R){hi(m,[R]),Xe(R,t),Xe(R,o)},onEnter:P(!1),onAppear:P(!0),onLeave(R,F){R._isLeaving=!0;const D=()=>A(R,F);Xe(R,a),Xe(R,n),pv(),Ao(()=>{R._isLeaving&&(li(R,a),Xe(R,i),Eo(f)||Po(R,E,l,D))}),hi(f,[R,D])},onEnterCancelled(R){S(R,!1),hi(d,[R])},onAppearCancelled(R){S(R,!0),hi(C,[R])},onLeaveCancelled(R){A(R),hi(c,[R])}})}function dv(g){if(g==null)return null;if(Mt(g))return[$n(g.enter),$n(g.leave)];{const h=$n(g);return[h,h]}}function $n(g){return dd(g)}function Xe(g,h){h.split(/\s+/).forEach(x=>x&&g.classList.add(x)),(g[Ss]||(g[Ss]=new Set)).add(h)}function li(g,h){h.split(/\s+/).forEach(E=>E&&g.classList.remove(E));const x=g[Ss];x&&(x.delete(h),x.size||(g[Ss]=void 0))}function Ao(g){requestAnimationFrame(()=>{requestAnimationFrame(g)})}let cv=0;function Po(g,h,x,E){const M=g._endId=++cv,w=()=>{M===g._endId&&E()};if(x)return setTimeout(w,x);const{type:v,timeout:y,propCount:t}=vv(g,h);if(!v)return E();const o=v+"end";let p=0;const a=()=>{g.removeEventListener(o,n),w()},n=i=>{i.target===g&&++p>=t&&a()};setTimeout(()=>{p<t&&a()},y+1),g.addEventListener(o,n)}function vv(g,h){const x=window.getComputedStyle(g),E=e=>(x[e]||"").split(", "),M=E(`${Ve}Delay`),w=E(`${Ve}Duration`),v=Mo(M,w),y=E(`${Qi}Delay`),t=E(`${Qi}Duration`),o=Mo(y,t);let p=null,a=0,n=0;h===Ve?v>0&&(p=Ve,a=v,n=w.length):h===Qi?o>0&&(p=Qi,a=o,n=t.length):(a=Math.max(v,o),p=a>0?v>o?Ve:Qi:null,n=p?p===Ve?w.length:t.length:0);const i=p===Ve&&/\b(transform|all)(,|$)/.test(E(`${Ve}Property`).toString());return{type:p,timeout:a,propCount:n,hasTransform:i}}function Mo(g,h){for(;g.length<h.length;)g=g.concat(g);return Math.max(...h.map((x,E)=>Ro(x)+Ro(g[E])))}function Ro(g){return g==="auto"?0:Number(g.slice(0,-1).replace(",","."))*1e3}function pv(){return document.body.offsetHeight}function mv(g,h,x){const E=g[Ss];E&&(h=(h?[h,...E]:[...E]).join(" ")),h==null?g.removeAttribute("class"):x?g.setAttribute("class",h):g.className=h}const wo=Symbol("_vod"),gv=Symbol("_vsh"),xv=Symbol(""),yv=/(^|;)\s*display\s*:/;function Tv(g,h,x){const E=g.style,M=It(x);let w=!1;if(x&&!M){if(h)if(It(h))for(const v of h.split(";")){const y=v.slice(0,v.indexOf(":")).trim();x[y]==null&&on(E,y,"")}else for(const v in h)x[v]==null&&on(E,v,"");for(const v in x)v==="display"&&(w=!0),on(E,v,x[v])}else if(M){if(h!==x){const v=E[xv];v&&(x+=";"+v),E.cssText=x,w=yv.test(x)}}else h&&g.removeAttribute("style");wo in g&&(g[wo]=w?E.display:"",g[gv]&&(E.display="none"))}const Fo=/\s*!important$/;function on(g,h,x){if(pt(x))x.forEach(E=>on(g,h,E));else if(x==null&&(x=""),h.startsWith("--"))g.setProperty(h,x);else{const E=Sv(g,h);Fo.test(x)?g.setProperty(Xi(E),x.replace(Fo,""),"important"):g[E]=x}}const Lo=["Webkit","Moz","ms"],jn={};function Sv(g,h){const x=jn[h];if(x)return x;let E=Fe(h);if(E!=="filter"&&E in g)return jn[h]=E;E=An(E);for(let M=0;M<Lo.length;M++){const w=Lo[M]+E;if(w in g)return jn[h]=w}return h}const Oo="http://www.w3.org/1999/xlink";function Cv(g,h,x,E,M){if(E&&h.startsWith("xlink:"))x==null?g.removeAttributeNS(Oo,h.slice(6,h.length)):g.setAttributeNS(Oo,h,x);else{const w=xd(h);x==null||w&&!vl(x)?g.removeAttribute(h):g.setAttribute(h,w?"":x)}}function Ev(g,h,x,E,M,w,v){if(h==="innerHTML"||h==="textContent"){E&&v(E,M,w),g[h]=x??"";return}const y=g.tagName;if(h==="value"&&y!=="PROGRESS"&&!y.includes("-")){const o=y==="OPTION"?g.getAttribute("value")||"":g.value,p=x??"";(o!==p||!("_value"in g))&&(g.value=p),x==null&&g.removeAttribute(h),g._value=x;return}let t=!1;if(x===""||x==null){const o=typeof g[h];o==="boolean"?x=vl(x):x==null&&o==="string"?(x="",t=!0):o==="number"&&(x=0,t=!0)}try{g[h]=x}catch{}t&&g.removeAttribute(h)}function Mi(g,h,x,E){g.addEventListener(h,x,E)}function Av(g,h,x,E){g.removeEventListener(h,x,E)}const Do=Symbol("_vei");function Pv(g,h,x,E,M=null){const w=g[Do]||(g[Do]={}),v=w[h];if(E&&v)v.value=E;else{const[y,t]=Mv(h);if(E){const o=w[h]=Fv(E,M);Mi(g,y,o,t)}else v&&(Av(g,y,v,t),w[h]=void 0)}}const Io=/(?:Once|Passive|Capture)$/;function Mv(g){let h;if(Io.test(g)){h={};let E;for(;E=g.match(Io);)g=g.slice(0,g.length-E[0].length),h[E[0].toLowerCase()]=!0}return[g[2]===":"?g.slice(3):Xi(g.slice(2)),h]}let kn=0;const Rv=Promise.resolve(),wv=()=>kn||(Rv.then(()=>kn=0),kn=Date.now());function Fv(g,h){const x=E=>{if(!E._vts)E._vts=Date.now();else if(E._vts<=x.attached)return;fe(Lv(E,x.value),h,5,[E])};return x.value=g,x.attached=wv(),x}function Lv(g,h){if(pt(h)){const x=g.stopImmediatePropagation;return g.stopImmediatePropagation=()=>{x.call(g),g._stopped=!0},h.map(E=>M=>!M._stopped&&E&&E(M))}else return h}const Bo=g=>g.charCodeAt(0)===111&&g.charCodeAt(1)===110&&g.charCodeAt(2)>96&&g.charCodeAt(2)<123,Ov=(g,h,x,E,M,w,v,y,t)=>{const o=M==="svg";h==="class"?mv(g,E,o):h==="style"?Tv(g,x,E):Sn(h)?ma(h)||Pv(g,h,x,E,v):(h[0]==="."?(h=h.slice(1),!0):h[0]==="^"?(h=h.slice(1),!1):Dv(g,h,E,o))?Ev(g,h,E,w,v,y,t):(h==="true-value"?g._trueValue=E:h==="false-value"&&(g._falseValue=E),Cv(g,h,E,o))};function Dv(g,h,x,E){if(E)return!!(h==="innerHTML"||h==="textContent"||h in g&&Bo(h)&&mt(x));if(h==="spellcheck"||h==="draggable"||h==="translate"||h==="form"||h==="list"&&g.tagName==="INPUT"||h==="type"&&g.tagName==="TEXTAREA")return!1;if(h==="width"||h==="height"){const M=g.tagName;if(M==="IMG"||M==="VIDEO"||M==="CANVAS"||M==="SOURCE")return!1}return Bo(h)&&It(x)?!1:h in g}const bo=g=>{const h=g.props["onUpdate:modelValue"]||!1;return pt(h)?x=>tn(h,x):h};function Iv(g){g.target.composing=!0}function Go(g){const h=g.target;h.composing&&(h.composing=!1,h.dispatchEvent(new Event("input")))}const qn=Symbol("_assign"),ry={created(g,{modifiers:{lazy:h,trim:x,number:E}},M){g[qn]=bo(M);const w=E||M.props&&M.props.type==="number";Mi(g,h?"change":"input",v=>{if(v.target.composing)return;let y=g.value;x&&(y=y.trim()),w&&(y=Fr(y)),g[qn](y)}),x&&Mi(g,"change",()=>{g.value=g.value.trim()}),h||(Mi(g,"compositionstart",Iv),Mi(g,"compositionend",Go),Mi(g,"change",Go))},mounted(g,{value:h}){g.value=h??""},beforeUpdate(g,{value:h,modifiers:{lazy:x,trim:E,number:M}},w){if(g[qn]=bo(w),g.composing)return;const v=(M||g.type==="number")&&!/^0\d/.test(g.value)?Fr(g.value):g.value,y=h??"";v!==y&&(document.activeElement===g&&g.type!=="range"&&(x||E&&g.value.trim()===y)||(g.value=y))}},Bv=Zt({patchProp:Ov},uv);let No;function bv(){return No||(No=Xc(Bv))}const Gv=(...g)=>{const h=bv().createApp(...g),{mount:x}=h;return h.mount=E=>{const M=zv(E);if(!M)return;const w=h._component;!mt(w)&&!w.render&&!w.template&&(w.template=M.innerHTML),M.innerHTML="";const v=x(M,!1,Nv(M));return M instanceof Element&&(M.removeAttribute("v-cloak"),M.setAttribute("data-v-app","")),v},h};function Nv(g){if(g instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&g instanceof MathMLElement)return"mathml"}function zv(g){return It(g)?document.querySelector(g):g}const Uv="modulepreload",Vv=function(g){return"/project/"+g},zo={},ke=function(h,x,E){let M=Promise.resolve();if(x&&x.length>0){document.getElementsByTagName("link");const v=document.querySelector("meta[property=csp-nonce]"),y=(v==null?void 0:v.nonce)||(v==null?void 0:v.getAttribute("nonce"));M=Promise.allSettled(x.map(t=>{if(t=Vv(t),t in zo)return;zo[t]=!0;const o=t.endsWith(".css"),p=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${p}`))return;const a=document.createElement("link");if(a.rel=o?"stylesheet":Uv,o||(a.as="script"),a.crossOrigin="",a.href=t,y&&a.setAttribute("nonce",y),document.head.appendChild(a),o)return new Promise((n,i)=>{a.addEventListener("load",n),a.addEventListener("error",()=>i(new Error(`Unable to preload CSS for ${t}`)))})}))}function w(v){const y=new Event("vite:preloadError",{cancelable:!0});if(y.payload=v,window.dispatchEvent(y),!y.defaultPrevented)throw v}return M.then(v=>{for(const y of v||[])y.status==="rejected"&&w(y.reason);return h().catch(w)})};var Xv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bn(g){return g&&g.__esModule&&Object.prototype.hasOwnProperty.call(g,"default")?g.default:g}var gu={exports:{}};(function(g,h){(function(E,M){g.exports=M()})(Xv,()=>(()=>{var x={50792:v=>{var y=Object.prototype.hasOwnProperty,t="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(t=!1));function p(e,r,l){this.fn=e,this.context=r,this.once=l||!1}function a(e,r,l,s,u){if(typeof l!="function")throw new TypeError("The listener must be a function");var d=new p(l,s||e,u),f=t?t+r:r;return e._events[f]?e._events[f].fn?e._events[f]=[e._events[f],d]:e._events[f].push(d):(e._events[f]=d,e._eventsCount++),e}function n(e,r){--e._eventsCount===0?e._events=new o:delete e._events[r]}function i(){this._events=new o,this._eventsCount=0}i.prototype.eventNames=function(){var r=[],l,s;if(this._eventsCount===0)return r;for(s in l=this._events)y.call(l,s)&&r.push(t?s.slice(1):s);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(l)):r},i.prototype.listeners=function(r){var l=t?t+r:r,s=this._events[l];if(!s)return[];if(s.fn)return[s.fn];for(var u=0,d=s.length,f=new Array(d);u<d;u++)f[u]=s[u].fn;return f},i.prototype.listenerCount=function(r){var l=t?t+r:r,s=this._events[l];return s?s.fn?1:s.length:0},i.prototype.emit=function(r,l,s,u,d,f){var c=t?t+r:r;if(!this._events[c])return!1;var m=this._events[c],T=arguments.length,C,S;if(m.fn){switch(m.once&&this.removeListener(r,m.fn,void 0,!0),T){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,l),!0;case 3:return m.fn.call(m.context,l,s),!0;case 4:return m.fn.call(m.context,l,s,u),!0;case 5:return m.fn.call(m.context,l,s,u,d),!0;case 6:return m.fn.call(m.context,l,s,u,d,f),!0}for(S=1,C=new Array(T-1);S<T;S++)C[S-1]=arguments[S];m.fn.apply(m.context,C)}else{var A=m.length,P;for(S=0;S<A;S++)switch(m[S].once&&this.removeListener(r,m[S].fn,void 0,!0),T){case 1:m[S].fn.call(m[S].context);break;case 2:m[S].fn.call(m[S].context,l);break;case 3:m[S].fn.call(m[S].context,l,s);break;case 4:m[S].fn.call(m[S].context,l,s,u);break;default:if(!C)for(P=1,C=new Array(T-1);P<T;P++)C[P-1]=arguments[P];m[S].fn.apply(m[S].context,C)}}return!0},i.prototype.on=function(r,l,s){return a(this,r,l,s,!1)},i.prototype.once=function(r,l,s){return a(this,r,l,s,!0)},i.prototype.removeListener=function(r,l,s,u){var d=t?t+r:r;if(!this._events[d])return this;if(!l)return n(this,d),this;var f=this._events[d];if(f.fn)f.fn===l&&(!u||f.once)&&(!s||f.context===s)&&n(this,d);else{for(var c=0,m=[],T=f.length;c<T;c++)(f[c].fn!==l||u&&!f[c].once||s&&f[c].context!==s)&&m.push(f[c]);m.length?this._events[d]=m.length===1?m[0]:m:n(this,d)}return this},i.prototype.removeAllListeners=function(r){var l;return r?(l=t?t+r:r,this._events[l]&&n(this,l)):(this._events=new o,this._eventsCount=0),this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prefixed=t,i.EventEmitter=i,v.exports=i},11517:(v,y,t)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(38829),p=function(a,n,i,e){for(var r=a[0],l=1;l<a.length;l++){var s=a[l];o(s,r,n,i,e),r=s}return a};v.exports=p},80318:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66979),p=function(a,n,i,e,r){return o(a,"angle",n,i,e,r)};v.exports=p},60757:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){for(var a=0;a<t.length;a++){var n=t[a];o.call(p,n)}return t};v.exports=y},69927:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){p===void 0&&(p=0);for(var a=p;a<t.length;a++){var n=t[a],i=!0;for(var e in o)n[e]!==o[e]&&(i=!1);if(i)return n}return null};v.exports=y},32265:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){p===void 0&&(p=0);for(var a=t.length-1;a>=p;a--){var n=t[a],i=!0;for(var e in o)n[e]!==o[e]&&(i=!1);if(i)return n}return null};v.exports=y},94420:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(11879),p=t(60461),a=t(95540),n=t(29747),i=t(41481),e=new i({sys:{queueDepthSort:n,events:{once:n}}},0,0,1,1).setOrigin(0,0),r=function(l,s){s===void 0&&(s={});var u=s.hasOwnProperty("width"),d=s.hasOwnProperty("height"),f=a(s,"width",-1),c=a(s,"height",-1),m=a(s,"cellWidth",1),T=a(s,"cellHeight",m),C=a(s,"position",p.TOP_LEFT),S=a(s,"x",0),A=a(s,"y",0),P=0,R=0,F=f*m,D=c*T;e.setPosition(S,A),e.setSize(m,T);for(var L=0;L<l.length;L++)if(o(l[L],e,C),u&&f===-1)e.x+=m;else if(d&&c===-1)e.y+=T;else if(d&&!u){if(R+=T,e.y+=T,R===D&&(R=0,P+=m,e.y=A,e.x+=m,P===F))break}else if(P+=m,e.x+=m,P===F&&(P=0,R+=T,e.x=S,e.y+=T,R===D))break;return l};v.exports=r},41721:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66979),p=function(a,n,i,e,r){return o(a,"alpha",n,i,e,r)};v.exports=p},67285:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66979),p=function(a,n,i,e,r){return o(a,"x",n,i,e,r)};v.exports=p},9074:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66979),p=function(a,n,i,e,r,l,s){return i==null&&(i=n),o(a,"x",n,e,l,s),o(a,"y",i,r,l,s)};v.exports=p},75222:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66979),p=function(a,n,i,e,r){return o(a,"y",n,i,e,r)};v.exports=p},22983:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a){p===void 0&&(p=0),a===void 0&&(a=6.28);for(var n=p,i=(a-p)/t.length,e=o.x,r=o.y,l=o.radius,s=0;s<t.length;s++)t[s].x=e+l*Math.cos(n),t[s].y=r+l*Math.sin(n),n+=i;return t};v.exports=y},95253:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a){p===void 0&&(p=0),a===void 0&&(a=6.28);for(var n=p,i=(a-p)/t.length,e=o.width/2,r=o.height/2,l=0;l<t.length;l++)t[l].x=o.x+e*Math.cos(n),t[l].y=o.y+r*Math.sin(n),n+=i;return t};v.exports=y},88505:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(15258),p=t(26708),a=function(n,i,e){var r;e?r=p(i,e,n.length):r=o(i,n.length);for(var l=0;l<n.length;l++){var s=n[l],u=r[l];s.x=u.x,s.y=u.y}return n};v.exports=a},41346:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(14649),p=t(86003),a=t(49498),n=function(i,e,r){r===void 0&&(r=0);var l=o(e,!1,i.length);r>0?p(l,r):r<0&&a(l,Math.abs(r));for(var s=0;s<i.length;s++)i[s].x=l[s].x,i[s].y=l[s].y;return i};v.exports=n},11575:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(84993),p=function(a,n,i){var e=o({x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2},i),r=o({x1:n.x2,y1:n.y2,x2:n.x3,y2:n.y3},i),l=o({x1:n.x3,y1:n.y3,x2:n.x1,y2:n.y1},i);e.pop(),r.pop(),l.pop(),e=e.concat(r,l);for(var s=e.length/a.length,u=0,d=0;d<a.length;d++){var f=a[d],c=e[Math.floor(u)];f.x=c.x,f.y=c.y,u+=s}return a};v.exports=p},29953:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){for(var a=0;a<t.length;a++){var n=t[a];n.anims&&n.anims.play(o,p)}return t};v.exports=y},66979:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a,n,i){a===void 0&&(a=0),n===void 0&&(n=0),i===void 0&&(i=1);var e,r=0,l=t.length;if(i===1)for(e=n;e<l;e++)t[e][o]+=p+r*a,r++;else for(e=n;e>=0;e--)t[e][o]+=p+r*a,r++;return t};v.exports=y},43967:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a,n,i){a===void 0&&(a=0),n===void 0&&(n=0),i===void 0&&(i=1);var e,r=0,l=t.length;if(i===1)for(e=n;e<l;e++)t[e][o]=p+r*a,r++;else for(e=n;e>=0;e--)t[e][o]=p+r*a,r++;return t};v.exports=y},88926:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(28176),p=function(a,n){for(var i=0;i<a.length;i++)o(n,a[i]);return a};v.exports=p},33286:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(24820),p=function(a,n){for(var i=0;i<a.length;i++)o(n,a[i]);return a};v.exports=p},96e3:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(65822),p=function(a,n){for(var i=0;i<a.length;i++)o(n,a[i]);return a};v.exports=p},28789:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26597),p=function(a,n){for(var i=0;i<a.length;i++)o(n,a[i]);return a};v.exports=p},97154:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(90260),p=function(a,n){for(var i=0;i<a.length;i++)o(n,a[i]);return a};v.exports=p},20510:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66979),p=function(a,n,i,e,r){return o(a,"rotation",n,i,e,r)};v.exports=p},91051:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(1163),p=t(20339),a=function(n,i,e){for(var r=i.x,l=i.y,s=0;s<n.length;s++){var u=n[s];o(u,r,l,e,Math.max(1,p(u.x,u.y,r,l)))}return n};v.exports=a},76332:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(1163),p=function(a,n,i,e){var r=n.x,l=n.y;if(e===0)return a;for(var s=0;s<a.length;s++)o(a[s],r,l,i,e);return a};v.exports=p},61619:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66979),p=function(a,n,i,e,r){return o(a,"scaleX",n,i,e,r)};v.exports=p},94868:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66979),p=function(a,n,i,e,r,l,s){return i==null&&(i=n),o(a,"scaleX",n,e,l,s),o(a,"scaleY",i,r,l,s)};v.exports=p},95532:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66979),p=function(a,n,i,e,r){return o(a,"scaleY",n,i,e,r)};v.exports=p},8689:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),p=function(a,n,i,e,r){return o(a,"alpha",n,i,e,r)};v.exports=p},2645:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),p=function(a,n,i,e){return o(a,"blendMode",n,0,i,e)};v.exports=p},32372:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),p=function(a,n,i,e,r){return o(a,"depth",n,i,e,r)};v.exports=p},85373:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){for(var a=0;a<t.length;a++)t[a].setInteractive(o,p);return t};v.exports=y},81583:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),p=function(a,n,i,e,r,l,s){return i==null&&(i=n),o(a,"originX",n,e,l,s),o(a,"originY",i,r,l,s),a.forEach(function(u){u.updateDisplayOrigin()}),a};v.exports=p},79939:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),p=function(a,n,i,e,r){return o(a,"rotation",n,i,e,r)};v.exports=p},2699:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),p=function(a,n,i,e,r,l,s){return i==null&&(i=n),o(a,"scaleX",n,e,l,s),o(a,"scaleY",i,r,l,s)};v.exports=p},98739:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),p=function(a,n,i,e,r){return o(a,"scaleX",n,i,e,r)};v.exports=p},98476:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),p=function(a,n,i,e,r){return o(a,"scaleY",n,i,e,r)};v.exports=p},6207:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),p=function(a,n,i,e,r,l,s){return i==null&&(i=n),o(a,"scrollFactorX",n,e,l,s),o(a,"scrollFactorY",i,r,l,s)};v.exports=p},6607:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),p=function(a,n,i,e,r){return o(a,"scrollFactorX",n,i,e,r)};v.exports=p},72248:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),p=function(a,n,i,e,r){return o(a,"scrollFactorY",n,i,e,r)};v.exports=p},14036:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a,n){for(var i=0;i<t.length;i++)t[i].setTint(o,p,a,n);return t};v.exports=y},50159:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),p=function(a,n,i,e){return o(a,"visible",n,0,i,e)};v.exports=p},77597:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),p=function(a,n,i,e,r){return o(a,"x",n,i,e,r)};v.exports=p},83194:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),p=function(a,n,i,e,r,l,s){return i==null&&(i=n),o(a,"x",n,e,l,s),o(a,"y",i,r,l,s)};v.exports=p},67678:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),p=function(a,n,i,e,r){return o(a,"y",n,i,e,r)};v.exports=p},35850:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),p=function(a,n,i,e,r){e===void 0&&(e=0),r===void 0&&(r=new o);var l,s,u=a.length;if(u===1)l=a[0].x,s=a[0].y,a[0].x=n,a[0].y=i;else{var d=1,f=0;e===0&&(f=u-1,d=u-2),l=a[f].x,s=a[f].y,a[f].x=n,a[f].y=i;for(var c=0;c<u;c++)if(!(d>=u||d===-1)){var m=a[d],T=m.x,C=m.y;m.x=l,m.y=s,l=T,s=C,e===0?d--:d++}}return r.x=l,r.y=s,r};v.exports=p},8628:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(33680),p=function(a){return o(a)};v.exports=p},21837:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7602),p=function(a,n,i,e,r){r===void 0&&(r=!1);var l=Math.abs(e-i)/a.length,s;if(r)for(s=0;s<a.length;s++)a[s][n]+=o(s*l,i,e);else for(s=0;s<a.length;s++)a[s][n]=o(s*l,i,e);return a};v.exports=p},21910:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(54261),p=function(a,n,i,e,r){r===void 0&&(r=!1);var l=Math.abs(e-i)/a.length,s;if(r)for(s=0;s<a.length;s++)a[s][n]+=o(s*l,i,e);else for(s=0;s<a.length;s++)a[s][n]=o(s*l,i,e);return a};v.exports=p},62054:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a,n){if(n===void 0&&(n=!1),t.length===0)return t;if(t.length===1)return n?t[0][o]+=(a+p)/2:t[0][o]=(a+p)/2,t;var i=Math.abs(a-p)/(t.length-1),e;if(n)for(e=0;e<t.length;e++)t[e][o]+=e*i+p;else for(e=0;e<t.length;e++)t[e][o]=e*i+p;return t};v.exports=y},79815:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){for(var o=0;o<t.length;o++)t[o].visible=!t[o].visible;return t};v.exports=y},39665:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(15994),p=function(a,n,i){i===void 0&&(i=0);for(var e=0;e<a.length;e++){var r=a[e];r.x=o(r.x,n.left-i,n.right+i),r.y=o(r.y,n.top-i,n.bottom+i)}return a};v.exports=p},61061:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={AlignTo:t(11517),Angle:t(80318),Call:t(60757),GetFirst:t(69927),GetLast:t(32265),GridAlign:t(94420),IncAlpha:t(41721),IncX:t(67285),IncXY:t(9074),IncY:t(75222),PlaceOnCircle:t(22983),PlaceOnEllipse:t(95253),PlaceOnLine:t(88505),PlaceOnRectangle:t(41346),PlaceOnTriangle:t(11575),PlayAnimation:t(29953),PropertyValueInc:t(66979),PropertyValueSet:t(43967),RandomCircle:t(88926),RandomEllipse:t(33286),RandomLine:t(96e3),RandomRectangle:t(28789),RandomTriangle:t(97154),Rotate:t(20510),RotateAround:t(91051),RotateAroundDistance:t(76332),ScaleX:t(61619),ScaleXY:t(94868),ScaleY:t(95532),SetAlpha:t(8689),SetBlendMode:t(2645),SetDepth:t(32372),SetHitArea:t(85373),SetOrigin:t(81583),SetRotation:t(79939),SetScale:t(2699),SetScaleX:t(98739),SetScaleY:t(98476),SetScrollFactor:t(6207),SetScrollFactorX:t(6607),SetScrollFactorY:t(72248),SetTint:t(14036),SetVisible:t(50159),SetX:t(77597),SetXY:t(83194),SetY:t(67678),ShiftPosition:t(35850),Shuffle:t(8628),SmootherStep:t(21910),SmoothStep:t(21837),Spread:t(62054),ToggleVisible:t(79815),WrapInRectangle:t(39665)}},42099:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),p=t(83419),a=t(74943),n=t(81957),i=t(41138),e=t(35154),r=t(90126),l=new p({initialize:function(u,d,f){this.manager=u,this.key=d,this.type="frame",this.frames=this.getFrames(u.textureManager,e(f,"frames",[]),e(f,"defaultTextureKey",null),e(f,"sortFrames",!0)),this.frameRate=e(f,"frameRate",null),this.duration=e(f,"duration",null),this.msPerFrame,this.skipMissedFrames=e(f,"skipMissedFrames",!0),this.delay=e(f,"delay",0),this.repeat=e(f,"repeat",0),this.repeatDelay=e(f,"repeatDelay",0),this.yoyo=e(f,"yoyo",!1),this.showBeforeDelay=e(f,"showBeforeDelay",!1),this.showOnStart=e(f,"showOnStart",!1),this.hideOnComplete=e(f,"hideOnComplete",!1),this.randomFrame=e(f,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(a.PAUSE_ALL,this.pause,this),this.manager.on(a.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(s,u,d,f){d===null&&f===null?(s.frameRate=24,s.duration=24/u*1e3):d&&f===null?(s.duration=d,s.frameRate=u/(d/1e3)):(s.frameRate=f,s.duration=u/f*1e3),s.msPerFrame=1e3/s.frameRate},addFrame:function(s){return this.addFrameAt(this.frames.length,s)},addFrameAt:function(s,u){var d=this.getFrames(this.manager.textureManager,u);if(d.length>0){if(s===0)this.frames=d.concat(this.frames);else if(s===this.frames.length)this.frames=this.frames.concat(d);else{var f=this.frames.slice(0,s),c=this.frames.slice(s);this.frames=f.concat(d,c)}this.updateFrameSequence()}return this},checkFrame:function(s){return s>=0&&s<this.frames.length},getFirstTick:function(s){s.accumulator=0,s.nextTick=s.currentFrame.duration?s.currentFrame.duration:s.msPerFrame},getFrameAt:function(s){return this.frames[s]},getFrames:function(s,u,d,f){f===void 0&&(f=!0);var c=[],m,T,C=1,S,A;if(typeof u=="string"){if(A=u,!s.exists(A))return console.warn('Texture "%s" not found',A),c;var P=s.get(A),R=P.getFrameNames();f&&r(R),u=[],R.forEach(function(b){u.push({key:A,frame:b})})}if(!Array.isArray(u)||u.length===0)return c;for(S=0;S<u.length;S++){var F=u[S],D=e(F,"key",d);if(D){var L=e(F,"frame",0),O=s.getFrame(D,L);if(!O){console.warn('Texture "%s" not found',D);continue}T=new i(D,L,C,O),T.duration=e(F,"duration",0),T.isFirst=!m,m&&(m.nextFrame=T,T.prevFrame=m),c.push(T),m=T,C++}}if(c.length>0){T.isLast=!0,T.nextFrame=c[0],c[0].prevFrame=T;var B=1/(c.length-1);for(S=0;S<c.length;S++)c[S].progress=S*B}return c},getNextTick:function(s){s.accumulator-=s.nextTick,s.nextTick=s.currentFrame.duration?s.currentFrame.duration:s.msPerFrame},getFrameByProgress:function(s){return s=o(s,0,1),n(s,this.frames,"progress")},nextFrame:function(s){var u=s.currentFrame;u.isLast?s.yoyo?this.handleYoyoFrame(s,!1):s.repeatCounter>0?s.inReverse&&s.forward?s.forward=!1:this.repeatAnimation(s):s.complete():this.updateAndGetNextTick(s,u.nextFrame)},handleYoyoFrame:function(s,u){if(u||(u=!1),s.inReverse===!u&&s.repeatCounter>0){(s.repeatDelay===0||s.pendingRepeat)&&(s.forward=u),this.repeatAnimation(s);return}if(s.inReverse!==u&&s.repeatCounter===0){s.complete();return}s.forward=u;var d=u?s.currentFrame.nextFrame:s.currentFrame.prevFrame;this.updateAndGetNextTick(s,d)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(s){var u=s.currentFrame;u.isFirst?s.yoyo?this.handleYoyoFrame(s,!0):s.repeatCounter>0?s.inReverse&&!s.forward?this.repeatAnimation(s):(s.forward=!0,this.repeatAnimation(s)):s.complete():this.updateAndGetNextTick(s,u.prevFrame)},updateAndGetNextTick:function(s,u){s.setCurrentFrame(u),this.getNextTick(s)},removeFrame:function(s){var u=this.frames.indexOf(s);return u!==-1&&this.removeFrameAt(u),this},removeFrameAt:function(s){return this.frames.splice(s,1),this.updateFrameSequence(),this},repeatAnimation:function(s){if(s._pendingStop===2){if(s._pendingStopValue===0)return s.stop();s._pendingStopValue--}s.repeatDelay>0&&!s.pendingRepeat?(s.pendingRepeat=!0,s.accumulator-=s.nextTick,s.nextTick+=s.repeatDelay):(s.repeatCounter--,s.forward?s.setCurrentFrame(s.currentFrame.nextFrame):s.setCurrentFrame(s.currentFrame.prevFrame),s.isPlaying&&(this.getNextTick(s),s.handleRepeat()))},toJSON:function(){var s={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(u){s.frames.push(u.toJSON())}),s},updateFrameSequence:function(){for(var s=this.frames.length,u=1/(s-1),d,f=0;f<s;f++)d=this.frames[f],d.index=f+1,d.isFirst=!1,d.isLast=!1,d.progress=f*u,f===0?(d.isFirst=!0,s===1?(d.isLast=!0,d.nextFrame=d,d.prevFrame=d):(d.isLast=!1,d.prevFrame=this.frames[s-1],d.nextFrame=this.frames[f+1])):f===s-1&&s>1?(d.isLast=!0,d.prevFrame=this.frames[s-2],d.nextFrame=this.frames[0]):s>1&&(d.prevFrame=this.frames[f-1],d.nextFrame=this.frames[f+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(a.PAUSE_ALL,this.pause,this),this.manager.off(a.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var s=0;s<this.frames.length;s++)this.frames[s].destroy();this.frames=[],this.manager=null}});v.exports=l},41138:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=new o({initialize:function(n,i,e,r,l){l===void 0&&(l=!1),this.textureKey=n,this.textureFrame=i,this.index=e,this.frame=r,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=l},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});v.exports=p},60848:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(42099),p=t(83419),a=t(90330),n=t(50792),i=t(74943),e=t(8443),r=t(95540),l=t(35154),s=t(36383),u=t(20283),d=t(41836),f=new p({Extends:n,initialize:function(m){n.call(this),this.game=m,this.textureManager=null,this.globalTimeScale=1,this.anims=new a,this.mixes=new a,this.paused=!1,this.name="AnimationManager",m.events.once(e.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(e.DESTROY,this.destroy,this)},addMix:function(c,m,T){var C=this.anims,S=this.mixes,A=typeof c=="string"?c:c.key,P=typeof m=="string"?m:m.key;if(C.has(A)&&C.has(P)){var R=S.get(A);R||(R={}),R[P]=T,S.set(A,R)}return this},removeMix:function(c,m){var T=this.mixes,C=typeof c=="string"?c:c.key,S=T.get(C);if(S)if(m){var A=typeof m=="string"?m:m.key;S.hasOwnProperty(A)&&delete S[A]}else m||T.delete(C);return this},getMix:function(c,m){var T=this.mixes,C=typeof c=="string"?c:c.key,S=typeof m=="string"?m:m.key,A=T.get(C);return A&&A.hasOwnProperty(S)?A[S]:0},add:function(c,m){return this.anims.has(c)?(console.warn("Animation key exists: "+c),this):(m.key=c,this.anims.set(c,m),this.emit(i.ADD_ANIMATION,c,m),this)},exists:function(c){return this.anims.has(c)},createFromAseprite:function(c,m,T){var C=[],S=this.game.cache.json.get(c);if(!S)return console.warn("No Aseprite data found for: "+c),C;var A=this,P=l(S,"meta",null),R=l(S,"frames",null);if(P&&R){var F=l(P,"frameTags",[]);F.forEach(function(D){var L=[],O=r(D,"name",null),B=r(D,"from",0),b=r(D,"to",0),z=r(D,"direction","forward");if(O&&(!m||m&&m.indexOf(O)>-1)){for(var V=0,W=B;W<=b;W++){var K=W.toString(),U=R[K];if(U){var Y=r(U,"duration",s.MAX_SAFE_INTEGER);L.push({key:c,frame:K,duration:Y}),V+=Y}}z==="reverse"&&(L=L.reverse());var I={key:O,frames:L,duration:V,yoyo:z==="pingpong"},N;T?T.anims&&(N=T.anims.create(I)):N=A.create(I),N&&C.push(N)}})}return C},create:function(c){var m=c.key,T=!1;return m&&(T=this.get(m),T?console.warn("AnimationManager key already exists: "+m):(T=new o(this,m,c),this.anims.set(m,T),this.emit(i.ADD_ANIMATION,m,T))),T},fromJSON:function(c,m){m===void 0&&(m=!1),m&&this.anims.clear(),typeof c=="string"&&(c=JSON.parse(c));var T=[];if(c.hasOwnProperty("anims")&&Array.isArray(c.anims)){for(var C=0;C<c.anims.length;C++)T.push(this.create(c.anims[C]));c.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=c.globalTimeScale)}else c.hasOwnProperty("key")&&c.type==="frame"&&T.push(this.create(c));return T},generateFrameNames:function(c,m){var T=l(m,"prefix",""),C=l(m,"start",0),S=l(m,"end",0),A=l(m,"suffix",""),P=l(m,"zeroPad",0),R=l(m,"outputArray",[]),F=l(m,"frames",!1);if(!this.textureManager.exists(c))return console.warn('Texture "%s" not found',c),R;var D=this.textureManager.get(c);if(!D)return R;var L;if(m)for(F||(F=u(C,S)),L=0;L<F.length;L++){var O=T+d(F[L],P,"0",1)+A;D.has(O)?R.push({key:c,frame:O}):console.warn('Frame "%s" not found in texture "%s"',O,c)}else for(F=D.getFrameNames(),L=0;L<F.length;L++)R.push({key:c,frame:F[L]});return R},generateFrameNumbers:function(c,m){var T=l(m,"start",0),C=l(m,"end",-1),S=l(m,"first",!1),A=l(m,"outputArray",[]),P=l(m,"frames",!1);if(!this.textureManager.exists(c))return console.warn('Texture "%s" not found',c),A;var R=this.textureManager.get(c);if(!R)return A;S&&R.has(S)&&A.push({key:c,frame:S}),P||(C===-1&&(C=R.frameTotal-2),P=u(T,C));for(var F=0;F<P.length;F++){var D=P[F];R.has(D)?A.push({key:c,frame:D}):console.warn('Frame "%s" not found in texture "%s"',D,c)}return A},get:function(c){return this.anims.get(c)},getAnimsFromTexture:function(c){for(var m=this.textureManager.get(c),T=m.key,C=this.anims.getArray(),S=[],A=0;A<C.length;A++)for(var P=C[A],R=P.frames,F=0;F<R.length;F++)if(R[F].textureKey===T){S.push(P.key);break}return S},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(i.PAUSE_ALL)),this},play:function(c,m){Array.isArray(m)||(m=[m]);for(var T=0;T<m.length;T++)m[T].anims.play(c);return this},staggerPlay:function(c,m,T,C){T===void 0&&(T=0),C===void 0&&(C=!0),Array.isArray(m)||(m=[m]);var S=m.length;C||S--;for(var A=0;A<m.length;A++){var P=T<0?Math.abs(T)*(S-A):T*A;m[A].anims.playAfterDelay(c,P)}return this},remove:function(c){var m=this.get(c);return m&&(this.emit(i.REMOVE_ANIMATION,c,m),this.anims.delete(c),this.removeMix(c)),m},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(i.RESUME_ALL)),this},toJSON:function(c){var m={anims:[],globalTimeScale:this.globalTimeScale};return c!==void 0&&c!==""?m.anims.push(this.anims.get(c).toJSON()):this.anims.each(function(T,C){m.anims.push(C.toJSON())}),m},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});v.exports=f},9674:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(42099),p=t(30976),a=t(83419),n=t(90330),i=t(74943),e=t(95540),r=new a({initialize:function(s){this.parent=s,this.animationManager=s.scene.sys.anims,this.animationManager.on(i.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(l){var s=this.parent;if(l===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,s;Array.isArray(l)||(l=[l]);for(var u=0;u<l.length;u++){var d=l[u];this.nextAnim?this.nextAnimsQueue.push(d):this.nextAnim=d}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(l){this.isPlaying&&this.stop();var s=this.animationManager,u=typeof l=="string"?l:e(l,"key",null),d=this.exists(u)?this.get(u):s.get(u);if(!d)console.warn("Missing animation: "+u);else{this.currentAnim=d;var f=d.getTotalFrames(),c=e(l,"frameRate",d.frameRate),m=e(l,"duration",d.duration);d.calculateDuration(this,f,m,c),this.delay=e(l,"delay",d.delay),this.repeat=e(l,"repeat",d.repeat),this.repeatDelay=e(l,"repeatDelay",d.repeatDelay),this.yoyo=e(l,"yoyo",d.yoyo),this.showBeforeDelay=e(l,"showBeforeDelay",d.showBeforeDelay),this.showOnStart=e(l,"showOnStart",d.showOnStart),this.hideOnComplete=e(l,"hideOnComplete",d.hideOnComplete),this.skipMissedFrames=e(l,"skipMissedFrames",d.skipMissedFrames),this.randomFrame=e(l,"randomFrame",d.randomFrame),this.timeScale=e(l,"timeScale",this.timeScale);var T=e(l,"startFrame",0);T>f&&(T=0),this.randomFrame&&(T=p(0,f-1));var C=d.frames[T];T===0&&!this.forward&&(C=d.getLastFrame()),this.currentFrame=C}return this.parent},pause:function(l){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),l!==void 0&&this.setCurrentFrame(l),this.parent},resume:function(l){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),l!==void 0&&this.setCurrentFrame(l),this.parent},playAfterDelay:function(l,s){if(!this.isPlaying)this.delayCounter=s,this.play(l,!0);else{var u=this.nextAnim,d=this.nextAnimsQueue;u&&d.unshift(u),this.nextAnim=l,this._pendingStop=1,this._pendingStopValue=s}return this.parent},playAfterRepeat:function(l,s){if(s===void 0&&(s=1),!this.isPlaying)this.play(l);else{var u=this.nextAnim,d=this.nextAnimsQueue;u&&d.unshift(u),this.repeatCounter!==-1&&s>this.repeatCounter&&(s=this.repeatCounter),this.nextAnim=l,this._pendingStop=2,this._pendingStopValue=s}return this.parent},play:function(l,s){s===void 0&&(s=!1);var u=this.currentAnim,d=this.parent,f=typeof l=="string"?l:l.key;if(s&&this.isPlaying&&u.key===f)return d;if(u&&this.isPlaying){var c=this.animationManager.getMix(u.key,l);if(c>0)return this.playAfterDelay(l,c)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(l)},playReverse:function(l,s){s===void 0&&(s=!1);var u=typeof l=="string"?l:l.key;return s&&this.isPlaying&&this.currentAnim.key===u?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(l))},startAnimation:function(l){this.load(l);var s=this.currentAnim,u=this.parent;return s&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,s.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),u},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(i.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(i.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(i.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(i.ANIMATION_COMPLETE,i.ANIMATION_COMPLETE_KEY)},emitEvents:function(l,s){var u=this.currentAnim;if(u){var d=this.currentFrame,f=this.parent,c=d.textureFrame;f.emit(l,u,d,f,c),s&&f.emit(s+u.key,u,d,f,c)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var l=this.currentFrame;if(!l)return 0;var s=l.progress;return this.inReverse&&(s*=-1),s},setProgress:function(l){return this.forward||(l=1-l),this.setCurrentFrame(this.currentAnim.getFrameByProgress(l)),this.parent},setRepeat:function(l){return this.repeatCounter=l===-1?Number.MAX_VALUE:l,this.parent},globalRemove:function(l,s){s===void 0&&(s=this.currentAnim),this.isPlaying&&s.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(l,s){l===void 0&&(l=!1),s===void 0&&(s=!1);var u=this.currentAnim,d=this.parent;return u?(s&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),u.getFirstTick(this),this.emitEvents(i.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!l,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(u.frames[0]),this.parent):d},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var l=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(l)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var l=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(l)}return this.parent},stopAfterDelay:function(l){return this._pendingStop=1,this._pendingStopValue=l,this.parent},stopAfterRepeat:function(l){return l===void 0&&(l=1),this.repeatCounter!==-1&&l>this.repeatCounter&&(l=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=l,this.parent},stopOnFrame:function(l){return this._pendingStop=3,this._pendingStopValue=l,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(l,s){var u=this.currentAnim;if(!(!this.isPlaying||!u||u.paused)){if(this.accumulator+=s*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=s,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?u.nextFrame(this):u.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var d=0;do this.forward?u.nextFrame(this):u.previousFrame(this),d++;while(this.isPlaying&&this.accumulator>this.nextTick&&d<60)}}},setCurrentFrame:function(l){var s=this.parent;return this.currentFrame=l,s.texture=l.frame.texture,s.frame=l.frame,s.isCropped&&s.frame.updateCropUVs(s._crop,s.flipX,s.flipY),l.setAlpha&&(s.alpha=l.alpha),s.setSizeToFrame(),s._originComponent&&(l.frame.customPivot?s.setOrigin(l.frame.pivotX,l.frame.pivotY):s.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(i.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===l&&this.stop()),s},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(l){return this.anims?this.anims.get(l):null},exists:function(l){return this.anims?this.anims.has(l):!1},create:function(l){var s=l.key,u=!1;return s&&(u=this.get(s),u?console.warn("Animation key already exists: "+s):(u=new o(this,s,l),this.anims||(this.anims=new n),this.anims.set(s,u))),u},createFromAseprite:function(l,s){return this.animationManager.createFromAseprite(l,s,this.parent)},generateFrameNames:function(l,s){return this.animationManager.generateFrameNames(l,s)},generateFrameNumbers:function(l,s){return this.animationManager.generateFrameNumbers(l,s)},remove:function(l){var s=this.get(l);return s&&(this.currentAnim===s&&this.stop(),this.anims.delete(l)),s},destroy:function(){this.animationManager.off(i.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});v.exports=r},57090:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="add"},25312:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="animationcomplete"},89580:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="animationcomplete-"},52860:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="animationrepeat"},63850:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="animationrestart"},99085:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="animationstart"},28087:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="animationstop"},1794:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="animationupdate"},52562:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pauseall"},57953:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="remove"},68339:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resumeall"},74943:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ADD_ANIMATION:t(57090),ANIMATION_COMPLETE:t(25312),ANIMATION_COMPLETE_KEY:t(89580),ANIMATION_REPEAT:t(52860),ANIMATION_RESTART:t(63850),ANIMATION_START:t(99085),ANIMATION_STOP:t(28087),ANIMATION_UPDATE:t(1794),PAUSE_ALL:t(52562),REMOVE_ANIMATION:t(57953),RESUME_ALL:t(68339)}},60421:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Animation:t(42099),AnimationFrame:t(41138),AnimationManager:t(60848),AnimationState:t(9674),Events:t(74943)}},2161:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(90330),a=t(50792),n=t(24736),i=new o({initialize:function(){this.entries=new p,this.events=new a},add:function(e,r){return this.entries.set(e,r),this.events.emit(n.ADD,this,e,r),this},has:function(e){return this.entries.has(e)},exists:function(e){return this.entries.has(e)},get:function(e){return this.entries.get(e)},remove:function(e){var r=this.get(e);return r&&(this.entries.delete(e),this.events.emit(n.REMOVE,this,e,r.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});v.exports=i},24047:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2161),p=t(83419),a=t(8443),n=new p({initialize:function(e){this.game=e,this.binary=new o,this.bitmapFont=new o,this.json=new o,this.physics=new o,this.shader=new o,this.audio=new o,this.video=new o,this.text=new o,this.html=new o,this.obj=new o,this.tilemap=new o,this.xml=new o,this.custom={},this.game.events.once(a.DESTROY,this.destroy,this)},addCustom:function(i){return this.custom.hasOwnProperty(i)||(this.custom[i]=new o),this.custom[i]},destroy:function(){for(var i=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],e=0;e<i.length;e++)this[i[e]].destroy(),this[i[e]]=null;for(var r in this.custom)this.custom[r].destroy();this.custom=null,this.game=null}});v.exports=n},51464:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="add"},59261:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="remove"},24736:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ADD:t(51464),REMOVE:t(59261)}},83388:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={BaseCache:t(2161),CacheManager:t(24047),Events:t(24736)}},71911:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(31401),a=t(39506),n=t(50792),i=t(19715),e=t(87841),r=t(61340),l=t(80333),s=t(26099),u=new o({Extends:n,Mixins:[p.AlphaSingle,p.Visible],initialize:function(f,c,m,T){f===void 0&&(f=0),c===void 0&&(c=0),m===void 0&&(m=0),T===void 0&&(T=0),n.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new e,this.dirty=!0,this._x=f,this._y=c,this._width=m,this._height=T,this._bounds=new e,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new r,this.transparent=!0,this.backgroundColor=l("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new s(m/2,T/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0},addToRenderList:function(d){this.renderList.push(d)},setOrigin:function(d,f){return d===void 0&&(d=.5),f===void 0&&(f=d),this.originX=d,this.originY=f,this},getScroll:function(d,f,c){c===void 0&&(c=new s);var m=this.width*.5,T=this.height*.5;return c.x=d-m,c.y=f-T,this.useBounds&&(c.x=this.clampX(c.x),c.y=this.clampY(c.y)),c},centerOnX:function(d){var f=this.width*.5;return this.midPoint.x=d,this.scrollX=d-f,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(d){var f=this.height*.5;return this.midPoint.y=d,this.scrollY=d-f,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(d,f){return this.centerOnX(d),this.centerOnY(f),this},centerToBounds:function(){if(this.useBounds){var d=this._bounds,f=this.width*.5,c=this.height*.5;this.midPoint.set(d.centerX,d.centerY),this.scrollX=d.centerX-f,this.scrollY=d.centerY-c}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(d){if(this.disableCull)return d;var f=this.matrix.matrix,c=f[0],m=f[1],T=f[2],C=f[3],S=c*C-m*T;if(!S)return d;var A=f[4],P=f[5],R=this.scrollX,F=this.scrollY,D=this.width,L=this.height,O=this.y,B=O+L,b=this.x,z=b+D,V=this.culledObjects,W=d.length;S=1/S,V.length=0;for(var K=0;K<W;++K){var U=d[K];if(!U.hasOwnProperty("width")||U.parentContainer){V.push(U);continue}var Y=U.width,I=U.height,N=U.x-R*U.scrollFactorX-Y*U.originX,G=U.y-F*U.scrollFactorY-I*U.originY,X=N*c+G*T+A,H=N*m+G*C+P,Q=(N+Y)*c+(G+I)*T+A,$=(N+Y)*m+(G+I)*C+P;Q>b&&X<z&&$>O&&H<B&&V.push(U)}return V},getWorldPoint:function(d,f,c){c===void 0&&(c=new s);var m=this.matrix.matrix,T=m[0],C=m[1],S=m[2],A=m[3],P=m[4],R=m[5],F=T*A-C*S;if(!F)return c.x=d,c.y=f,c;F=1/F;var D=A*F,L=-C*F,O=-S*F,B=T*F,b=(S*R-A*P)*F,z=(C*P-T*R)*F,V=Math.cos(this.rotation),W=Math.sin(this.rotation),K=this.zoomX,U=this.zoomY,Y=this.scrollX,I=this.scrollY,N=d+(Y*V-I*W)*K,G=f+(Y*W+I*V)*U;return c.x=N*D+G*O+b,c.y=N*L+G*B+z,c},ignore:function(d){var f=this.id;Array.isArray(d)||(d=[d]);for(var c=0;c<d.length;c++){var m=d[c];Array.isArray(m)?this.ignore(m):m.isParent?this.ignore(m.getChildren()):m.cameraFilter|=f}return this},preRender:function(){this.renderList.length=0;var d=this.width,f=this.height,c=d*.5,m=f*.5,T=this.zoomX,C=this.zoomY,S=this.matrix,A=d*this.originX,P=f*this.originY,R=this.scrollX,F=this.scrollY;this.useBounds&&(R=this.clampX(R),F=this.clampY(F)),this.scrollX=R,this.scrollY=F;var D=R+c,L=F+m;this.midPoint.set(D,L);var O=d/T,B=f/C;this.worldView.setTo(D-O/2,L-B/2,O,B),S.applyITRS(this.x+A,this.y+P,this.rotation,T,C),S.translate(-A,-P)},clampX:function(d){var f=this._bounds,c=this.displayWidth,m=f.x+(c-this.width)/2,T=Math.max(m,m+f.width-c);return d<m?d=m:d>T&&(d=T),d},clampY:function(d){var f=this._bounds,c=this.displayHeight,m=f.y+(c-this.height)/2,T=Math.max(m,m+f.height-c);return d<m?d=m:d>T&&(d=T),d},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(d){return d===void 0&&(d=0),this.rotation=a(d),this},setBackgroundColor:function(d){return d===void 0&&(d="rgba(0,0,0,0)"),this.backgroundColor=l(d),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(d,f,c,m,T){return T===void 0&&(T=!1),this._bounds.setTo(d,f,c,m),this.dirty=!0,this.useBounds=!0,T?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(d){d===void 0&&(d=new e);var f=this._bounds;return d.setTo(f.x,f.y,f.width,f.height),d},setName:function(d){return d===void 0&&(d=""),this.name=d,this},setPosition:function(d,f){return f===void 0&&(f=d),this.x=d,this.y=f,this},setRotation:function(d){return d===void 0&&(d=0),this.rotation=d,this},setRoundPixels:function(d){return this.roundPixels=d,this},setScene:function(d,f){f===void 0&&(f=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=d,this.isSceneCamera=f;var c=d.sys;return this.sceneManager=c.game.scene,this.scaleManager=c.scale,this.cameraManager=c.cameras,this.updateSystem(),this},setScroll:function(d,f){return f===void 0&&(f=d),this.scrollX=d,this.scrollY=f,this},setSize:function(d,f){return f===void 0&&(f=d),this.width=d,this.height=f,this},setViewport:function(d,f,c,m){return this.x=d,this.y=f,this.width=c,this.height=m,this},setZoom:function(d,f){return d===void 0&&(d=1),f===void 0&&(f=d),d===0&&(d=.001),f===0&&(f=.001),this.zoomX=d,this.zoomY=f,this},setMask:function(d,f){return f===void 0&&(f=!0),this.mask=d,this._maskCamera=f?this.cameraManager.default:this,this},clearMask:function(d){return d===void 0&&(d=!1),d&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var d={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(d.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),d},update:function(){},setIsSceneCamera:function(d){return this.isSceneCamera=d,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var d=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,f=this.sceneManager;d&&!this._customViewport?f.customViewports++:!d&&this._customViewport&&f.customViewports--,this.dirty=!0,this._customViewport=d}},destroy:function(){this.emit(i.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(d){this._x=d,this.updateSystem()}},y:{get:function(){return this._y},set:function(d){this._y=d,this.updateSystem()}},width:{get:function(){return this._width},set:function(d){this._width=d,this.updateSystem()}},height:{get:function(){return this._height},set:function(d){this._height=d,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(d){d!==this._scrollX&&(this._scrollX=d,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(d){d!==this._scrollY&&(this._scrollY=d,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(d){this._zoomX=d,this._zoomY=d,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(d){this._zoomX=d,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(d){this._zoomY=d,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(d){this._rotation=d,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});v.exports=u},38058:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(71911),p=t(67502),a=t(45319),n=t(83419),i=t(31401),e=t(20052),r=t(19715),l=t(28915),s=t(87841),u=t(26099),d=new n({Extends:o,Mixins:[i.PostPipeline],initialize:function(c,m,T,C){o.call(this,c,m,T,C),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new e.Fade(this),this.flashEffect=new e.Flash(this),this.shakeEffect=new e.Shake(this),this.panEffect=new e.Pan(this),this.rotateToEffect=new e.RotateTo(this),this.zoomEffect=new e.Zoom(this),this.lerp=new u(1,1),this.followOffset=new u,this.deadzone=null,this._follow=null},setDeadzone:function(f,c){if(f===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=f,this.deadzone.height=c):this.deadzone=new s(0,0,f,c),this._follow){var m=this.width/2,T=this.height/2,C=this._follow.x-this.followOffset.x,S=this._follow.y-this.followOffset.y;this.midPoint.set(C,S),this.scrollX=C-m,this.scrollY=S-T}p(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(f,c,m,T,C,S){return this.fadeEffect.start(!1,f,c,m,T,!0,C,S)},fadeOut:function(f,c,m,T,C,S){return this.fadeEffect.start(!0,f,c,m,T,!0,C,S)},fadeFrom:function(f,c,m,T,C,S,A){return this.fadeEffect.start(!1,f,c,m,T,C,S,A)},fade:function(f,c,m,T,C,S,A){return this.fadeEffect.start(!0,f,c,m,T,C,S,A)},flash:function(f,c,m,T,C,S,A){return this.flashEffect.start(f,c,m,T,C,S,A)},shake:function(f,c,m,T,C){return this.shakeEffect.start(f,c,m,T,C)},pan:function(f,c,m,T,C,S,A){return this.panEffect.start(f,c,m,T,C,S,A)},rotateTo:function(f,c,m,T,C,S,A){return this.rotateToEffect.start(f,c,m,T,C,S,A)},zoomTo:function(f,c,m,T,C,S){return this.zoomEffect.start(f,c,m,T,C,S)},preRender:function(){this.renderList.length=0;var f=this.width,c=this.height,m=f*.5,T=c*.5,C=this.zoom,S=this.matrix,A=f*this.originX,P=c*this.originY,R=this._follow,F=this.deadzone,D=this.scrollX,L=this.scrollY;F&&p(F,this.midPoint.x,this.midPoint.y);var O=!1;if(R&&!this.panEffect.isRunning){var B=this.lerp,b=R.x-this.followOffset.x,z=R.y-this.followOffset.y;F?(b<F.x?D=l(D,D-(F.x-b),B.x):b>F.right&&(D=l(D,D+(b-F.right),B.x)),z<F.y?L=l(L,L-(F.y-z),B.y):z>F.bottom&&(L=l(L,L+(z-F.bottom),B.y))):(D=l(D,b-A,B.x),L=l(L,z-P,B.y)),O=!0}this.useBounds&&(D=this.clampX(D),L=this.clampY(L)),this.scrollX=D,this.scrollY=L;var V=D+m,W=L+T;this.midPoint.set(V,W);var K=f/C,U=c/C,Y=Math.floor(V-K/2),I=Math.floor(W-U/2);this.worldView.setTo(Y,I,K,U),S.applyITRS(Math.floor(this.x+A),Math.floor(this.y+P),this.rotation,C,C),S.translate(-A,-P),this.shakeEffect.preRender(),O&&this.emit(r.FOLLOW_UPDATE,this,R)},setLerp:function(f,c){return f===void 0&&(f=1),c===void 0&&(c=f),this.lerp.set(f,c),this},setFollowOffset:function(f,c){return f===void 0&&(f=0),c===void 0&&(c=0),this.followOffset.set(f,c),this},startFollow:function(f,c,m,T,C,S){c===void 0&&(c=!1),m===void 0&&(m=1),T===void 0&&(T=m),C===void 0&&(C=0),S===void 0&&(S=C),this._follow=f,this.roundPixels=c,m=a(m,0,1),T=a(T,0,1),this.lerp.set(m,T),this.followOffset.set(C,S);var A=this.width/2,P=this.height/2,R=f.x-C,F=f.y-S;return this.midPoint.set(R,F),this.scrollX=R-A,this.scrollY=F-P,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(f,c){this.visible&&(this.rotateToEffect.update(f,c),this.panEffect.update(f,c),this.zoomEffect.update(f,c),this.shakeEffect.update(f,c),this.flashEffect.update(f,c),this.fadeEffect.update(f,c))},destroy:function(){this.resetFX(),o.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});v.exports=d},32743:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(38058),p=t(83419),a=t(95540),n=t(37277),i=t(37303),e=t(97480),r=t(44594),l=new p({initialize:function(u){this.scene=u,this.systems=u.sys,this.roundPixels=u.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,u.sys.events.once(r.BOOT,this.boot,this),u.sys.events.on(r.START,this.start,this)},boot:function(){var s=this.systems;s.settings.cameras?this.fromJSON(s.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new o(0,0,s.scale.width,s.scale.height).setScene(this.scene),s.game.scale.on(e.RESIZE,this.onResize,this),this.systems.events.once(r.DESTROY,this.destroy,this)},start:function(){if(!this.main){var s=this.systems;s.settings.cameras?this.fromJSON(s.settings.cameras):this.add(),this.main=this.cameras[0]}var u=this.systems.events;u.on(r.UPDATE,this.update,this),u.once(r.SHUTDOWN,this.shutdown,this)},add:function(s,u,d,f,c,m){s===void 0&&(s=0),u===void 0&&(u=0),d===void 0&&(d=this.scene.sys.scale.width),f===void 0&&(f=this.scene.sys.scale.height),c===void 0&&(c=!1),m===void 0&&(m="");var T=new o(s,u,d,f);return T.setName(m),T.setScene(this.scene),T.setRoundPixels(this.roundPixels),T.id=this.getNextID(),this.cameras.push(T),c&&(this.main=T),T},addExisting:function(s,u){u===void 0&&(u=!1);var d=this.cameras.indexOf(s);return d===-1?(s.id=this.getNextID(),s.setRoundPixels(this.roundPixels),this.cameras.push(s),u&&(this.main=s),s):null},getNextID:function(){for(var s=this.cameras,u=1,d=0;d<32;d++){for(var f=!1,c=0;c<s.length;c++){var m=s[c];if(m&&m.id===u){f=!0;continue}}if(f)u=u<<1;else return u}return 0},getTotal:function(s){s===void 0&&(s=!1);for(var u=0,d=this.cameras,f=0;f<d.length;f++){var c=d[f];(!s||s&&c.visible)&&u++}return u},fromJSON:function(s){Array.isArray(s)||(s=[s]);for(var u=this.scene.sys.scale.width,d=this.scene.sys.scale.height,f=0;f<s.length;f++){var c=s[f],m=a(c,"x",0),T=a(c,"y",0),C=a(c,"width",u),S=a(c,"height",d),A=this.add(m,T,C,S);A.name=a(c,"name",""),A.zoom=a(c,"zoom",1),A.rotation=a(c,"rotation",0),A.scrollX=a(c,"scrollX",0),A.scrollY=a(c,"scrollY",0),A.roundPixels=a(c,"roundPixels",!1),A.visible=a(c,"visible",!0);var P=a(c,"backgroundColor",!1);P&&A.setBackgroundColor(P);var R=a(c,"bounds",null);if(R){var F=a(R,"x",0),D=a(R,"y",0),L=a(R,"width",u),O=a(R,"height",d);A.setBounds(F,D,L,O)}}return this},getCamera:function(s){for(var u=this.cameras,d=0;d<u.length;d++)if(u[d].name===s)return u[d];return null},getCamerasBelowPointer:function(s){for(var u=this.cameras,d=s.x,f=s.y,c=[],m=0;m<u.length;m++){var T=u[m];T.visible&&T.inputEnabled&&i(T,d,f)&&c.unshift(T)}return c},remove:function(s,u){u===void 0&&(u=!0),Array.isArray(s)||(s=[s]);for(var d=0,f=this.cameras,c=0;c<s.length;c++){var m=f.indexOf(s[c]);m!==-1&&(u?f[m].destroy():f[m].renderList=[],f.splice(m,1),d++)}return!this.main&&f[0]&&(this.main=f[0]),d},render:function(s,u){for(var d=this.scene,f=this.cameras,c=0;c<f.length;c++){var m=f[c];if(m.visible&&m.alpha>0){m.preRender();var T=this.getVisibleChildren(u.getChildren(),m);s.render(d,T,m)}}},getVisibleChildren:function(s,u){return s.filter(function(d){return d.willRender(u)})},resetAll:function(){for(var s=0;s<this.cameras.length;s++)this.cameras[s].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(s,u){for(var d=0;d<this.cameras.length;d++)this.cameras[d].update(s,u)},onResize:function(s,u,d,f,c){for(var m=0;m<this.cameras.length;m++){var T=this.cameras[m];T._x===0&&T._y===0&&T._width===f&&T._height===c&&T.setSize(u.width,u.height)}},resize:function(s,u){for(var d=0;d<this.cameras.length;d++)this.cameras[d].setSize(s,u)},shutdown:function(){this.main=void 0;for(var s=0;s<this.cameras.length;s++)this.cameras[s].destroy();this.cameras=[];var u=this.systems.events;u.off(r.UPDATE,this.update,this),u.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(r.START,this.start,this),this.systems.events.off(r.DESTROY,this.destroy,this),this.systems.game.scale.off(e.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});n.register("CameraManager",l,"cameras"),v.exports=l},5020:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),p=t(83419),a=t(19715),n=new p({initialize:function(e){this.camera=e,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(i,e,r,l,s,u,d,f){if(i===void 0&&(i=!0),e===void 0&&(e=1e3),r===void 0&&(r=0),l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=!1),d===void 0&&(d=null),f===void 0&&(f=this.camera.scene),!u&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=e,this.direction=i,this.progress=0,this.red=r,this.green=l,this.blue=s,this.alpha=i?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=d,this._onUpdateScope=f;var c=i?a.FADE_OUT_START:a.FADE_IN_START;return this.camera.emit(c,this.camera,this,e,r,l,s),this.camera},update:function(i,e){this.isRunning&&(this._elapsed+=e,this.progress=o(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(i){if(!this.isRunning&&!this.isComplete)return!1;var e=this.camera;return i.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",i.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(i,e){if(!this.isRunning&&!this.isComplete)return!1;var r=this.camera,l=this.red/255,s=this.green/255,u=this.blue/255;return i.drawFillRect(r.x,r.y,r.width,r.height,e(u,s,l,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var i=this.direction?a.FADE_OUT_COMPLETE:a.FADE_IN_COMPLETE;this.camera.emit(i,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});v.exports=n},10662:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),p=t(83419),a=t(19715),n=new p({initialize:function(e){this.camera=e,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(i,e,r,l,s,u,d){return i===void 0&&(i=250),e===void 0&&(e=255),r===void 0&&(r=255),l===void 0&&(l=255),s===void 0&&(s=!1),u===void 0&&(u=null),d===void 0&&(d=this.camera.scene),!s&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=i,this.progress=0,this.red=e,this.green=r,this.blue=l,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=u,this._onUpdateScope=d,this.camera.emit(a.FLASH_START,this.camera,this,i,e,r,l),this.camera)},update:function(i,e){this.isRunning&&(this._elapsed+=e,this.progress=o(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(i){if(!this.isRunning)return!1;var e=this.camera;return i.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",i.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(i,e){if(!this.isRunning)return!1;var r=this.camera,l=this.red/255,s=this.green/255,u=this.blue/255;return i.drawFillRect(r.x,r.y,r.width,r.height,e(u,s,l,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});v.exports=n},20359:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),p=t(83419),a=t(62640),n=t(19715),i=t(26099),e=new p({initialize:function(l){this.camera=l,this.isRunning=!1,this.duration=0,this.source=new i,this.current=new i,this.destination=new i,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(r,l,s,u,d,f,c){s===void 0&&(s=1e3),u===void 0&&(u=a.Linear),d===void 0&&(d=!1),f===void 0&&(f=null),c===void 0&&(c=this.camera.scene);var m=this.camera;return!d&&this.isRunning||(this.isRunning=!0,this.duration=s,this.progress=0,this.source.set(m.scrollX,m.scrollY),this.destination.set(r,l),m.getScroll(r,l,this.current),typeof u=="string"&&a.hasOwnProperty(u)?this.ease=a[u]:typeof u=="function"&&(this.ease=u),this._elapsed=0,this._onUpdate=f,this._onUpdateScope=c,this.camera.emit(n.PAN_START,this.camera,this,s,r,l)),m},update:function(r,l){if(this.isRunning){this._elapsed+=l;var s=o(this._elapsed/this.duration,0,1);this.progress=s;var u=this.camera;if(this._elapsed<this.duration){var d=this.ease(s);u.getScroll(this.destination.x,this.destination.y,this.current);var f=this.source.x+(this.current.x-this.source.x)*d,c=this.source.y+(this.current.y-this.source.y)*d;u.setScroll(f,c),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,u,s,f,c)}else u.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,u,s,u.scrollX,u.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(n.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});v.exports=e},34208:(v,y,t)=>{/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var o=t(45319),p=t(83419),a=t(19715),n=t(62640),i=new p({initialize:function(r){this.camera=r,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(e,r,l,s,u,d,f){l===void 0&&(l=1e3),s===void 0&&(s=n.Linear),u===void 0&&(u=!1),d===void 0&&(d=null),f===void 0&&(f=this.camera.scene),r===void 0&&(r=!1),this.shortestPath=r;var c=e;e<0?(c=-1*e,this.clockwise=!1):this.clockwise=!0;var m=360*Math.PI/180;c=c-Math.floor(c/m)*m;var T=this.camera;if(!u&&this.isRunning)return T;if(this.isRunning=!0,this.duration=l,this.progress=0,this.source=T.rotation,this.destination=c,typeof s=="string"&&n.hasOwnProperty(s)?this.ease=n[s]:typeof s=="function"&&(this.ease=s),this._elapsed=0,this._onUpdate=d,this._onUpdateScope=f,this.shortestPath){var C=0,S=0;this.destination>this.source?C=Math.abs(this.destination-this.source):C=Math.abs(this.destination+m)-this.source,this.source>this.destination?S=Math.abs(this.source-this.destination):S=Math.abs(this.source+m)-this.destination,C<S?this.clockwise=!0:C>S&&(this.clockwise=!1)}return this.camera.emit(a.ROTATE_START,this.camera,this,l,c),T},update:function(e,r){if(this.isRunning){this._elapsed+=r;var l=o(this._elapsed/this.duration,0,1);this.progress=l;var s=this.camera;if(this._elapsed<this.duration){var u=this.ease(l);this.current=s.rotation;var d=0,f=360*Math.PI/180,c=this.destination,m=this.current;this.clockwise===!1&&(c=this.current,m=this.destination),c>=m?d=Math.abs(c-m):d=Math.abs(c+f)-m;var T=0;this.clockwise?T=s.rotation+d*u:T=s.rotation-d*u,s.rotation=T,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,s,l,T)}else s.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,s,l,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});v.exports=i},30330:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),p=t(83419),a=t(19715),n=t(26099),i=new p({initialize:function(r){this.camera=r,this.isRunning=!1,this.duration=0,this.intensity=new n,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(e,r,l,s,u){return e===void 0&&(e=100),r===void 0&&(r=.05),l===void 0&&(l=!1),s===void 0&&(s=null),u===void 0&&(u=this.camera.scene),!l&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=e,this.progress=0,typeof r=="number"?this.intensity.set(r):this.intensity.set(r.x,r.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=s,this._onUpdateScope=u,this.camera.emit(a.SHAKE_START,this.camera,this,e,r),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(e,r){if(this.isRunning)if(this._elapsed+=r,this.progress=o(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var l=this.intensity,s=this.camera.width,u=this.camera.height,d=this.camera.zoom;this._offsetX=(Math.random()*l.x*s*2-l.x*s)*d,this._offsetY=(Math.random()*l.y*u*2-l.y*u)*d,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});v.exports=i},45641:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),p=t(83419),a=t(62640),n=t(19715),i=new p({initialize:function(r){this.camera=r,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(e,r,l,s,u,d){r===void 0&&(r=1e3),l===void 0&&(l=a.Linear),s===void 0&&(s=!1),u===void 0&&(u=null),d===void 0&&(d=this.camera.scene);var f=this.camera;return!s&&this.isRunning||(this.isRunning=!0,this.duration=r,this.progress=0,this.source=f.zoom,this.destination=e,typeof l=="string"&&a.hasOwnProperty(l)?this.ease=a[l]:typeof l=="function"&&(this.ease=l),this._elapsed=0,this._onUpdate=u,this._onUpdateScope=d,this.camera.emit(n.ZOOM_START,this.camera,this,r,e)),f},update:function(e,r){this.isRunning&&(this._elapsed+=r,this.progress=o(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(n.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});v.exports=i},20052:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Fade:t(5020),Flash:t(10662),Pan:t(20359),Shake:t(30330),RotateTo:t(34208),Zoom:t(45641)}},16438:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="cameradestroy"},32726:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerafadeincomplete"},87807:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerafadeinstart"},45917:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerafadeoutcomplete"},95666:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerafadeoutstart"},47056:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="cameraflashcomplete"},91261:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="cameraflashstart"},45047:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="followupdate"},81927:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerapancomplete"},74264:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerapanstart"},54419:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="postrender"},79330:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="prerender"},93183:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerarotatecomplete"},80112:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerarotatestart"},62252:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerashakecomplete"},86017:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerashakestart"},539:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerazoomcomplete"},51892:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerazoomstart"},19715:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={DESTROY:t(16438),FADE_IN_COMPLETE:t(32726),FADE_IN_START:t(87807),FADE_OUT_COMPLETE:t(45917),FADE_OUT_START:t(95666),FLASH_COMPLETE:t(47056),FLASH_START:t(91261),FOLLOW_UPDATE:t(45047),PAN_COMPLETE:t(81927),PAN_START:t(74264),POST_RENDER:t(54419),PRE_RENDER:t(79330),ROTATE_COMPLETE:t(93183),ROTATE_START:t(80112),SHAKE_COMPLETE:t(62252),SHAKE_START:t(86017),ZOOM_COMPLETE:t(539),ZOOM_START:t(51892)}},87969:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Camera:t(38058),BaseCamera:t(71911),CameraManager:t(32743),Effects:t(20052),Events:t(19715)}},63091:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(35154),a=new o({initialize:function(i){this.camera=p(i,"camera",null),this.left=p(i,"left",null),this.right=p(i,"right",null),this.up=p(i,"up",null),this.down=p(i,"down",null),this.zoomIn=p(i,"zoomIn",null),this.zoomOut=p(i,"zoomOut",null),this.zoomSpeed=p(i,"zoomSpeed",.01),this.minZoom=p(i,"minZoom",.001),this.maxZoom=p(i,"maxZoom",1e3),this.speedX=0,this.speedY=0;var e=p(i,"speed",null);typeof e=="number"?(this.speedX=e,this.speedY=e):(this.speedX=p(i,"speed.x",0),this.speedY=p(i,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(n){return this.camera=n,this},update:function(n){if(this.active){n===void 0&&(n=1);var i=this.camera;this.up&&this.up.isDown?i.scrollY-=this.speedY*n|0:this.down&&this.down.isDown&&(i.scrollY+=this.speedY*n|0),this.left&&this.left.isDown?i.scrollX-=this.speedX*n|0:this.right&&this.right.isDown&&(i.scrollX+=this.speedX*n|0),this.zoomIn&&this.zoomIn.isDown?(i.zoom-=this.zoomSpeed,i.zoom<this.minZoom&&(i.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(i.zoom+=this.zoomSpeed,i.zoom>this.maxZoom&&(i.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});v.exports=a},58818:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(35154),a=new o({initialize:function(i){this.camera=p(i,"camera",null),this.left=p(i,"left",null),this.right=p(i,"right",null),this.up=p(i,"up",null),this.down=p(i,"down",null),this.zoomIn=p(i,"zoomIn",null),this.zoomOut=p(i,"zoomOut",null),this.zoomSpeed=p(i,"zoomSpeed",.01),this.minZoom=p(i,"minZoom",.001),this.maxZoom=p(i,"maxZoom",1e3),this.accelX=0,this.accelY=0;var e=p(i,"acceleration",null);typeof e=="number"?(this.accelX=e,this.accelY=e):(this.accelX=p(i,"acceleration.x",0),this.accelY=p(i,"acceleration.y",0)),this.dragX=0,this.dragY=0;var r=p(i,"drag",null);typeof r=="number"?(this.dragX=r,this.dragY=r):(this.dragX=p(i,"drag.x",0),this.dragY=p(i,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var l=p(i,"maxSpeed",null);typeof l=="number"?(this.maxSpeedX=l,this.maxSpeedY=l):(this.maxSpeedX=p(i,"maxSpeed.x",0),this.maxSpeedY=p(i,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(n){return this.camera=n,this},update:function(n){if(this.active){n===void 0&&(n=1);var i=this.camera;this._speedX>0?(this._speedX-=this.dragX*n,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*n,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*n,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*n,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(i.scrollX-=this._speedX*n|0),this._speedY!==0&&(i.scrollY-=this._speedY*n|0),this._zoom!==0&&(i.zoom+=this._zoom,i.zoom<this.minZoom?i.zoom=this.minZoom:i.zoom>this.maxZoom&&(i.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});v.exports=a},38865:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={FixedKeyControl:t(63091),SmoothedKeyControl:t(58818)}},26638:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Controls:t(38865),Scene2D:t(87969)}},8054:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={VERSION:"3.80.1",BlendModes:t(10312),ScaleModes:t(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};v.exports=o},69547:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(8054),a=t(42363),n=t(82264),i=t(95540),e=t(35154),r=t(41212),l=t(29747),s=t(75508),u=t(36060),d=t(80333),f=new o({initialize:function(m){m===void 0&&(m={});var T=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],C="#ffffff",S=e(m,"scale",null);this.width=e(S,"width",1024,m),this.height=e(S,"height",768,m),this.zoom=e(S,"zoom",1,m),this.parent=e(S,"parent",void 0,m),this.scaleMode=e(S,S?"mode":"scaleMode",0,m),this.expandParent=e(S,"expandParent",!0,m),this.autoRound=e(S,"autoRound",!1,m),this.autoCenter=e(S,"autoCenter",0,m),this.resizeInterval=e(S,"resizeInterval",500,m),this.fullscreenTarget=e(S,"fullscreenTarget",null,m),this.minWidth=e(S,"min.width",0,m),this.maxWidth=e(S,"max.width",0,m),this.minHeight=e(S,"min.height",0,m),this.maxHeight=e(S,"max.height",0,m),this.snapWidth=e(S,"snap.width",0,m),this.snapHeight=e(S,"snap.height",0,m),this.renderType=e(m,"type",p.AUTO),this.canvas=e(m,"canvas",null),this.context=e(m,"context",null),this.canvasStyle=e(m,"canvasStyle",null),this.customEnvironment=e(m,"customEnvironment",!1),this.sceneConfig=e(m,"scene",null),this.seed=e(m,"seed",[(Date.now()*Math.random()).toString()]),s.RND=new s.RandomDataGenerator(this.seed),this.gameTitle=e(m,"title",""),this.gameURL=e(m,"url","https://phaser.io"),this.gameVersion=e(m,"version",""),this.autoFocus=e(m,"autoFocus",!0),this.stableSort=e(m,"stableSort",-1),this.stableSort===-1&&(this.stableSort=n.browser.es2019?1:0),n.features.stableSort=this.stableSort,this.domCreateContainer=e(m,"dom.createContainer",!1),this.domPointerEvents=e(m,"dom.pointerEvents","none"),this.inputKeyboard=e(m,"input.keyboard",!0),this.inputKeyboardEventTarget=e(m,"input.keyboard.target",window),this.inputKeyboardCapture=e(m,"input.keyboard.capture",[]),this.inputMouse=e(m,"input.mouse",!0),this.inputMouseEventTarget=e(m,"input.mouse.target",null),this.inputMousePreventDefaultDown=e(m,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=e(m,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=e(m,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=e(m,"input.mouse.preventDefaultWheel",!0),this.inputTouch=e(m,"input.touch",n.input.touch),this.inputTouchEventTarget=e(m,"input.touch.target",null),this.inputTouchCapture=e(m,"input.touch.capture",!0),this.inputActivePointers=e(m,"input.activePointers",1),this.inputSmoothFactor=e(m,"input.smoothFactor",0),this.inputWindowEvents=e(m,"input.windowEvents",!0),this.inputGamepad=e(m,"input.gamepad",!1),this.inputGamepadEventTarget=e(m,"input.gamepad.target",window),this.disableContextMenu=e(m,"disableContextMenu",!1),this.audio=e(m,"audio",{}),this.hideBanner=e(m,"banner",null)===!1,this.hidePhaser=e(m,"banner.hidePhaser",!1),this.bannerTextColor=e(m,"banner.text",C),this.bannerBackgroundColor=e(m,"banner.background",T),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=e(m,"fps",null),this.disablePreFX=e(m,"disablePreFX",!1),this.disablePostFX=e(m,"disablePostFX",!1);var A=e(m,"render",null);this.pipeline=e(A,"pipeline",null,m),this.autoMobilePipeline=e(A,"autoMobilePipeline",!0,m),this.defaultPipeline=e(A,"defaultPipeline",u.MULTI_PIPELINE,m),this.antialias=e(A,"antialias",!0,m),this.antialiasGL=e(A,"antialiasGL",!0,m),this.mipmapFilter=e(A,"mipmapFilter","",m),this.desynchronized=e(A,"desynchronized",!1,m),this.roundPixels=e(A,"roundPixels",!0,m),this.pixelArt=e(A,"pixelArt",this.zoom!==1,m),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=e(A,"transparent",!1,m),this.clearBeforeRender=e(A,"clearBeforeRender",!0,m),this.preserveDrawingBuffer=e(A,"preserveDrawingBuffer",!1,m),this.premultipliedAlpha=e(A,"premultipliedAlpha",!0,m),this.failIfMajorPerformanceCaveat=e(A,"failIfMajorPerformanceCaveat",!1,m),this.powerPreference=e(A,"powerPreference","default",m),this.batchSize=e(A,"batchSize",4096,m),this.maxTextures=e(A,"maxTextures",-1,m),this.maxLights=e(A,"maxLights",10,m);var P=e(m,"backgroundColor",0);this.backgroundColor=d(P),this.transparent&&(this.backgroundColor=d(0),this.backgroundColor.alpha=0),this.preBoot=e(m,"callbacks.preBoot",l),this.postBoot=e(m,"callbacks.postBoot",l),this.physics=e(m,"physics",{}),this.defaultPhysicsSystem=e(this.physics,"default",!1),this.loaderBaseURL=e(m,"loader.baseURL",""),this.loaderPath=e(m,"loader.path",""),this.loaderMaxParallelDownloads=e(m,"loader.maxParallelDownloads",n.os.android?6:32),this.loaderCrossOrigin=e(m,"loader.crossOrigin",void 0),this.loaderResponseType=e(m,"loader.responseType",""),this.loaderAsync=e(m,"loader.async",!0),this.loaderUser=e(m,"loader.user",""),this.loaderPassword=e(m,"loader.password",""),this.loaderTimeout=e(m,"loader.timeout",0),this.loaderWithCredentials=e(m,"loader.withCredentials",!1),this.loaderImageLoadType=e(m,"loader.imageLoadType","XHR"),this.loaderLocalScheme=e(m,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=e(m,"fx.glow.quality",.1),this.glowFXDistance=e(m,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var R=e(m,"plugins",null),F=a.DefaultScene;R&&(Array.isArray(R)?this.defaultPlugins=R:r(R)&&(this.installGlobalPlugins=i(R,"global",[]),this.installScenePlugins=i(R,"scene",[]),Array.isArray(R.default)?F=R.default:Array.isArray(R.defaultMerge)&&(F=F.concat(R.defaultMerge)))),this.defaultPlugins=F;var D="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=e(m,"images.default",D+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=e(m,"images.missing",D+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=e(m,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=p.WEBGL:window.FORCE_CANVAS&&(this.renderType=p.CANVAS))}});v.exports=f},86054:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20623),p=t(27919),a=t(8054),n=t(89357),i=function(e){var r=e.config;if((r.customEnvironment||r.canvas)&&r.renderType===a.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!r.customEnvironment&&!r.canvas&&r.renderType!==a.HEADLESS)if(r.renderType===a.AUTO&&(r.renderType=n.webGL?a.WEBGL:a.CANVAS),r.renderType===a.WEBGL){if(!n.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(r.renderType===a.CANVAS){if(!n.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+r.renderType);r.antialias||p.disableSmoothing();var l=e.scale.baseSize,s=l.width,u=l.height;if(r.canvas?(e.canvas=r.canvas,e.canvas.width=s,e.canvas.height=u):e.canvas=p.create(e,s,u,r.renderType),r.canvasStyle&&(e.canvas.style=r.canvasStyle),r.antialias||o.setCrisp(e.canvas),r.renderType!==a.HEADLESS){var d,f;d=t(68627),f=t(74797),r.renderType===a.WEBGL?e.renderer=new f(e):(e.renderer=new d(e),e.context=e.renderer.gameContext)}};v.exports=i},96391:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(8054),p=function(a){var n=a.config;if(!n.hideBanner){var i="WebGL";n.renderType===o.CANVAS?i="Canvas":n.renderType===o.HEADLESS&&(i="Headless");var e=n.audio,r=a.device.audio,l;if(r.webAudio&&!e.disableWebAudio?l="Web Audio":e.noAudio||!r.webAudio&&!r.audioData?l="No Audio":l="HTML5 Audio",a.device.browser.ie)window.console&&console.log("Phaser v"+o.VERSION+" / https://phaser.io");else{var s="",u=[s];if(Array.isArray(n.bannerBackgroundColor)){var d;n.bannerBackgroundColor.forEach(function(c){s=s.concat("%c "),u.push("background: "+c),d=c}),u[u.length-1]="color: "+n.bannerTextColor+"; background: "+d}else s=s.concat("%c "),u.push("color: "+n.bannerTextColor+"; background: "+n.bannerBackgroundColor);u.push("background: transparent"),n.gameTitle&&(s=s.concat(n.gameTitle),n.gameVersion&&(s=s.concat(" v"+n.gameVersion)),n.hidePhaser||(s=s.concat(" / ")));var f="";n.hidePhaser||(s=s.concat("Phaser v"+o.VERSION+f+" ("+i+" | "+l+")")),s=s.concat(" %c "+n.gameURL),u[0]=s,console.log.apply(console,u)}}};v.exports=p},50127:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(40366),p=t(60848),a=t(24047),n=t(27919),i=t(83419),e=t(69547),r=t(83719),l=t(86054),s=t(45893),u=t(96391),d=t(82264),f=t(57264),c=t(50792),m=t(8443),T=t(7003),C=t(37277),S=t(77332),A=t(76531),P=t(60903),R=t(69442),F=t(17130),D=t(65898),L=t(51085),O=t(14747),B=new i({initialize:function(z){this.config=new e(z),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new c,this.anims=new p(this),this.textures=new F(this),this.cache=new a(this),this.registry=new s(this,new c),this.input=new T(this,this.config),this.scene=new P(this,this.config.sceneConfig),this.device=d,this.scale=new A(this,this.config),this.sound=null,this.sound=O.create(this),this.loop=new D(this,this.config.fps),this.plugins=new S(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,f(this.boot.bind(this))},boot:function(){if(!C.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),l(this),r(this),u(this),o(this.canvas,this.config.parent),this.textures.once(R.READY,this.texturesReady,this),this.events.emit(m.BOOT)},texturesReady:function(){this.events.emit(m.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),L(this);var b=this.events;b.on(m.HIDDEN,this.onHidden,this),b.on(m.VISIBLE,this.onVisible,this),b.on(m.BLUR,this.onBlur,this),b.on(m.FOCUS,this.onFocus,this)},step:function(b,z){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var V=this.events;V.emit(m.PRE_STEP,b,z),V.emit(m.STEP,b,z),this.scene.update(b,z),V.emit(m.POST_STEP,b,z);var W=this.renderer;W.preRender(),V.emit(m.PRE_RENDER,W,b,z),this.scene.render(W),W.postRender(),V.emit(m.POST_RENDER,W,b,z)}},headlessStep:function(b,z){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var V=this.events;V.emit(m.PRE_STEP,b,z),V.emit(m.STEP,b,z),this.scene.update(b,z),V.emit(m.POST_STEP,b,z),this.scene.isProcessing=!1,V.emit(m.PRE_RENDER,null,b,z),V.emit(m.POST_RENDER,null,b,z)}},onHidden:function(){this.loop.pause(),this.events.emit(m.PAUSE)},pause:function(){var b=this.isPaused;this.isPaused=!0,b||this.events.emit(m.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(m.RESUME)},resume:function(){var b=this.isPaused;this.isPaused=!1,b&&this.events.emit(m.RESUME)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(b,z){z===void 0&&(z=!1),this.pendingDestroy=!0,this.removeCanvas=b,this.noReturn=z},runDestroy:function(){this.scene.destroy(),this.events.emit(m.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(n.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});v.exports=B},65898:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(35154),a=t(29747),n=t(43092),i=new o({initialize:function(r,l){this.game=r,this.raf=new n,this.started=!1,this.running=!1,this.minFps=p(l,"min",5),this.targetFps=p(l,"target",60),this.fpsLimit=p(l,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=a,this.forceSetTimeOut=p(l,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=p(l,"deltaHistory",10),this.panicMax=p(l,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=p(l,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.startTime+=this.time-this._pauseTime},resetDelta:function(){var e=window.performance.now();this.time=e,this.lastTime=e,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0;for(var r=0;r<this.deltaSmoothingMax;r++)this.deltaHistory[r]=Math.min(this._target,this.deltaHistory[r]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(e){if(this.started)return this;this.started=!0,this.running=!0;for(var r=0;r<this.deltaSmoothingMax;r++)this.deltaHistory[r]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=e;var l=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(l,this.forceSetTimeOut,this._target)},smoothDelta:function(e){var r=this.deltaIndex,l=this.deltaHistory,s=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,e=Math.min(e,this._target)),e>this._min&&(e=l[r],e=Math.min(e,this._min)),l[r]=e,this.deltaIndex++,this.deltaIndex>=s&&(this.deltaIndex=0);for(var u=0,d=0;d<s;d++)u+=l[d];return u/=s,u},updateFPS:function(e){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0},stepLimitFPS:function(e){this.now=e;var r=Math.max(0,e-this.lastTime);this.rawDelta=r,this.time+=this.rawDelta,this.smoothStep&&(r=this.smoothDelta(r)),this.delta+=r,e>=this.nextFpsUpdate&&this.updateFPS(e),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(e,this.delta),this.delta=0),this.lastTime=e,this.frame++},step:function(e){this.now=e;var r=Math.max(0,e-this.lastTime);this.rawDelta=r,this.time+=this.rawDelta,this.smoothStep&&(r=this.smoothDelta(r)),this.delta=r,e>=this.nextFpsUpdate&&this.updateFPS(e),this.framesThisSecond++,this.callback(e,r),this.lastTime=e,this.frame++},tick:function(){var e=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(e):this.step(e)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(e){e===void 0&&(e=!1);var r=window.performance.now();if(!this.running){e&&(this.startTime+=-this.lastTime+(this.lastTime+r));var l=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(l,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=r+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});v.exports=i},51085:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(8443),p=function(a){var n,i=a.events;if(document.hidden!==void 0)n="visibilitychange";else{var e=["webkit","moz","ms"];e.forEach(function(l){document[l+"Hidden"]!==void 0&&(document.hidden=function(){return document[l+"Hidden"]},n=l+"visibilitychange")})}var r=function(l){document.hidden||l.type==="pause"?i.emit(o.HIDDEN):i.emit(o.VISIBLE)};n&&document.addEventListener(n,r,!1),window.onblur=function(){i.emit(o.BLUR)},window.onfocus=function(){i.emit(o.FOCUS)},window.focus&&a.config.autoFocus&&window.focus()};v.exports=p},97217:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="blur"},47548:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="boot"},19814:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="contextlost"},68446:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="destroy"},41700:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="focus"},25432:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="hidden"},65942:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pause"},59211:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="postrender"},47789:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="poststep"},39066:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="prerender"},460:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="prestep"},16175:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="ready"},42331:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resume"},11966:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="step"},32969:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="systemready"},94830:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="visible"},8443:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={BLUR:t(97217),BOOT:t(47548),CONTEXT_LOST:t(19814),DESTROY:t(68446),FOCUS:t(41700),HIDDEN:t(25432),PAUSE:t(65942),POST_RENDER:t(59211),POST_STEP:t(47789),PRE_RENDER:t(39066),PRE_STEP:t(460),READY:t(16175),RESUME:t(42331),STEP:t(11966),SYSTEM_READY:t(32969),VISIBLE:t(94830)}},42857:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Config:t(69547),CreateRenderer:t(86054),DebugHeader:t(96391),Events:t(8443),TimeStep:t(65898),VisibilityHandler:t(51085)}},99584:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(5290),p=t(27919),a=t(35154),n=function(i){var e=a(i,"data",[]),r=a(i,"canvas",null),l=a(i,"palette",o),s=a(i,"pixelWidth",1),u=a(i,"pixelHeight",s),d=a(i,"resizeCanvas",!0),f=a(i,"clearCanvas",!0),c=a(i,"preRender",null),m=a(i,"postRender",null),T=Math.floor(Math.abs(e[0].length*s)),C=Math.floor(Math.abs(e.length*u));r||(r=p.create2D(this,T,C),d=!1,f=!1),d&&(r.width=T,r.height=C);var S=r.getContext("2d",{willReadFrequently:!0});f&&S.clearRect(0,0,T,C),c&&c(r,S);for(var A=0;A<e.length;A++)for(var P=e[A],R=0;R<P.length;R++){var F=P[R];F!=="."&&F!==" "&&(S.fillStyle=l[F],S.fillRect(R*s,A*u,s,u))}return m&&m(r,S),r};v.exports=n},15822:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={GenerateTexture:t(99584),Palettes:t(57763)}},5290:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ARNE16:t(5290),C64:t(23816),CGA:t(9866),JMP:t(77552),MSX:t(92259)}},46728:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(36316),a=t(80021),n=t(26099),i=new o({Extends:a,initialize:function(r,l,s,u){a.call(this,"CubicBezierCurve"),Array.isArray(r)&&(u=new n(r[6],r[7]),s=new n(r[4],r[5]),l=new n(r[2],r[3]),r=new n(r[0],r[1])),this.p0=r,this.p1=l,this.p2=s,this.p3=u},getStartPoint:function(e){return e===void 0&&(e=new n),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,r){r===void 0&&(r=new n);var l=this.p0,s=this.p1,u=this.p2,d=this.p3;return r.set(p(e,l.x,s.x,u.x,d.x),p(e,l.y,s.y,u.y,d.y))},draw:function(e,r){r===void 0&&(r=32);var l=this.getPoints(r);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var s=1;s<l.length;s++)e.lineTo(l[s].x,l[s].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});i.fromJSON=function(e){var r=e.points,l=new n(r[0],r[1]),s=new n(r[2],r[3]),u=new n(r[4],r[5]),d=new n(r[6],r[7]);return new i(l,s,u,d)},v.exports=i},80021:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(19217),a=t(87841),n=t(26099),i=new o({initialize:function(r){this.type=r,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new n,this._tmpVec2B=new n},draw:function(e,r){return r===void 0&&(r=32),e.strokePoints(this.getPoints(r))},getBounds:function(e,r){e||(e=new a),r===void 0&&(r=16);var l=this.getLength();r>l&&(r=l/2);var s=Math.max(1,Math.round(l/r));return p(this.getSpacedPoints(s),e)},getDistancePoints:function(e){var r=this.getLength(),l=Math.max(1,r/e);return this.getSpacedPoints(l)},getEndPoint:function(e){return e===void 0&&(e=new n),this.getPointAt(1,e)},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(e===void 0&&(e=this.arcLengthDivisions),this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var r=[],l,s=this.getPoint(0,this._tmpVec2A),u=0;r.push(0);for(var d=1;d<=e;d++)l=this.getPoint(d/e,this._tmpVec2B),u+=l.distance(s),r.push(u),s.copy(l);return this.cacheArcLengths=r,r},getPointAt:function(e,r){var l=this.getUtoTmapping(e);return this.getPoint(l,r)},getPoints:function(e,r,l){l===void 0&&(l=[]),e||(r?e=this.getLength()/r:e=this.defaultDivisions);for(var s=0;s<=e;s++)l.push(this.getPoint(s/e));return l},getRandomPoint:function(e){return e===void 0&&(e=new n),this.getPoint(Math.random(),e)},getSpacedPoints:function(e,r,l){l===void 0&&(l=[]),e||(r?e=this.getLength()/r:e=this.defaultDivisions);for(var s=0;s<=e;s++){var u=this.getUtoTmapping(s/e,null,e);l.push(this.getPoint(u))}return l},getStartPoint:function(e){return e===void 0&&(e=new n),this.getPointAt(0,e)},getTangent:function(e,r){r===void 0&&(r=new n);var l=1e-4,s=e-l,u=e+l;return s<0&&(s=0),u>1&&(u=1),this.getPoint(s,this._tmpVec2A),this.getPoint(u,r),r.subtract(this._tmpVec2A).normalize()},getTangentAt:function(e,r){var l=this.getUtoTmapping(e);return this.getTangent(l,r)},getTFromDistance:function(e,r){return e<=0?0:this.getUtoTmapping(0,e,r)},getUtoTmapping:function(e,r,l){var s=this.getLengths(l),u=0,d=s.length,f;r?f=Math.min(r,s[d-1]):f=e*s[d-1];for(var c=0,m=d-1,T;c<=m;)if(u=Math.floor(c+(m-c)/2),T=s[u]-f,T<0)c=u+1;else if(T>0)m=u-1;else{m=u;break}if(u=m,s[u]===f)return u/(d-1);var C=s[u],S=s[u+1],A=S-C,P=(f-C)/A;return(u+P)/(d-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});v.exports=i},73825:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(80021),a=t(39506),n=t(35154),i=t(43396),e=t(26099),r=new o({Extends:p,initialize:function(s,u,d,f,c,m,T,C){if(typeof s=="object"){var S=s;s=n(S,"x",0),u=n(S,"y",0),d=n(S,"xRadius",0),f=n(S,"yRadius",d),c=n(S,"startAngle",0),m=n(S,"endAngle",360),T=n(S,"clockwise",!1),C=n(S,"rotation",0)}else f===void 0&&(f=d),c===void 0&&(c=0),m===void 0&&(m=360),T===void 0&&(T=!1),C===void 0&&(C=0);p.call(this,"EllipseCurve"),this.p0=new e(s,u),this._xRadius=d,this._yRadius=f,this._startAngle=a(c),this._endAngle=a(m),this._clockwise=T,this._rotation=a(C)},getStartPoint:function(l){return l===void 0&&(l=new e),this.getPoint(0,l)},getResolution:function(l){return l*2},getPoint:function(l,s){s===void 0&&(s=new e);for(var u=Math.PI*2,d=this._endAngle-this._startAngle,f=Math.abs(d)<Number.EPSILON;d<0;)d+=u;for(;d>u;)d-=u;d<Number.EPSILON&&(f?d=0:d=u),this._clockwise&&!f&&(d===u?d=-u:d=d-u);var c=this._startAngle+l*d,m=this.p0.x+this._xRadius*Math.cos(c),T=this.p0.y+this._yRadius*Math.sin(c);if(this._rotation!==0){var C=Math.cos(this._rotation),S=Math.sin(this._rotation),A=m-this.p0.x,P=T-this.p0.y;m=A*C-P*S+this.p0.x,T=A*S+P*C+this.p0.y}return s.set(m,T)},setXRadius:function(l){return this.xRadius=l,this},setYRadius:function(l){return this.yRadius=l,this},setWidth:function(l){return this.xRadius=l/2,this},setHeight:function(l){return this.yRadius=l/2,this},setStartAngle:function(l){return this.startAngle=l,this},setEndAngle:function(l){return this.endAngle=l,this},setClockwise:function(l){return this.clockwise=l,this},setRotation:function(l){return this.rotation=l,this},x:{get:function(){return this.p0.x},set:function(l){this.p0.x=l}},y:{get:function(){return this.p0.y},set:function(l){this.p0.y=l}},xRadius:{get:function(){return this._xRadius},set:function(l){this._xRadius=l}},yRadius:{get:function(){return this._yRadius},set:function(l){this._yRadius=l}},startAngle:{get:function(){return i(this._startAngle)},set:function(l){this._startAngle=a(l)}},endAngle:{get:function(){return i(this._endAngle)},set:function(l){this._endAngle=a(l)}},clockwise:{get:function(){return this._clockwise},set:function(l){this._clockwise=l}},angle:{get:function(){return i(this._rotation)},set:function(l){this._rotation=a(l)}},rotation:{get:function(){return this._rotation},set:function(l){this._rotation=l}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:i(this._startAngle),endAngle:i(this._endAngle),clockwise:this._clockwise,rotation:i(this._rotation)}}});r.fromJSON=function(l){return new r(l)},v.exports=r},33951:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(80021),a=t(19217),n=t(87841),i=t(26099),e=new o({Extends:p,initialize:function(l,s){p.call(this,"LineCurve"),Array.isArray(l)&&(s=new i(l[2],l[3]),l=new i(l[0],l[1])),this.p0=l,this.p1=s,this.arcLengthDivisions=1},getBounds:function(r){return r===void 0&&(r=new n),a([this.p0,this.p1],r)},getStartPoint:function(r){return r===void 0&&(r=new i),r.copy(this.p0)},getResolution:function(r){return r===void 0&&(r=1),r},getPoint:function(r,l){return l===void 0&&(l=new i),r===1?l.copy(this.p1):(l.copy(this.p1).subtract(this.p0).scale(r).add(this.p0),l)},getPointAt:function(r,l){return this.getPoint(r,l)},getTangent:function(r,l){return l===void 0&&(l=new i),l.copy(this.p1).subtract(this.p0).normalize(),l},getUtoTmapping:function(r,l,s){var u;if(l){var d=this.getLengths(s),f=d[d.length-1],c=Math.min(l,f);u=c/f}else u=r;return u},draw:function(r){return r.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),r},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});e.fromJSON=function(r){var l=r.points,s=new i(l[0],l[1]),u=new i(l[2],l[3]);return new e(s,u)},v.exports=e},14744:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(80021),a=t(32112),n=t(26099),i=new o({Extends:p,initialize:function(r,l,s){p.call(this,"QuadraticBezierCurve"),Array.isArray(r)&&(s=new n(r[4],r[5]),l=new n(r[2],r[3]),r=new n(r[0],r[1])),this.p0=r,this.p1=l,this.p2=s},getStartPoint:function(e){return e===void 0&&(e=new n),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,r){r===void 0&&(r=new n);var l=this.p0,s=this.p1,u=this.p2;return r.set(a(e,l.x,s.x,u.x),a(e,l.y,s.y,u.y))},draw:function(e,r){r===void 0&&(r=32);var l=this.getPoints(r);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var s=1;s<l.length;s++)e.lineTo(l[s].x,l[s].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});i.fromJSON=function(e){var r=e.points,l=new n(r[0],r[1]),s=new n(r[2],r[3]),u=new n(r[4],r[5]);return new i(l,s,u)},v.exports=i},42534:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87842),p=t(83419),a=t(80021),n=t(26099),i=new p({Extends:a,initialize:function(r){r===void 0&&(r=[]),a.call(this,"SplineCurve"),this.points=[],this.addPoints(r)},addPoints:function(e){for(var r=0;r<e.length;r++){var l=new n;typeof e[r]=="number"?(l.x=e[r],l.y=e[r+1],r++):Array.isArray(e[r])?(l.x=e[r][0],l.y=e[r][1]):(l.x=e[r].x,l.y=e[r].y),this.points.push(l)}return this},addPoint:function(e,r){var l=new n(e,r);return this.points.push(l),l},getStartPoint:function(e){return e===void 0&&(e=new n),e.copy(this.points[0])},getResolution:function(e){return e*this.points.length},getPoint:function(e,r){r===void 0&&(r=new n);var l=this.points,s=(l.length-1)*e,u=Math.floor(s),d=s-u,f=l[u===0?u:u-1],c=l[u],m=l[u>l.length-2?l.length-1:u+1],T=l[u>l.length-3?l.length-1:u+2];return r.set(o(d,f.x,c.x,m.x,T.x),o(d,f.y,c.y,m.y,T.y))},toJSON:function(){for(var e=[],r=0;r<this.points.length;r++)e.push(this.points[r].x),e.push(this.points[r].y);return{type:this.type,points:e}}});i.fromJSON=function(e){return new i(e.points)},v.exports=i},25410:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Path:t(46669),MoveTo:t(68618),CubicBezier:t(46728),Curve:t(80021),Ellipse:t(73825),Line:t(33951),QuadraticBezier:t(14744),Spline:t(42534)}},68618:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(26099),a=new o({initialize:function(i,e){this.active=!1,this.p0=new p(i,e)},getPoint:function(n,i){return i===void 0&&(i=new p),i.copy(this.p0)},getPointAt:function(n,i){return this.getPoint(n,i)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});v.exports=a},46669:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(46728),a=t(73825),n=t(39429),i=t(33951),e=t(68618),r=t(14744),l=t(87841),s=t(42534),u=t(26099),d=t(36383),f=new o({initialize:function(m,T){m===void 0&&(m=0),T===void 0&&(T=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new u,this._tmpVec2A=new u,this._tmpVec2B=new u,typeof m=="object"?this.fromJSON(m):this.startPoint.set(m,T)},add:function(c){return this.curves.push(c),this},circleTo:function(c,m,T){return m===void 0&&(m=!1),this.ellipseTo(c,c,0,360,m,T)},closePath:function(){var c=this.curves[0].getPoint(0),m=this.curves[this.curves.length-1].getPoint(1);return c.equals(m)||this.curves.push(new i(m,c)),this},cubicBezierTo:function(c,m,T,C,S,A){var P=this.getEndPoint(),R,F,D;return c instanceof u?(R=c,F=m,D=T):(R=new u(T,C),F=new u(S,A),D=new u(c,m)),this.add(new p(P,R,F,D))},quadraticBezierTo:function(c,m,T,C){var S=this.getEndPoint(),A,P;return c instanceof u?(A=c,P=m):(A=new u(T,C),P=new u(c,m)),this.add(new r(S,A,P))},draw:function(c,m){for(var T=0;T<this.curves.length;T++){var C=this.curves[T];C.active&&C.draw(c,m)}return c},ellipseTo:function(c,m,T,C,S,A){var P=new a(0,0,c,m,T,C,S,A),R=this.getEndPoint(this._tmpVec2A),F=P.getStartPoint(this._tmpVec2B);return R.subtract(F),P.x=R.x,P.y=R.y,this.add(P)},fromJSON:function(c){this.curves=[],this.cacheLengths=[],this.startPoint.set(c.x,c.y),this.autoClose=c.autoClose;for(var m=0;m<c.curves.length;m++){var T=c.curves[m];switch(T.type){case"LineCurve":this.add(i.fromJSON(T));break;case"EllipseCurve":this.add(a.fromJSON(T));break;case"SplineCurve":this.add(s.fromJSON(T));break;case"CubicBezierCurve":this.add(p.fromJSON(T));break;case"QuadraticBezierCurve":this.add(r.fromJSON(T));break}}return this},getBounds:function(c,m){c===void 0&&(c=new l),m===void 0&&(m=16),c.x=Number.MAX_VALUE,c.y=Number.MAX_VALUE;for(var T=new l,C=d.MIN_SAFE_INTEGER,S=d.MIN_SAFE_INTEGER,A=0;A<this.curves.length;A++){var P=this.curves[A];P.active&&(P.getBounds(T,m),c.x=Math.min(c.x,T.x),c.y=Math.min(c.y,T.y),C=Math.max(C,T.right),S=Math.max(S,T.bottom))}return c.right=C,c.bottom=S,c},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var c=[],m=0,T=0;T<this.curves.length;T++)m+=this.curves[T].getLength(),c.push(m);return this.cacheLengths=c,c},getCurveAt:function(c){for(var m=c*this.getLength(),T=this.getCurveLengths(),C=0;C<T.length;){if(T[C]>=m)return this.curves[C];C++}return null},getEndPoint:function(c){return c===void 0&&(c=new u),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,c):c.copy(this.startPoint),c},getLength:function(){var c=this.getCurveLengths();return c[c.length-1]},getPoint:function(c,m){m===void 0&&(m=new u);for(var T=c*this.getLength(),C=this.getCurveLengths(),S=0;S<C.length;){if(C[S]>=T){var A=C[S]-T,P=this.curves[S],R=P.getLength(),F=R===0?0:1-A/R;return P.getPointAt(F,m)}S++}return null},getPoints:function(c,m){!c&&!m&&(c=this.defaultDivisions);for(var T=[],C,S=0;S<this.curves.length;S++){var A=this.curves[S];if(A.active)for(var P=A.getResolution(c),R=A.getPoints(P,m),F=0;F<R.length;F++){var D=R[F];C&&C.equals(D)||(T.push(D),C=D)}}return this.autoClose&&T.length>1&&!T[T.length-1].equals(T[0])&&T.push(T[0]),T},getRandomPoint:function(c){return c===void 0&&(c=new u),this.getPoint(Math.random(),c)},getSpacedPoints:function(c){c===void 0&&(c=40);for(var m=[],T=0;T<=c;T++)m.push(this.getPoint(T/c));return this.autoClose&&m.push(m[0]),m},getStartPoint:function(c){return c===void 0&&(c=new u),c.copy(this.startPoint)},getTangent:function(c,m){m===void 0&&(m=new u);for(var T=c*this.getLength(),C=this.getCurveLengths(),S=0;S<C.length;){if(C[S]>=T){var A=C[S]-T,P=this.curves[S],R=P.getLength(),F=R===0?0:1-A/R;return P.getTangentAt(F,m)}S++}return null},lineTo:function(c,m){c instanceof u?this._tmpVec2B.copy(c):typeof c=="object"?this._tmpVec2B.setFromObject(c):this._tmpVec2B.set(c,m);var T=this.getEndPoint(this._tmpVec2A);return this.add(new i([T.x,T.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(c){return c.unshift(this.getEndPoint()),this.add(new s(c))},moveTo:function(c,m){return c instanceof u?this.add(new e(c.x,c.y)):this.add(new e(c,m))},toJSON:function(){for(var c=[],m=0;m<this.curves.length;m++)c.push(this.curves[m].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:c}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});n.register("path",function(c,m){return new f(c,m)}),v.exports=f},45893:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(24882),a=new o({initialize:function(i,e){this.parent=i,this.events=e,e||(this.events=i.events?i.events:i),this.list={},this.values={},this._frozen=!1,!i.hasOwnProperty("sys")&&this.events&&this.events.once(p.DESTROY,this.destroy,this)},get:function(n){var i=this.list;if(Array.isArray(n)){for(var e=[],r=0;r<n.length;r++)e.push(i[n[r]]);return e}else return i[n]},getAll:function(){var n={};for(var i in this.list)this.list.hasOwnProperty(i)&&(n[i]=this.list[i]);return n},query:function(n){var i={};for(var e in this.list)this.list.hasOwnProperty(e)&&e.match(n)&&(i[e]=this.list[e]);return i},set:function(n,i){if(this._frozen)return this;if(typeof n=="string")return this.setValue(n,i);for(var e in n)this.setValue(e,n[e]);return this},inc:function(n,i){if(this._frozen)return this;i===void 0&&(i=1);var e=this.get(n);return e===void 0&&(e=0),this.set(n,e+i),this},toggle:function(n){return this._frozen?this:(this.set(n,!this.get(n)),this)},setValue:function(n,i){if(this._frozen)return this;if(this.has(n))this.values[n]=i;else{var e=this,r=this.list,l=this.events,s=this.parent;Object.defineProperty(this.values,n,{enumerable:!0,configurable:!0,get:function(){return r[n]},set:function(u){if(!e._frozen){var d=r[n];r[n]=u,l.emit(p.CHANGE_DATA,s,n,u,d),l.emit(p.CHANGE_DATA_KEY+n,s,u,d)}}}),r[n]=i,l.emit(p.SET_DATA,s,n,i)}return this},each:function(n,i){for(var e=[this.parent,null,void 0],r=1;r<arguments.length;r++)e.push(arguments[r]);for(var l in this.list)e[1]=l,e[2]=this.list[l],n.apply(i,e);return this},merge:function(n,i){i===void 0&&(i=!0);for(var e in n)n.hasOwnProperty(e)&&(i||!i&&!this.has(e))&&this.setValue(e,n[e]);return this},remove:function(n){if(this._frozen)return this;if(Array.isArray(n))for(var i=0;i<n.length;i++)this.removeValue(n[i]);else return this.removeValue(n);return this},removeValue:function(n){if(this.has(n)){var i=this.list[n];delete this.list[n],delete this.values[n],this.events.emit(p.REMOVE_DATA,this.parent,n,i)}return this},pop:function(n){var i=void 0;return!this._frozen&&this.has(n)&&(i=this.list[n],delete this.list[n],delete this.values[n],this.events.emit(p.REMOVE_DATA,this.parent,n,i)),i},has:function(n){return this.list.hasOwnProperty(n)},setFreeze:function(n){return this._frozen=n,this},reset:function(){for(var n in this.list)delete this.list[n],delete this.values[n];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(p.CHANGE_DATA),this.events.off(p.SET_DATA),this.events.off(p.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(n){this._frozen=!!n}},count:{get:function(){var n=0;for(var i in this.list)this.list[i]!==void 0&&n++;return n}}});v.exports=a},63646:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(45893),a=t(37277),n=t(44594),i=new o({Extends:p,initialize:function(r){p.call(this,r,r.sys.events),this.scene=r,this.systems=r.sys,r.sys.events.once(n.BOOT,this.boot,this),r.sys.events.on(n.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(n.DESTROY,this.destroy,this)},start:function(){this.events.once(n.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(n.SHUTDOWN,this.shutdown,this)},destroy:function(){p.prototype.destroy.call(this),this.events.off(n.START,this.start,this),this.scene=null,this.systems=null}});a.register("DataManagerPlugin",i,"data"),v.exports=i},10700:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="changedata"},93608:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="changedata-"},60883:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="destroy"},69780:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="removedata"},22166:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="setdata"},24882:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={CHANGE_DATA:t(10700),CHANGE_DATA_KEY:t(93608),DESTROY:t(60883),REMOVE_DATA:t(69780),SET_DATA:t(22166)}},44965:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={DataManager:t(45893),DataManagerPlugin:t(63646),Events:t(24882)}},7098:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(84148),p={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function a(){if(typeof importScripts=="function")return p;p.audioData=!!window.Audio,p.webAudio=!!(window.AudioContext||window.webkitAudioContext);var n=document.createElement("audio"),i=!!n.canPlayType;try{if(i){var e=function(s,u){var d=n.canPlayType("audio/"+s).replace(/^no$/,"");return u?!!(d||n.canPlayType("audio/"+u).replace(/^no$/,"")):!!d};if(p.ogg=e('ogg; codecs="vorbis"'),p.opus=e('ogg; codecs="opus"',"opus"),p.mp3=e("mpeg"),p.wav=e("wav"),p.m4a=e("x-m4a"),p.aac=e("aac"),p.flac=e("flac","x-flac"),p.webm=e('webm; codecs="vorbis"'),n.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(o.edge)p.dolby=!0;else if(o.safari&&o.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var r=parseInt(RegExp.$1,10),l=parseInt(RegExp.$2,10);(r===10&&l>=11||r>10)&&(p.dolby=!0)}}}}catch{}return p}v.exports=a()},84148:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25892),p={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function a(){var n=navigator.userAgent;return/Edg\/\d+/.test(n)?(p.edge=!0,p.es2019=!0):/OPR/.test(n)?(p.opera=!0,p.es2019=!0):/Chrome\/(\d+)/.test(n)&&!o.windowsPhone?(p.chrome=!0,p.chromeVersion=parseInt(RegExp.$1,10),p.es2019=p.chromeVersion>69):/Firefox\D+(\d+)/.test(n)?(p.firefox=!0,p.firefoxVersion=parseInt(RegExp.$1,10),p.es2019=p.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(n)&&o.iOS?(p.mobileSafari=!0,p.es2019=!0):/MSIE (\d+\.\d+);/.test(n)?(p.ie=!0,p.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(n)&&!o.windowsPhone?(p.safari=!0,p.safariVersion=parseInt(RegExp.$1,10),p.es2019=p.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(n)&&(p.ie=!0,p.trident=!0,p.tridentVersion=parseInt(RegExp.$1,10),p.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(n)&&(p.silk=!0),p}v.exports=a()},89289:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(27919),p={supportInverseAlpha:!1,supportNewBlendModes:!1};function a(){var e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",r="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",l=new Image;return l.onload=function(){var s=new Image;s.onload=function(){var u=o.create2D(s,6),d=u.getContext("2d",{willReadFrequently:!0});if(d.globalCompositeOperation="multiply",d.drawImage(l,0,0),d.drawImage(s,2,0),!d.getImageData(2,0,1,1))return!1;var f=d.getImageData(2,0,1,1).data;o.remove(s),p.supportNewBlendModes=f[0]===255&&f[1]===0&&f[2]===0},s.src=e+"/wCKxvRF"+r},l.src=e+"AP804Oa6"+r,!1}function n(){var e=o.create2D(this,2),r=e.getContext("2d",{willReadFrequently:!0});r.fillStyle="rgba(10, 20, 30, 0.5)",r.fillRect(0,0,1,1);var l=r.getImageData(0,0,1,1);if(l===null)return!1;r.putImageData(l,1,0);var s=r.getImageData(1,0,1,1),u=s.data[0]===l.data[0]&&s.data[1]===l.data[1]&&s.data[2]===l.data[2]&&s.data[3]===l.data[3];return o.remove(this),u}function i(){return typeof importScripts!="function"&&document!==void 0&&(p.supportNewBlendModes=a(),p.supportInverseAlpha=n()),p}v.exports=i()},89357:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25892),p=t(84148),a=t(27919),n={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function i(){var r=new ArrayBuffer(4),l=new Uint8Array(r),s=new Uint32Array(r);return l[0]=161,l[1]=178,l[2]=195,l[3]=212,s[0]===3569595041?!0:s[0]===2712847316?!1:null}function e(){if(typeof importScripts=="function")return n;n.canvas=!!window.CanvasRenderingContext2D;try{n.localStorage=!!localStorage.getItem}catch{n.localStorage=!1}n.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,n.fileSystem=!!window.requestFileSystem;var r=!1,l=function(){if(window.WebGLRenderingContext)try{var s=a.createWebGL(this),u=s.getContext("webgl")||s.getContext("experimental-webgl"),d=a.create2D(this),f=d.getContext("2d",{willReadFrequently:!0}),c=f.createImageData(1,1);return r=c.data instanceof Uint8ClampedArray,a.remove(s),a.remove(d),!!u}catch{return!1}return!1};return n.webGL=l(),n.worker=!!window.Worker,n.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,n.getUserMedia=n.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,p.firefox&&p.firefoxVersion<21&&(n.getUserMedia=!1),!o.iOS&&(p.ie||p.firefox||p.chrome)&&(n.canvasBitBltShift=!0),(p.safari||p.mobileSafari)&&(n.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(n.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(n.littleEndian=i()),n.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&n.littleEndian!==null&&r,n}v.exports=e()},91639:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={available:!1,cancel:"",keyboard:!1,request:""};function t(){if(typeof importScripts=="function")return y;var o,p="Fullscreen",a="FullScreen",n=["request"+p,"request"+a,"webkitRequest"+p,"webkitRequest"+a,"msRequest"+p,"msRequest"+a,"mozRequest"+a,"mozRequest"+p];for(o=0;o<n.length;o++)if(document.documentElement[n[o]]){y.available=!0,y.request=n[o];break}var i=["cancel"+a,"exit"+p,"webkitCancel"+a,"webkitExit"+p,"msCancel"+a,"msExit"+p,"mozCancel"+a,"mozExit"+p];if(y.available){for(o=0;o<i.length;o++)if(document[i[o]]){y.cancel=i[o];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(y.keyboard=!0),Object.defineProperty(y,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),y}v.exports=t()},31784:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(84148),p={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function a(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(p.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(p.mspointer=!0),navigator.getGamepads&&(p.gamepads=!0),"onwheel"in window||o.ie&&"WheelEvent"in window?p.wheelEvent="wheel":"onmousewheel"in window?p.wheelEvent="mousewheel":o.firefox&&"MouseScrollEvent"in window&&(p.wheelEvent="DOMMouseScroll")),p}v.exports=a()},25892:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function t(){if(typeof importScripts=="function")return y;var o=navigator.userAgent;/Windows/.test(o)?y.windows=!0:/Mac OS/.test(o)&&!/like Mac OS/.test(o)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(y.iOS=!0,y.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),y.iOSVersion=parseInt(RegExp.$1,10)):y.macOS=!0:/Android/.test(o)?y.android=!0:/Linux/.test(o)?y.linux=!0:/iP[ao]d|iPhone/i.test(o)?(y.iOS=!0,navigator.appVersion.match(/OS (\d+)/),y.iOSVersion=parseInt(RegExp.$1,10),y.iPhone=o.toLowerCase().indexOf("iphone")!==-1,y.iPad=o.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(o)||/\bKF[A-Z][A-Z]+/.test(o)||/Silk.*Mobile Safari/.test(o)?y.kindle=!0:/CrOS/.test(o)&&(y.chromeOS=!0),(/Windows Phone/i.test(o)||/IEMobile/i.test(o))&&(y.android=!1,y.iOS=!1,y.macOS=!1,y.windows=!0,y.windowsPhone=!0);var p=/Silk/.test(o);return(y.windows||y.macOS||y.linux&&!p||y.chromeOS)&&(y.desktop=!0),(y.windowsPhone||/Windows NT/i.test(o)&&/Touch/i.test(o))&&(y.desktop=!1),navigator.standalone&&(y.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(y.cordova=!0),window.ejecta!==void 0&&(y.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(y.node=!0),y.node&&typeof process.versions=="object"&&(y.nodeWebkit=!!process.versions["node-webkit"],y.electron=!!process.versions.electron),/Crosswalk/.test(o)&&(y.crosswalk=!0),y.pixelRatio=window.devicePixelRatio||1,y}v.exports=t()},43267:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95540),p={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function a(){if(typeof importScripts=="function")return p;var n=document.createElement("video"),i=!!n.canPlayType,e=/^no$/;try{i&&(n.canPlayType('video/ogg; codecs="theora"').replace(e,"")&&(p.ogg=!0),n.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(e,"")&&(p.h264=!0,p.mp4=!0),n.canPlayType("video/x-m4v").replace(e,"")&&(p.m4v=!0),n.canPlayType('video/webm; codecs="vp8, vorbis"').replace(e,"")&&(p.webm=!0),n.canPlayType('video/webm; codecs="vp9"').replace(e,"")&&(p.vp9=!0),n.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(e,"")&&(p.hls=!0))}catch{}return n.parentNode&&n.parentNode.removeChild(n),p.getVideoURL=function(r){Array.isArray(r)||(r=[r]);for(var l=0;l<r.length;l++){var s=o(r[l],"url",r[l]);if(s.indexOf("blob:")===0)return{url:s,type:""};var u;if(s.indexOf("data:")===0?u=s.split(",")[0].match(/\/(.*?);/):u=s.match(/\.([a-zA-Z0-9]+)($|\?)/),u=o(r[l],"type",u?u[1]:"").toLowerCase(),p[u])return{url:s,type:u}}return null},p}v.exports=a()},82264:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={os:t(25892),browser:t(84148),features:t(89357),input:t(31784),audio:t(7098),video:t(43267),fullscreen:t(91639),canvasFeatures:t(89289)}},89422:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=new Float32Array(20),a=new o({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(n){return this._matrix.set(n),this._dirty=!0,this},reset:function(){var n=this._matrix;return n.fill(0),n[0]=1,n[6]=1,n[12]=1,n[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var n=this._data;return this._dirty&&(n.set(this._matrix),n[4]/=255,n[9]/=255,n[14]/=255,n[19]/=255,this._dirty=!1),n},brightness:function(n,i){n===void 0&&(n=0),i===void 0&&(i=!1);var e=n;return this.multiply([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0],i)},saturate:function(n,i){n===void 0&&(n=0),i===void 0&&(i=!1);var e=n*2/3+1,r=(e-1)*-.5;return this.multiply([e,r,r,0,0,r,e,r,0,0,r,r,e,0,0,0,0,0,1,0],i)},desaturate:function(n){return n===void 0&&(n=!1),this.saturate(-1,n)},hue:function(n,i){n===void 0&&(n=0),i===void 0&&(i=!1),n=n/180*Math.PI;var e=Math.cos(n),r=Math.sin(n),l=.213,s=.715,u=.072;return this.multiply([l+e*(1-l)+r*-.213,s+e*-.715+r*-.715,u+e*-.072+r*(1-u),0,0,l+e*-.213+r*.143,s+e*(1-s)+r*.14,u+e*-.072+r*-.283,0,0,l+e*-.213+r*-.787,s+e*-.715+r*s,u+e*(1-u)+r*u,0,0,0,0,0,1,0],i)},grayscale:function(n,i){return n===void 0&&(n=1),i===void 0&&(i=!1),this.saturate(-n,i)},blackWhite:function(n){return n===void 0&&(n=!1),this.multiply(a.BLACK_WHITE,n)},contrast:function(n,i){n===void 0&&(n=0),i===void 0&&(i=!1);var e=n+1,r=-.5*(e-1);return this.multiply([e,0,0,0,r,0,e,0,0,r,0,0,e,0,r,0,0,0,1,0],i)},negative:function(n){return n===void 0&&(n=!1),this.multiply(a.NEGATIVE,n)},desaturateLuminance:function(n){return n===void 0&&(n=!1),this.multiply(a.DESATURATE_LUMINANCE,n)},sepia:function(n){return n===void 0&&(n=!1),this.multiply(a.SEPIA,n)},night:function(n,i){return n===void 0&&(n=.1),i===void 0&&(i=!1),this.multiply([n*-2,-n,0,0,0,-n,0,n,0,0,0,n,n*2,0,0,0,0,0,1,0],i)},lsd:function(n){return n===void 0&&(n=!1),this.multiply(a.LSD,n)},brown:function(n){return n===void 0&&(n=!1),this.multiply(a.BROWN,n)},vintagePinhole:function(n){return n===void 0&&(n=!1),this.multiply(a.VINTAGE,n)},kodachrome:function(n){return n===void 0&&(n=!1),this.multiply(a.KODACHROME,n)},technicolor:function(n){return n===void 0&&(n=!1),this.multiply(a.TECHNICOLOR,n)},polaroid:function(n){return n===void 0&&(n=!1),this.multiply(a.POLAROID,n)},shiftToBGR:function(n){return n===void 0&&(n=!1),this.multiply(a.SHIFT_BGR,n)},multiply:function(n,i){i===void 0&&(i=!1),i||this.reset();var e=this._matrix,r=p;return r.set(e),e.set([r[0]*n[0]+r[1]*n[5]+r[2]*n[10]+r[3]*n[15],r[0]*n[1]+r[1]*n[6]+r[2]*n[11]+r[3]*n[16],r[0]*n[2]+r[1]*n[7]+r[2]*n[12]+r[3]*n[17],r[0]*n[3]+r[1]*n[8]+r[2]*n[13]+r[3]*n[18],r[0]*n[4]+r[1]*n[9]+r[2]*n[14]+r[3]*n[19]+r[4],r[5]*n[0]+r[6]*n[5]+r[7]*n[10]+r[8]*n[15],r[5]*n[1]+r[6]*n[6]+r[7]*n[11]+r[8]*n[16],r[5]*n[2]+r[6]*n[7]+r[7]*n[12]+r[8]*n[17],r[5]*n[3]+r[6]*n[8]+r[7]*n[13]+r[8]*n[18],r[5]*n[4]+r[6]*n[9]+r[7]*n[14]+r[8]*n[19]+r[9],r[10]*n[0]+r[11]*n[5]+r[12]*n[10]+r[13]*n[15],r[10]*n[1]+r[11]*n[6]+r[12]*n[11]+r[13]*n[16],r[10]*n[2]+r[11]*n[7]+r[12]*n[12]+r[13]*n[17],r[10]*n[3]+r[11]*n[8]+r[12]*n[13]+r[13]*n[18],r[10]*n[4]+r[11]*n[9]+r[12]*n[14]+r[13]*n[19]+r[14],r[15]*n[0]+r[16]*n[5]+r[17]*n[10]+r[18]*n[15],r[15]*n[1]+r[16]*n[6]+r[17]*n[11]+r[18]*n[16],r[15]*n[2]+r[16]*n[7]+r[17]*n[12]+r[18]*n[17],r[15]*n[3]+r[16]*n[8]+r[17]*n[13]+r[18]*n[18],r[15]*n[4]+r[16]*n[9]+r[17]*n[14]+r[18]*n[19]+r[19]]),this._dirty=!0,this}});a.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],a.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],a.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],a.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],a.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],a.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],a.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],a.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],a.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],a.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],a.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],v.exports=a},51767:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(29747),a=new o({initialize:function(i,e,r){this._rgb=[0,0,0],this.onChangeCallback=p,this.dirty=!1,this.set(i,e,r)},set:function(n,i,e){return n===void 0&&(n=0),i===void 0&&(i=0),e===void 0&&(e=0),this._rgb=[n,i,e],this.onChange(),this},equals:function(n,i,e){var r=this._rgb;return r[0]===n&&r[1]===i&&r[2]===e},onChange:function(){this.dirty=!0;var n=this._rgb;this.onChangeCallback.call(this,n[0],n[1],n[2])},r:{get:function(){return this._rgb[0]},set:function(n){this._rgb[0]=n,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(n){this._rgb[1]=n,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(n){this._rgb[2]=n,this.onChange()}},destroy:function(){this.onChangeCallback=null}});v.exports=a},60461:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};v.exports=y},54312:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62235),p=t(35893),a=t(86327),n=t(88417),i=function(e,r,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),n(e,p(r)+l),a(e,o(r)+s),e};v.exports=i},46768:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62235),p=t(26541),a=t(86327),n=t(385),i=function(e,r,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),n(e,p(r)-l),a(e,o(r)+s),e};v.exports=i},35827:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62235),p=t(54380),a=t(86327),n=t(40136),i=function(e,r,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),n(e,p(r)+l),a(e,o(r)+s),e};v.exports=i},46871:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66786),p=t(35893),a=t(7702),n=function(i,e,r,l){return r===void 0&&(r=0),l===void 0&&(l=0),o(i,p(e)+r,a(e)+l),i};v.exports=n},5198:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7702),p=t(26541),a=t(20786),n=t(385),i=function(e,r,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),n(e,p(r)-l),a(e,o(r)+s),e};v.exports=i},11879:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(60461),p=[];p[o.BOTTOM_CENTER]=t(54312),p[o.BOTTOM_LEFT]=t(46768),p[o.BOTTOM_RIGHT]=t(35827),p[o.CENTER]=t(46871),p[o.LEFT_CENTER]=t(5198),p[o.RIGHT_CENTER]=t(80503),p[o.TOP_CENTER]=t(89698),p[o.TOP_LEFT]=t(922),p[o.TOP_RIGHT]=t(21373),p[o.LEFT_BOTTOM]=p[o.BOTTOM_LEFT],p[o.LEFT_TOP]=p[o.TOP_LEFT],p[o.RIGHT_BOTTOM]=p[o.BOTTOM_RIGHT],p[o.RIGHT_TOP]=p[o.TOP_RIGHT];var a=function(n,i,e,r,l){return p[e](n,i,r,l)};v.exports=a},80503:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7702),p=t(54380),a=t(20786),n=t(40136),i=function(e,r,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),n(e,p(r)+l),a(e,o(r)+s),e};v.exports=i},89698:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35893),p=t(17717),a=t(88417),n=t(66737),i=function(e,r,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(e,o(r)+l),n(e,p(r)-s),e};v.exports=i},922:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26541),p=t(17717),a=t(385),n=t(66737),i=function(e,r,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(e,o(r)-l),n(e,p(r)-s),e};v.exports=i},21373:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(54380),p=t(17717),a=t(40136),n=t(66737),i=function(e,r,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(e,o(r)+l),n(e,p(r)-s),e};v.exports=i},91660:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={BottomCenter:t(54312),BottomLeft:t(46768),BottomRight:t(35827),Center:t(46871),LeftCenter:t(5198),QuickSet:t(11879),RightCenter:t(80503),TopCenter:t(89698),TopLeft:t(922),TopRight:t(21373)}},71926:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(60461),p=t(79291),a={In:t(91660),To:t(16694)};a=p(!1,a,o),v.exports=a},21578:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62235),p=t(35893),a=t(88417),n=t(66737),i=function(e,r,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(e,p(r)+l),n(e,o(r)+s),e};v.exports=i},10210:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62235),p=t(26541),a=t(385),n=t(66737),i=function(e,r,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(e,p(r)-l),n(e,o(r)+s),e};v.exports=i},82341:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62235),p=t(54380),a=t(40136),n=t(66737),i=function(e,r,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(e,p(r)+l),n(e,o(r)+s),e};v.exports=i},87958:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62235),p=t(26541),a=t(86327),n=t(40136),i=function(e,r,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),n(e,p(r)-l),a(e,o(r)+s),e};v.exports=i},40080:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7702),p=t(26541),a=t(20786),n=t(40136),i=function(e,r,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),n(e,p(r)-l),a(e,o(r)+s),e};v.exports=i},88466:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26541),p=t(17717),a=t(40136),n=t(66737),i=function(e,r,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(e,o(r)-l),n(e,p(r)-s),e};v.exports=i},38829:(v,y,t)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(60461),p=[];p[o.BOTTOM_CENTER]=t(21578),p[o.BOTTOM_LEFT]=t(10210),p[o.BOTTOM_RIGHT]=t(82341),p[o.LEFT_BOTTOM]=t(87958),p[o.LEFT_CENTER]=t(40080),p[o.LEFT_TOP]=t(88466),p[o.RIGHT_BOTTOM]=t(19211),p[o.RIGHT_CENTER]=t(34609),p[o.RIGHT_TOP]=t(48741),p[o.TOP_CENTER]=t(49440),p[o.TOP_LEFT]=t(81288),p[o.TOP_RIGHT]=t(61323);var a=function(n,i,e,r,l){return p[e](n,i,r,l)};v.exports=a},19211:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62235),p=t(54380),a=t(86327),n=t(385),i=function(e,r,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),n(e,p(r)+l),a(e,o(r)+s),e};v.exports=i},34609:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7702),p=t(54380),a=t(20786),n=t(385),i=function(e,r,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),n(e,p(r)+l),a(e,o(r)+s),e};v.exports=i},48741:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(54380),p=t(17717),a=t(385),n=t(66737),i=function(e,r,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(e,o(r)+l),n(e,p(r)-s),e};v.exports=i},49440:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35893),p=t(17717),a=t(86327),n=t(88417),i=function(e,r,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),n(e,o(r)+l),a(e,p(r)-s),e};v.exports=i},81288:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26541),p=t(17717),a=t(86327),n=t(385),i=function(e,r,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),n(e,o(r)-l),a(e,p(r)-s),e};v.exports=i},61323:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(54380),p=t(17717),a=t(86327),n=t(40136),i=function(e,r,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),n(e,o(r)+l),a(e,p(r)-s),e};v.exports=i},16694:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={BottomCenter:t(21578),BottomLeft:t(10210),BottomRight:t(82341),LeftBottom:t(87958),LeftCenter:t(40080),LeftTop:t(88466),QuickSet:t(38829),RightBottom:t(19211),RightCenter:t(34609),RightTop:t(48741),TopCenter:t(49440),TopLeft:t(81288),TopRight:t(61323)}},66786:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(88417),p=t(20786),a=function(n,i,e){return o(n,i),p(n,e)};v.exports=a},62235:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.y+t.height-t.height*t.originY};v.exports=y},72873:(v,y,t)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62235),p=t(26541),a=t(54380),n=t(17717),i=t(87841),e=function(r,l){l===void 0&&(l=new i);var s=p(r),u=n(r);return l.x=s,l.y=u,l.width=a(r)-s,l.height=o(r)-u,l};v.exports=e},35893:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.x-t.width*t.originX+t.width*.5};v.exports=y},7702:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.y-t.height*t.originY+t.height*.5};v.exports=y},26541:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.x-t.width*t.originX};v.exports=y},87431:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.width*t.originX};v.exports=y},46928:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.height*t.originY};v.exports=y},54380:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.x+t.width-t.width*t.originX};v.exports=y},17717:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.y-t.height*t.originY};v.exports=y},86327:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.y=o-t.height+t.height*t.originY,t};v.exports=y},88417:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){var p=t.width*t.originX;return t.x=o+p-t.width*.5,t};v.exports=y},20786:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){var p=t.height*t.originY;return t.y=o+p-t.height*.5,t};v.exports=y},385:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.x=o+t.width*t.originX,t};v.exports=y},40136:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.x=o-t.width+t.width*t.originX,t};v.exports=y},66737:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.y=o+t.height*t.originY,t};v.exports=y},58724:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={CenterOn:t(66786),GetBottom:t(62235),GetBounds:t(72873),GetCenterX:t(35893),GetCenterY:t(7702),GetLeft:t(26541),GetOffsetX:t(87431),GetOffsetY:t(46928),GetRight:t(54380),GetTop:t(17717),SetBottom:t(86327),SetCenterX:t(88417),SetCenterY:t(20786),SetLeft:t(385),SetRight:t(40136),SetTop:t(66737)}},20623:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setCrisp:function(t){var o=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return o.forEach(function(p){t.style["image-rendering"]=p}),t.style.msInterpolationMode="nearest-neighbor",t},setBicubic:function(t){return t.style["image-rendering"]="auto",t.style.msInterpolationMode="bicubic",t}};v.exports=y},27919:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(8054),p=t(68703),a=[],n=!1,i=function(){var e=function(T,C,S,A,P){C===void 0&&(C=1),S===void 0&&(S=1),A===void 0&&(A=o.CANVAS),P===void 0&&(P=!1);var R,F=s(A);return F===null?(F={parent:T,canvas:document.createElement("canvas"),type:A},A===o.CANVAS&&a.push(F),R=F.canvas):(F.parent=T,R=F.canvas),P&&(F.parent=R),R.width=C,R.height=S,n&&A===o.CANVAS&&p.disable(R.getContext("2d",{willReadFrequently:!1})),R},r=function(T,C,S){return e(T,C,S,o.CANVAS)},l=function(T,C,S){return e(T,C,S,o.WEBGL)},s=function(T){if(T===void 0&&(T=o.CANVAS),T===o.WEBGL)return null;for(var C=0;C<a.length;C++){var S=a[C];if(!S.parent&&S.type===T)return S}return null},u=function(T){var C=T instanceof HTMLCanvasElement;a.forEach(function(S){(C&&S.canvas===T||!C&&S.parent===T)&&(S.parent=null,S.canvas.width=1,S.canvas.height=1)})},d=function(){var T=0;return a.forEach(function(C){C.parent&&T++}),T},f=function(){return a.length-d()},c=function(){n=!0},m=function(){n=!1};return{create2D:r,create:e,createWebGL:l,disableSmoothing:c,enableSmoothing:m,first:s,free:f,pool:a,remove:u,total:d}};v.exports=i()},68703:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y="",t=function(){var o=function(i){for(var e=["i","webkitI","msI","mozI","oI"],r=0;r<e.length;r++){var l=e[r]+"mageSmoothingEnabled";if(l in i)return l}return null},p=function(i){return y===""&&(y=o(i)),y&&(i[y]=!0),i},a=function(i){return y===""&&(y=o(i)),y&&(i[y]=!1),i},n=function(i){return y!==null?i[y]:null};return{disable:a,enable:p,getPrefix:o,isEnabled:n}};v.exports=t()},65208:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o===void 0&&(o="none"),t.style.msTouchAction=o,t.style["ms-touch-action"]=o,t.style["touch-action"]=o,t};v.exports=y},91610:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){o===void 0&&(o="none");var p=["-webkit-","-khtml-","-moz-","-ms-",""];return p.forEach(function(a){t.style[a+"user-select"]=o}),t.style["-webkit-touch-callout"]=o,t.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",t};v.exports=y},26253:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={CanvasInterpolation:t(20623),CanvasPool:t(27919),Smoothing:t(68703),TouchAction:t(65208),UserSelect:t(91610)}},40987:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(37589),a=t(1e3),n=t(7537),i=t(87837),e=new o({initialize:function(l,s,u,d){l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=0),d===void 0&&(d=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(l,s,u,d)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(r,l,s,u,d){return u===void 0&&(u=255),d===void 0&&(d=!0),this._locked=!0,this.red=r,this.green=l,this.blue=s,this.alpha=u,this._locked=!1,this.update(d)},setGLTo:function(r,l,s,u){return u===void 0&&(u=1),this._locked=!0,this.redGL=r,this.greenGL=l,this.blueGL=s,this.alphaGL=u,this._locked=!1,this.update(!0)},setFromRGB:function(r){return this._locked=!0,this.red=r.r,this.green=r.g,this.blue=r.b,r.hasOwnProperty("a")&&(this.alpha=r.a),this._locked=!1,this.update(!0)},setFromHSV:function(r,l,s){return n(r,l,s,this)},update:function(r){if(r===void 0&&(r=!1),this._locked)return this;var l=this.r,s=this.g,u=this.b,d=this.a;return this._color=p(l,s,u),this._color32=a(l,s,u,d),this._rgba="rgba("+l+","+s+","+u+","+d/255+")",r&&i(l,s,u,this),this},updateHSV:function(){var r=this.r,l=this.g,s=this.b;return i(r,l,s,this),this},clone:function(){return new e(this.r,this.g,this.b,this.a)},gray:function(r){return this.setTo(r,r,r)},random:function(r,l){r===void 0&&(r=0),l===void 0&&(l=255);var s=Math.floor(r+Math.random()*(l-r)),u=Math.floor(r+Math.random()*(l-r)),d=Math.floor(r+Math.random()*(l-r));return this.setTo(s,u,d)},randomGray:function(r,l){r===void 0&&(r=0),l===void 0&&(l=255);var s=Math.floor(r+Math.random()*(l-r));return this.setTo(s,s,s)},saturate:function(r){return this.s+=r/100,this},desaturate:function(r){return this.s-=r/100,this},lighten:function(r){return this.v+=r/100,this},darken:function(r){return this.v-=r/100,this},brighten:function(r){var l=this.r,s=this.g,u=this.b;return l=Math.max(0,Math.min(255,l-Math.round(255*-(r/100)))),s=Math.max(0,Math.min(255,s-Math.round(255*-(r/100)))),u=Math.max(0,Math.min(255,u-Math.round(255*-(r/100)))),this.setTo(l,s,u)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(r){this.gl[0]=Math.min(Math.abs(r),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(r){this.gl[1]=Math.min(Math.abs(r),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(r){this.gl[2]=Math.min(Math.abs(r),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(r){this.gl[3]=Math.min(Math.abs(r),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(r){r=Math.floor(Math.abs(r)),this.r=Math.min(r,255),this.gl[0]=r/255,this.update(!0)}},green:{get:function(){return this.g},set:function(r){r=Math.floor(Math.abs(r)),this.g=Math.min(r,255),this.gl[1]=r/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(r){r=Math.floor(Math.abs(r)),this.b=Math.min(r,255),this.gl[2]=r/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(r){r=Math.floor(Math.abs(r)),this.a=Math.min(r,255),this.gl[3]=r/255,this.update()}},h:{get:function(){return this._h},set:function(r){this._h=r,n(r,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(r){this._s=r,n(this._h,r,this._v,this)}},v:{get:function(){return this._v},set:function(r){this._v=r,n(this._h,this._s,r,this)}}});v.exports=e},92728:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37589),p=function(a){a===void 0&&(a=1024);var n=[],i=255,e,r=255,l=0,s=0;for(e=0;e<=i;e++)n.push({r,g:e,b:s,color:o(r,e,s)});for(l=255,e=i;e>=0;e--)n.push({r:e,g:l,b:s,color:o(e,l,s)});for(r=0,e=0;e<=i;e++,l--)n.push({r,g:l,b:e,color:o(r,l,e)});for(l=0,s=255,e=0;e<=i;e++,s--,r++)n.push({r,g:l,b:s,color:o(r,l,s)});if(a===1024)return n;var u=[],d=0,f=1024/a;for(e=0;e<a;e++)u.push(n[Math.floor(d)]),d+=f;return u};v.exports=p},91588:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var o={r:t>>16&255,g:t>>8&255,b:t&255,a:255};return t>16777215&&(o.a=t>>>24),o};v.exports=y},62957:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var o=t.toString(16);return o.length===1?"0"+o:o};v.exports=y},37589:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){return t<<16|o<<8|p};v.exports=y},1e3:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a){return a<<24|t<<16|o<<8|p};v.exports=y},62183:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(40987),p=t(89528),a=function(n,i,e){var r=e,l=e,s=e;if(i!==0){var u=e<.5?e*(1+i):e+i-e*i,d=2*e-u;r=p(d,u,n+1/3),l=p(d,u,n),s=p(d,u,n-1/3)}var f=new o;return f.setGLTo(r,l,s,1)};v.exports=a},27939:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7537),p=function(a,n){a===void 0&&(a=1),n===void 0&&(n=1);for(var i=[],e=0;e<=359;e++)i.push(o(e/359,a,n));return i};v.exports=p},7537:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37589);function p(n,i,e,r){var l=(n+i*6)%6,s=Math.min(l,4-l,1);return Math.round(255*(r-r*e*Math.max(0,s)))}var a=function(n,i,e,r){i===void 0&&(i=1),e===void 0&&(e=1);var l=p(5,n,i,e),s=p(3,n,i,e),u=p(1,n,i,e);return r?r.setTo?r.setTo(l,s,u,r.alpha,!0):(r.r=l,r.g=s,r.b=u,r.color=o(l,s,u),r):{r:l,g:s,b:u,color:o(l,s,u)}};v.exports=a},70238:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(40987),p=function(a){var n=new o;a=a.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(s,u,d,f){return u+u+d+d+f+f});var i=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);if(i){var e=parseInt(i[1],16),r=parseInt(i[2],16),l=parseInt(i[3],16);n.setTo(e,r,l)}return n};v.exports=p},89528:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){return p<0&&(p+=1),p>1&&(p-=1),p<.16666666666666666?t+(o-t)*6*p:p<.5?o:p<.6666666666666666?t+(o-t)*(.6666666666666666-p)*6:t};v.exports=y},30100:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(40987),p=t(90664),a=function(n){var i=p(n);return new o(i.r,i.g,i.b,i.a)};v.exports=a},90664:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t>16777215?{a:t>>>24,r:t>>16&255,g:t>>8&255,b:t&255}:{a:255,r:t>>16&255,g:t>>8&255,b:t&255}};v.exports=y},13699:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(28915),p=function(i,e,r,l,s,u,d,f){d===void 0&&(d=100),f===void 0&&(f=0);var c=f/d;return{r:o(i,l,c),g:o(e,s,c),b:o(r,u,c)}},a=function(i,e,r,l){return r===void 0&&(r=100),l===void 0&&(l=0),p(i.r,i.g,i.b,e.r,e.g,e.b,r,l)},n=function(i,e,r,l,s,u){return s===void 0&&(s=100),u===void 0&&(u=0),p(i.r,i.g,i.b,e,r,l,s,u)};v.exports={RGBWithRGB:p,ColorWithRGB:n,ColorWithColor:a}},68957:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(40987),p=function(a){return new o(a.r,a.g,a.b,a.a)};v.exports=p},87388:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(40987),p=function(a){var n=new o,i=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(a.toLowerCase());if(i){var e=parseInt(i[1],10),r=parseInt(i[2],10),l=parseInt(i[3],10),s=i[4]!==void 0?parseFloat(i[4]):1;n.setTo(e,r,l,s*255)}return n};v.exports=p},87837:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a){a===void 0&&(a={h:0,s:0,v:0}),t/=255,o/=255,p/=255;var n=Math.min(t,o,p),i=Math.max(t,o,p),e=i-n,r=0,l=i===0?0:e/i,s=i;return i!==n&&(i===t?r=(o-p)/e+(o<p?6:0):i===o?r=(p-t)/e+2:i===p&&(r=(t-o)/e+4),r/=6),a.hasOwnProperty("_h")?(a._h=r,a._s=l,a._v=s):(a.h=r,a.s=l,a.v=s),a};v.exports=y},75723:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62957),p=function(a,n,i,e,r){return e===void 0&&(e=255),r===void 0&&(r="#"),r==="#"?"#"+((1<<24)+(a<<16)+(n<<8)+i).toString(16).slice(1,7):"0x"+o(e)+o(a)+o(n)+o(i)};v.exports=p},85386:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(30976),p=t(40987),a=function(n,i){return n===void 0&&(n=0),i===void 0&&(i=255),new p(o(n,i),o(n,i),o(n,i))};v.exports=a},80333:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(70238),p=t(30100),a=t(68957),n=t(87388),i=function(e){var r=typeof e;switch(r){case"string":return e.substr(0,3).toLowerCase()==="rgb"?n(e):o(e);case"number":return p(e);case"object":return a(e)}};v.exports=i},3956:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(40987);o.ColorSpectrum=t(92728),o.ColorToRGBA=t(91588),o.ComponentToHex=t(62957),o.GetColor=t(37589),o.GetColor32=t(1e3),o.HexStringToColor=t(70238),o.HSLToColor=t(62183),o.HSVColorWheel=t(27939),o.HSVToRGB=t(7537),o.HueToComponent=t(89528),o.IntegerToColor=t(30100),o.IntegerToRGB=t(90664),o.Interpolate=t(13699),o.ObjectToColor=t(68957),o.RandomRGB=t(85386),o.RGBStringToColor=t(87388),o.RGBToHSV=t(87837),o.RGBToString=t(75723),o.ValueToColor=t(80333),v.exports=o},27460:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Align:t(71926),BaseShader:t(73894),Bounds:t(58724),Canvas:t(26253),Color:t(3956),ColorMatrix:t(89422),Masks:t(69781),RGB:t(51767)}},6858:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(39429),a=new o({initialize:function(i,e,r,l,s,u){e||(e=i.sys.make.image({x:r,y:l,key:s,frame:u,add:!1})),this.bitmapMask=e,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(n){this.bitmapMask=n},preRenderWebGL:function(n,i,e){n.pipelines.BITMAPMASK_PIPELINE.beginMask(this,i,e)},postRenderWebGL:function(n,i,e){n.pipelines.BITMAPMASK_PIPELINE.endMask(this,i,e)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});p.register("bitmapMask",function(n,i,e,r,l){return new a(this.scene,n,i,e,r,l)}),v.exports=a},80661:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=new o({initialize:function(n,i){this.geometryMask=i,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(a){return this.geometryMask=a,this},setInvertAlpha:function(a){return a===void 0&&(a=!0),this.invertAlpha=a,this},preRenderWebGL:function(a,n,i){var e=a.gl;a.flush(),a.maskStack.length===0&&(e.enable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),a.maskCount=0),a.currentCameraMask.mask!==this&&(a.currentMask.mask=this),a.maskStack.push({mask:this,camera:i}),this.applyStencil(a,i,!0),a.maskCount++},applyStencil:function(a,n,i){var e=a.gl,r=this.geometryMask,l=a.maskCount,s=255;e.colorMask(!1,!1,!1,!1),i?(e.stencilFunc(e.EQUAL,l,s),e.stencilOp(e.KEEP,e.KEEP,e.INCR),l++):(e.stencilFunc(e.EQUAL,l+1,s),e.stencilOp(e.KEEP,e.KEEP,e.DECR)),this.level=l,r.renderWebGL(a,r,n),a.flush(),e.colorMask(!0,!0,!0,!0),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),this.invertAlpha?e.stencilFunc(e.NOTEQUAL,l,s):e.stencilFunc(e.EQUAL,l,s)},postRenderWebGL:function(a){var n=a.gl;a.maskStack.pop(),a.maskCount--,a.flush();var i=a.currentMask;if(a.maskStack.length===0)i.mask=null,n.disable(n.STENCIL_TEST);else{var e=a.maskStack[a.maskStack.length-1];e.mask.applyStencil(a,e.camera,!1),a.currentCameraMask.mask!==e.mask?(i.mask=e.mask,i.camera=e.camera):i.mask=null}},preRenderCanvas:function(a,n,i){var e=this.geometryMask;a.currentContext.save(),e.renderCanvas(a,e,i,null,null,!0),a.currentContext.clip()},postRenderCanvas:function(a){a.currentContext.restore()},destroy:function(){this.geometryMask=null}});v.exports=p},69781:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={BitmapMask:t(6858),GeometryMask:t(80661)}},73894:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=new o({initialize:function(n,i,e,r){(!i||i==="")&&(i=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!e||e==="")&&(e=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),r===void 0&&(r=null),this.key=n,this.fragmentSrc=i,this.vertexSrc=e,this.uniforms=r}});v.exports=p},40366:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){var p;if(o)typeof o=="string"?p=document.getElementById(o):typeof o=="object"&&o.nodeType===1&&(p=o);else if(t.parentElement||o===null)return t;return p||(p=document.body),p.appendChild(t),t};v.exports=y},83719:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(40366),p=function(a){var n=a.config;if(!(!n.parent||!n.domCreateContainer)){var i=document.createElement("div");i.style.cssText=["display: block;","width: "+a.scale.width+"px;","height: "+a.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+n.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),a.domContainer=i,o(i,n.parent)}};v.exports=p},57264:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25892),p=function(a){if(document.readyState==="complete"||document.readyState==="interactive"){a();return}var n=function(){document.removeEventListener("deviceready",n,!0),document.removeEventListener("DOMContentLoaded",n,!0),window.removeEventListener("load",n,!0),a()};document.body?o.cordova?document.addEventListener("deviceready",n,!1):(document.addEventListener("DOMContentLoaded",n,!0),window.addEventListener("load",n,!0)):window.setTimeout(n,20)};v.exports=p},57811:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){if(!t)return window.innerHeight;var o=Math.abs(window.orientation),p={w:0,h:0},a=document.createElement("div");return a.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(a),p.w=o===90?a.offsetHeight:window.innerWidth,p.h=o===90?window.innerWidth:a.offsetHeight,document.documentElement.removeChild(a),a=null,Math.abs(window.orientation)!==90?p.h:p.w};v.exports=y},45818:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(13560),p=function(a,n){var i=window.screen,e=i?i.orientation||i.mozOrientation||i.msOrientation:!1;if(e&&typeof e.type=="string")return e.type;if(typeof e=="string")return e;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?o.ORIENTATION.PORTRAIT:o.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return o.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return o.ORIENTATION.LANDSCAPE}else return n>a?o.ORIENTATION.PORTRAIT:o.ORIENTATION.LANDSCAPE};v.exports=p},74403:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var o;return t!==""&&(typeof t=="string"?o=document.getElementById(t):t&&t.nodeType===1&&(o=t)),o||(o=document.body),o};v.exports=y},56836:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var o="";try{if(window.DOMParser){var p=new DOMParser;o=p.parseFromString(t,"text/xml")}else o=new ActiveXObject("Microsoft.XMLDOM"),o.loadXML(t)}catch{o=null}return!o||!o.documentElement||o.getElementsByTagName("parsererror").length?null:o};v.exports=y},35846:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){t.parentNode&&t.parentNode.removeChild(t)};v.exports=y},43092:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(29747),a=new o({initialize:function(){this.isRunning=!1,this.callback=p,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var i=this;this.step=function e(r){i.callback(r),i.isRunning&&(i.timeOutID=window.requestAnimationFrame(e))},this.stepTimeout=function e(){i.isRunning&&(i.timeOutID=window.setTimeout(e,i.delay)),i.callback(window.performance.now())}},start:function(n,i,e){this.isRunning||(this.callback=n,this.isSetTimeOut=i,this.delay=e,this.isRunning=!0,this.timeOutID=i?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=p}});v.exports=a},84902:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={AddToDOM:t(40366),DOMContentLoaded:t(57264),GetInnerHeight:t(57811),GetScreenOrientation:t(45818),GetTarget:t(74403),ParseXML:t(56836),RemoveFromDOM:t(35846),RequestAnimationFrame:t(43092)};v.exports=o},47565:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(50792),a=t(37277),n=new o({Extends:p,initialize:function(){p.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});a.register("EventEmitter",n,"events"),v.exports=n},93055:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={EventEmitter:t(47565)}},20122:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(72898),a=t(14811),n=new o({Extends:p,initialize:function(e,r){r===void 0&&(r=1),p.call(this,a.BARREL,e),this.amount=r}});v.exports=n},32251:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(72898),a=t(14811),n=new o({Extends:p,initialize:function(e,r,l,s,u,d,f){l===void 0&&(l=1),s===void 0&&(s=1),u===void 0&&(u=1),d===void 0&&(d=1),f===void 0&&(f=4),p.call(this,a.BLOOM,e),this.steps=f,this.offsetX=l,this.offsetY=s,this.blurStrength=u,this.strength=d,this.glcolor=[1,1,1],r!=null&&(this.color=r)},color:{get:function(){var i=this.glcolor;return(i[0]*255<<16)+(i[1]*255<<8)+(i[2]*255|0)},set:function(i){var e=this.glcolor;e[0]=(i>>16&255)/255,e[1]=(i>>8&255)/255,e[2]=(i&255)/255}}});v.exports=n},9047:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(72898),a=t(14811),n=new o({Extends:p,initialize:function(e,r,l,s,u,d,f){r===void 0&&(r=0),l===void 0&&(l=2),s===void 0&&(s=2),u===void 0&&(u=1),f===void 0&&(f=4),p.call(this,a.BLUR,e),this.quality=r,this.x=l,this.y=s,this.steps=f,this.strength=u,this.glcolor=[1,1,1],d!=null&&(this.color=d)},color:{get:function(){var i=this.glcolor;return(i[0]*255<<16)+(i[1]*255<<8)+(i[2]*255|0)},set:function(i){var e=this.glcolor;e[0]=(i>>16&255)/255,e[1]=(i>>8&255)/255,e[2]=(i&255)/255}}});v.exports=n},27885:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(72898),a=t(14811),n=new o({Extends:p,initialize:function(e,r,l,s,u,d,f,c){r===void 0&&(r=.5),l===void 0&&(l=1),s===void 0&&(s=.2),u===void 0&&(u=!1),d===void 0&&(d=1),f===void 0&&(f=1),c===void 0&&(c=1),p.call(this,a.BOKEH,e),this.radius=r,this.amount=l,this.contrast=s,this.isTiltShift=u,this.strength=c,this.blurX=d,this.blurY=f}});v.exports=n},12578:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(72898),a=t(14811),n=new o({Extends:p,initialize:function(e,r,l,s,u,d){r===void 0&&(r=8),u===void 0&&(u=1),d===void 0&&(d=.005),p.call(this,a.CIRCLE,e),this.scale=u,this.feather=d,this.thickness=r,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],l!=null&&(this.color=l),s!=null&&(this.backgroundColor=s)},color:{get:function(){var i=this.glcolor;return(i[0]*255<<16)+(i[1]*255<<8)+(i[2]*255|0)},set:function(i){var e=this.glcolor;e[0]=(i>>16&255)/255,e[1]=(i>>8&255)/255,e[2]=(i&255)/255}},backgroundColor:{get:function(){var i=this.glcolor2;return(i[0]*255<<16)+(i[1]*255<<8)+(i[2]*255|0)},set:function(i){var e=this.glcolor2;e[0]=(i>>16&255)/255,e[1]=(i>>8&255)/255,e[2]=(i&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(i){this.glcolor2[3]=i}}});v.exports=n},15802:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(89422),a=t(14811),n=new o({Extends:p,initialize:function(e){p.call(this),this.type=a.COLOR_MATRIX,this.gameObject=e,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});v.exports=n},72898:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=new o({initialize:function(n,i){this.type=n,this.gameObject=i,this.active=!0},setActive:function(a){return this.active=a,this},destroy:function(){this.gameObject=null,this.active=!1}});v.exports=p},44553:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(72898),a=t(14811),n=new o({Extends:p,initialize:function(e,r,l,s){r===void 0&&(r="__WHITE"),l===void 0&&(l=.005),s===void 0&&(s=.005),p.call(this,a.DISPLACEMENT,e),this.x=l,this.y=s,this.glTexture,this.setTexture(r)},setTexture:function(i){var e=this.gameObject.scene.sys.textures.getFrame(i);return e&&(this.glTexture=e.glTexture),this}});v.exports=n},68531:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(72898),a=t(14811),n=new o({Extends:p,initialize:function(e,r,l,s,u){l===void 0&&(l=4),s===void 0&&(s=0),u===void 0&&(u=!1),p.call(this,a.GLOW,e),this.outerStrength=l,this.innerStrength=s,this.knockout=u,this.glcolor=[1,1,1,1],r!==void 0&&(this.color=r)},color:{get:function(){var i=this.glcolor;return(i[0]*255<<16)+(i[1]*255<<8)+(i[2]*255|0)},set:function(i){var e=this.glcolor;e[0]=(i>>16&255)/255,e[1]=(i>>8&255)/255,e[2]=(i&255)/255}}});v.exports=n},37102:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(72898),a=t(14811),n=new o({Extends:p,initialize:function(e,r,l,s,u,d,f,c,m){s===void 0&&(s=.2),u===void 0&&(u=0),d===void 0&&(d=0),f===void 0&&(f=0),c===void 0&&(c=1),m===void 0&&(m=0),p.call(this,a.GRADIENT,e),this.alpha=s,this.size=m,this.fromX=u,this.fromY=d,this.toX=f,this.toY=c,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],r!=null&&(this.color1=r),l!=null&&(this.color2=l)},color1:{get:function(){var i=this.glcolor1;return(i[0]<<16)+(i[1]<<8)+(i[2]|0)},set:function(i){var e=this.glcolor1;e[0]=i>>16&255,e[1]=i>>8&255,e[2]=i&255}},color2:{get:function(){var i=this.glcolor2;return(i[0]<<16)+(i[1]<<8)+(i[2]|0)},set:function(i){var e=this.glcolor2;e[0]=i>>16&255,e[1]=i>>8&255,e[2]=i&255}}});v.exports=n},86886:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(72898),a=t(14811),n=new o({Extends:p,initialize:function(e,r){r===void 0&&(r=1),p.call(this,a.PIXELATE,e),this.amount=r}});v.exports=n},92322:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(72898),a=t(14811),n=new o({Extends:p,initialize:function(e,r,l,s,u,d,f,c){r===void 0&&(r=0),l===void 0&&(l=0),s===void 0&&(s=.1),u===void 0&&(u=1),f===void 0&&(f=6),c===void 0&&(c=1),p.call(this,a.SHADOW,e),this.x=r,this.y=l,this.decay=s,this.power=u,this.glcolor=[0,0,0,1],this.samples=f,this.intensity=c,d!==void 0&&(this.color=d)},color:{get:function(){var i=this.glcolor;return(i[0]*255<<16)+(i[1]*255<<8)+(i[2]*255|0)},set:function(i){var e=this.glcolor;e[0]=(i>>16&255)/255,e[1]=(i>>8&255)/255,e[2]=(i&255)/255}}});v.exports=n},39563:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(72898),a=t(14811),n=new o({Extends:p,initialize:function(e,r,l,s,u){r===void 0&&(r=.5),l===void 0&&(l=.5),s===void 0&&(s=3),u===void 0&&(u=!1),p.call(this,a.SHINE,e),this.speed=r,this.lineWidth=l,this.gradient=s,this.reveal=u}});v.exports=n},56448:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(72898),a=t(14811),n=new o({Extends:p,initialize:function(e,r,l,s,u){r===void 0&&(r=.5),l===void 0&&(l=.5),s===void 0&&(s=.5),u===void 0&&(u=.5),p.call(this,a.VIGNETTE,e),this.x=r,this.y=l,this.radius=s,this.strength=u}});v.exports=n},38433:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(72898),a=t(14811),n=new o({Extends:p,initialize:function(e,r,l,s,u){r===void 0&&(r=.1),l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=!1),p.call(this,a.WIPE,e),this.progress=0,this.wipeWidth=r,this.direction=l,this.axis=s,this.reveal=u}});v.exports=n},14811:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};v.exports=y},66064:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(79291),p=t(14811),a={Barrel:t(20122),Controller:t(72898),Bloom:t(32251),Blur:t(9047),Bokeh:t(27885),Circle:t(12578),ColorMatrix:t(15802),Displacement:t(44553),Glow:t(68531),Gradient:t(37102),Pixelate:t(86886),Shadow:t(92322),Shine:t(39563),Vignette:t(56448),Wipe:t(38433)};a=o(!1,a,p),v.exports=a},25305:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10312),p=t(23568),a=function(n,i,e){i.x=p(e,"x",0),i.y=p(e,"y",0),i.depth=p(e,"depth",0),i.flipX=p(e,"flipX",!1),i.flipY=p(e,"flipY",!1);var r=p(e,"scale",null);typeof r=="number"?i.setScale(r):r!==null&&(i.scaleX=p(r,"x",1),i.scaleY=p(r,"y",1));var l=p(e,"scrollFactor",null);typeof l=="number"?i.setScrollFactor(l):l!==null&&(i.scrollFactorX=p(l,"x",1),i.scrollFactorY=p(l,"y",1)),i.rotation=p(e,"rotation",0);var s=p(e,"angle",null);s!==null&&(i.angle=s),i.alpha=p(e,"alpha",1);var u=p(e,"origin",null);if(typeof u=="number")i.setOrigin(u);else if(u!==null){var d=p(u,"x",.5),f=p(u,"y",.5);i.setOrigin(d,f)}i.blendMode=p(e,"blendMode",o.NORMAL),i.visible=p(e,"visible",!0);var c=p(e,"add",!0);return c&&n.sys.displayList.add(i),i.preUpdate&&n.sys.updateList.add(i),i};v.exports=a},13059:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(23568),p=function(a,n){var i=o(n,"anims",null);if(i===null)return a;if(typeof i=="string")a.anims.play(i);else if(typeof i=="object"){var e=a.anims,r=o(i,"key",void 0);if(r){var l=o(i,"startFrame",void 0),s=o(i,"delay",0),u=o(i,"repeat",0),d=o(i,"repeatDelay",0),f=o(i,"yoyo",!1),c=o(i,"play",!1),m=o(i,"delayedPlay",0),T={key:r,delay:s,repeat:u,repeatDelay:d,yoyo:f,startFrame:l};c?e.play(T):m>0?e.playAfterDelay(T,m):e.load(T)}}return a};v.exports=p},8050:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(73162),a=t(37277),n=t(51708),i=t(44594),e=t(19186),r=new o({Extends:p,initialize:function(s){p.call(this,s),this.sortChildrenFlag=!1,this.scene=s,this.systems=s.sys,this.events=s.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(i.BOOT,this.boot,this),this.events.on(i.START,this.start,this)},boot:function(){this.events.once(i.DESTROY,this.destroy,this)},addChildCallback:function(l){l.displayList&&l.displayList!==this&&l.removeFromDisplayList(),l.parentContainer&&l.parentContainer.remove(l),l.displayList||(this.queueDepthSort(),l.displayList=this,l.emit(n.ADDED_TO_SCENE,l,this.scene),this.events.emit(i.ADDED_TO_SCENE,l,this.scene))},removeChildCallback:function(l){this.queueDepthSort(),l.displayList=null,l.emit(n.REMOVED_FROM_SCENE,l,this.scene),this.events.emit(i.REMOVED_FROM_SCENE,l,this.scene)},start:function(){this.events.once(i.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(e(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(l,s){return l._depth-s._depth},getChildren:function(){return this.list},shutdown:function(){for(var l=this.list;l.length;)l[0].destroy(!0);this.events.off(i.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(i.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});a.register("DisplayList",r,"displayList"),v.exports=r},95643:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(53774),a=t(45893),n=t(50792),i=t(51708),e=t(44594),r=new o({Extends:n,initialize:function(s,u){n.call(this),this.scene=s,this.displayList=null,this.type=u,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(i.ADDED_TO_SCENE,this.addedToScene,this),this.on(i.REMOVED_FROM_SCENE,this.removedFromScene,this),s.sys.queueDepthSort()},setActive:function(l){return this.active=l,this},setName:function(l){return this.name=l,this},setState:function(l){return this.state=l,this},setDataEnabled:function(){return this.data||(this.data=new a(this)),this},setData:function(l,s){return this.data||(this.data=new a(this)),this.data.set(l,s),this},incData:function(l,s){return this.data||(this.data=new a(this)),this.data.inc(l,s),this},toggleData:function(l){return this.data||(this.data=new a(this)),this.data.toggle(l),this},getData:function(l){return this.data||(this.data=new a(this)),this.data.get(l)},setInteractive:function(l,s,u){return this.scene.sys.input.enable(this,l,s,u),this},disableInteractive:function(){return this.scene.sys.input.disable(this),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return p(this)},willRender:function(l){var s=this.displayList&&this.displayList.active?this.displayList.willRender(l):!0;return!(!s||r.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&l.id)},getIndexList:function(){for(var l=this,s=this.parentContainer,u=[];s&&(u.unshift(s.getIndex(l)),l=s,s.parentContainer);)s=s.parentContainer;return this.displayList?u.unshift(this.displayList.getIndex(l)):u.unshift(this.scene.sys.displayList.getIndex(l)),u},addToDisplayList:function(l){return l===void 0&&(l=this.scene.sys.displayList),this.displayList&&this.displayList!==l&&this.removeFromDisplayList(),l.exists(this)||(this.displayList=l,l.add(this,!0),l.queueDepthSort(),this.emit(i.ADDED_TO_SCENE,this,this.scene),l.events.emit(e.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var l=this.displayList||this.scene.sys.displayList;return l&&l.exists(this)&&(l.remove(this,!0),l.queueDepthSort(),this.displayList=null,this.emit(i.REMOVED_FROM_SCENE,this,this.scene),l.events.emit(e.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},destroy:function(l){!this.scene||this.ignoreDestroy||(l===void 0&&(l=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(i.DESTROY,this,l),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});r.RENDER_MASK=15,v.exports=r},44603:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(37277),a=t(44594),n=new o({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(a.BOOT,this.boot,this),this.events.on(a.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(a.DESTROY,this.destroy,this)},start:function(){this.events.once(a.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(a.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});n.register=function(i,e){n.prototype.hasOwnProperty(i)||(n.prototype[i]=e)},n.remove=function(i){n.prototype.hasOwnProperty(i)&&delete n.prototype[i]},p.register("GameObjectCreator",n,"make"),v.exports=n},39429:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(37277),a=t(44594),n=new o({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(a.BOOT,this.boot,this),this.events.on(a.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(a.DESTROY,this.destroy,this)},start:function(){this.events.once(a.SHUTDOWN,this.shutdown,this)},existing:function(i){return(i.renderCanvas||i.renderWebGL)&&this.displayList.add(i),i.preUpdate&&this.updateList.add(i),i},shutdown:function(){this.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(a.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});n.register=function(i,e){n.prototype.hasOwnProperty(i)||(n.prototype[i]=e)},n.remove=function(i){n.prototype.hasOwnProperty(i)&&delete n.prototype[i]},p.register("GameObjectFactory",n,"add"),v.exports=n},91296:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(61340),p=new o,a=new o,n=new o,i={camera:p,sprite:a,calc:n},e=function(r,l,s){var u=p,d=a,f=n;return d.applyITRS(r.x,r.y,r.rotation,r.scaleX,r.scaleY),u.copyFrom(l.matrix),s?(u.multiplyWithOffset(s,-l.scrollX*r.scrollFactorX,-l.scrollY*r.scrollFactorY),d.e=r.x,d.f=r.y):(d.e-=l.scrollX*r.scrollFactorX,d.f-=l.scrollY*r.scrollFactorY),u.multiply(d,f),i};v.exports=e},45027:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(25774),a=t(37277),n=t(44594),i=new o({Extends:p,initialize:function(r){p.call(this),this.checkQueue=!0,this.scene=r,this.systems=r.sys,r.sys.events.once(n.BOOT,this.boot,this),r.sys.events.on(n.START,this.start,this)},boot:function(){this.systems.events.once(n.DESTROY,this.destroy,this)},start:function(){var e=this.systems.events;e.on(n.PRE_UPDATE,this.update,this),e.on(n.UPDATE,this.sceneUpdate,this),e.once(n.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(e,r){for(var l=this._active,s=l.length,u=0;u<s;u++){var d=l[u];d.active&&d.preUpdate.call(d,e,r)}},shutdown:function(){for(var e=this._active.length;e--;)this._active[e].destroy(!0);for(e=this._pending.length;e--;)this._pending[e].destroy(!0);for(e=this._destroy.length;e--;)this._destroy[e].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var r=this.systems.events;r.off(n.PRE_UPDATE,this.update,this),r.off(n.UPDATE,this.sceneUpdate,this),r.off(n.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(n.START,this.start,this),this.scene=null,this.systems=null}});a.register("UpdateList",i,"updateList"),v.exports=i},3217:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a,n,i,e,r,l,s,u,d,f,c,m){var T=p.x-o.displayOriginX+n,C=p.y-o.displayOriginY+i,S=T+p.w,A=C+p.h,P=e.getXRound(T,C,r),R=e.getYRound(T,C,r),F=e.getXRound(T,A,r),D=e.getYRound(T,A,r),L=e.getXRound(S,A,r),O=e.getYRound(S,A,r),B=e.getXRound(S,C,r),b=e.getYRound(S,C,r);t.batchQuad(o,P,R,F,D,L,O,B,b,a.u0,a.v0,a.u1,a.v1,l,s,u,d,f,c,m)};v.exports=y},53048:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a){if(p===void 0&&(p=!1),a===void 0)return a={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},a;var n=t.text,i=n.length,e=t.maxWidth,r=t.wordWrapCharCode,l=Number.MAX_VALUE,s=Number.MAX_VALUE,u=0,d=0,f=t.fontData.chars,c=t.fontData.lineHeight,m=t.letterSpacing,T=t.lineSpacing,C=0,S=0,A=0,P=null,R=t._align,F=0,D=0,L=t.fontSize/t.fontData.size,O=L*t.scaleX,B=L*t.scaleY,b=null,z=0,V=[],W=Number.MAX_VALUE,K=0,U=0,Y=0,I,N=[],G=[],X=null;if(e>0){for(I=0;I<i;I++){if(A=n.charCodeAt(I),A===10){X!==null&&(N.push({word:X.word,i:X.i,x:X.x*O,y:X.y*B,w:X.w*O,h:X.h*B,cr:!0}),X=null),C=0,S+=c+T,b=null;continue}if(P=f[A],!!P){if(b!==null)var H=P.kerning[z];A===r?X!==null&&(N.push({word:X.word,i:X.i,x:X.x*O,y:X.y*B,w:X.w*O,h:X.h*B,cr:!1}),X=null):(X===null&&(X={word:"",i:I,x:C,y:S,w:0,h:c,cr:!1}),X.word=X.word.concat(n[I]),X.w+=P.xOffset+P.xAdvance+(H!==void 0?H:0)),C+=P.xAdvance+m,b=P,z=A}}X!==null&&N.push({word:X.word,i:X.i,x:X.x*O,y:X.y*B,w:X.w*O,h:X.h*B,cr:!1}),C=0,S=0,b=null,z=0;var Q,$=0,Z=[];for(I=0;I<N.length;I++){var J=N[I],j=J.x,k=J.x+J.w;if(Q){var _=j-(Q.x+Q.w);$=j-(_+Q.w),Q=null}var q=j-$,et=k-$;q>e||et>e?(Z.push(J.i-1),J.cr?(Z.push(J.i+J.word.length),$=0,Q=null):Q=J):J.cr&&(Z.push(J.i+J.word.length),$=0,Q=null)}var st=function(St,Rt,Bt){return St.substr(0,Rt)+Bt+St.substr(Rt+1)};for(I=Z.length-1;I>=0;I--)n=st(n,Z[I],`
`);a.wrappedText=n,i=n.length,N=[],X=null}var nt=0;for(I=0;I<i;I++){if(A=n.charCodeAt(I),A===10){X!==null&&(N.push({word:X.word,i:X.i,x:X.x*O,y:X.y*B,w:X.w*O,h:X.h*B}),X=null),C=0,S+=c+T,b=null,V[U]=Y,Y>K&&(K=Y),Y<W&&(W=Y),U++,Y=0;continue}if(P=f[A],!!P){if(F=C,D=S,b!==null){var it=P.kerning[z];F+=it!==void 0?it:0}l>F&&(l=F),s>D&&(s=D);var tt=F+P.xAdvance,at=D+c;u<tt&&(u=tt),d<at&&(d=at);var rt=P.xOffset+P.xAdvance+(it!==void 0?it:0);A===r?X!==null&&(N.push({word:X.word,i:X.i,x:X.x*O,y:X.y*B,w:X.w*O,h:X.h*B}),X=null):(X===null&&(X={word:"",i:nt,x:C,y:S,w:0,h:c}),X.word=X.word.concat(n[I]),X.w+=rt),G.push({i:nt,idx:I,char:n[I],code:A,x:(P.xOffset+F)*L,y:(P.yOffset+S)*L,w:P.width*L,h:P.height*L,t:S*L,r:tt*L,b:c*L,line:U,glyph:P}),C+=P.xAdvance+m+(it!==void 0?it:0),b=P,z=A,Y=tt*L,nt++}}if(X!==null&&N.push({word:X.word,i:X.i,x:X.x*O,y:X.y*B,w:X.w*O,h:X.h*B}),V[U]=Y,Y>K&&(K=Y),Y<W&&(W=Y),R>0)for(var ot=0;ot<G.length;ot++){var ht=G[ot];if(R===1){var ft=(K-V[ht.line])/2;ht.x+=ft,ht.r+=ft}else if(R===2){var ct=K-V[ht.line];ht.x+=ct,ht.r+=ct}}var vt=a.local,dt=a.global,Et=a.lines;return vt.x=l*L,vt.y=s*L,vt.width=u*L,vt.height=d*L,dt.x=t.x-t._displayOriginX+l*O,dt.y=t.y-t._displayOriginY+s*B,dt.width=u*O,dt.height=d*B,Et.shortest=W,Et.longest=K,Et.lengths=V,o&&(vt.x=Math.ceil(vt.x),vt.y=Math.ceil(vt.y),vt.width=Math.ceil(vt.width),vt.height=Math.ceil(vt.height),dt.x=Math.ceil(dt.x),dt.y=Math.ceil(dt.y),dt.width=Math.ceil(dt.width),dt.height=Math.ceil(dt.height),Et.shortest=Math.ceil(W),Et.longest=Math.ceil(K)),p&&(t._displayOriginX=t.originX*vt.width,t._displayOriginY=t.originY*vt.height,dt.x=t.x-t._displayOriginX*t.scaleX,dt.y=t.y-t._displayOriginY*t.scaleY,o&&(dt.x=Math.ceil(dt.x),dt.y=Math.ceil(dt.y))),a.words=N,a.characters=G,a.lines.height=c,a.scale=L,a.scaleX=t.scaleX,a.scaleY=t.scaleY,a};v.exports=y},61327:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(21859),p=function(a,n,i,e,r,l,s){var u=a.sys.textures.get(i),d=u.get(e),f=a.sys.cache.xml.get(r);if(d&&f){var c=o(f,d,l,s,u);return a.sys.cache.bitmapFont.add(n,{data:c,texture:i,frame:e,fromAtlas:!0}),!0}else return!1};v.exports=p},6925:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35154),p=function(a,n){var i=n.width,e=n.height,r=Math.floor(i/2),l=Math.floor(e/2),s=o(n,"chars","");if(s!==""){var u=o(n,"image",""),d=a.sys.textures.getFrame(u),f=d.cutX,c=d.cutY,m=d.source.width,T=d.source.height,C=o(n,"offset.x",0),S=o(n,"offset.y",0),A=o(n,"spacing.x",0),P=o(n,"spacing.y",0),R=o(n,"lineSpacing",0),F=o(n,"charsPerRow",null);F===null&&(F=m/i,F>s.length&&(F=s.length));for(var D=C,L=S,O={retroFont:!0,font:u,size:i,lineHeight:e+R,chars:{}},B=0,b=0;b<s.length;b++){var z=s.charCodeAt(b),V=(f+D)/m,W=(c+L)/T,K=(f+D+i)/m,U=(c+L+e)/T;O.chars[z]={x:D,y:L,width:i,height:e,centerX:r,centerY:l,xOffset:0,yOffset:0,xAdvance:i,data:{},kerning:{},u0:V,v0:W,u1:K,v1:U},B++,B===F?(B=0,D=C,L+=e+P):D+=i+A}var Y={data:O,frame:null,texture:u};return Y}};v.exports=p},21859:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(o,p){return parseInt(o.getAttribute(p),10)}var t=function(o,p,a,n,i){a===void 0&&(a=0),n===void 0&&(n=0);var e=p.cutX,r=p.cutY,l=p.source.width,s=p.source.height,u=p.sourceIndex,d={},f=o.getElementsByTagName("info")[0],c=o.getElementsByTagName("common")[0];d.font=f.getAttribute("face"),d.size=y(f,"size"),d.lineHeight=y(c,"lineHeight")+n,d.chars={};var m=o.getElementsByTagName("char"),T=p!==void 0&&p.trimmed;if(T)var C=p.height,S=p.width;for(var A=0;A<m.length;A++){var P=m[A],R=y(P,"id"),F=String.fromCharCode(R),D=y(P,"x"),L=y(P,"y"),O=y(P,"width"),B=y(P,"height");T&&(D<S&&(S=D),L<C&&(C=L)),T&&C!==0&&S!==0&&(D-=p.x,L-=p.y);var b=(e+D)/l,z=(r+L)/s,V=(e+D+O)/l,W=(r+L+B)/s;if(d.chars[R]={x:D,y:L,width:O,height:B,centerX:Math.floor(O/2),centerY:Math.floor(B/2),xOffset:y(P,"xoffset"),yOffset:y(P,"yoffset"),xAdvance:y(P,"xadvance")+a,data:{},kerning:{},u0:b,v0:z,u1:V,v1:W},i&&O!==0&&B!==0){var K=i.add(F,u,D,L,O,B);K&&K.setUVs(O,B,b,z,V,W)}}var U=o.getElementsByTagName("kerning");for(A=0;A<U.length;A++){var Y=U[A],I=y(Y,"first"),N=y(Y,"second"),G=y(Y,"amount");d.chars[N].kerning[I]=G}return d};v.exports=t},196:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87662),p=t(79291),a={Parse:t(6925)};a=p(!1,a,o),v.exports=a},87662:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};v.exports=y},2638:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(22186),p=t(83419),a=t(12310),n=new p({Extends:o,Mixins:[a],initialize:function(e,r,l,s,u,d,f){o.call(this,e,r,l,s,u,d,f),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(i,e){return this.cropWidth=i,this.cropHeight=e,this},setDisplayCallback:function(i){return this.displayCallback=i,this},setScrollX:function(i){return this.scrollX=i,this},setScrollY:function(i){return this.scrollY=i,this}});v.exports=n},86741:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20926),p=function(a,n,i,e){var r=n._text,l=r.length,s=a.currentContext;if(!(l===0||!o(a,s,n,i,e))){i.addToRenderList(n);var u=n.fromAtlas?n.frame:n.texture.frames.__BASE,d=n.displayCallback,f=n.callbackData,c=n.fontData.chars,m=n.fontData.lineHeight,T=n._letterSpacing,C=0,S=0,A=0,P=null,R=0,F=0,D=0,L=0,O=0,B=0,b=null,z=0,V=n.frame.source.image,W=u.cutX,K=u.cutY,U=0,Y=0,I=n._fontSize/n.fontData.size,N=n._align,G=0,X=0;n.getTextBounds(!1);var H=n._bounds.lines;N===1?X=(H.longest-H.lengths[0])/2:N===2&&(X=H.longest-H.lengths[0]),s.translate(-n.displayOriginX,-n.displayOriginY);var Q=i.roundPixels;n.cropWidth>0&&n.cropHeight>0&&(s.beginPath(),s.rect(0,0,n.cropWidth,n.cropHeight),s.clip());for(var $=0;$<l;$++){if(Y=I,U=0,A=r.charCodeAt($),A===10){G++,N===1?X=(H.longest-H.lengths[G])/2:N===2&&(X=H.longest-H.lengths[G]),C=0,S+=m,b=null;continue}if(P=c[A],!!P){if(R=W+P.x,F=K+P.y,D=P.width,L=P.height,O=P.xOffset+C-n.scrollX,B=P.yOffset+S-n.scrollY,b!==null){var Z=P.kerning[z];O+=Z!==void 0?Z:0}if(d){f.index=$,f.charCode=A,f.x=O,f.y=B,f.scale=Y,f.rotation=U,f.data=P.data;var J=d(f);O=J.x,B=J.y,Y=J.scale,U=J.rotation}O*=Y,B*=Y,O+=X,C+=P.xAdvance+T+(Z!==void 0?Z:0),b=P,z=A,!(D===0||L===0||A===32)&&(Q&&(O=Math.round(O),B=Math.round(B)),s.save(),s.translate(O,B),s.rotate(U),s.scale(Y,Y),s.drawImage(V,R,F,D,L,0,0,D,L),s.restore())}}s.restore()}};v.exports=p},11164:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2638),p=t(25305),a=t(44603),n=t(23568);a.register("dynamicBitmapText",function(i,e){i===void 0&&(i={});var r=n(i,"font",""),l=n(i,"text",""),s=n(i,"size",!1),u=new o(this.scene,0,0,r,l,s);return e!==void 0&&(i.add=e),p(this.scene,u,i),u})},72566:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2638),p=t(39429);p.register("dynamicBitmapText",function(a,n,i,e,r){return this.displayList.add(new o(this.scene,a,n,i,e,r))})},12310:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,a=o;p=t(73482),a=t(86741),v.exports={renderWebGL:p,renderCanvas:a}},73482:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),p=t(61340),a=t(70554),n=new p,i=function(e,r,l,s){var u=r.text,d=u.length;if(d!==0){l.addToRenderList(r);var f=e.pipelines.set(r.pipeline,r),c=o(r,l,s);e.pipelines.preBatch(r);var m=c.sprite,T=c.calc,C=n,S=r.cropWidth>0||r.cropHeight>0;S&&(f.flush(),e.pushScissor(T.tx,T.ty,r.cropWidth*T.scaleX,r.cropHeight*T.scaleY));var A=r.frame,P=A.glTexture,R=r.tintFill,F=a.getTintAppendFloatAlpha(r.tintTopLeft,l.alpha*r._alphaTL),D=a.getTintAppendFloatAlpha(r.tintTopRight,l.alpha*r._alphaTR),L=a.getTintAppendFloatAlpha(r.tintBottomLeft,l.alpha*r._alphaBL),O=a.getTintAppendFloatAlpha(r.tintBottomRight,l.alpha*r._alphaBR),B=f.setGameObject(r),b=0,z=0,V=0,W=0,K=r.letterSpacing,U,Y=0,I=0,N,G=r.scrollX,X=r.scrollY,H=r.fontData,Q=H.chars,$=H.lineHeight,Z=r.fontSize/H.size,J=0,j=r._align,k=0,_=0,q=r.getTextBounds(!1);r.maxWidth>0&&(u=q.wrappedText,d=u.length);var et=r._bounds.lines;j===1?_=(et.longest-et.lengths[0])/2:j===2&&(_=et.longest-et.lengths[0]);for(var st=l.roundPixels,nt=r.displayCallback,it=r.callbackData,tt=0;tt<d;tt++){if(V=u.charCodeAt(tt),V===10){k++,j===1?_=(et.longest-et.lengths[k])/2:j===2&&(_=et.longest-et.lengths[k]),b=0,z+=$,N=null;continue}if(U=Q[V],!!U){Y=U.width,I=U.height;var at=U.xOffset+b-G,rt=U.yOffset+z-X;if(N!==null){var ot=U.kerning[W];at+=ot!==void 0?ot:0}if(b+=U.xAdvance+K,N=U,W=V,!(Y===0||I===0||V===32)){if(Z=r.fontSize/r.fontData.size,J=0,nt){it.color=0,it.tint.topLeft=F,it.tint.topRight=D,it.tint.bottomLeft=L,it.tint.bottomRight=O,it.index=tt,it.charCode=V,it.x=at,it.y=rt,it.scale=Z,it.rotation=J,it.data=U.data;var ht=nt(it);at=ht.x,rt=ht.y,Z=ht.scale,J=ht.rotation,ht.color?(F=ht.color,D=ht.color,L=ht.color,O=ht.color):(F=ht.tint.topLeft,D=ht.tint.topRight,L=ht.tint.bottomLeft,O=ht.tint.bottomRight),F=a.getTintAppendFloatAlpha(F,l.alpha*r._alphaTL),D=a.getTintAppendFloatAlpha(D,l.alpha*r._alphaTR),L=a.getTintAppendFloatAlpha(L,l.alpha*r._alphaBL),O=a.getTintAppendFloatAlpha(O,l.alpha*r._alphaBR)}at*=Z,rt*=Z,at-=r.displayOriginX,rt-=r.displayOriginY,at+=_,C.applyITRS(at,rt,J,Z,Z),T.multiply(C,m);var ft=U.u0,ct=U.v0,vt=U.u1,dt=U.v1,Et=Y,St=I,Rt=m.e,Bt=m.f,At=St*m.c+m.e,Yt=St*m.d+m.f,Ce=Et*m.a+St*m.c+m.e,si=Et*m.b+St*m.d+m.f,ni=Et*m.a+m.e,ri=Et*m.b+m.f;st&&(Rt=Math.round(Rt),Bt=Math.round(Bt),At=Math.round(At),Yt=Math.round(Yt),Ce=Math.round(Ce),si=Math.round(si),ni=Math.round(ni),ri=Math.round(ri)),f.shouldFlush(6)&&(f.flush(),B=f.setGameObject(r)),f.batchQuad(r,Rt,Bt,At,Yt,Ce,si,ni,ri,ft,ct,vt,dt,F,D,L,O,R,P,B)}}}S&&(f.flush(),e.popScissor()),e.pipelines.postBatch(r)}};v.exports=i},22186:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(45319),a=t(31401),n=t(95643),i=t(53048),e=t(61327),r=t(21859),l=t(87841),s=t(18658),u=new o({Extends:n,Mixins:[a.Alpha,a.BlendMode,a.Depth,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Texture,a.Tint,a.Transform,a.Visible,s],initialize:function(f,c,m,T,C,S,A){C===void 0&&(C=""),A===void 0&&(A=0),n.call(this,f,"BitmapText"),this.font=T;var P=this.scene.sys.cache.bitmapFont.get(T);P||console.warn("Invalid BitmapText key: "+T),this.fontData=P.data,this._text="",this._fontSize=S||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=A,this._bounds=i(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=P.fromAtlas,this.setTexture(P.texture,P.frame),this.setPosition(c,m),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(C)},setLeftAlign:function(){return this._align=u.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=u.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=u.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(d){return this._fontSize=d,this._dirty=!0,this},setLetterSpacing:function(d){return d===void 0&&(d=0),this._letterSpacing=d,this._dirty=!0,this},setLineSpacing:function(d){return d===void 0&&(d=0),this.lineSpacing=d,this},setText:function(d){return!d&&d!==0&&(d=""),Array.isArray(d)&&(d=d.join(`
`)),d!==this.text&&(this._text=d.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(d,f,c,m){return d===void 0&&(d=0),f===void 0&&(f=0),c===void 0&&(c=0),m===void 0&&(m=.5),this.dropShadowX=d,this.dropShadowY=f,this.dropShadowColor=c,this.dropShadowAlpha=m,this},setCharacterTint:function(d,f,c,m,T,C,S){d===void 0&&(d=0),f===void 0&&(f=1),c===void 0&&(c=!1),m===void 0&&(m=-1),T===void 0&&(T=m,C=m,S=m);var A=this.text.length;f===-1&&(f=A),d<0&&(d=A+d),d=p(d,0,A-1);for(var P=p(d+f,d,A),R=this.charColors,F=d;F<P;F++){var D=R[F];if(m===-1)R[F]=null;else{var L=c?1:0;D?(D.tintEffect=L,D.tintTL=m,D.tintTR=T,D.tintBL=C,D.tintBR=S):R[F]={tintEffect:L,tintTL:m,tintTR:T,tintBL:C,tintBR:S}}}return this},setWordTint:function(d,f,c,m,T,C,S){f===void 0&&(f=1);for(var A=this.getTextBounds(),P=A.words,R=typeof d=="number",F=0,D=0;D<P.length;D++){var L=P[D];if((R&&D===d||!R&&L.word===d)&&(this.setCharacterTint(L.i,L.word.length,c,m,T,C,S),F++,F===f))return this}return this},getTextBounds:function(d){var f=this._bounds;return(this._dirty||d||this.scaleX!==f.scaleX||this.scaleY!==f.scaleY)&&(i(this,d,!0,f),this._dirty=!1),f},getCharacterAt:function(d,f,c){for(var m=this.getLocalPoint(d,f,null,c),T=this.getTextBounds(),C=T.characters,S=new l,A=0;A<C.length;A++){var P=C[A];if(S.setTo(P.x,P.t,P.r-P.x,P.b),S.contains(m.x,m.y))return P}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(d,f,c){f===void 0&&(f=this._fontSize),c===void 0&&(c=this._align);var m=this.scene.sys.cache.bitmapFont.get(d);return m&&(this.font=d,this.fontData=m.data,this._fontSize=f,this._align=c,this.fromAtlas=m.fromAtlas===!0,this.setTexture(m.texture,m.frame),i(this,!1,!0,this._bounds)),this},setMaxWidth:function(d,f){return this._maxWidth=d,this._dirty=!0,f!==void 0&&(this.wordWrapCharCode=f),this},align:{set:function(d){this._align=d,this._dirty=!0},get:function(){return this._align}},text:{set:function(d){this.setText(d)},get:function(){return this._text}},fontSize:{set:function(d){this._fontSize=d,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(d){this._letterSpacing=d,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(d){this._lineSpacing=d,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(d){this._maxWidth=d,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var d=a.ToJSON(this),f={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return d.data=f,d},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});u.ALIGN_LEFT=0,u.ALIGN_CENTER=1,u.ALIGN_RIGHT=2,u.ParseFromAtlas=e,u.ParseXMLBitmapFont=r,v.exports=u},37289:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20926),p=function(a,n,i,e){var r=n._text,l=r.length,s=a.currentContext;if(!(l===0||!o(a,s,n,i,e))){i.addToRenderList(n);var u=n.fromAtlas?n.frame:n.texture.frames.__BASE,d=n.fontData.chars,f=n.fontData.lineHeight,c=n._letterSpacing,m=n._lineSpacing,T=0,C=0,S=0,A=null,P=0,R=0,F=0,D=0,L=0,O=0,B=null,b=0,z=u.source.image,V=u.cutX,W=u.cutY,K=n._fontSize/n.fontData.size,U=n._align,Y=0,I=0,N=n.getTextBounds(!1);n.maxWidth>0&&(r=N.wrappedText,l=r.length);var G=n._bounds.lines;U===1?I=(G.longest-G.lengths[0])/2:U===2&&(I=G.longest-G.lengths[0]),s.translate(-n.displayOriginX,-n.displayOriginY);for(var X=i.roundPixels,H=0;H<l;H++){if(S=r.charCodeAt(H),S===10){Y++,U===1?I=(G.longest-G.lengths[Y])/2:U===2&&(I=G.longest-G.lengths[Y]),T=0,C+=f+m,B=null;continue}if(A=d[S],!!A){if(P=V+A.x,R=W+A.y,F=A.width,D=A.height,L=A.xOffset+T,O=A.yOffset+C,B!==null){var Q=A.kerning[b];L+=Q!==void 0?Q:0}L*=K,O*=K,L+=I,T+=A.xAdvance+c+(Q!==void 0?Q:0),B=A,b=S,!(F===0||D===0||S===32)&&(X&&(L=Math.round(L),O=Math.round(O)),s.save(),s.translate(L,O),s.scale(K,K),s.drawImage(z,P,R,F,D,0,0,F,D),s.restore())}}s.restore()}};v.exports=p},57336:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(22186),p=t(25305),a=t(44603),n=t(23568),i=t(35154);a.register("bitmapText",function(e,r){e===void 0&&(e={});var l=i(e,"font",""),s=n(e,"text",""),u=n(e,"size",!1),d=i(e,"align",0),f=new o(this.scene,0,0,l,s,u,d);return r!==void 0&&(e.add=r),p(this.scene,f,e),f})},34914:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(22186),p=t(39429);p.register("bitmapText",function(a,n,i,e,r,l){return this.displayList.add(new o(this.scene,a,n,i,e,r,l))})},18658:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,a=o;p=t(33590),a=t(37289),v.exports={renderWebGL:p,renderCanvas:a}},33590:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(3217),p=t(91296),a=t(70554),n=function(i,e,r,l){var s=e._text,u=s.length;if(u!==0){r.addToRenderList(e);var d=i.pipelines.set(e.pipeline,e),f=p(e,r,l).calc;i.pipelines.preBatch(e);var c=r.roundPixels,m=r.alpha,T=e.charColors,C=e.tintFill,S=a.getTintAppendFloatAlpha,A=S(e.tintTopLeft,m*e._alphaTL),P=S(e.tintTopRight,m*e._alphaTR),R=S(e.tintBottomLeft,m*e._alphaBL),F=S(e.tintBottomRight,m*e._alphaBR),D=e.frame.glTexture,L=d.setGameObject(e),O=e.getTextBounds(!1),B,b,z,V=O.characters,W=e.dropShadowX,K=e.dropShadowY,U=W!==0||K!==0;if(U){var Y=e.dropShadowColor,I=e.dropShadowAlpha,N=S(Y,m*I*e._alphaTL),G=S(Y,m*I*e._alphaTR),X=S(Y,m*I*e._alphaBL),H=S(Y,m*I*e._alphaBR);for(B=0;B<V.length;B++)b=V[B],z=b.glyph,!(b.code===32||z.width===0||z.height===0)&&o(d,e,b,z,W,K,f,c,N,G,X,H,1,D,L)}for(B=0;B<V.length;B++)if(b=V[B],z=b.glyph,!(b.code===32||z.width===0||z.height===0))if(d.shouldFlush(6)&&(d.flush(),L=d.setGameObject(e)),T[b.i]){var Q=T[b.i],$=Q.tintEffect,Z=S(Q.tintTL,m*e._alphaTL),J=S(Q.tintTR,m*e._alphaTR),j=S(Q.tintBL,m*e._alphaBL),k=S(Q.tintBR,m*e._alphaBR);o(d,e,b,z,0,0,f,c,Z,J,j,k,$,D,L)}else o(d,e,b,z,0,0,f,c,A,P,R,F,C,D,L);i.pipelines.postBatch(e)}};v.exports=n},6107:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(48011),p=t(46590),a=t(83419),n=t(31401),i=t(4327),e=t(95643),r=t(73162),l=new a({Extends:e,Mixins:[n.Alpha,n.BlendMode,n.Depth,n.Mask,n.Pipeline,n.PostPipeline,n.ScrollFactor,n.Size,n.Texture,n.Transform,n.Visible,o],initialize:function(u,d,f,c,m){e.call(this,u,"Blitter"),this.setTexture(c,m),this.setPosition(d,f),this.initPipeline(),this.initPostPipeline(),this.children=new r,this.renderList=[],this.dirty=!1},create:function(s,u,d,f,c){f===void 0&&(f=!0),c===void 0&&(c=this.children.length),d===void 0?d=this.frame:d instanceof i||(d=this.texture.get(d));var m=new p(this,s,u,d,f);return this.children.addAt(m,c,!1),this.dirty=!0,m},createFromCallback:function(s,u,d,f){for(var c=this.createMultiple(u,d,f),m=0;m<c.length;m++){var T=c[m];s.call(this,T,m)}return c},createMultiple:function(s,u,d){u===void 0&&(u=this.frame.name),d===void 0&&(d=!0),Array.isArray(u)||(u=[u]);var f=[],c=this;return u.forEach(function(m){for(var T=0;T<s;T++)f.push(c.create(0,0,m,d))}),f},childCanRender:function(s){return s.visible&&s.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});v.exports=l},72396:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a){var n=o.getRenderList();if(n.length!==0){var i=t.currentContext,e=p.alpha*o.alpha;if(e!==0){p.addToRenderList(o),i.globalCompositeOperation=t.blendModes[o.blendMode],i.imageSmoothingEnabled=!o.frame.source.scaleMode;var r=o.x-p.scrollX*o.scrollFactorX,l=o.y-p.scrollY*o.scrollFactorY;i.save(),a&&a.copyToContext(i);for(var s=p.roundPixels,u=0;u<n.length;u++){var d=n[u],f=d.flipX||d.flipY,c=d.frame,m=c.canvasData,T=c.x,C=c.y,S=1,A=1,P=d.alpha*e;P!==0&&(i.globalAlpha=P,f?(d.flipX&&(S=-1,T-=m.width),d.flipY&&(A=-1,C-=m.height),m.width>0&&m.height>0&&(i.save(),i.translate(d.x+r,d.y+l),i.scale(S,A),i.drawImage(c.source.image,m.x,m.y,m.width,m.height,T,C,m.width,m.height),i.restore())):(s&&(T=Math.round(T),C=Math.round(C)),m.width>0&&m.height>0&&i.drawImage(c.source.image,m.x,m.y,m.width,m.height,T+d.x+r,C+d.y+l,m.width,m.height)))}i.restore()}}};v.exports=y},9403:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(6107),p=t(25305),a=t(44603),n=t(23568);a.register("blitter",function(i,e){i===void 0&&(i={});var r=n(i,"key",null),l=n(i,"frame",null),s=new o(this.scene,0,0,r,l);return e!==void 0&&(i.add=e),p(this.scene,s,i),s})},12709:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(6107),p=t(39429);p.register("blitter",function(a,n,i,e){return this.displayList.add(new o(this.scene,a,n,i,e))})},48011:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,a=o;p=t(99485),a=t(72396),v.exports={renderWebGL:p,renderCanvas:a}},99485:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(61340),p=t(70554),a=new o,n=function(i,e,r,l){var s=e.getRenderList(),u=r.alpha*e.alpha;if(!(s.length===0||u===0)){r.addToRenderList(e);var d=i.pipelines.set(this.pipeline,e),f=r.scrollX*e.scrollFactorX,c=r.scrollY*e.scrollFactorY,m=a.copyFrom(r.matrix);l&&(m.multiplyWithOffset(l,-f,-c),f=0,c=0);var T=e.x-f,C=e.y-c,S=-1,A=!1;i.pipelines.preBatch(e);for(var P=0;P<s.length;P++){var R=s[P],F=R.frame,D=R.alpha*u;if(D!==0){var L=F.width,O=F.height,B=T+R.x+F.x,b=C+R.y+F.y;R.flipX&&(L*=-1,B+=F.width),R.flipY&&(O*=-1,b+=F.height);var z=m.setQuad(B,b,B+L,b+O),V=p.getTintAppendFloatAlpha(R.tint,D);if(F.sourceIndex!==S){var W=d.setGameObject(e,F);S=F.sourceIndex}d.batchQuad(e,z[0],z[1],z[2],z[3],z[4],z[5],z[6],z[7],F.u0,F.v0,F.u1,F.v1,V,V,V,V,A,F.glTexture,W)&&(S=-1)}}i.pipelines.postBatch(e)}};v.exports=n},46590:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(4327),a=new o({initialize:function(i,e,r,l,s){this.parent=i,this.x=e,this.y=r,this.frame=l,this.data={},this.tint=16777215,this._visible=s,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(n){return n===void 0?this.frame=this.parent.frame:n instanceof p&&n.texture===this.parent.texture?this.frame=n:this.frame=this.parent.texture.get(n),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(n,i,e){return this.x=n,this.y=i,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,e&&this.setFrame(e),this},setPosition:function(n,i){return this.x=n,this.y=i,this},setFlipX:function(n){return this.flipX=n,this},setFlipY:function(n){return this.flipY=n,this},setFlip:function(n,i){return this.flipX=n,this.flipY=i,this},setVisible:function(n){return this.visible=n,this},setAlpha:function(n){return this.alpha=n,this},setTint:function(n){return this.tint=n,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(n){this.parent.dirty|=this._visible!==n,this._visible=n}},alpha:{get:function(){return this._alpha},set:function(n){this.parent.dirty|=this._alpha>0!=n>0,this._alpha=n}}});v.exports=a},16005:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),p=2,a={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(n,i,e,r){return n===void 0&&(n=1),i===void 0?this.alpha=n:(this._alphaTL=o(n,0,1),this._alphaTR=o(i,0,1),this._alphaBL=o(e,0,1),this._alphaBR=o(r,0,1)),this},alpha:{get:function(){return this._alpha},set:function(n){var i=o(n,0,1);this._alpha=i,this._alphaTL=i,this._alphaTR=i,this._alphaBL=i,this._alphaBR=i,i===0?this.renderFlags&=-3:this.renderFlags|=p}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(n){var i=o(n,0,1);this._alphaTL=i,i!==0&&(this.renderFlags|=p)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(n){var i=o(n,0,1);this._alphaTR=i,i!==0&&(this.renderFlags|=p)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(n){var i=o(n,0,1);this._alphaBL=i,i!==0&&(this.renderFlags|=p)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(n){var i=o(n,0,1);this._alphaBR=i,i!==0&&(this.renderFlags|=p)}}};v.exports=a},88509:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),p=2,a={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(n){return n===void 0&&(n=1),this.alpha=n,this},alpha:{get:function(){return this._alpha},set:function(n){var i=o(n,0,1);this._alpha=i,i===0?this.renderFlags&=-3:this.renderFlags|=p}}};v.exports=a},90065:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10312),p={_blendMode:o.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(a){typeof a=="string"&&(a=o[a]),a|=0,a>=-1&&(this._blendMode=a)}},setBlendMode:function(a){return this.blendMode=a,this}};v.exports=p},94215:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}},setSize:function(t,o){return this.width=t,this.height=o,this},setDisplaySize:function(t,o){return this.displayWidth=t,this.displayHeight=o,this}};v.exports=y},61683:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={texture:null,frame:null,isCropped:!1,setCrop:function(t,o,p,a){if(t===void 0)this.isCropped=!1;else if(this.frame){if(typeof t=="number")this.frame.setCropUVs(this._crop,t,o,p,a,this.flipX,this.flipY);else{var n=t;this.frame.setCropUVs(this._crop,n.x,n.y,n.width,n.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};v.exports=y},89272:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={_depth:0,depth:{get:function(){return this._depth},set:function(t){this.displayList&&this.displayList.queueDepthSort(),this._depth=t}},setDepth:function(t){return t===void 0&&(t=0),this.depth=t,this}};v.exports=y},47059:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(66064),a=t(19133),n=new o({initialize:function(e,r){this.gameObject=e,this.isPost=r,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(i){return i===void 0&&(i=0),this.padding=i,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(i){if(!this.isPost){var e=this.gameObject.scene.sys.renderer;e&&e.pipelines?(this.gameObject.pipeline=e.pipelines.FX_PIPELINE,i!==void 0&&(this.padding=i),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var i=this.list,e=0;e<i.length;e++)i[e].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(i){var e;if(this.isPost){var r=this.gameObject.getPostPipeline(String(i.type));for(Array.isArray(r)||(r=[r]),e=0;e<r.length;e++){var l=r[e];if(l.controller===i){this.gameObject.removePostPipeline(l),i.destroy();break}}}else{var s=this.list;for(e=0;e<s.length;e++)s[e]===i&&(a(s,e),i.destroy())}return this.gameObject},disable:function(i){return i===void 0&&(i=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,i&&this.clear(),this.gameObject},add:function(i,e){if(this.isPost){var r=String(i.type);this.gameObject.setPostPipeline(r,e);var l=this.gameObject.getPostPipeline(r);if(l)return Array.isArray(l)&&(l=l.pop()),l.controller=i,i}else return this.enabled||this.enable(),this.list.push(i),i},addGlow:function(i,e,r,l,s,u){return this.add(new p.Glow(this.gameObject,i,e,r,l),{quality:s,distance:u})},addShadow:function(i,e,r,l,s,u,d){return this.add(new p.Shadow(this.gameObject,i,e,r,l,s,u,d))},addPixelate:function(i){return this.add(new p.Pixelate(this.gameObject,i))},addVignette:function(i,e,r,l){return this.add(new p.Vignette(this.gameObject,i,e,r,l))},addShine:function(i,e,r,l){return this.add(new p.Shine(this.gameObject,i,e,r,l))},addBlur:function(i,e,r,l,s,u){return this.add(new p.Blur(this.gameObject,i,e,r,l,s,u))},addGradient:function(i,e,r,l,s,u,d,f){return this.add(new p.Gradient(this.gameObject,i,e,r,l,s,u,d,f))},addBloom:function(i,e,r,l,s,u){return this.add(new p.Bloom(this.gameObject,i,e,r,l,s,u))},addColorMatrix:function(){return this.add(new p.ColorMatrix(this.gameObject))},addCircle:function(i,e,r,l,s){return this.add(new p.Circle(this.gameObject,i,e,r,l,s))},addBarrel:function(i){return this.add(new p.Barrel(this.gameObject,i))},addDisplacement:function(i,e,r){return this.add(new p.Displacement(this.gameObject,i,e,r))},addWipe:function(i,e,r){return this.add(new p.Wipe(this.gameObject,i,e,r))},addReveal:function(i,e,r){return this.add(new p.Wipe(this.gameObject,i,e,r,!0))},addBokeh:function(i,e,r){return this.add(new p.Bokeh(this.gameObject,i,e,r))},addTiltShift:function(i,e,r,l,s,u){return this.add(new p.Bokeh(this.gameObject,i,e,r,!0,l,s,u))},destroy:function(){this.clear(),this.gameObject=null}});v.exports=n},54434:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(t){return this.flipX=t,this},setFlipY:function(t){return this.flipY=t,this},setFlip:function(t,o){return this.flipX=t,this.flipY=o,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};v.exports=y},8004:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),p=t(11520),a=t(26099),n={prepareBoundsOutput:function(i,e){if(e===void 0&&(e=!1),this.rotation!==0&&p(i,this.x,this.y,this.rotation),e&&this.parentContainer){var r=this.parentContainer.getBoundsTransformMatrix();r.transformPoint(i.x,i.y,i)}return i},getCenter:function(i,e){return i===void 0&&(i=new a),i.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,i.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(i,e)},getTopLeft:function(i,e){return i||(i=new a),i.x=this.x-this.displayWidth*this.originX,i.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(i,e)},getTopCenter:function(i,e){return i||(i=new a),i.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,i.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(i,e)},getTopRight:function(i,e){return i||(i=new a),i.x=this.x-this.displayWidth*this.originX+this.displayWidth,i.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(i,e)},getLeftCenter:function(i,e){return i||(i=new a),i.x=this.x-this.displayWidth*this.originX,i.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(i,e)},getRightCenter:function(i,e){return i||(i=new a),i.x=this.x-this.displayWidth*this.originX+this.displayWidth,i.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(i,e)},getBottomLeft:function(i,e){return i||(i=new a),i.x=this.x-this.displayWidth*this.originX,i.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(i,e)},getBottomCenter:function(i,e){return i||(i=new a),i.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,i.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(i,e)},getBottomRight:function(i,e){return i||(i=new a),i.x=this.x-this.displayWidth*this.originX+this.displayWidth,i.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(i,e)},getBounds:function(i){i===void 0&&(i=new o);var e,r,l,s,u,d,f,c;if(this.parentContainer){var m=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(i),m.transformPoint(i.x,i.y,i),e=i.x,r=i.y,this.getTopRight(i),m.transformPoint(i.x,i.y,i),l=i.x,s=i.y,this.getBottomLeft(i),m.transformPoint(i.x,i.y,i),u=i.x,d=i.y,this.getBottomRight(i),m.transformPoint(i.x,i.y,i),f=i.x,c=i.y}else this.getTopLeft(i),e=i.x,r=i.y,this.getTopRight(i),l=i.x,s=i.y,this.getBottomLeft(i),u=i.x,d=i.y,this.getBottomRight(i),f=i.x,c=i.y;return i.x=Math.min(e,l,u,f),i.y=Math.min(r,s,d,c),i.width=Math.max(e,l,u,f)-i.x,i.height=Math.max(r,s,d,c)-i.y,i}};v.exports=n},8573:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(6858),p=t(80661),a={mask:null,setMask:function(n){return this.mask=n,this},clearMask:function(n){return n===void 0&&(n=!1),n&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(n,i,e,r,l){return n===void 0&&(this.texture||this.shader||this.geom)&&(n=this),new o(this.scene,n,i,e,r,l)},createGeometryMask:function(n){return n===void 0&&(this.type==="Graphics"||this.geom)&&(n=this),new p(this.scene,n)}};v.exports=a},27387:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(t){this._displayOriginX=t,this.originX=t/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(t){this._displayOriginY=t,this.originY=t/this.height}},setOrigin:function(t,o){return t===void 0&&(t=.5),o===void 0&&(o=t),this.originX=t,this.originY=o,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(t,o){return t===void 0&&(t=0),o===void 0&&(o=t),this.displayOriginX=t,this.displayOriginY=o,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};v.exports=y},37640:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39506),p=t(57355),a=t(35154),n=t(86353),i=t(26099),e={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:n.PLAYING_FORWARD,setPath:function(r,l){l===void 0&&(l=this.pathConfig);var s=this.pathTween;return s&&s.isPlaying()&&s.stop(),this.path=r,l&&this.startFollow(l),this},setRotateToPath:function(r,l){return l===void 0&&(l=0),this.rotateToPath=r,this.pathRotationOffset=l,this},isFollowing:function(){var r=this.pathTween;return r&&r.isPlaying()},startFollow:function(r,l){r===void 0&&(r={}),l===void 0&&(l=0);var s=this.pathTween;s&&s.isPlaying()&&s.stop(),typeof r=="number"&&(r={duration:r}),r.from=a(r,"from",0),r.to=a(r,"to",1);var u=p(r,"positionOnPath",!1);this.rotateToPath=p(r,"rotateToPath",!1),this.pathRotationOffset=a(r,"rotationOffset",0);var d=a(r,"startAt",l);if(d&&(r.onStart=function(c){var m=c.data[0];m.progress=d,m.elapsed=m.duration*d;var T=m.ease(m.progress);m.current=m.start+(m.end-m.start)*T,m.setTargetValue()}),this.pathOffset||(this.pathOffset=new i(this.x,this.y)),this.pathVector||(this.pathVector=new i),this.pathDelta||(this.pathDelta=new i),this.pathDelta.reset(),r.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(r),this.path.getStartPoint(this.pathOffset),u&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=n.PLAYING_FORWARD,this.rotateToPath){var f=this.path.getPoint(.1);this.rotation=Math.atan2(f.y-this.y,f.x-this.x)+o(this.pathRotationOffset)}return this.pathConfig=r,this},pauseFollow:function(){var r=this.pathTween;return r&&r.isPlaying()&&r.pause(),this},resumeFollow:function(){var r=this.pathTween;return r&&r.isPaused()&&r.resume(),this},stopFollow:function(){var r=this.pathTween;return r&&r.isPlaying()&&r.stop(),this},pathUpdate:function(){var r=this.pathTween;if(r&&r.data){var l=r.data[0],s=this.pathDelta,u=this.pathVector;if(s.copy(u).negate(),l.state===n.COMPLETE){this.path.getPoint(l.end,u),s.add(u),u.add(this.pathOffset),this.setPosition(u.x,u.y);return}else if(l.state!==n.PLAYING_FORWARD&&l.state!==n.PLAYING_BACKWARD)return;this.path.getPoint(r.getValue(),u),s.add(u),u.add(this.pathOffset);var d=this.x,f=this.y;this.setPosition(u.x,u.y);var c=this.x-d,m=this.y-f;if(c===0&&m===0)return;if(l.state!==this._prevDirection){this._prevDirection=l.state;return}this.rotateToPath&&(this.rotation=Math.atan2(m,c)+o(this.pathRotationOffset))}}};v.exports=e},72699:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62644),p={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(a){this.pipelineData={};var n=this.scene.sys.renderer;if(!n)return!1;var i=n.pipelines;if(i){a===void 0&&(a=i.default);var e=i.get(a);if(e)return this.defaultPipeline=e,this.pipeline=e,!0}return!1},setPipeline:function(a,n,i){var e=this.scene.sys.renderer;if(!e)return this;var r=e.pipelines;if(r){var l=r.get(a);l&&(this.pipeline=l),n&&(this.pipelineData=i?o(n):n)}return this},setPipelineData:function(a,n){var i=this.pipelineData;return n===void 0?delete i[a]:i[a]=n,this},resetPipeline:function(a){return a===void 0&&(a=!1),this.pipeline=this.defaultPipeline,a&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline.name}};v.exports=p},17581:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62644),p=t(47059),a=t(19133),n={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(i){this.postPipelines=[],this.postPipelineData={},this.postFX=new p(this,!0),i&&(this.preFX=new p(this,!1))},setPostPipeline:function(i,e,r){var l=this.scene.sys.renderer;if(!l)return this;var s=l.pipelines;if(s){Array.isArray(i)||(i=[i]);for(var u=0;u<i.length;u++){var d=s.getPostPipeline(i[u],this,e);d&&this.postPipelines.push(d)}e&&(this.postPipelineData=r?o(e):e)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(i,e){var r=this.postPipelineData;return e===void 0?delete r[i]:r[i]=e,this},getPostPipeline:function(i){for(var e=typeof i=="string",r=this.postPipelines,l=[],s=0;s<r.length;s++){var u=r[s];(e&&u.name===i||!e&&u instanceof i)&&l.push(u)}return l.length===1?l[0]:l},resetPostPipeline:function(i){i===void 0&&(i=!1);for(var e=this.postPipelines,r=0;r<e.length;r++)e[r].destroy();this.postPipelines=[],this.hasPostPipeline=!1,i&&(this.postPipelineData={})},removePostPipeline:function(i){for(var e=typeof i=="string",r=this.postPipelines,l=r.length-1;l>=0;l--){var s=r[l];(e&&s.name===i||!e&&s===i)&&(s.destroy(),a(r,l))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};v.exports=n},80227:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(t,o){return o===void 0&&(o=t),this.scrollFactorX=t,this.scrollFactorY=o,this}};v.exports=y},16736:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(t){this.scaleX=t/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(t){this.scaleY=t/this.frame.realHeight}},setSizeToFrame:function(t){t||(t=this.frame),this.width=t.realWidth,this.height=t.realHeight;var o=this.input;return o&&!o.customHitArea&&(o.hitArea.width=this.width,o.hitArea.height=this.height),this},setSize:function(t,o){return this.width=t,this.height=o,this},setDisplaySize:function(t,o){return this.displayWidth=t,this.displayHeight=o,this}};v.exports=y},37726:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(4327),p=8,a={texture:null,frame:null,isCropped:!1,setTexture:function(n,i,e,r){return this.texture=this.scene.sys.textures.get(n),this.setFrame(i,e,r)},setFrame:function(n,i,e){return i===void 0&&(i=!0),e===void 0&&(e=!0),n instanceof o?(this.texture=this.scene.sys.textures.get(n.texture.key),this.frame=n):this.frame=this.texture.get(n),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=-9:this.renderFlags|=p,this._sizeComponent&&i&&this.setSizeToFrame(),this._originComponent&&e&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};v.exports=a},79812:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(4327),p=8,a={texture:null,frame:null,isCropped:!1,setCrop:function(n,i,e,r){if(n===void 0)this.isCropped=!1;else if(this.frame){if(typeof n=="number")this.frame.setCropUVs(this._crop,n,i,e,r,this.flipX,this.flipY);else{var l=n;this.frame.setCropUVs(this._crop,l.x,l.y,l.width,l.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(n,i){return this.texture=this.scene.sys.textures.get(n),this.setFrame(i)},setFrame:function(n,i,e){return i===void 0&&(i=!0),e===void 0&&(e=!0),n instanceof o?(this.texture=this.scene.sys.textures.get(n.texture.key),this.frame=n):this.frame=this.texture.get(n),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=-9:this.renderFlags|=p,this._sizeComponent&&i&&this.setSizeToFrame(),this._originComponent&&e&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};v.exports=a},27472:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(t,o,p,a){return t===void 0&&(t=16777215),o===void 0&&(o=t,p=t,a=t),this.tintTopLeft=t,this.tintTopRight=o,this.tintBottomLeft=p,this.tintBottomRight=a,this.tintFill=!1,this},setTintFill:function(t,o,p,a){return this.setTint(t,o,p,a),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(t){this.setTint(t,t,t,t)}},isTinted:{get:function(){var t=16777215;return this.tintFill||this.tintTopLeft!==t||this.tintTopRight!==t||this.tintBottomLeft!==t||this.tintBottomRight!==t}}};v.exports=y},53774:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var o={name:t.name,type:t.type,x:t.x,y:t.y,depth:t.depth,scale:{x:t.scaleX,y:t.scaleY},origin:{x:t.originX,y:t.originY},flipX:t.flipX,flipY:t.flipY,rotation:t.rotation,alpha:t.alpha,visible:t.visible,blendMode:t.blendMode,textureKey:"",frameKey:"",data:{}};return t.texture&&(o.textureKey=t.texture.key,o.frameKey=t.frame.name),o};v.exports=y},16901:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36383),p=t(61340),a=t(85955),n=t(86554),i=t(30954),e=t(26099),r=4,l={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(s){this._scaleX=s,this._scaleY=s,s===0?this.renderFlags&=-5:this.renderFlags|=r}},scaleX:{get:function(){return this._scaleX},set:function(s){this._scaleX=s,s===0?this.renderFlags&=-5:this._scaleY!==0&&(this.renderFlags|=r)}},scaleY:{get:function(){return this._scaleY},set:function(s){this._scaleY=s,s===0?this.renderFlags&=-5:this._scaleX!==0&&(this.renderFlags|=r)}},angle:{get:function(){return i(this._rotation*o.RAD_TO_DEG)},set:function(s){this.rotation=i(s)*o.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(s){this._rotation=n(s)}},setPosition:function(s,u,d,f){return s===void 0&&(s=0),u===void 0&&(u=s),d===void 0&&(d=0),f===void 0&&(f=0),this.x=s,this.y=u,this.z=d,this.w=f,this},copyPosition:function(s){return s.x!==void 0&&(this.x=s.x),s.y!==void 0&&(this.y=s.y),s.z!==void 0&&(this.z=s.z),s.w!==void 0&&(this.w=s.w),this},setRandomPosition:function(s,u,d,f){return s===void 0&&(s=0),u===void 0&&(u=0),d===void 0&&(d=this.scene.sys.scale.width),f===void 0&&(f=this.scene.sys.scale.height),this.x=s+Math.random()*d,this.y=u+Math.random()*f,this},setRotation:function(s){return s===void 0&&(s=0),this.rotation=s,this},setAngle:function(s){return s===void 0&&(s=0),this.angle=s,this},setScale:function(s,u){return s===void 0&&(s=1),u===void 0&&(u=s),this.scaleX=s,this.scaleY=u,this},setX:function(s){return s===void 0&&(s=0),this.x=s,this},setY:function(s){return s===void 0&&(s=0),this.y=s,this},setZ:function(s){return s===void 0&&(s=0),this.z=s,this},setW:function(s){return s===void 0&&(s=0),this.w=s,this},getLocalTransformMatrix:function(s){return s===void 0&&(s=new p),s.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(s,u){s===void 0&&(s=new p);var d=this.parentContainer;if(!d)return this.getLocalTransformMatrix(s);for(u||(u=new p),s.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);d;)u.applyITRS(d.x,d.y,d._rotation,d._scaleX,d._scaleY),u.multiply(s,s),d=d.parentContainer;return s},getLocalPoint:function(s,u,d,f){d||(d=new e),f||(f=this.scene.sys.cameras.main);var c=f.scrollX,m=f.scrollY,T=s+c*this.scrollFactorX-c,C=u+m*this.scrollFactorY-m;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(T,C,d):a(T,C,this.x,this.y,this.rotation,this.scaleX,this.scaleY,d),this._originComponent&&(d.x+=this._displayOriginX,d.y+=this._displayOriginY),d},getParentRotation:function(){for(var s=0,u=this.parentContainer;u;)s+=u.rotation,u=u.parentContainer;return s}};v.exports=l},61340:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(36383),a=t(26099),n=new o({initialize:function(e,r,l,s,u,d){e===void 0&&(e=1),r===void 0&&(r=0),l===void 0&&(l=0),s===void 0&&(s=1),u===void 0&&(u=0),d===void 0&&(d=0),this.matrix=new Float32Array([e,r,l,s,u,d,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(i){this.matrix[0]=i}},b:{get:function(){return this.matrix[1]},set:function(i){this.matrix[1]=i}},c:{get:function(){return this.matrix[2]},set:function(i){this.matrix[2]=i}},d:{get:function(){return this.matrix[3]},set:function(i){this.matrix[3]=i}},e:{get:function(){return this.matrix[4]},set:function(i){this.matrix[4]=i}},f:{get:function(){return this.matrix[5]},set:function(i){this.matrix[5]=i}},tx:{get:function(){return this.matrix[4]},set:function(i){this.matrix[4]=i}},ty:{get:function(){return this.matrix[5]},set:function(i){this.matrix[5]=i}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var i=this.matrix,e=i[0],r=i[1],l=i[2],s=i[3];return e||r?r>0?Math.acos(e/this.scaleX):-Math.acos(e/this.scaleX):l||s?p.TAU-(s>0?Math.acos(-l/this.scaleY):-Math.acos(l/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var i=this.matrix;return i[0]=1,i[1]=0,i[2]=0,i[3]=1,i[4]=0,i[5]=0,this},translate:function(i,e){var r=this.matrix;return r[4]=r[0]*i+r[2]*e+r[4],r[5]=r[1]*i+r[3]*e+r[5],this},scale:function(i,e){var r=this.matrix;return r[0]*=i,r[1]*=i,r[2]*=e,r[3]*=e,this},rotate:function(i){var e=Math.sin(i),r=Math.cos(i),l=this.matrix,s=l[0],u=l[1],d=l[2],f=l[3];return l[0]=s*r+d*e,l[1]=u*r+f*e,l[2]=s*-e+d*r,l[3]=u*-e+f*r,this},multiply:function(i,e){var r=this.matrix,l=i.matrix,s=r[0],u=r[1],d=r[2],f=r[3],c=r[4],m=r[5],T=l[0],C=l[1],S=l[2],A=l[3],P=l[4],R=l[5],F=e===void 0?r:e.matrix;return F[0]=T*s+C*d,F[1]=T*u+C*f,F[2]=S*s+A*d,F[3]=S*u+A*f,F[4]=P*s+R*d+c,F[5]=P*u+R*f+m,F},multiplyWithOffset:function(i,e,r){var l=this.matrix,s=i.matrix,u=l[0],d=l[1],f=l[2],c=l[3],m=l[4],T=l[5],C=e*u+r*f+m,S=e*d+r*c+T,A=s[0],P=s[1],R=s[2],F=s[3],D=s[4],L=s[5];return l[0]=A*u+P*f,l[1]=A*d+P*c,l[2]=R*u+F*f,l[3]=R*d+F*c,l[4]=D*u+L*f+C,l[5]=D*d+L*c+S,this},transform:function(i,e,r,l,s,u){var d=this.matrix,f=d[0],c=d[1],m=d[2],T=d[3],C=d[4],S=d[5];return d[0]=i*f+e*m,d[1]=i*c+e*T,d[2]=r*f+l*m,d[3]=r*c+l*T,d[4]=s*f+u*m+C,d[5]=s*c+u*T+S,this},transformPoint:function(i,e,r){r===void 0&&(r={x:0,y:0});var l=this.matrix,s=l[0],u=l[1],d=l[2],f=l[3],c=l[4],m=l[5];return r.x=i*s+e*d+c,r.y=i*u+e*f+m,r},invert:function(){var i=this.matrix,e=i[0],r=i[1],l=i[2],s=i[3],u=i[4],d=i[5],f=e*s-r*l;return i[0]=s/f,i[1]=-r/f,i[2]=-l/f,i[3]=e/f,i[4]=(l*d-s*u)/f,i[5]=-(e*d-r*u)/f,this},copyFrom:function(i){var e=this.matrix;return e[0]=i.a,e[1]=i.b,e[2]=i.c,e[3]=i.d,e[4]=i.e,e[5]=i.f,this},copyFromArray:function(i){var e=this.matrix;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],this},copyToContext:function(i){var e=this.matrix;return i.transform(e[0],e[1],e[2],e[3],e[4],e[5]),i},setToContext:function(i){return i.setTransform(this),i},copyToArray:function(i){var e=this.matrix;return i===void 0?i=[e[0],e[1],e[2],e[3],e[4],e[5]]:(i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=e[3],i[4]=e[4],i[5]=e[5]),i},setTransform:function(i,e,r,l,s,u){var d=this.matrix;return d[0]=i,d[1]=e,d[2]=r,d[3]=l,d[4]=s,d[5]=u,this},decomposeMatrix:function(){var i=this.decomposedMatrix,e=this.matrix,r=e[0],l=e[1],s=e[2],u=e[3],d=r*u-l*s;if(i.translateX=e[4],i.translateY=e[5],r||l){var f=Math.sqrt(r*r+l*l);i.rotation=l>0?Math.acos(r/f):-Math.acos(r/f),i.scaleX=f,i.scaleY=d/f}else if(s||u){var c=Math.sqrt(s*s+u*u);i.rotation=Math.PI*.5-(u>0?Math.acos(-s/c):-Math.acos(s/c)),i.scaleX=d/c,i.scaleY=c}else i.rotation=0,i.scaleX=0,i.scaleY=0;return i},applyITRS:function(i,e,r,l,s){var u=this.matrix,d=Math.sin(r),f=Math.cos(r);return u[4]=i,u[5]=e,u[0]=f*l,u[1]=d*l,u[2]=-d*s,u[3]=f*s,this},applyInverse:function(i,e,r){r===void 0&&(r=new a);var l=this.matrix,s=l[0],u=l[1],d=l[2],f=l[3],c=l[4],m=l[5],T=1/(s*f+d*-u);return r.x=f*T*i+-d*T*e+(m*d-c*f)*T,r.y=s*T*e+-u*T*i+(-m*s+c*u)*T,r},setQuad:function(i,e,r,l,s,u){s===void 0&&(s=!1),u===void 0&&(u=this.quad);var d=this.matrix,f=d[0],c=d[1],m=d[2],T=d[3],C=d[4],S=d[5];return s?(u[0]=Math.round(i*f+e*m+C),u[1]=Math.round(i*c+e*T+S),u[2]=Math.round(i*f+l*m+C),u[3]=Math.round(i*c+l*T+S),u[4]=Math.round(r*f+l*m+C),u[5]=Math.round(r*c+l*T+S),u[6]=Math.round(r*f+e*m+C),u[7]=Math.round(r*c+e*T+S)):(u[0]=i*f+e*m+C,u[1]=i*c+e*T+S,u[2]=i*f+l*m+C,u[3]=i*c+l*T+S,u[4]=r*f+l*m+C,u[5]=r*c+l*T+S,u[6]=r*f+e*m+C,u[7]=r*c+e*T+S),u},getX:function(i,e){return i*this.a+e*this.c+this.e},getY:function(i,e){return i*this.b+e*this.d+this.f},getXRound:function(i,e,r){var l=this.getX(i,e);return r&&(l=Math.round(l)),l},getYRound:function(i,e,r){var l=this.getY(i,e);return r&&(l=Math.round(l)),l},getCSSMatrix:function(){var i=this.matrix;return"matrix("+i[0]+","+i[1]+","+i[2]+","+i[3]+","+i[4]+","+i[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});v.exports=n},59715:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=1,t={_visible:!0,visible:{get:function(){return this._visible},set:function(o){o?(this._visible=!0,this.renderFlags|=y):(this._visible=!1,this.renderFlags&=-2)}},setVisible:function(o){return this.visible=o,this}};v.exports=t},31401:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Alpha:t(16005),AlphaSingle:t(88509),BlendMode:t(90065),ComputedSize:t(94215),Crop:t(61683),Depth:t(89272),Flip:t(54434),FX:t(47059),GetBounds:t(8004),Mask:t(8573),Origin:t(27387),PathFollower:t(37640),Pipeline:t(72699),PostPipeline:t(17581),ScrollFactor:t(80227),Size:t(16736),Texture:t(37726),TextureCrop:t(79812),Tint:t(27472),ToJSON:t(53774),Transform:t(16901),TransformMatrix:t(61340),Visible:t(59715)}},31559:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37105),p=t(10312),a=t(83419),n=t(31401),i=t(51708),e=t(95643),r=t(87841),l=t(29959),s=t(36899),u=t(26099),d=new a({Extends:e,Mixins:[n.AlphaSingle,n.BlendMode,n.ComputedSize,n.Depth,n.Mask,n.PostPipeline,n.Transform,n.Visible,l],initialize:function(c,m,T,C){e.call(this,c,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new n.TransformMatrix,this.tempTransformMatrix=new n.TransformMatrix,this._sortKey="",this._sysEvents=c.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(m,T),this.setBlendMode(p.SKIP_CHECK),C&&this.add(C)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(f){return f===void 0&&(f=!0),this.exclusive=f,this},getBounds:function(f){if(f===void 0&&(f=new r),f.setTo(this.x,this.y,0,0),this.parentContainer){var c=this.parentContainer.getBoundsTransformMatrix(),m=c.transformPoint(this.x,this.y);f.setTo(m.x,m.y,0,0)}if(this.list.length>0){var T=this.list,C=new r,S=!1;f.setEmpty();for(var A=0;A<T.length;A++){var P=T[A];P.getBounds&&(P.getBounds(C),S?s(C,f,f):(f.setTo(C.x,C.y,C.width,C.height),S=!0))}}return f},addHandler:function(f){f.once(i.DESTROY,this.onChildDestroyed,this),this.exclusive&&(f.parentContainer&&f.parentContainer.remove(f),f.parentContainer=this,f.removeFromDisplayList(),f.addedToScene())},removeHandler:function(f){f.off(i.DESTROY,this.remove,this),this.exclusive&&(f.parentContainer=null,f.removedFromScene(),f.addToDisplayList())},pointToContainer:function(f,c){c===void 0&&(c=new u),this.parentContainer?this.parentContainer.pointToContainer(f,c):(c.x=f.x,c.y=f.y);var m=this.tempTransformMatrix;return m.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),m.invert(),m.transformPoint(f.x,f.y,c),c},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(f){return o.Add(this.list,f,this.maxSize,this.addHandler,this),this},addAt:function(f,c){return o.AddAt(this.list,f,c,this.maxSize,this.addHandler,this),this},getAt:function(f){return this.list[f]},getIndex:function(f){return this.list.indexOf(f)},sort:function(f,c){return f?(c===void 0&&(c=function(m,T){return m[f]-T[f]}),o.StableSort(this.list,c),this):this},getByName:function(f){return o.GetFirst(this.list,"name",f)},getRandom:function(f,c){return o.GetRandom(this.list,f,c)},getFirst:function(f,c,m,T){return o.GetFirst(this.list,f,c,m,T)},getAll:function(f,c,m,T){return o.GetAll(this.list,f,c,m,T)},count:function(f,c,m,T){return o.CountAllMatching(this.list,f,c,m,T)},swap:function(f,c){return o.Swap(this.list,f,c),this},moveTo:function(f,c){return o.MoveTo(this.list,f,c),this},moveAbove:function(f,c){return o.MoveAbove(this.list,f,c),this},moveBelow:function(f,c){return o.MoveBelow(this.list,f,c),this},remove:function(f,c){var m=o.Remove(this.list,f,this.removeHandler,this);if(c&&m){Array.isArray(m)||(m=[m]);for(var T=0;T<m.length;T++)m[T].destroy()}return this},removeAt:function(f,c){var m=o.RemoveAt(this.list,f,this.removeHandler,this);return c&&m&&m.destroy(),this},removeBetween:function(f,c,m){var T=o.RemoveBetween(this.list,f,c,this.removeHandler,this);if(m)for(var C=0;C<T.length;C++)T[C].destroy();return this},removeAll:function(f){var c=this.list;if(f){for(var m=0;m<c.length;m++)c[m]&&c[m].scene&&(c[m].off(i.DESTROY,this.onChildDestroyed,this),c[m].destroy());this.list=[]}else o.RemoveBetween(c,0,c.length,this.removeHandler,this);return this},bringToTop:function(f){return o.BringToTop(this.list,f),this},sendToBack:function(f){return o.SendToBack(this.list,f),this},moveUp:function(f){return o.MoveUp(this.list,f),this},moveDown:function(f){return o.MoveDown(this.list,f),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return o.Shuffle(this.list),this},replace:function(f,c,m){var T=o.Replace(this.list,f,c);return T&&(this.addHandler(c),this.removeHandler(f),m&&f.destroy()),this},exists:function(f){return this.list.indexOf(f)>-1},setAll:function(f,c,m,T){return o.SetAll(this.list,f,c,m,T),this},each:function(f,c){var m=[null],T,C=this.list.slice(),S=C.length;for(T=2;T<arguments.length;T++)m.push(arguments[T]);for(T=0;T<S;T++)m[0]=C[T],f.apply(c,m);return this},iterate:function(f,c){var m=[null],T;for(T=2;T<arguments.length;T++)m.push(arguments[T]);for(T=0;T<this.list.length;T++)m[0]=this.list[T],f.apply(c,m);return this},setScrollFactor:function(f,c,m){return c===void 0&&(c=f),m===void 0&&(m=!1),this.scrollFactorX=f,this.scrollFactorY=c,m&&(o.SetAll(this.list,"scrollFactorX",f),o.SetAll(this.list,"scrollFactorY",c)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[]},onChildDestroyed:function(f){o.Remove(this.list,f),this.exclusive&&(f.parentContainer=null,f.removedFromScene())}});v.exports=d},53584:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a){p.addToRenderList(o);var n=o.list;if(n.length!==0){var i=o.localTransform;a?(i.loadIdentity(),i.multiply(a),i.translate(o.x,o.y),i.rotate(o.rotation),i.scale(o.scaleX,o.scaleY)):i.applyITRS(o.x,o.y,o.rotation,o.scaleX,o.scaleY);var e=o.blendMode!==-1;e||t.setBlendMode(0);var r=o._alpha,l=o.scrollFactorX,s=o.scrollFactorY;o.mask&&o.mask.preRenderCanvas(t,null,p);for(var u=0;u<n.length;u++){var d=n[u];if(d.willRender(p)){var f=d.alpha,c=d.scrollFactorX,m=d.scrollFactorY;!e&&d.blendMode!==t.currentBlendMode&&t.setBlendMode(d.blendMode),d.setScrollFactor(c*l,m*s),d.setAlpha(f*r),d.renderCanvas(t,d,p,i),d.setAlpha(f),d.setScrollFactor(c,m)}}o.mask&&o.mask.postRenderCanvas(t)}};v.exports=y},77143:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),p=t(31559),a=t(44603),n=t(23568),i=t(95540);a.register("container",function(e,r){e===void 0&&(e={});var l=n(e,"x",0),s=n(e,"y",0),u=i(e,"children",null),d=new p(this.scene,l,s,u);return r!==void 0&&(e.add=r),o(this.scene,d,e),d})},24961:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(31559),p=t(39429);p.register("container",function(a,n,i){return this.displayList.add(new o(this.scene,a,n,i))})},29959:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,a=o;p=t(72249),a=t(53584),v.exports={renderWebGL:p,renderCanvas:a}},72249:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a){p.addToRenderList(o);var n=o.list,i=n.length;if(i!==0){var e=o.localTransform;a?(e.loadIdentity(),e.multiply(a),e.translate(o.x,o.y),e.rotate(o.rotation),e.scale(o.scaleX,o.scaleY)):e.applyITRS(o.x,o.y,o.rotation,o.scaleX,o.scaleY),t.pipelines.preBatch(o);var r=o.blendMode!==-1;r||t.setBlendMode(0);for(var l=o.alpha,s=o.scrollFactorX,u=o.scrollFactorY,d=0;d<i;d++){var f=n[d];if(f.willRender(p)){var c,m,T,C;if(f.alphaTopLeft!==void 0)c=f.alphaTopLeft,m=f.alphaTopRight,T=f.alphaBottomLeft,C=f.alphaBottomRight;else{var S=f.alpha;c=S,m=S,T=S,C=S}var A=f.scrollFactorX,P=f.scrollFactorY;!r&&f.blendMode!==t.currentBlendMode&&t.setBlendMode(f.blendMode);var R=f.mask;R&&R.preRenderWebGL(t,f,p);var F=f.type;F!==t.currentType&&(t.newType=!0,t.currentType=F),t.nextTypeMatch=d<i-1?n[d+1].type===t.currentType:!1,f.setScrollFactor(A*s,P*u),f.setAlpha(c*l,m*l,T*l,C*l),f.renderWebGL(t,f,p,e,o),f.setAlpha(c,m,T,C),f.setScrollFactor(A,P),R&&R.postRenderWebGL(t,p),t.newType=!1}}t.pipelines.postBatch(o)}};v.exports=y},47407:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},3069:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(31401),a=t(441),n=t(95643),i=t(41212),e=t(35846),r=t(44594),l=t(61369),s=new o({Extends:n,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.Origin,p.ScrollFactor,p.Transform,p.Visible,a],initialize:function(d,f,c,m,T,C){n.call(this,d,"DOMElement"),this.parent=d.sys.game.domContainer,this.cache=d.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new l,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(f,c),typeof m=="string"?m[0]==="#"?this.setElement(m.substr(1),T,C):this.createElement(m,T,C):m&&this.setElement(m,T,C),d.sys.events.on(r.SLEEP,this.handleSceneEvent,this),d.sys.events.on(r.WAKE,this.handleSceneEvent,this),d.sys.events.on(r.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(u){var d=this.node,f=d.style;d&&(f.display=u.settings.visible?"block":"none")},setSkew:function(u,d){return u===void 0&&(u=0),d===void 0&&(d=u),this.skewX=u,this.skewY=d,this},setPerspective:function(u){return this.parent.style.perspective=u+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(u){this.parent.style.perspective=u+"px"}},addListener:function(u){if(this.node){u=u.split(" ");for(var d=0;d<u.length;d++)this.node.addEventListener(u[d],this.handler,!1)}return this},removeListener:function(u){if(this.node){u=u.split(" ");for(var d=0;d<u.length;d++)this.node.removeEventListener(u[d],this.handler)}return this},dispatchNativeEvent:function(u){this.emit(u.type,u)},createElement:function(u,d,f){return this.setElement(document.createElement(u),d,f)},setElement:function(u,d,f){this.removeElement();var c;if(typeof u=="string"?(u[0]==="#"&&(u=u.substr(1)),c=document.getElementById(u)):typeof u=="object"&&u.nodeType===1&&(c=u),!c)return this;if(this.node=c,d&&i(d))for(var m in d)c.style[m]=d[m];else typeof d=="string"&&(c.style=d);return c.style.zIndex="0",c.style.display="inline",c.style.position="absolute",c.phaser=this,this.parent&&this.parent.appendChild(c),f&&(c.innerText=f),this.updateSize()},createFromCache:function(u,d){var f=this.cache.get(u);return f&&this.createFromHTML(f,d),this},createFromHTML:function(u,d){d===void 0&&(d="div"),this.removeElement();var f=document.createElement(d);return this.node=f,f.style.zIndex="0",f.style.display="inline",f.style.position="absolute",f.phaser=this,this.parent&&this.parent.appendChild(f),f.innerHTML=u,this.updateSize()},removeElement:function(){return this.node&&(e(this.node),this.node=null),this},updateSize:function(){var u=this.node,d=u.getBoundingClientRect();return this.width=u.clientWidth,this.height=u.clientHeight,this.displayWidth=d.width||0,this.displayHeight=d.height||0,this},getChildByProperty:function(u,d){if(this.node){for(var f=this.node.querySelectorAll("*"),c=0;c<f.length;c++)if(f[c][u]===d)return f[c]}return null},getChildByID:function(u){return this.getChildByProperty("id",u)},getChildByName:function(u){return this.getChildByProperty("name",u)},setClassName:function(u){return this.node&&(this.node.className=u,this.updateSize()),this},setText:function(u){return this.node&&(this.node.innerText=u,this.updateSize()),this},setHTML:function(u){return this.node&&(this.node.innerHTML=u,this.updateSize()),this},preRender:function(){var u=this.parentContainer,d=this.node;d&&u&&!u.willRender()&&(d.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(r.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(r.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(r.PRE_RENDER,this.preRender,this)}});v.exports=s},49381:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(47407),p=t(95643),a=t(61340),n=new a,i=new a,e=new a,r=function(l,s,u,d){if(s.node){var f=s.node.style,c=s.scene.sys.settings;if(!f||!c.visible||p.RENDER_MASK!==s.renderFlags||s.cameraFilter!==0&&s.cameraFilter&u.id||s.parentContainer&&!s.parentContainer.willRender()){f.display="none";return}var m=s.parentContainer,T=u.alpha*s.alpha;m&&(T*=m.alpha);var C=n,S=i,A=e,P=0,R=0,F="0%",D="0%";d?(P=s.width*s.scaleX*s.originX,R=s.height*s.scaleY*s.originY,S.applyITRS(s.x-P,s.y-R,s.rotation,s.scaleX,s.scaleY),C.copyFrom(u.matrix),C.multiplyWithOffset(d,-u.scrollX*s.scrollFactorX,-u.scrollY*s.scrollFactorY),S.e=s.x-P,S.f=s.y-R,C.multiply(S,A)):(P=s.width*s.originX,R=s.height*s.originY,S.applyITRS(s.x-P,s.y-R,s.rotation,s.scaleX,s.scaleY),C.copyFrom(u.matrix),F=100*s.originX+"%",D=100*s.originY+"%",S.e-=u.scrollX*s.scrollFactorX,S.f-=u.scrollY*s.scrollFactorY,C.multiply(S,A)),s.transformOnly||(f.display="block",f.opacity=T,f.zIndex=s._depth,f.pointerEvents=s.pointerEvents,f.mixBlendMode=o[s._blendMode]),f.transform=A.getCSSMatrix()+" skew("+s.skewX+"rad, "+s.skewY+"rad) rotate3d("+s.rotate3d.x+","+s.rotate3d.y+","+s.rotate3d.z+","+s.rotate3d.w+s.rotate3dAngle+")",f.transformOrigin=F+" "+D}};v.exports=r},2611:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(3069),p=t(39429);p.register("dom",function(a,n,i,e,r){var l=new o(this.scene,a,n,i,e,r);return this.displayList.add(l),l})},441:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,a=o;p=t(49381),a=t(49381),v.exports={renderWebGL:p,renderCanvas:a}},62980:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="addedtoscene"},41337:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="destroy"},44947:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="removedfromscene"},49358:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="complete"},35163:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="created"},97249:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="error"},19483:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="locked"},56059:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="loop"},26772:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="metadata"},64437:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="playing"},83411:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="play"},75780:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="seeked"},67799:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="seeking"},63500:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="stalled"},55541:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="stop"},53208:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="textureready"},4992:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="unlocked"},12:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="unsupported"},51708:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ADDED_TO_SCENE:t(62980),DESTROY:t(41337),REMOVED_FROM_SCENE:t(44947),VIDEO_COMPLETE:t(49358),VIDEO_CREATED:t(35163),VIDEO_ERROR:t(97249),VIDEO_LOCKED:t(19483),VIDEO_LOOP:t(56059),VIDEO_METADATA:t(26772),VIDEO_PLAY:t(83411),VIDEO_PLAYING:t(64437),VIDEO_SEEKED:t(75780),VIDEO_SEEKING:t(67799),VIDEO_STALLED:t(63500),VIDEO_STOP:t(55541),VIDEO_TEXTURE:t(53208),VIDEO_UNLOCKED:t(4992),VIDEO_UNSUPPORTED:t(12)}},42421:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(31401),a=t(95643),n=t(64993),i=new o({Extends:a,Mixins:[p.Alpha,p.BlendMode,p.Depth,p.Flip,p.Origin,p.ScrollFactor,p.Size,p.Texture,p.Tint,p.Transform,p.Visible,n],initialize:function(r){a.call(this,r,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});v.exports=i},70217:()=>{},56315:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(42421),p=t(39429);p.register("extern",function(){var a=new o(this.scene);return this.displayList.add(a),a})},64993:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,a=o;p=t(80287),a=t(70217),v.exports={renderWebGL:p,renderCanvas:a}},80287:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),p=function(a,n,i,e){a.pipelines.clear();var r=o(n,i,e).calc;n.render.call(n,a,i,r),a.pipelines.rebind()};v.exports=p},85592:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(71911),p=t(83419),a=t(85592),n=t(31401),i=t(8497),e=t(95643),r=t(95540),l=t(35154),s=t(36383),u=t(84503),d=new p({Extends:e,Mixins:[n.AlphaSingle,n.BlendMode,n.Depth,n.Mask,n.Pipeline,n.PostPipeline,n.Transform,n.Visible,n.ScrollFactor,u],initialize:function(c,m){var T=l(m,"x",0),C=l(m,"y",0);e.call(this,c,"Graphics"),this.setPosition(T,C),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(m)},setDefaultStyles:function(f){return l(f,"lineStyle",null)&&(this.defaultStrokeWidth=l(f,"lineStyle.width",1),this.defaultStrokeColor=l(f,"lineStyle.color",16777215),this.defaultStrokeAlpha=l(f,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),l(f,"fillStyle",null)&&(this.defaultFillColor=l(f,"fillStyle.color",16777215),this.defaultFillAlpha=l(f,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(f,c,m){return m===void 0&&(m=1),this.commandBuffer.push(a.LINE_STYLE,f,c,m),this._lineWidth=f,this},fillStyle:function(f,c){return c===void 0&&(c=1),this.commandBuffer.push(a.FILL_STYLE,f,c),this},fillGradientStyle:function(f,c,m,T,C,S,A,P){return C===void 0&&(C=1),S===void 0&&(S=C),A===void 0&&(A=C),P===void 0&&(P=C),this.commandBuffer.push(a.GRADIENT_FILL_STYLE,C,S,A,P,f,c,m,T),this},lineGradientStyle:function(f,c,m,T,C,S){return S===void 0&&(S=1),this.commandBuffer.push(a.GRADIENT_LINE_STYLE,f,S,c,m,T,C),this},beginPath:function(){return this.commandBuffer.push(a.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(a.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(a.FILL_PATH),this},fill:function(){return this.commandBuffer.push(a.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(a.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(a.STROKE_PATH),this},fillCircleShape:function(f){return this.fillCircle(f.x,f.y,f.radius)},strokeCircleShape:function(f){return this.strokeCircle(f.x,f.y,f.radius)},fillCircle:function(f,c,m){return this.beginPath(),this.arc(f,c,m,0,s.PI2),this.fillPath(),this},strokeCircle:function(f,c,m){return this.beginPath(),this.arc(f,c,m,0,s.PI2),this.strokePath(),this},fillRectShape:function(f){return this.fillRect(f.x,f.y,f.width,f.height)},strokeRectShape:function(f){return this.strokeRect(f.x,f.y,f.width,f.height)},fillRect:function(f,c,m,T){return this.commandBuffer.push(a.FILL_RECT,f,c,m,T),this},strokeRect:function(f,c,m,T){var C=this._lineWidth/2,S=f-C,A=f+C;return this.beginPath(),this.moveTo(f,c),this.lineTo(f,c+T),this.strokePath(),this.beginPath(),this.moveTo(f+m,c),this.lineTo(f+m,c+T),this.strokePath(),this.beginPath(),this.moveTo(S,c),this.lineTo(A+m,c),this.strokePath(),this.beginPath(),this.moveTo(S,c+T),this.lineTo(A+m,c+T),this.strokePath(),this},fillRoundedRect:function(f,c,m,T,C){C===void 0&&(C=20);var S=C,A=C,P=C,R=C;typeof C!="number"&&(S=r(C,"tl",20),A=r(C,"tr",20),P=r(C,"bl",20),R=r(C,"br",20));var F=S>=0,D=A>=0,L=P>=0,O=R>=0;return S=Math.abs(S),A=Math.abs(A),P=Math.abs(P),R=Math.abs(R),this.beginPath(),this.moveTo(f+S,c),this.lineTo(f+m-A,c),D?this.arc(f+m-A,c+A,A,-s.TAU,0):this.arc(f+m,c,A,Math.PI,s.TAU,!0),this.lineTo(f+m,c+T-R),O?this.arc(f+m-R,c+T-R,R,0,s.TAU):this.arc(f+m,c+T,R,-s.TAU,Math.PI,!0),this.lineTo(f+P,c+T),L?this.arc(f+P,c+T-P,P,s.TAU,Math.PI):this.arc(f,c+T,P,0,-s.TAU,!0),this.lineTo(f,c+S),F?this.arc(f+S,c+S,S,-Math.PI,-s.TAU):this.arc(f,c,S,s.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(f,c,m,T,C){C===void 0&&(C=20);var S=C,A=C,P=C,R=C,F=Math.min(m,T)/2;typeof C!="number"&&(S=r(C,"tl",20),A=r(C,"tr",20),P=r(C,"bl",20),R=r(C,"br",20));var D=S>=0,L=A>=0,O=P>=0,B=R>=0;return S=Math.min(Math.abs(S),F),A=Math.min(Math.abs(A),F),P=Math.min(Math.abs(P),F),R=Math.min(Math.abs(R),F),this.beginPath(),this.moveTo(f+S,c),this.lineTo(f+m-A,c),this.moveTo(f+m-A,c),L?this.arc(f+m-A,c+A,A,-s.TAU,0):this.arc(f+m,c,A,Math.PI,s.TAU,!0),this.lineTo(f+m,c+T-R),this.moveTo(f+m,c+T-R),B?this.arc(f+m-R,c+T-R,R,0,s.TAU):this.arc(f+m,c+T,R,-s.TAU,Math.PI,!0),this.lineTo(f+P,c+T),this.moveTo(f+P,c+T),O?this.arc(f+P,c+T-P,P,s.TAU,Math.PI):this.arc(f,c+T,P,0,-s.TAU,!0),this.lineTo(f,c+S),this.moveTo(f,c+S),D?this.arc(f+S,c+S,S,-Math.PI,-s.TAU):this.arc(f,c,S,s.TAU,0,!0),this.strokePath(),this},fillPointShape:function(f,c){return this.fillPoint(f.x,f.y,c)},fillPoint:function(f,c,m){return!m||m<1?m=1:(f-=m/2,c-=m/2),this.commandBuffer.push(a.FILL_RECT,f,c,m,m),this},fillTriangleShape:function(f){return this.fillTriangle(f.x1,f.y1,f.x2,f.y2,f.x3,f.y3)},strokeTriangleShape:function(f){return this.strokeTriangle(f.x1,f.y1,f.x2,f.y2,f.x3,f.y3)},fillTriangle:function(f,c,m,T,C,S){return this.commandBuffer.push(a.FILL_TRIANGLE,f,c,m,T,C,S),this},strokeTriangle:function(f,c,m,T,C,S){return this.commandBuffer.push(a.STROKE_TRIANGLE,f,c,m,T,C,S),this},strokeLineShape:function(f){return this.lineBetween(f.x1,f.y1,f.x2,f.y2)},lineBetween:function(f,c,m,T){return this.beginPath(),this.moveTo(f,c),this.lineTo(m,T),this.strokePath(),this},lineTo:function(f,c){return this.commandBuffer.push(a.LINE_TO,f,c),this},moveTo:function(f,c){return this.commandBuffer.push(a.MOVE_TO,f,c),this},strokePoints:function(f,c,m,T){c===void 0&&(c=!1),m===void 0&&(m=!1),T===void 0&&(T=f.length),this.beginPath(),this.moveTo(f[0].x,f[0].y);for(var C=1;C<T;C++)this.lineTo(f[C].x,f[C].y);return c&&this.lineTo(f[0].x,f[0].y),m&&this.closePath(),this.strokePath(),this},fillPoints:function(f,c,m,T){c===void 0&&(c=!1),m===void 0&&(m=!1),T===void 0&&(T=f.length),this.beginPath(),this.moveTo(f[0].x,f[0].y);for(var C=1;C<T;C++)this.lineTo(f[C].x,f[C].y);return c&&this.lineTo(f[0].x,f[0].y),m&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(f,c){c===void 0&&(c=32);var m=f.getPoints(c);return this.strokePoints(m,!0)},strokeEllipse:function(f,c,m,T,C){C===void 0&&(C=32);var S=new i(f,c,m,T),A=S.getPoints(C);return this.strokePoints(A,!0)},fillEllipseShape:function(f,c){c===void 0&&(c=32);var m=f.getPoints(c);return this.fillPoints(m,!0)},fillEllipse:function(f,c,m,T,C){C===void 0&&(C=32);var S=new i(f,c,m,T),A=S.getPoints(C);return this.fillPoints(A,!0)},arc:function(f,c,m,T,C,S,A){return S===void 0&&(S=!1),A===void 0&&(A=0),this.commandBuffer.push(a.ARC,f,c,m,T,C,S,A),this},slice:function(f,c,m,T,C,S,A){return S===void 0&&(S=!1),A===void 0&&(A=0),this.commandBuffer.push(a.BEGIN_PATH),this.commandBuffer.push(a.MOVE_TO,f,c),this.commandBuffer.push(a.ARC,f,c,m,T,C,S,A),this.commandBuffer.push(a.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(a.SAVE),this},restore:function(){return this.commandBuffer.push(a.RESTORE),this},translateCanvas:function(f,c){return this.commandBuffer.push(a.TRANSLATE,f,c),this},scaleCanvas:function(f,c){return this.commandBuffer.push(a.SCALE,f,c),this},rotateCanvas:function(f){return this.commandBuffer.push(a.ROTATE,f),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(f,c,m){var T=this.scene.sys,C=T.game.renderer;c===void 0&&(c=T.scale.width),m===void 0&&(m=T.scale.height),d.TargetCamera.setScene(this.scene),d.TargetCamera.setViewport(0,0,c,m),d.TargetCamera.scrollX=this.x,d.TargetCamera.scrollY=this.y;var S,A,P={willReadFrequently:!0};if(typeof f=="string")if(T.textures.exists(f)){S=T.textures.get(f);var R=S.getSourceImage();R instanceof HTMLCanvasElement&&(A=R.getContext("2d",P))}else S=T.textures.createCanvas(f,c,m),A=S.getSourceImage().getContext("2d",P);else f instanceof HTMLCanvasElement&&(A=f.getContext("2d",P));return A&&(this.renderCanvas(C,this,d.TargetCamera,null,A,!1),S&&S.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});d.TargetCamera=new o,v.exports=d},32768:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(85592),p=t(20926),a=function(n,i,e,r,l,s){var u=i.commandBuffer,d=u.length,f=l||n.currentContext;if(!(d===0||!p(n,f,i,e,r))){e.addToRenderList(i);var c=1,m=1,T=0,C=0,S=1,A=0,P=0,R=0;f.beginPath();for(var F=0;F<d;++F){var D=u[F];switch(D){case o.ARC:f.arc(u[F+1],u[F+2],u[F+3],u[F+4],u[F+5],u[F+6]),F+=7;break;case o.LINE_STYLE:S=u[F+1],T=u[F+2],c=u[F+3],A=(T&16711680)>>>16,P=(T&65280)>>>8,R=T&255,f.strokeStyle="rgba("+A+","+P+","+R+","+c+")",f.lineWidth=S,F+=3;break;case o.FILL_STYLE:C=u[F+1],m=u[F+2],A=(C&16711680)>>>16,P=(C&65280)>>>8,R=C&255,f.fillStyle="rgba("+A+","+P+","+R+","+m+")",F+=2;break;case o.BEGIN_PATH:f.beginPath();break;case o.CLOSE_PATH:f.closePath();break;case o.FILL_PATH:s||f.fill();break;case o.STROKE_PATH:s||f.stroke();break;case o.FILL_RECT:s?f.rect(u[F+1],u[F+2],u[F+3],u[F+4]):f.fillRect(u[F+1],u[F+2],u[F+3],u[F+4]),F+=4;break;case o.FILL_TRIANGLE:f.beginPath(),f.moveTo(u[F+1],u[F+2]),f.lineTo(u[F+3],u[F+4]),f.lineTo(u[F+5],u[F+6]),f.closePath(),s||f.fill(),F+=6;break;case o.STROKE_TRIANGLE:f.beginPath(),f.moveTo(u[F+1],u[F+2]),f.lineTo(u[F+3],u[F+4]),f.lineTo(u[F+5],u[F+6]),f.closePath(),s||f.stroke(),F+=6;break;case o.LINE_TO:f.lineTo(u[F+1],u[F+2]),F+=2;break;case o.MOVE_TO:f.moveTo(u[F+1],u[F+2]),F+=2;break;case o.LINE_FX_TO:f.lineTo(u[F+1],u[F+2]),F+=5;break;case o.MOVE_FX_TO:f.moveTo(u[F+1],u[F+2]),F+=5;break;case o.SAVE:f.save();break;case o.RESTORE:f.restore();break;case o.TRANSLATE:f.translate(u[F+1],u[F+2]),F+=2;break;case o.SCALE:f.scale(u[F+1],u[F+2]),F+=2;break;case o.ROTATE:f.rotate(u[F+1]),F+=1;break;case o.GRADIENT_FILL_STYLE:F+=5;break;case o.GRADIENT_LINE_STYLE:F+=6;break}}f.restore()}};v.exports=a},87079:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(44603),p=t(43831);o.register("graphics",function(a,n){a===void 0&&(a={}),n!==void 0&&(a.add=n);var i=new p(this.scene,a);return a.add&&this.scene.sys.displayList.add(i),i})},1201:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43831),p=t(39429);p.register("graphics",function(a){return this.displayList.add(new o(this.scene,a))})},84503:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,a=o;p=t(77545),a=t(32768),a=t(32768),v.exports={renderWebGL:p,renderCanvas:a}},77545:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(85592),p=t(91296),a=t(61340),n=t(70554),i=function(u,d,f){this.x=u,this.y=d,this.width=f},e=function(u,d,f){this.points=[],this.pointsLength=1,this.points[0]=new i(u,d,f)},r=[],l=new a,s=function(u,d,f,c){if(d.commandBuffer.length!==0){f.addToRenderList(d);var m=u.pipelines.set(d.pipeline,d);u.pipelines.preBatch(d);for(var T=p(d,f,c).calc,C=l.loadIdentity(),S=d.commandBuffer,A=f.alpha*d.alpha,P=1,R=m.fillTint,F=m.strokeTint,D=0,L=0,O=0,B=.01,b=Math.PI*2,z,V=[],W=0,K=!0,U=null,Y=n.getTintAppendFloatAlpha,I=0;I<S.length;I++)switch(z=S[I],z){case o.BEGIN_PATH:{V.length=0,U=null,K=!0;break}case o.CLOSE_PATH:{K=!1,U&&U.points.length&&U.points.push(U.points[0]);break}case o.FILL_PATH:{for(W=0;W<V.length;W++)m.batchFillPath(V[W].points,C,T);break}case o.STROKE_PATH:{for(W=0;W<V.length;W++)m.batchStrokePath(V[W].points,P,K,C,T);break}case o.LINE_STYLE:{P=S[++I];var N=S[++I],G=S[++I]*A,X=Y(N,G);F.TL=X,F.TR=X,F.BL=X,F.BR=X;break}case o.FILL_STYLE:{var H=S[++I],Q=S[++I]*A,$=Y(H,Q);R.TL=$,R.TR=$,R.BL=$,R.BR=$;break}case o.GRADIENT_FILL_STYLE:{var Z=S[++I]*A,J=S[++I]*A,j=S[++I]*A,k=S[++I]*A;R.TL=Y(S[++I],Z),R.TR=Y(S[++I],J),R.BL=Y(S[++I],j),R.BR=Y(S[++I],k);break}case o.GRADIENT_LINE_STYLE:{P=S[++I];var _=S[++I]*A;F.TL=Y(S[++I],_),F.TR=Y(S[++I],_),F.BL=Y(S[++I],_),F.BR=Y(S[++I],_);break}case o.ARC:{var q=0,et=S[++I],st=S[++I],nt=S[++I],it=S[++I],tt=S[++I],at=S[++I],rt=S[++I];for(tt-=it,at?tt<-b?tt=-b:tt>0&&(tt=-b+tt%b):tt>b?tt=b:tt<0&&(tt=b+tt%b),U===null&&(U=new e(et+Math.cos(it)*nt,st+Math.sin(it)*nt,P),V.push(U),q+=B);q<1+rt;)O=tt*q+it,D=et+Math.cos(O)*nt,L=st+Math.sin(O)*nt,U.points.push(new i(D,L,P)),q+=B;O=tt+it,D=et+Math.cos(O)*nt,L=st+Math.sin(O)*nt,U.points.push(new i(D,L,P));break}case o.FILL_RECT:{m.batchFillRect(S[++I],S[++I],S[++I],S[++I],C,T);break}case o.FILL_TRIANGLE:{m.batchFillTriangle(S[++I],S[++I],S[++I],S[++I],S[++I],S[++I],C,T);break}case o.STROKE_TRIANGLE:{m.batchStrokeTriangle(S[++I],S[++I],S[++I],S[++I],S[++I],S[++I],P,C,T);break}case o.LINE_TO:{U!==null?U.points.push(new i(S[++I],S[++I],P)):(U=new e(S[++I],S[++I],P),V.push(U));break}case o.MOVE_TO:{U=new e(S[++I],S[++I],P),V.push(U);break}case o.SAVE:{r.push(C.copyToArray());break}case o.RESTORE:{C.copyFromArray(r.pop());break}case o.TRANSLATE:{et=S[++I],st=S[++I],C.translate(et,st);break}case o.SCALE:{et=S[++I],st=S[++I],C.scale(et,st);break}case o.ROTATE:{C.rotate(S[++I]);break}}u.pipelines.postBatch(d)}};v.exports=s},26479:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(61061),p=t(83419),a=t(51708),n=t(50792),i=t(46710),e=t(95540),r=t(35154),l=t(97022),s=t(41212),u=t(88492),d=t(35072),f=t(68287),c=new p({Extends:n,initialize:function(T,C,S){n.call(this),S?C&&!Array.isArray(C)&&(C=[C]):Array.isArray(C)?s(C[0])&&(S=C,C=null):s(C)&&(S=C,C=null),this.scene=T,this.children=new d,this.isParent=!0,this.type="Group",this.classType=e(S,"classType",f),this.name=e(S,"name",""),this.active=e(S,"active",!0),this.maxSize=e(S,"maxSize",-1),this.defaultKey=e(S,"defaultKey",null),this.defaultFrame=e(S,"defaultFrame",null),this.runChildUpdate=e(S,"runChildUpdate",!1),this.createCallback=e(S,"createCallback",null),this.removeCallback=e(S,"removeCallback",null),this.createMultipleCallback=e(S,"createMultipleCallback",null),this.internalCreateCallback=e(S,"internalCreateCallback",null),this.internalRemoveCallback=e(S,"internalRemoveCallback",null),C&&this.addMultiple(C),S&&this.createMultiple(S),this.on(a.ADDED_TO_SCENE,this.addedToScene,this),this.on(a.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(m,T,C,S,A,P){if(m===void 0&&(m=0),T===void 0&&(T=0),C===void 0&&(C=this.defaultKey),S===void 0&&(S=this.defaultFrame),A===void 0&&(A=!0),P===void 0&&(P=!0),this.isFull())return null;var R=new this.classType(this.scene,m,T,C,S);return R.addToDisplayList(this.scene.sys.displayList),R.addToUpdateList(),R.visible=A,R.setActive(P),this.add(R),R},createMultiple:function(m){if(this.isFull())return[];Array.isArray(m)||(m=[m]);var T=[];if(m[0].key)for(var C=0;C<m.length;C++){var S=this.createFromConfig(m[C]);T=T.concat(S)}return T},createFromConfig:function(m){if(this.isFull())return[];this.classType=e(m,"classType",this.classType);var T=e(m,"key",void 0),C=e(m,"frame",null),S=e(m,"visible",!0),A=e(m,"active",!0),P=[];if(T===void 0)return P;Array.isArray(T)||(T=[T]),Array.isArray(C)||(C=[C]);var R=e(m,"repeat",0),F=e(m,"randomKey",!1),D=e(m,"randomFrame",!1),L=e(m,"yoyo",!1),O=e(m,"quantity",!1),B=e(m,"frameQuantity",1),b=e(m,"max",0),z=u(T,C,{max:b,qty:O||B,random:F,randomB:D,repeat:R,yoyo:L});m.createCallback&&(this.createCallback=m.createCallback),m.removeCallback&&(this.removeCallback=m.removeCallback),m.internalCreateCallback&&(this.internalCreateCallback=m.internalCreateCallback),m.internalRemoveCallback&&(this.internalRemoveCallback=m.internalRemoveCallback);for(var V=0;V<z.length;V++){var W=this.create(0,0,z[V].a,z[V].b,S,A);if(!W)break;P.push(W)}if(l(m,"setXY")){var K=r(m,"setXY.x",0),U=r(m,"setXY.y",0),Y=r(m,"setXY.stepX",0),I=r(m,"setXY.stepY",0);o.SetXY(P,K,U,Y,I)}if(l(m,"setRotation")){var N=r(m,"setRotation.value",0),G=r(m,"setRotation.step",0);o.SetRotation(P,N,G)}if(l(m,"setScale")){var X=r(m,"setScale.x",1),H=r(m,"setScale.y",X),Q=r(m,"setScale.stepX",0),$=r(m,"setScale.stepY",0);o.SetScale(P,X,H,Q,$)}if(l(m,"setOrigin")){var Z=r(m,"setOrigin.x",.5),J=r(m,"setOrigin.y",Z),j=r(m,"setOrigin.stepX",0),k=r(m,"setOrigin.stepY",0);o.SetOrigin(P,Z,J,j,k)}if(l(m,"setAlpha")){var _=r(m,"setAlpha.value",1),q=r(m,"setAlpha.step",0);o.SetAlpha(P,_,q)}if(l(m,"setDepth")){var et=r(m,"setDepth.value",0),st=r(m,"setDepth.step",0);o.SetDepth(P,et,st)}if(l(m,"setScrollFactor")){var nt=r(m,"setScrollFactor.x",1),it=r(m,"setScrollFactor.y",nt),tt=r(m,"setScrollFactor.stepX",0),at=r(m,"setScrollFactor.stepY",0);o.SetScrollFactor(P,nt,it,tt,at)}var rt=e(m,"hitArea",null),ot=e(m,"hitAreaCallback",null);rt&&o.SetHitArea(P,rt,ot);var ht=e(m,"gridAlign",!1);return ht&&o.GridAlign(P,ht),this.createMultipleCallback&&this.createMultipleCallback.call(this,P),P},preUpdate:function(m,T){if(!(!this.runChildUpdate||this.children.size===0))for(var C=this.children.entries.slice(),S=0;S<C.length;S++){var A=C[S];A.active&&A.update(m,T)}},add:function(m,T){return T===void 0&&(T=!1),this.isFull()?this:(this.children.set(m),this.internalCreateCallback&&this.internalCreateCallback.call(this,m),this.createCallback&&this.createCallback.call(this,m),T&&(m.addToDisplayList(this.scene.sys.displayList),m.addToUpdateList()),m.on(a.DESTROY,this.remove,this),this)},addMultiple:function(m,T){if(T===void 0&&(T=!1),Array.isArray(m))for(var C=0;C<m.length;C++)this.add(m[C],T);return this},remove:function(m,T,C){return T===void 0&&(T=!1),C===void 0&&(C=!1),this.children.contains(m)?(this.children.delete(m),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,m),this.removeCallback&&this.removeCallback.call(this,m),m.off(a.DESTROY,this.remove,this),C?m.destroy():T&&(m.removeFromDisplayList(),m.removeFromUpdateList()),this):this},clear:function(m,T){m===void 0&&(m=!1),T===void 0&&(T=!1);for(var C=this.children,S=0;S<C.size;S++){var A=C.entries[S];A.off(a.DESTROY,this.remove,this),T?A.destroy():m&&(A.removeFromDisplayList(),A.removeFromUpdateList())}return this.children.clear(),this},contains:function(m){return this.children.contains(m)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(m,T,C,S){return i(this.children.entries,m,T,C,S)},getFirst:function(m,T,C,S,A,P,R){return this.getHandler(!0,1,m,T,C,S,A,P,R)},getFirstNth:function(m,T,C,S,A,P,R,F){return this.getHandler(!0,m,T,C,S,A,P,R,F)},getLast:function(m,T,C,S,A,P,R){return this.getHandler(!1,1,m,T,C,S,A,P,R)},getLastNth:function(m,T,C,S,A,P,R,F){return this.getHandler(!1,m,T,C,S,A,P,R,F)},getHandler:function(m,T,C,S,A,P,R,F,D){C===void 0&&(C=!1),S===void 0&&(S=!1);var L,O,B=0,b=this.children.entries;if(m)for(O=0;O<b.length;O++)if(L=b[O],L.active===C){if(B++,B===T)break}else L=null;else for(O=b.length-1;O>=0;O--)if(L=b[O],L.active===C){if(B++,B===T)break}else L=null;return L?(typeof A=="number"&&(L.x=A),typeof P=="number"&&(L.y=P),L):S?this.create(A,P,R,F,D):null},get:function(m,T,C,S,A){return this.getFirst(!1,!0,m,T,C,S,A)},getFirstAlive:function(m,T,C,S,A,P){return this.getFirst(!0,m,T,C,S,A,P)},getFirstDead:function(m,T,C,S,A,P){return this.getFirst(!1,m,T,C,S,A,P)},playAnimation:function(m,T){return o.PlayAnimation(this.children.entries,m,T),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(m){m===void 0&&(m=!0);for(var T=0,C=0;C<this.children.size;C++)this.children.entries[C].active===m&&T++;return T},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var m=this.getTotalUsed(),T=this.maxSize===-1?999999999999:this.maxSize;return T-m},setActive:function(m){return this.active=m,this},setName:function(m){return this.name=m,this},propertyValueSet:function(m,T,C,S,A){return o.PropertyValueSet(this.children.entries,m,T,C,S,A),this},propertyValueInc:function(m,T,C,S,A){return o.PropertyValueInc(this.children.entries,m,T,C,S,A),this},setX:function(m,T){return o.SetX(this.children.entries,m,T),this},setY:function(m,T){return o.SetY(this.children.entries,m,T),this},setXY:function(m,T,C,S){return o.SetXY(this.children.entries,m,T,C,S),this},incX:function(m,T){return o.IncX(this.children.entries,m,T),this},incY:function(m,T){return o.IncY(this.children.entries,m,T),this},incXY:function(m,T,C,S){return o.IncXY(this.children.entries,m,T,C,S),this},shiftPosition:function(m,T,C){return o.ShiftPosition(this.children.entries,m,T,C),this},angle:function(m,T){return o.Angle(this.children.entries,m,T),this},rotate:function(m,T){return o.Rotate(this.children.entries,m,T),this},rotateAround:function(m,T){return o.RotateAround(this.children.entries,m,T),this},rotateAroundDistance:function(m,T,C){return o.RotateAroundDistance(this.children.entries,m,T,C),this},setAlpha:function(m,T){return o.SetAlpha(this.children.entries,m,T),this},setTint:function(m,T,C,S){return o.SetTint(this.children.entries,m,T,C,S),this},setOrigin:function(m,T,C,S){return o.SetOrigin(this.children.entries,m,T,C,S),this},scaleX:function(m,T){return o.ScaleX(this.children.entries,m,T),this},scaleY:function(m,T){return o.ScaleY(this.children.entries,m,T),this},scaleXY:function(m,T,C,S){return o.ScaleXY(this.children.entries,m,T,C,S),this},setDepth:function(m,T){return o.SetDepth(this.children.entries,m,T),this},setBlendMode:function(m){return o.SetBlendMode(this.children.entries,m),this},setHitArea:function(m,T){return o.SetHitArea(this.children.entries,m,T),this},shuffle:function(){return o.Shuffle(this.children.entries),this},kill:function(m){this.children.contains(m)&&m.setActive(!1)},killAndHide:function(m){this.children.contains(m)&&(m.setActive(!1),m.setVisible(!1))},setVisible:function(m,T,C){return o.SetVisible(this.children.entries,m,T,C),this},toggleVisible:function(){return o.ToggleVisible(this.children.entries),this},destroy:function(m,T){m===void 0&&(m=!1),T===void 0&&(T=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(a.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(T,m),this.scene=void 0,this.children=void 0)}});v.exports=c},94975:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(44603),p=t(26479);o.register("group",function(a){return new p(this.scene,null,a)})},3385:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26479),p=t(39429);p.register("group",function(a,n){return this.updateList.add(new o(this.scene,a,n))})},88571:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(31401),a=t(95643),n=t(59819),i=new o({Extends:a,Mixins:[p.Alpha,p.BlendMode,p.Depth,p.Flip,p.GetBounds,p.Mask,p.Origin,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Size,p.TextureCrop,p.Tint,p.Transform,p.Visible,n],initialize:function(r,l,s,u,d){a.call(this,r,"Image"),this._crop=this.resetCropObject(),this.setTexture(u,d),this.setPosition(l,s),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});v.exports=i},40652:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a){p.addToRenderList(o),t.batchSprite(o,o.frame,p,a)};v.exports=y},82459:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),p=t(44603),a=t(23568),n=t(88571);p.register("image",function(i,e){i===void 0&&(i={});var r=a(i,"key",null),l=a(i,"frame",null),s=new n(this.scene,0,0,r,l);return e!==void 0&&(i.add=e),o(this.scene,s,i),s})},2117:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(88571),p=t(39429);p.register("image",function(a,n,i,e){return this.displayList.add(new o(this.scene,a,n,i,e))})},59819:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,a=o;p=t(99517),a=t(40652),v.exports={renderWebGL:p,renderCanvas:a}},99517:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a){p.addToRenderList(o),this.pipeline.batchSprite(o,p,a)};v.exports=y},77856:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={Events:t(51708),DisplayList:t(8050),GameObjectCreator:t(44603),GameObjectFactory:t(39429),UpdateList:t(45027),Components:t(31401),GetCalcMatrix:t(91296),BuildGameObject:t(25305),BuildGameObjectAnimation:t(13059),GameObject:t(95643),BitmapText:t(22186),Blitter:t(6107),Bob:t(46590),Container:t(31559),DOMElement:t(3069),DynamicBitmapText:t(2638),Extern:t(42421),Graphics:t(43831),Group:t(26479),Image:t(88571),Layer:t(93595),Particles:t(18404),PathFollower:t(1159),RenderTexture:t(591),RetroFont:t(196),Rope:t(77757),Sprite:t(68287),Text:t(50171),GetTextSize:t(14220),MeasureText:t(79557),TextStyle:t(35762),TileSprite:t(20839),Zone:t(41481),Video:t(18471),Shape:t(17803),Arc:t(23629),Curve:t(89),Ellipse:t(19921),Grid:t(30479),IsoBox:t(61475),IsoTriangle:t(16933),Line:t(57847),Polygon:t(24949),Rectangle:t(74561),Star:t(55911),Triangle:t(36931),Factories:{Blitter:t(12709),Container:t(24961),DOMElement:t(2611),DynamicBitmapText:t(72566),Extern:t(56315),Graphics:t(1201),Group:t(3385),Image:t(2117),Layer:t(20005),Particles:t(676),PathFollower:t(90145),RenderTexture:t(60505),Rope:t(96819),Sprite:t(46409),StaticBitmapText:t(34914),Text:t(68005),TileSprite:t(91681),Zone:t(84175),Video:t(89025),Arc:t(42563),Curve:t(40511),Ellipse:t(1543),Grid:t(34137),IsoBox:t(3933),IsoTriangle:t(49803),Line:t(2481),Polygon:t(64827),Rectangle:t(87959),Star:t(93697),Triangle:t(45245)},Creators:{Blitter:t(9403),Container:t(77143),DynamicBitmapText:t(11164),Graphics:t(87079),Group:t(94975),Image:t(82459),Layer:t(25179),Particles:t(92730),RenderTexture:t(34495),Rope:t(26209),Sprite:t(15567),StaticBitmapText:t(57336),Text:t(71259),TileSprite:t(14167),Zone:t(95261),Video:t(11511)}};o.Shader=t(20071),o.Mesh=t(4703),o.NineSlice=t(28103),o.PointLight=t(80321),o.Plane=t(33663),o.Factories.Shader=t(74177),o.Factories.Mesh=t(9225),o.Factories.NineSlice=t(47521),o.Factories.PointLight=t(71255),o.Factories.Plane=t(30985),o.Creators.Shader=t(54935),o.Creators.Mesh=t(20527),o.Creators.NineSlice=t(28279),o.Creators.PointLight=t(39829),o.Creators.Plane=t(56015),o.Light=t(41432),o.LightsManager=t(61356),o.LightsPlugin=t(88992),v.exports=o},93595:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10312),p=t(83419),a=t(31401),n=t(53774),i=t(45893),e=t(50792),r=t(51708),l=t(73162),s=t(33963),u=t(44594),d=t(19186),f=new p({Extends:l,Mixins:[a.AlphaSingle,a.BlendMode,a.Depth,a.Mask,a.PostPipeline,a.Visible,e,s],initialize:function(m,T){l.call(this,m),e.call(this),this.scene=m,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=m.sys,this.events=m.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(o.SKIP_CHECK),T&&this.add(T),m.sys.queueDepthSort()},setActive:function(c){return this.active=c,this},setName:function(c){return this.name=c,this},setState:function(c){return this.state=c,this},setDataEnabled:function(){return this.data||(this.data=new i(this)),this},setData:function(c,m){return this.data||(this.data=new i(this)),this.data.set(c,m),this},incData:function(c,m){return this.data||(this.data=new i(this)),this.data.inc(c,m),this},toggleData:function(c){return this.data||(this.data=new i(this)),this.data.toggle(c),this},getData:function(c){return this.data||(this.data=new i(this)),this.data.get(c)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return n(this)},willRender:function(c){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&c.id)},getIndexList:function(){for(var c=this,m=this.parentContainer,T=[];m&&(T.unshift(m.getIndex(c)),c=m,m.parentContainer);)m=m.parentContainer;return T.unshift(this.displayList.getIndex(c)),T},addChildCallback:function(c){var m=c.displayList;m&&m!==this&&c.removeFromDisplayList(),c.displayList||(this.queueDepthSort(),c.displayList=this,c.emit(r.ADDED_TO_SCENE,c,this.scene),this.events.emit(u.ADDED_TO_SCENE,c,this.scene))},removeChildCallback:function(c){this.queueDepthSort(),c.displayList=null,c.emit(r.REMOVED_FROM_SCENE,c,this.scene),this.events.emit(u.REMOVED_FROM_SCENE,c,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(d(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(c,m){return c._depth-m._depth},getChildren:function(){return this.list},addToDisplayList:function(c){return c===void 0&&(c=this.scene.sys.displayList),this.displayList&&this.displayList!==c&&this.removeFromDisplayList(),c.exists(this)||(this.displayList=c,c.add(this,!0),c.queueDepthSort(),this.emit(r.ADDED_TO_SCENE,this,this.scene),c.events.emit(u.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var c=this.displayList||this.scene.sys.displayList;return c.exists(this)&&(c.remove(this,!0),c.queueDepthSort(),this.displayList=null,this.emit(r.REMOVED_FROM_SCENE,this,this.scene),c.events.emit(u.REMOVED_FROM_SCENE,this,this.scene)),this},destroy:function(c){if(!(!this.scene||this.ignoreDestroy)){this.emit(r.DESTROY,this);for(var m=this.list;m.length;)m[0].destroy(c);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});v.exports=f},2956:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){var a=o.list;if(a.length!==0){o.depthSort();var n=o.blendMode!==-1;n||t.setBlendMode(0);var i=o._alpha;o.mask&&o.mask.preRenderCanvas(t,null,p);for(var e=0;e<a.length;e++){var r=a[e];if(r.willRender(p)){var l=r.alpha;!n&&r.blendMode!==t.currentBlendMode&&t.setBlendMode(r.blendMode),r.setAlpha(l*i),r.renderCanvas(t,r,p),r.setAlpha(l)}}o.mask&&o.mask.postRenderCanvas(t)}};v.exports=y},25179:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),p=t(93595),a=t(44603),n=t(23568);a.register("layer",function(i,e){i===void 0&&(i={});var r=n(i,"children",null),l=new p(this.scene,r);return e!==void 0&&(i.add=e),o(this.scene,l,i),l})},20005:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(93595),p=t(39429);p.register("layer",function(a){return this.displayList.add(new o(this.scene,a))})},33963:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,a=o;p=t(15869),a=t(2956),v.exports={renderWebGL:p,renderCanvas:a}},15869:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){var a=o.list,n=a.length;if(n!==0){o.depthSort(),t.pipelines.preBatch(o);var i=o.blendMode!==-1;i||t.setBlendMode(0);for(var e=o.alpha,r=0;r<n;r++){var l=a[r];if(l.willRender(p)){var s,u,d,f;if(l.alphaTopLeft!==void 0)s=l.alphaTopLeft,u=l.alphaTopRight,d=l.alphaBottomLeft,f=l.alphaBottomRight;else{var c=l.alpha;s=c,u=c,d=c,f=c}!i&&l.blendMode!==t.currentBlendMode&&t.setBlendMode(l.blendMode);var m=l.mask;m&&m.preRenderWebGL(t,l,p);var T=l.type;T!==t.currentType&&(t.newType=!0,t.currentType=T),t.nextTypeMatch=r<n-1?a[r+1].type===t.currentType:!1,l.setAlpha(s*e,u*e,d*e,f*e),l.renderWebGL(t,l,p),l.setAlpha(s,u,d,f),m&&m.postRenderWebGL(t,p),t.newType=!1}}t.pipelines.postBatch(o)}};v.exports=y},41432:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(96503),p=t(83419),a=t(31401),n=t(51767),i=t(70554),e=new p({Extends:o,Mixins:[a.Origin,a.ScrollFactor,a.Visible],initialize:function(l,s,u,d,f,c,m){o.call(this,l,s,u),this.color=new n(d,f,c),this.intensity=m,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(u)},displayWidth:{get:function(){return this.diameter},set:function(r){this.diameter=r}},displayHeight:{get:function(){return this.diameter},set:function(r){this.diameter=r}},width:{get:function(){return this.diameter},set:function(r){this.diameter=r}},height:{get:function(){return this.diameter},set:function(r){this.diameter=r}},willRender:function(r){return!(e.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&r.id)},setColor:function(r){var l=i.getFloatsFromUintRGB(r);return this.color.set(l[0],l[1],l[2]),this},setIntensity:function(r){return this.intensity=r,this},setRadius:function(r){return this.radius=r,this}});e.RENDER_MASK=15,v.exports=e},61356:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(81491),p=t(83419),a=t(20339),n=t(41432),i=t(80321),e=t(51767),r=t(19133),l=t(19186),s=t(70554),u=new p({initialize:function(){this.lights=[],this.ambientColor=new e(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(d,f,c,m,T,C){return this.systems.displayList.add(new i(this.scene,d,f,c,m,T,C))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(d){for(var f=this.lights,c=d.worldView,m=[],T=0;T<f.length;T++){var C=f[T];C.willRender(d)&&o(C,c)&&m.push({light:C,distance:a(C.x,C.y,c.centerX,c.centerY)})}return m.length>this.maxLights&&(l(m,this.sortByDistance),m=m.slice(0,this.maxLights)),this.visibleLights=m.length,m},sortByDistance:function(d,f){return d.distance>=f.distance},setAmbientColor:function(d){var f=s.getFloatsFromUintRGB(d);return this.ambientColor.set(f[0],f[1],f[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(d,f,c,m,T){d===void 0&&(d=0),f===void 0&&(f=0),c===void 0&&(c=128),m===void 0&&(m=16777215),T===void 0&&(T=1);var C=s.getFloatsFromUintRGB(m),S=new n(d,f,c,C[0],C[1],C[2],T);return this.lights.push(S),S},removeLight:function(d){var f=this.lights.indexOf(d);return f>=0&&r(this.lights,f),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});v.exports=u},88992:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(61356),a=t(37277),n=t(44594),i=new o({Extends:p,initialize:function(r){this.scene=r,this.systems=r.sys,r.sys.settings.isBooted||r.sys.events.once(n.BOOT,this.boot,this),p.call(this)},boot:function(){var e=this.systems.events;e.on(n.SHUTDOWN,this.shutdown,this),e.on(n.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});a.register("LightsPlugin",i,"lights"),v.exports=i},4703:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(31401),a=t(39506),n=t(83997),i=t(95643),e=t(34684),r=t(92515),l=t(91296),s=t(37867),u=t(29807),d=t(43396),f=t(19186),c=t(25836),m=t(39318),T=new o({Extends:i,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.Mask,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Size,p.Texture,p.Transform,p.Visible,u],initialize:function(S,A,P,R,F,D,L,O,B,b,z,V){A===void 0&&(A=0),P===void 0&&(P=0),R===void 0&&(R="__WHITE"),i.call(this,S,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new c,this.modelScale=new c(1,1,1),this.modelRotation=new c,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new s,this.viewPosition=new c,this.viewMatrix=new s,this.projectionMatrix=new s,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var W=S.sys.renderer;this.setPosition(A,P),this.setTexture(R,F),this.setSize(W.width,W.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(W.width,W.height),D&&this.addVertices(D,L,O,B,b,z,V)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(C){return this.viewPosition.addScale(c.LEFT,C),this.dirtyCache[10]=1,this},panY:function(C){return this.viewPosition.y+=c.DOWN.y*C,this.dirtyCache[10]=1,this},panZ:function(C){return this.viewPosition.z+=C,this.dirtyCache[10]=1,this},setPerspective:function(C,S,A,P,R){return A===void 0&&(A=45),P===void 0&&(P=.01),R===void 0&&(R=1e3),this.fov=A,this.projectionMatrix.perspective(a(A),C/S,P,R),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(C,S,A,P){return C===void 0&&(C=this.scene.sys.renderer.getAspectRatio()),S===void 0&&(S=1),A===void 0&&(A=-1e3),P===void 0&&(P=1e3),this.fov=0,this.projectionMatrix.ortho(-C,C,-S,S,A,P),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(C){C.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(C,S,A,P,R,F,D,L,O){var B=this.scene.sys.cache.obj.get(C),b;return B&&(b=e(B,this,S,A,P,R,F,D,L,O)),(!b||b.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",C),this},sortByDepth:function(C,S){return C.depth-S.depth},depthSort:function(){return f(this.faces,this.sortByDepth),this},addVertex:function(C,S,A,P,R,F,D){var L=new m(C,S,A,P,R,F,D);return this.vertices.push(L),L},addFace:function(C,S,A){var P=new n(C,S,A);return this.faces.push(P),this.dirtyCache[9]=-1,P},addVertices:function(C,S,A,P,R,F,D){var L=r(C,S,A,P,R,F,D);return L?(this.faces=this.faces.concat(L.faces),this.vertices=this.vertices.concat(L.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(C){return this.faces[C]},hasFaceAt:function(C,S,A){A===void 0&&(A=this.scene.sys.cameras.main);for(var P=l(this,A).calc,R=this.faces,F=0;F<R.length;F++){var D=R[F];if(D.contains(C,S,P))return!0}return!1},getFaceAt:function(C,S,A){A===void 0&&(A=this.scene.sys.cameras.main);for(var P=l(this,A).calc,R=this.faces,F=[],D=0;D<R.length;D++){var L=R[D];L.contains(C,S,P)&&F.push(L)}return f(F,this.sortByDepth)},setDebug:function(C,S){return this.debugGraphic=C,!C&&!S?this.debugCallback=null:S?this.debugCallback=S:this.debugCallback=this.renderDebug,this},isDirty:function(){var C=this.modelPosition,S=this.modelRotation,A=this.modelScale,P=this.dirtyCache,R=C.x,F=C.y,D=C.z,L=S.x,O=S.y,B=S.z,b=A.x,z=A.y,V=A.z,W=this.getFaceCount(),K=P[0],U=P[1],Y=P[2],I=P[3],N=P[4],G=P[5],X=P[6],H=P[7],Q=P[8],$=P[9];return P[0]=R,P[1]=F,P[2]=D,P[3]=L,P[4]=O,P[5]=B,P[6]=b,P[7]=z,P[8]=V,P[9]=W,K!==R||U!==F||Y!==D||I!==L||N!==O||G!==B||X!==b||H!==z||Q!==V||$!==W},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var C=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!C[10]&&!this.isDirty())){var S=this.width,A=this.height,P=this.viewMatrix,R=this.viewPosition;C[10]&&(P.identity(),P.translate(R),P.invert(),C[10]=0);var F=this.transformMatrix;F.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var D=R.z,L=this.faces,O=0;O<L.length;O++)L[O].transformCoordinatesLocal(F,S,A,D);this.depthSort()}},renderDebug:function(C,S){for(var A=C.debugGraphic,P=0;P<S.length;P++){var R=S[P],F=R.vertex1.tx,D=R.vertex1.ty,L=R.vertex2.tx,O=R.vertex2.ty,B=R.vertex3.tx,b=R.vertex3.ty;A.strokeTriangle(F,D,L,O,B,b)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(C){C===void 0&&(C={});var S=(function(A,P,R){for(var F=this.faces,D=0;D<F.length;D++){var L=F[D];if(L.contains(P,R))return!0}return!1}).bind(this);return this.scene.sys.input.enable(this,C,S),this},setTint:function(C){C===void 0&&(C=16777215);for(var S=this.vertices,A=0;A<S.length;A++)S[A].color=C;return this},uvScroll:function(C,S){for(var A=this.faces,P=0;P<A.length;P++)A[P].scrollUV(C,S);return this},uvScale:function(C,S){for(var A=this.faces,P=0;P<A.length;P++)A[P].scaleUV(C,S);return this},tint:{set:function(C){this.setTint(C)}},rotateX:{get:function(){return d(this.modelRotation.x)},set:function(C){this.modelRotation.x=a(C)}},rotateY:{get:function(){return d(this.modelRotation.y)},set:function(C){this.modelRotation.y=a(C)}},rotateZ:{get:function(){return d(this.modelRotation.z)},set:function(C){this.modelRotation.z=a(C)}}});v.exports=T},36488:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(){};v.exports=y},20527:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),p=t(44603),a=t(23568),n=t(35154),i=t(4703);p.register("mesh",function(e,r){e===void 0&&(e={});var l=a(e,"key",null),s=a(e,"frame",null),u=n(e,"vertices",[]),d=n(e,"uvs",[]),f=n(e,"indicies",[]),c=n(e,"containsZ",!1),m=n(e,"normals",[]),T=n(e,"colors",16777215),C=n(e,"alphas",1),S=new i(this.scene,0,0,l,s,u,d,f,c,m,T,C);return r!==void 0&&(e.add=r),o(this.scene,S,e),S})},9225:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(4703),p=t(39429);p.register("mesh",function(a,n,i,e,r,l,s,u,d,f,c){return this.displayList.add(new o(this.scene,a,n,i,e,r,l,s,u,d,f,c))})},29807:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,a=o;p=t(48833),a=t(36488),v.exports={renderWebGL:p,renderCanvas:a}},48833:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),p=function(a,n,i,e){var r=n.faces,l=r.length;if(l!==0){i.addToRenderList(n);var s=a.pipelines.set(n.pipeline,n),u=o(n,i,e).calc;a.pipelines.preBatch(n);for(var d=s.setGameObject(n),f=s.vertexViewF32,c=s.vertexViewU32,m=s.vertexCount*s.currentShader.vertexComponentCount-1,T=n.tintFill,C=[],S=n.debugCallback,A=u.a,P=u.b,R=u.c,F=u.d,D=u.e,L=u.f,O=n.viewPosition.z,B=n.hideCCW,b=i.roundPixels,z=i.alpha*n.alpha,V=0,W=0;W<l;W++){var K=r[W];K.isInView(i,B,O,z,A,P,R,F,D,L,b)&&(s.shouldFlush(3)&&(s.flush(),d=s.setGameObject(n),m=0),m=K.load(f,c,m,d,T),V++,s.vertexCount+=3,s.currentBatch.count=s.vertexCount-s.currentBatch.start,S&&C.push(K))}n.totalFrame+=V,S&&S.call(n,n,C),a.pipelines.postBatch(n)}};v.exports=p},28103:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(31401),a=t(95643),n=t(78023),i=t(39318),e=new o({Extends:a,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.GetBounds,p.Mask,p.Origin,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Texture,p.Transform,p.Visible,n],initialize:function(l,s,u,d,f,c,m,T,C,S,A){a.call(this,l,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var P=l.textures.getFrame(d,f);this.is3Slice=!S&&!A,P.scale9&&(this.is3Slice=P.is3Slice);for(var R=this.is3Slice?18:54,F=0;F<R;F++)this.vertices.push(new i);this.setPosition(s,u),this.setTexture(d,f),this.setSlices(c,m,T,C,S,A,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(r,l,s,u,d,f,c){s===void 0&&(s=10),u===void 0&&(u=10),d===void 0&&(d=0),f===void 0&&(f=0),c===void 0&&(c=!1);var m=this.frame,T=!1;if(this.is3Slice&&c&&d!==0&&f!==0&&(T=!0),T)console.warn("Cannot change 9 slice to 3 slice");else{if(m.scale9&&!c){var C=m.data.scale9Borders,S=C.x,A=C.y;s=S,u=m.width-C.w-S,d=A,f=m.height-C.h-A,r===void 0&&(r=m.width),l===void 0&&(l=m.height)}else r===void 0&&(r=256),l===void 0&&(l=256);this._width=r,this._height=l,this.leftWidth=s,this.rightWidth=u,this.topHeight=d,this.bottomHeight=f,this.is3Slice&&(l=m.height,this._height=l,this.topHeight=l,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var r=this.leftWidth,l=this.rightWidth,s=this.topHeight,u=this.bottomHeight,d=this.frame.width,f=this.frame.height;this.updateQuadUVs(0,0,0,r/d,s/f),this.updateQuadUVs(6,r/d,0,1-l/d,s/f),this.updateQuadUVs(12,1-l/d,0,1,s/f),this.is3Slice||(this.updateQuadUVs(18,0,s/f,r/d,1-u/f),this.updateQuadUVs(24,r/d,s/f,1-l/d,1-u/f),this.updateQuadUVs(30,1-l/d,s/f,1,1-u/f),this.updateQuadUVs(36,0,1-u/f,r/d,1),this.updateQuadUVs(42,r/d,1-u/f,1-l/d,1),this.updateQuadUVs(48,1-l/d,1-u/f,1,1))},updateVertices:function(){var r=this.leftWidth,l=this.rightWidth,s=this.topHeight,u=this.bottomHeight,d=this.width,f=this.height;this.updateQuad(0,-.5,.5,-.5+r/d,.5-s/f),this.updateQuad(6,-.5+r/d,.5,.5-l/d,.5-s/f),this.updateQuad(12,.5-l/d,.5,.5,.5-s/f),this.is3Slice||(this.updateQuad(18,-.5,.5-s/f,-.5+r/d,-.5+u/f),this.updateQuad(24,-.5+r/d,.5-s/f,.5-l/d,-.5+u/f),this.updateQuad(30,.5-l/d,.5-s/f,.5,-.5+u/f),this.updateQuad(36,-.5,-.5+u/f,-.5+r/d,-.5),this.updateQuad(42,-.5+r/d,-.5+u/f,.5-l/d,-.5),this.updateQuad(48,.5-l/d,-.5+u/f,.5,-.5))},updateQuad:function(r,l,s,u,d){var f=this.width,c=this.height,m=this.originX,T=this.originY,C=this.vertices;C[r+0].resize(l,s,f,c,m,T),C[r+1].resize(l,d,f,c,m,T),C[r+2].resize(u,s,f,c,m,T),C[r+3].resize(l,d,f,c,m,T),C[r+4].resize(u,d,f,c,m,T),C[r+5].resize(u,s,f,c,m,T)},updateQuadUVs:function(r,l,s,u,d){var f=this.vertices,c=this.frame,m=c.u0,T=c.v0,C=c.u1,S=c.v1;if(m!==0||C!==1){var A=C-m;l=m+l*A,u=m+u*A}if(T!==0||S!==1){var P=S-T;s=T+s*P,d=T+d*P}f[r+0].setUVs(l,s),f[r+1].setUVs(l,d),f[r+2].setUVs(u,s),f[r+3].setUVs(l,d),f[r+4].setUVs(u,d),f[r+5].setUVs(u,s)},clearTint:function(){return this.setTint(16777215),this},setTint:function(r){return r===void 0&&(r=16777215),this.tint=r,this.tintFill=!1,this},setTintFill:function(r){return this.setTint(r),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(r){this._width=Math.max(r,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(r){this.is3Slice||(this._height=Math.max(r,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(r){this.scaleX=r/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(r){this.scaleY=r/this.height}},setSize:function(r,l){this.width=r,this.height=l,this.updateDisplayOrigin();var s=this.input;return s&&!s.customHitArea&&(s.hitArea.width=this.width,s.hitArea.height=this.height),this},setDisplaySize:function(r,l){return this.displayWidth=r,this.displayHeight=l,this},originX:{get:function(){return this._originX},set:function(r){this._originX=r,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(r){this._originY=r,this.updateVertices()}},setOrigin:function(r,l){return r===void 0&&(r=.5),l===void 0&&(l=r),this._originX=r,this._originY=l,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var r=this.frame.height;this._height=r,this.topHeight=r,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});v.exports=e},28279:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),p=t(44603),a=t(23568),n=t(35154),i=t(28103);p.register("nineslice",function(e,r){e===void 0&&(e={});var l=a(e,"key",null),s=a(e,"frame",null),u=n(e,"width",256),d=n(e,"height",256),f=n(e,"leftWidth",10),c=n(e,"rightWidth",10),m=n(e,"topHeight",0),T=n(e,"bottomHeight",0),C=new i(this.scene,0,0,l,s,u,d,f,c,m,T);return r!==void 0&&(e.add=r),o(this.scene,C,e),C})},47521:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(28103),p=t(39429);p.register("nineslice",function(a,n,i,e,r,l,s,u,d,f){return this.displayList.add(new o(this.scene,a,n,i,e,r,l,s,u,d,f))})},78023:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,a=o;p=t(52230),v.exports={renderWebGL:p,renderCanvas:a}},52230:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),p=t(70554),a=function(n,i,e,r){var l=i.vertices,s=l.length;if(s!==0){e.addToRenderList(i);var u=n.pipelines.set(i.pipeline,i),d=o(i,e,r,!1).calc;n.pipelines.preBatch(i);var f=u.setGameObject(i),c=u.vertexViewF32,m=u.vertexViewU32,T=u.vertexCount*u.currentShader.vertexComponentCount-1,C=e.roundPixels,S=i.tintFill,A=e.alpha*i.alpha,P=p.getTintAppendFloatAlpha(i.tint,A),R=u.vertexAvailable(),F=-1;R<s&&(F=R);for(var D=0;D<s;D++){var L=l[D];D===F&&(u.flush(),f=u.setGameObject(i),T=0),c[++T]=d.getXRound(L.vx,L.vy,C),c[++T]=d.getYRound(L.vx,L.vy,C),c[++T]=L.u,c[++T]=L.v,c[++T]=f,c[++T]=S,m[++T]=P,u.vertexCount++,u.currentBatch.count=u.vertexCount-u.currentBatch.start}n.pipelines.postBatch(i)}};v.exports=a},76472:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(44777),a=t(37589),n=t(6113),i=t(91389),e=t(90664),r=new o({Extends:p,initialize:function(s){p.call(this,s,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var l=this.propertyValue,s=l,u=this.defaultEmit,d=this.defaultUpdate;if(this.method===9){this.start=l[0],this.ease=n("Linear"),this.interpolation=i("linear"),u=this.easedValueEmit,d=this.easeValueUpdate,s=l[0],this.active=!0;for(var f=0;f<l.length;f++){var c=e(l[f]);this.r.push(c.r),this.g.push(c.g),this.b.push(c.b)}}return this.onEmit=u,this.onUpdate=d,this.current=s,this},setEase:function(l){this.easeName=l,this.ease=n(l)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(l,s,u){var d=this.ease(u),f=this.interpolation(this.r,d),c=this.interpolation(this.g,d),m=this.interpolation(this.b,d),T=a(f,c,m);return this.current=T,T}});v.exports=r},44777:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(30976),p=t(45319),a=t(83419),n=t(99472),i=t(6113),e=t(95540),r=t(91389),l=t(77720),s=t(15994),u=new a({initialize:function(f,c,m){m===void 0&&(m=!1),this.propertyKey=f,this.propertyValue=c,this.defaultValue=c,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=m,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(d,f){d===void 0&&(d={}),f&&(this.propertyKey=f),this.propertyValue=e(d,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(d){var f;switch(this.method){case 1:case 3:case 8:f=d;break;case 2:this.propertyValue.indexOf(d)>=0&&(f=d);break;case 4:var c=(this.end-this.start)/this.steps;f=l(d,c),this.counter=f;break;case 5:case 6:case 7:f=p(d,this.start,this.end);break;case 9:f=this.start[0];break}return this.current=f,this},getMethod:function(){var d=this.propertyValue;if(d===null)return 0;var f=typeof d;if(f==="number")return 1;if(Array.isArray(d))return 2;if(f==="function")return 3;if(f==="object"){if(this.hasBoth(d,"start","end"))return this.has(d,"steps")?4:5;if(this.hasBoth(d,"min","max"))return 6;if(this.has(d,"random"))return 7;if(this.hasEither(d,"onEmit","onUpdate"))return 8;if(this.hasEither(d,"values","interpolation"))return 9}return 0},setMethods:function(){var d=this.propertyValue,f=d,c=this.defaultEmit,m=this.defaultUpdate;switch(this.method){case 1:c=this.staticValueEmit;break;case 2:c=this.randomStaticValueEmit,f=d[0];break;case 3:this._onEmit=d,c=this.proxyEmit;break;case 4:this.start=d.start,this.end=d.end,this.steps=d.steps,this.counter=this.start,this.yoyo=this.has(d,"yoyo")?d.yoyo:!1,this.direction=0,c=this.steppedEmit,f=this.start;break;case 5:this.start=d.start,this.end=d.end;var T=this.has(d,"ease")?d.ease:"Linear";this.ease=i(T,d.easeParams),c=this.has(d,"random")&&d.random?this.randomRangedValueEmit:this.easedValueEmit,m=this.easeValueUpdate,f=this.start;break;case 6:this.start=d.min,this.end=d.max,c=this.has(d,"int")&&d.int?this.randomRangedIntEmit:this.randomRangedValueEmit,f=this.start;break;case 7:var C=d.random;Array.isArray(C)&&(this.start=C[0],this.end=C[1]),c=this.randomRangedIntEmit,f=this.start;break;case 8:this._onEmit=this.has(d,"onEmit")?d.onEmit:this.defaultEmit,this._onUpdate=this.has(d,"onUpdate")?d.onUpdate:this.defaultUpdate,c=this.proxyEmit,m=this.proxyUpdate;break;case 9:this.start=d.values;var S=this.has(d,"ease")?d.ease:"Linear";this.ease=i(S,d.easeParams),this.interpolation=r(d.interpolation),c=this.easedValueEmit,m=this.easeValueUpdate,f=this.start[0];break}return this.onEmit=c,this.onUpdate=m,this.current=f,this},has:function(d,f){return d.hasOwnProperty(f)},hasBoth:function(d,f,c){return d.hasOwnProperty(f)&&d.hasOwnProperty(c)},hasEither:function(d,f,c){return d.hasOwnProperty(f)||d.hasOwnProperty(c)},defaultEmit:function(d,f,c){return c},defaultUpdate:function(d,f,c,m){return m},proxyEmit:function(d,f,c){var m=this._onEmit(d,f,c);return this.current=m,m},proxyUpdate:function(d,f,c,m){var T=this._onUpdate(d,f,c,m);return this.current=T,T},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var d=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[d],this.current},randomRangedValueEmit:function(d,f){var c=n(this.start,this.end);return d&&d.data[f]&&(d.data[f].min=c,d.data[f].max=this.end),this.current=c,c},randomRangedIntEmit:function(d,f){var c=o(this.start,this.end);return d&&d.data[f]&&(d.data[f].min=c,d.data[f].max=this.end),this.current=c,c},steppedEmit:function(){var d=this.counter,f=d,c=(this.end-this.start)/this.steps;if(this.yoyo){var m;this.direction===0?(f+=c,f>=this.end&&(m=f-this.end,f=this.end-m,this.direction=1)):(f-=c,f<=this.start&&(m=this.start-f,f=this.start+m,this.direction=0)),this.counter=f}else this.counter=s(f+c,this.start,this.end);return this.current=d,d},easedValueEmit:function(d,f){if(d&&d.data[f]){var c=d.data[f];c.min=this.start,c.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(d,f,c){var m=d.data[f],T,C=this.ease(c);return this.interpolation?T=this.interpolation(this.start,C):T=(m.max-m.min)*C+m.min,this.current=T,T},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});v.exports=u},24502:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(95540),a=t(20286),n=new o({Extends:a,initialize:function(e,r,l,s,u){if(typeof e=="object"){var d=e;e=p(d,"x",0),r=p(d,"y",0),l=p(d,"power",0),s=p(d,"epsilon",100),u=p(d,"gravity",50)}else e===void 0&&(e=0),r===void 0&&(r=0),l===void 0&&(l=0),s===void 0&&(s=100),u===void 0&&(u=50);a.call(this,e,r,!0),this._gravity=u,this._power=l*u,this._epsilon=s*s},update:function(i,e){var r=this.x-i.x,l=this.y-i.y,s=r*r+l*l;if(s!==0){var u=Math.sqrt(s);s<this._epsilon&&(s=this._epsilon);var d=this._power*e/(s*u)*100;i.velocityX+=r*d,i.velocityY+=l*d}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(i){this._epsilon=i*i}},power:{get:function(){return this._power/this._gravity},set:function(i){this._power=i*this._gravity}},gravity:{get:function(){return this._gravity},set:function(i){var e=this.power;this._gravity=i,this.power=e}}});v.exports=n},56480:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(9674),p=t(45319),a=t(83419),n=t(39506),i=t(87841),e=t(11520),r=t(26099),l=new a({initialize:function(u){this.emitter=u,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new r,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=u.scene,this.anims=new o(this),this.bounds=new i},emit:function(s,u,d,f,c,m){return this.emitter.emit(s,u,d,f,c,m)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(s,u){s===void 0&&(s=0),u===void 0&&(u=0),this.x=s,this.y=u},fire:function(s,u){var d=this.emitter,f=d.ops,c=d.getAnim();if(c?this.anims.play(c):(this.frame=d.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(d.getEmitZone(this),s===void 0?this.x+=f.x.onEmit(this,"x"):f.x.steps>0?this.x+=s+f.x.onEmit(this,"x"):this.x+=s,u===void 0?this.y+=f.y.onEmit(this,"y"):f.y.steps>0?this.y+=u+f.y.onEmit(this,"y"):this.y+=u,this.life=f.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=f.delay.onEmit(this,"delay"),this.holdCurrent=f.hold.onEmit(this,"hold"),this.scaleX=f.scaleX.onEmit(this,"scaleX"),this.scaleY=f.scaleY.active?f.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=f.rotate.onEmit(this,"rotate"),this.rotation=n(this.angle),d.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&d.getDeathZone(this))return this.lifeCurrent=0,!1;var m=f.speedX.onEmit(this,"speedX"),T=f.speedY.active?f.speedY.onEmit(this,"speedY"):m;if(d.radial){var C=n(f.angle.onEmit(this,"angle"));this.velocityX=Math.cos(C)*Math.abs(m),this.velocityY=Math.sin(C)*Math.abs(T)}else if(d.moveTo){var S=f.moveToX.onEmit(this,"moveToX"),A=f.moveToY.onEmit(this,"moveToY"),P=this.life/1e3;this.velocityX=(S-this.x)/P,this.velocityY=(A-this.y)/P}else this.velocityX=m,this.velocityY=T;return d.acceleration&&(this.accelerationX=f.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=f.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=f.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=f.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=f.bounce.onEmit(this,"bounce"),this.alpha=f.alpha.onEmit(this,"alpha"),f.color.active?this.tint=f.color.onEmit(this,"tint"):this.tint=f.tint.onEmit(this,"tint"),!0},update:function(s,u,d){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=s,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=s,!1;this.anims.update(0,s);var f=this.emitter,c=f.ops,m=1-this.lifeCurrent/this.life;if(this.lifeT=m,this.x=c.x.onUpdate(this,"x",m,this.x),this.y=c.y.onUpdate(this,"y",m,this.y),f.moveTo){var T=c.moveToX.onUpdate(this,"moveToX",m,f.moveToX),C=c.moveToY.onUpdate(this,"moveToY",m,f.moveToY),S=this.lifeCurrent/1e3;this.velocityX=(T-this.x)/S,this.velocityY=(C-this.y)/S}return this.computeVelocity(f,s,u,d,m),this.scaleX=c.scaleX.onUpdate(this,"scaleX",m,this.scaleX),c.scaleY.active?this.scaleY=c.scaleY.onUpdate(this,"scaleY",m,this.scaleY):this.scaleY=this.scaleX,this.angle=c.rotate.onUpdate(this,"rotate",m,this.angle),this.rotation=n(this.angle),f.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=p(c.alpha.onUpdate(this,"alpha",m,this.alpha),0,1),c.color.active?this.tint=c.color.onUpdate(this,"color",m,this.tint):this.tint=c.tint.onUpdate(this,"tint",m,this.tint),this.lifeCurrent-=s,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(s,u,d,f,c){var m=s.ops,T=this.velocityX,C=this.velocityY,S=m.accelerationX.onUpdate(this,"accelerationX",c,this.accelerationX),A=m.accelerationY.onUpdate(this,"accelerationY",c,this.accelerationY),P=m.maxVelocityX.onUpdate(this,"maxVelocityX",c,this.maxVelocityX),R=m.maxVelocityY.onUpdate(this,"maxVelocityY",c,this.maxVelocityY);this.bounce=m.bounce.onUpdate(this,"bounce",c,this.bounce),T+=s.gravityX*d+S*d,C+=s.gravityY*d+A*d,T=p(T,-P,P),C=p(C,-R,R),this.velocityX=T,this.velocityY=C,this.x+=T*d,this.y+=C*d,s.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var F=0;F<f.length;F++){var D=f[F];D.active&&D.update(this,u,d,c)}},setSizeToFrame:function(){},getBounds:function(s){s===void 0&&(s=this.emitter.getWorldTransformMatrix());var u=Math.abs(s.scaleX)*this.scaleX,d=Math.abs(s.scaleY)*this.scaleY,f=this.x,c=this.y,m=this.rotation,T=this.frame.width*u/2,C=this.frame.height*d/2,S=this.bounds,A=new r(f-T,c-C),P=new r(f+T,c-C),R=new r(f-T,c+C),F=new r(f+T,c+C);return m!==0&&(e(A,f,c,m),e(P,f,c,m),e(R,f,c,m),e(F,f,c,m)),s.transformPoint(A.x,A.y,A),s.transformPoint(P.x,P.y,P),s.transformPoint(R.x,R.y,R),s.transformPoint(F.x,F.y,F),S.x=Math.min(A.x,P.x,R.x,F.x),S.y=Math.min(A.y,P.y,R.y,F.y),S.width=Math.max(A.x,P.x,R.x,F.x)-S.x,S.height=Math.max(A.y,P.y,R.y,F.y)-S.y,S},destroy:function(){this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});v.exports=l},69601:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(20286),a=t(87841),n=new o({Extends:p,initialize:function(e,r,l,s,u,d,f,c){u===void 0&&(u=!0),d===void 0&&(d=!0),f===void 0&&(f=!0),c===void 0&&(c=!0),p.call(this,e,r,!0),this.bounds=new a(e,r,l,s),this.collideLeft=u,this.collideRight=d,this.collideTop=f,this.collideBottom=c},update:function(i){var e=this.bounds,r=-i.bounce,l=i.worldPosition;l.x<e.x&&this.collideLeft?(i.x+=e.x-l.x,i.velocityX*=r):l.x>e.right&&this.collideRight&&(i.x-=l.x-e.right,i.velocityX*=r),l.y<e.y&&this.collideTop?(i.y+=e.y-l.y,i.velocityY*=r):l.y>e.bottom&&this.collideBottom&&(i.y-=l.y-e.bottom,i.velocityY*=r)}});v.exports=n},31600:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(31401),a=t(53774),n=t(43459),i=t(26388),e=t(19909),r=t(76472),l=t(44777),s=t(20696),u=t(95643),d=t(95540),f=t(26546),c=t(24502),m=t(1985),T=t(97022),C=t(86091),S=t(73162),A=t(20074),P=t(56480),R=t(68875),F=t(87841),D=t(59996),L=t(72905),O=t(90668),B=t(19186),b=t(61340),z=t(26099),V=t(15994),W=t(69601),K=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],U=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],Y=new o({Extends:u,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.Mask,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Texture,p.Transform,p.Visible,O],initialize:function(N,G,X,H,Q){u.call(this,N,"ParticleEmitter"),this.particleClass=P,this.ops={accelerationX:new l("accelerationX",0),accelerationY:new l("accelerationY",0),alpha:new l("alpha",1),angle:new l("angle",{min:0,max:360},!0),bounce:new l("bounce",0),color:new r("color"),delay:new l("delay",0,!0),hold:new l("hold",0,!0),lifespan:new l("lifespan",1e3,!0),maxVelocityX:new l("maxVelocityX",1e4),maxVelocityY:new l("maxVelocityY",1e4),moveToX:new l("moveToX",0),moveToY:new l("moveToY",0),quantity:new l("quantity",1,!0),rotate:new l("rotate",0),scaleX:new l("scaleX",1),scaleY:new l("scaleY",1),speedX:new l("speedX",0,!0),speedY:new l("speedY",0,!0),tint:new l("tint",16777215),x:new l("x",0),y:new l("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new z,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new b,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new S(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(G,X),this.setTexture(H),Q&&this.setConfig(Q)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(I){if(!I)return this;var N=0,G="",X=this.ops;for(N=0;N<U.length;N++)G=U[N],X[G].loadConfig(I);for(N=0;N<K.length;N++)G=K[N],T(I,G)&&(this[G]=d(I,G));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=this.moveToX!==0&&this.moveToY!==0,T(I,"speed")&&(X.speedX.loadConfig(I,"speed"),X.speedY.active=!1),(m(I,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),T(I,"scale")&&(X.scaleX.loadConfig(I,"scale"),X.scaleY.active=!1),T(I,"callbackScope")){var H=d(I,"callbackScope",null);this.emitCallbackScope=H,this.deathCallbackScope=H}if(T(I,"emitZone")&&this.addEmitZone(I.emitZone),T(I,"deathZone")&&this.addDeathZone(I.deathZone),T(I,"bounds")){var Q=this.addParticleBounds(I.bounds);Q.collideLeft=d(I,"collideLeft",!0),Q.collideRight=d(I,"collideRight",!0),Q.collideTop=d(I,"collideTop",!0),Q.collideBottom=d(I,"collideBottom",!0)}return T(I,"followOffset")&&this.followOffset.setFromObject(d(I,"followOffset",0)),T(I,"texture")&&this.setTexture(I.texture),T(I,"frame")?this.setEmitterFrame(I.frame):T(I,"anim")&&this.setAnim(I.anim),T(I,"reserve")&&this.reserve(I.reserve),T(I,"advance")&&this.fastForward(I.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(s.START,this),this},toJSON:function(){var I=a(this),N=0,G="";for(N=0;N<K.length;N++)G=K[N],I[G]=this[G];var X=this.ops;for(N=0;N<U.length;N++)G=U[N],X[G]&&(I[G]=X[G].toJSON());return X.speedY.active||(delete I.speedX,I.speed=X.speedX.toJSON()),this.scaleX===this.scaleY&&(delete I.scaleX,delete I.scaleY,I.scale=X.scaleX.toJSON()),I},resetCounters:function(I,N){var G=this.counters;G.fill(0),G[0]=I,N&&(G[5]=1)},startFollow:function(I,N,G,X){return N===void 0&&(N=0),G===void 0&&(G=0),X===void 0&&(X=!1),this.follow=I,this.followOffset.set(N,G),this.trackVisible=X,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var I=this.frames,N=I.length,G;return N===1?G=I[0]:this.randomFrame?G=f(I):(G=I[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===N&&(this.currentFrame=0))),this.texture.get(G)},setEmitterFrame:function(I,N,G){N===void 0&&(N=!0),G===void 0&&(G=1),this.randomFrame=N,this.frameQuantity=G,this.currentFrame=0;var X=typeof I;if(this.frames.length=0,Array.isArray(I))this.frames=this.frames.concat(I);else if(X==="string"||X==="number")this.frames.push(I);else if(X==="object"){var H=I;I=d(H,"frames",null),I&&(this.frames=this.frames.concat(I));var Q=d(H,"cycle",!1);this.randomFrame=!Q,this.frameQuantity=d(H,"quantity",G)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var I=this.anims,N=I.length;if(N===0)return null;if(N===1)return I[0];if(this.randomAnim)return f(I);var G=I[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=V(this.currentAnim+1,0,N)),G},setAnim:function(I,N,G){N===void 0&&(N=!0),G===void 0&&(G=1),this.randomAnim=N,this.animQuantity=G,this.currentAnim=0;var X=typeof I;if(this.anims.length=0,Array.isArray(I))this.anims=this.anims.concat(I);else if(X==="string")this.anims.push(I);else if(X==="object"){var H=I;I=d(H,"anims",null),I&&(this.anims=this.anims.concat(I));var Q=d(H,"cycle",!1);this.randomAnim=!Q,this.animQuantity=d(H,"quantity",G)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(I){return I===void 0&&(I=!0),this.radial=I,this},addParticleBounds:function(I,N,G,X,H,Q,$,Z){if(typeof I=="object"){var J=I;I=J.x,N=J.y,G=T(J,"w")?J.w:J.width,X=T(J,"h")?J.h:J.height}return this.addParticleProcessor(new W(I,N,G,X,H,Q,$,Z))},setParticleSpeed:function(I,N){return N===void 0&&(N=I),this.ops.speedX.onChange(I),I===N?this.ops.speedY.active=!1:this.ops.speedY.onChange(N),this.radial=!0,this},setParticleScale:function(I,N){return I===void 0&&(I=1),N===void 0&&(N=I),this.ops.scaleX.onChange(I),this.ops.scaleY.onChange(N),this},setParticleGravity:function(I,N){return this.gravityX=I,this.gravityY=N,this},setParticleAlpha:function(I){return this.ops.alpha.onChange(I),this},setParticleTint:function(I){return this.ops.tint.onChange(I),this},setEmitterAngle:function(I){return this.ops.angle.onChange(I),this},setParticleLifespan:function(I){return this.ops.lifespan.onChange(I),this},setQuantity:function(I){return this.quantity=I,this},setFrequency:function(I,N){return this.frequency=I,this.flowCounter=I>0?I:0,N&&(this.quantity=N),this},addDeathZone:function(I){Array.isArray(I)||(I=[I]);for(var N,G=[],X=0;X<I.length;X++)if(N=I[X],N instanceof i)G.push(N);else if(typeof N.contains=="function")N=new i(N,!0),G.push(N);else{var H=d(N,"type","onEnter"),Q=d(N,"source",null);if(Q&&typeof Q.contains=="function"){var $=H==="onEnter";N=new i(Q,$),G.push(N)}}return this.deathZones=this.deathZones.concat(G),G},removeDeathZone:function(I){return L(this.deathZones,I),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(I){Array.isArray(I)||(I=[I]);for(var N,G=[],X=0;X<I.length;X++)if(N=I[X],N instanceof R||N instanceof e)G.push(N);else{var H=d(N,"source",null);if(H){var Q=d(N,"type","random");if(Q==="random"&&typeof H.getRandomPoint=="function")N=new R(H),G.push(N);else if(Q==="edge"&&typeof H.getPoints=="function"){var $=d(N,"quantity",1),Z=d(N,"stepRate",0),J=d(N,"yoyo",!1),j=d(N,"seamless",!0),k=d(N,"total",-1);N=new e(H,$,Z,J,j,k),G.push(N)}}}return this.emitZones=this.emitZones.concat(G),G},removeEmitZone:function(I){return L(this.emitZones,I),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(I){var N=this.emitZones,G=N.length;if(G!==0){var X=N[this.zoneIndex];X.getPoint(I),X.total>-1&&(this.zoneTotal++,this.zoneTotal===X.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===G&&(this.zoneIndex=0)))}},getDeathZone:function(I){for(var N=this.deathZones,G=0;G<N.length;G++){var X=N[G];if(X.willKill(I))return this.emit(s.DEATH_ZONE,this,I,X),!0}return!1},setEmitZone:function(I){var N;return isFinite(I)?N=I:N=this.emitZones.indexOf(I),N>=0&&(this.zoneIndex=N),this},addParticleProcessor:function(I){return this.processors.exists(I)||(I.emitter&&I.emitter.removeParticleProcessor(I),this.processors.add(I),I.emitter=this),I},removeParticleProcessor:function(I){return this.processors.exists(I)&&(this.processors.remove(I,!0),I.emitter=null),I},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(I){return this.addParticleProcessor(new c(I))},reserve:function(I){var N=this.dead;if(this.maxParticles>0){var G=this.getParticleCount();G+I>this.maxParticles&&(I=this.maxParticles-(G+I))}for(var X=0;X<I;X++)N.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(I,N){return I===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof I=="function"&&(this.emitCallback=I,N&&(this.emitCallbackScope=N)),this},onParticleDeath:function(I,N){return I===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof I=="function"&&(this.deathCallback=I,N&&(this.deathCallbackScope=N)),this},killAll:function(){for(var I=this.dead,N=this.alive;N.length>0;)I.push(N.pop());return this},forEachAlive:function(I,N){for(var G=this.alive,X=G.length,H=0;H<X;H++)I.call(N,G[H],this);return this},forEachDead:function(I,N){for(var G=this.dead,X=G.length,H=0;H<X;H++)I.call(N,G[H],this);return this},start:function(I,N){return I===void 0&&(I=0),this.emitting||(I>0&&this.fastForward(I),this.emitting=!0,this.resetCounters(this.frequency,!0),N!==void 0&&(this.duration=Math.abs(N)),this.emit(s.START,this)),this},stop:function(I){return I===void 0&&(I=!1),this.emitting&&(this.emitting=!1,I&&this.killAll(),this.emit(s.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(I,N){return I===void 0&&(I=""),N===void 0&&(N=this.true),this.sortProperty=I,this.sortOrderAsc=N,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(I){return this.sortProperty!==""?I=this.depthSortCallback:I=null,this.sortCallback=I,this},depthSort:function(){return B(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(I,N){var G=this.sortProperty;return this.sortOrderAsc?I[G]-N[G]:N[G]-I[G]},flow:function(I,N,G){return N===void 0&&(N=1),this.emitting=!1,this.frequency=I,this.quantity=N,G!==void 0&&(this.stopAfter=G),this.start()},explode:function(I,N,G){this.frequency=-1,this.resetCounters(-1,!0);var X=this.emitParticle(I,N,G);return this.emit(s.EXPLODE,this,X),X},emitParticleAt:function(I,N,G){return this.emitParticle(G,I,N)},emitParticle:function(I,N,G){if(!this.atLimit()){I===void 0&&(I=this.ops.quantity.onEmit());for(var X=this.dead,H=this.stopAfter,Q=this.follow?this.follow.x+this.followOffset.x:N,$=this.follow?this.follow.y+this.followOffset.y:G,Z=0;Z<I;Z++){var J=X.pop();if(J||(J=new this.particleClass(this)),J.fire(Q,$)?(this.particleBringToTop?this.alive.push(J):this.alive.unshift(J),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,J,this)):this.dead.push(J),H>0&&(this.stopCounter++,this.stopCounter>=H)||this.atLimit())break}return J}},fastForward:function(I,N){N===void 0&&(N=1e3/60);var G=0;for(this.skipping=!0;G<Math.abs(I);)this.preUpdate(0,N),G+=N;return this.skipping=!1,this},preUpdate:function(I,N){N*=this.timeScale;var G=N/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var X=this.getProcessors(),H=this.alive,Q=this.dead,$=0,Z=[],J=H.length;for($=0;$<J;$++){var j=H[$];j.update(N,G,X)&&Z.push({index:$,particle:j})}if(J=Z.length,J>0){var k=this.deathCallback,_=this.deathCallbackScope;for($=J-1;$>=0;$--){var q=Z[$];H.splice(q.index,1),Q.push(q.particle),k&&k.call(_,q.particle),q.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&H.length===0&&(this.completeFlag=0,this.emit(s.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=N;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=N,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(I){for(var N=this.getWorldTransformMatrix(),G=this.alive,X=G.length,H=[],Q=0;Q<X;Q++){var $=G[Q];D(I,$.getBounds(N))&&H.push($)}return H},getBounds:function(I,N,G,X){I===void 0&&(I=0),N===void 0&&(N=0),G===void 0&&(G=1e3/60),X===void 0&&(X=new F);var H=this.getWorldTransformMatrix(),Q,$,Z=this.alive,J=!1;if(X.setTo(0,0,0,0),N>0){var j=0;for(this.skipping=!0;j<Math.abs(N);){for(this.preUpdate(0,G),Q=0;Q<Z.length;Q++)$=Z[Q].getBounds(H),J?A(X,$):(J=!0,n($,X));j+=G}this.skipping=!1}else for(Q=0;Q<Z.length;Q++)$=Z[Q].getBounds(H),J?A(X,$):(J=!0,n($,X));return I>0&&C(X,I,I),X},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(I){this.ops.x.onChange(I)}},particleY:{get:function(){return this.ops.y.current},set:function(I){this.ops.y.onChange(I)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(I){this.ops.accelerationX.onChange(I)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(I){this.ops.accelerationY.onChange(I)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(I){this.ops.maxVelocityX.onChange(I)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(I){this.ops.maxVelocityY.onChange(I)}},speed:{get:function(){return this.ops.speedX.current},set:function(I){this.ops.speedX.onChange(I),this.ops.speedY.onChange(I)}},speedX:{get:function(){return this.ops.speedX.current},set:function(I){this.ops.speedX.onChange(I)}},speedY:{get:function(){return this.ops.speedY.current},set:function(I){this.ops.speedY.onChange(I)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(I){this.ops.moveToX.onChange(I)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(I){this.ops.moveToY.onChange(I)}},bounce:{get:function(){return this.ops.bounce.current},set:function(I){this.ops.bounce.onChange(I)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(I){this.ops.scaleX.onChange(I)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(I){this.ops.scaleY.onChange(I)}},particleColor:{get:function(){return this.ops.color.current},set:function(I){this.ops.color.onChange(I)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(I){this.ops.color.setEase(I)}},particleTint:{get:function(){return this.ops.tint.current},set:function(I){this.ops.tint.onChange(I)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(I){this.ops.alpha.onChange(I)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(I){this.ops.lifespan.onChange(I)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(I){this.ops.angle.onChange(I)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(I){this.ops.rotate.onChange(I)}},quantity:{get:function(){return this.ops.quantity.current},set:function(I){this.ops.quantity.onChange(I)}},delay:{get:function(){return this.ops.delay.current},set:function(I){this.ops.delay.onChange(I)}},hold:{get:function(){return this.ops.hold.current},set:function(I){this.ops.hold.onChange(I)}},flowCounter:{get:function(){return this.counters[0]},set:function(I){this.counters[0]=I}},frameCounter:{get:function(){return this.counters[1]},set:function(I){this.counters[1]=I}},animCounter:{get:function(){return this.counters[2]},set:function(I){this.counters[2]=I}},elapsed:{get:function(){return this.counters[3]},set:function(I){this.counters[3]=I}},stopCounter:{get:function(){return this.counters[4]},set:function(I){this.counters[4]=I}},completeFlag:{get:function(){return this.counters[5]},set:function(I){this.counters[5]=I}},zoneIndex:{get:function(){return this.counters[6]},set:function(I){this.counters[6]=I}},zoneTotal:{get:function(){return this.counters[7]},set:function(I){this.counters[7]=I}},currentFrame:{get:function(){return this.counters[8]},set:function(I){this.counters[8]=I}},currentAnim:{get:function(){return this.counters[9]},set:function(I){this.counters[9]=I}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var I,N=this.ops;for(I=0;I<U.length;I++){var G=U[I];N[G].destroy()}for(I=0;I<this.alive.length;I++)this.alive[I].destroy();for(I=0;I<this.dead.length;I++)this.dead[I].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});v.exports=Y},9871:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(59996),p=t(61340),a=new p,n=new p,i=new p,e=new p,r=function(l,s,u,d){var f=a,c=n,m=i,T=e;d?(T.loadIdentity(),T.multiply(d),T.translate(s.x,s.y),T.rotate(s.rotation),T.scale(s.scaleX,s.scaleY)):T.applyITRS(s.x,s.y,s.rotation,s.scaleX,s.scaleY);var C=l.currentContext,S=u.roundPixels,A=u.alpha,P=s.alpha,R=s.alive,F=R.length,D=s.viewBounds;if(!(!s.visible||F===0||D&&!o(D,u.worldView))){s.sortCallback&&s.depthSort(),u.addToRenderList(s);var L=s.scrollFactorX,O=s.scrollFactorY;C.save(),C.globalCompositeOperation=l.blendModes[s.blendMode];for(var B=0;B<F;B++){var b=R[B],z=b.alpha*P*A;if(!(z<=0||b.scaleX===0||b.scaleY===0)){m.applyITRS(b.x,b.y,b.rotation,b.scaleX,b.scaleY),f.copyFrom(u.matrix),f.multiplyWithOffset(T,-u.scrollX*L,-u.scrollY*O),m.e=b.x,m.f=b.y,f.multiply(m,c);var V=b.frame,W=V.canvasData;if(W.width>0&&W.height>0){var K=-V.halfWidth,U=-V.halfHeight;C.globalAlpha=z,C.save(),c.setToContext(C),S&&(K=Math.round(K),U=Math.round(U)),C.imageSmoothingEnabled=!V.source.scaleMode,C.drawImage(V.source.image,W.x,W.y,W.width,W.height,K,U,W.width,W.height),C.restore()}}}C.restore()}};v.exports=r},92730:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),p=t(44603),a=t(23568),n=t(95540),i=t(31600);p.register("particles",function(e,r){e===void 0&&(e={});var l=a(e,"key",null),s=n(e,"config",null),u=new i(this.scene,0,0,l);return r!==void 0&&(e.add=r),o(this.scene,u,e),s&&u.setConfig(s),u})},676:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),p=t(31600);o.register("particles",function(a,n,i,e){return a!==void 0&&typeof a=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new p(this.scene,a,n,i,e))})},90668:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,a=o;p=t(21188),a=t(9871),v.exports={renderWebGL:p,renderCanvas:a}},21188:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(59996),p=t(61340),a=t(70554),n=new p,i=new p,e=new p,r=new p,l=function(s,u,d,f){var c=s.pipelines.set(u.pipeline),m=n,T=i,C=e,S=r;f?(S.loadIdentity(),S.multiply(f),S.translate(u.x,u.y),S.rotate(u.rotation),S.scale(u.scaleX,u.scaleY)):S.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY);var A=a.getTintAppendFloatAlpha,P=d.alpha,R=u.alpha;s.pipelines.preBatch(u);var F=u.alive,D=F.length,L=u.viewBounds;if(!(D===0||L&&!o(L,d.worldView))){u.sortCallback&&u.depthSort(),d.addToRenderList(u),m.copyFrom(d.matrix),m.multiplyWithOffset(S,-d.scrollX*u.scrollFactorX,-d.scrollY*u.scrollFactorY),s.setBlendMode(u.blendMode),u.mask&&(u.mask.preRenderWebGL(s,u,d),s.pipelines.set(u.pipeline));for(var O=u.tintFill,B,b,z=0;z<D;z++){var V=F[z],W=V.alpha*R*P;if(!(W<=0||V.scaleX===0||V.scaleY===0)){C.applyITRS(V.x,V.y,V.rotation,V.scaleX,V.scaleY),C.e=V.x,C.f=V.y,m.multiply(C,T);var K=V.frame;K.glTexture!==b&&(b=K.glTexture,B=c.setGameObject(u,K));var U=-K.halfWidth,Y=-K.halfHeight,I=T.setQuad(U,Y,U+K.width,Y+K.height),N=A(V.tint,W);c.shouldFlush(6)&&(c.flush(),B=c.setGameObject(u,K)),c.batchQuad(u,I[0],I[1],I[2],I[3],I[4],I[5],I[6],I[7],K.u0,K.v0,K.u1,K.v1,N,N,N,N,O,b,B)}}u.mask&&u.mask.postRenderWebGL(s,d),s.pipelines.postBatch(u)}};v.exports=l},20286:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=new o({initialize:function(n,i,e){n===void 0&&(n=0),i===void 0&&(i=0),e===void 0&&(e=!0),this.emitter,this.x=n,this.y=i,this.active=e},update:function(){},destroy:function(){this.emitter=null}});v.exports=p},9774:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="complete"},812:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="deathzone"},30522:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="explode"},96695:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="start"},18677:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="stop"},20696:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={COMPLETE:t(9774),DEATH_ZONE:t(812),EXPLODE:t(30522),START:t(96695),STOP:t(18677)}},18404:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={EmitterColorOp:t(76472),EmitterOp:t(44777),Events:t(20696),GravityWell:t(24502),Particle:t(56480),ParticleBounds:t(69601),ParticleEmitter:t(31600),ParticleProcessor:t(20286),Zones:t(21024)}},26388:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=new o({initialize:function(n,i){this.source=n,this.killOnEnter=i},willKill:function(a){var n=a.worldPosition,i=this.source.contains(n.x,n.y);return i&&this.killOnEnter||!i&&!this.killOnEnter}});v.exports=p},19909:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=new o({initialize:function(n,i,e,r,l,s){r===void 0&&(r=!1),l===void 0&&(l=!0),s===void 0&&(s=-1),this.source=n,this.points=[],this.quantity=i,this.stepRate=e,this.yoyo=r,this.counter=-1,this.seamless=l,this._length=0,this._direction=0,this.total=s,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var a=this.points[0],n=this.points[this.points.length-1];a.x===n.x&&a.y===n.y&&this.points.pop()}var i=this._length;return this._length=this.points.length,this._length<i&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(a){return this.source=a,this.updateSource()},getPoint:function(a){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var n=this.points[this.counter];n&&(a.x=n.x,a.y=n.y)}});v.exports=p},68875:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(26099),a=new o({initialize:function(i){this.source=i,this._tempVec=new p,this.total=-1},getPoint:function(n){var i=this._tempVec;this.source.getRandomPoint(i),n.x=i.x,n.y=i.y}});v.exports=a},21024:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={DeathZone:t(26388),EdgeZone:t(19909),RandomZone:t(68875)}},1159:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(31401),a=t(68287),n=new o({Extends:a,Mixins:[p.PathFollower],initialize:function(e,r,l,s,u,d){a.call(this,e,l,s,u,d),this.path=r},preUpdate:function(i,e){this.anims.update(i,e),this.pathUpdate(i)}});v.exports=n},90145:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),p=t(1159);o.register("follower",function(a,n,i,e,r){var l=new p(this.scene,a,n,i,e,r);return this.displayList.add(l),this.updateList.add(l),l})},33663:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(9674),p=t(83419),a=t(48803),n=t(90664),i=t(4703),e=t(45650),r=new p({Extends:i,initialize:function(s,u,d,f,c,m,T,C){f||(f="__DEFAULT"),i.call(this,s,u,d,f,c),this.type="Plane",this.anims=new o(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(m,T,C),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return .5}},originY:{get:function(){return .5}},setGridSize:function(l,s,u){l===void 0&&(l=8),s===void 0&&(s=8),u===void 0&&(u=!1);var d=!1;return u&&(d=!0),this.gridWidth=l,this.gridHeight=s,this.isTiled=u,this.clear(),a({mesh:this,widthSegments:l,heightSegments:s,isOrtho:!1,tile:u,flipY:d}),this},setSizeToFrame:function(l){l===void 0&&(l=!0);var s=this.frame;if(this.setPerspective(this.width/s.width,this.height/s.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!l)return this;var u=this.gridWidth,d=this.gridHeight,f=this.vertices,c=s.u0,m=s.u1,T=s.v0,C=s.v1,S,A,P=0;if(this.isTiled)for(T=s.v1,C=s.v0,A=0;A<d;A++)for(S=0;S<u;S++)f[P++].setUVs(c,C),f[P++].setUVs(c,T),f[P++].setUVs(m,C),f[P++].setUVs(c,T),f[P++].setUVs(m,T),f[P++].setUVs(m,C);else{var R=u+1,F=d+1,D=m-c,L=C-T,O=[];for(A=0;A<F;A++)for(S=0;S<R;S++){var B=c+D*(S/u),b=T+L*(A/d);O.push(B,b)}for(A=0;A<d;A++)for(S=0;S<u;S++){var z=(S+R*A)*2,V=(S+R*(A+1))*2,W=(S+1+R*(A+1))*2,K=(S+1+R*A)*2;f[P++].setUVs(O[z],O[z+1]),f[P++].setUVs(O[V],O[V+1]),f[P++].setUVs(O[K],O[K+1]),f[P++].setUVs(O[V],O[V+1]),f[P++].setUVs(O[W],O[W+1]),f[P++].setUVs(O[K],O[K+1])}}return this},setViewHeight:function(l){l===void 0&&(l=this.frame.height);var s=this.fov*(Math.PI/180);this.viewPosition.z=this.height/l/Math.tan(s/2),this.dirtyCache[10]=1},createCheckerboard:function(l,s,u,d,f){l===void 0&&(l=16777215),s===void 0&&(s=255),u===void 0&&(u=255),d===void 0&&(d=255),f===void 0&&(f=128);for(var c=n(l),m=n(s),T=[],C=0;C<16;C++)for(var S=0;S<16;S++)C<8&&S<8||C>7&&S>7?T.push(c.r,c.g,c.b,u):T.push(m.r,m.g,m.b,d);var A=this.scene.sys.textures.addUint8Array(e(),new Uint8Array(T),16,16);return this.removeCheckerboard(),this.setTexture(A),this.setSizeToFrame(),this.setViewHeight(f),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(l,s){return this.anims.play(l,s)},playReverse:function(l,s){return this.anims.playReverse(l,s)},playAfterDelay:function(l,s){return this.anims.playAfterDelay(l,s)},playAfterRepeat:function(l,s){return this.anims.playAfterRepeat(l,s)},stop:function(){return this.anims.stop()},stopAfterDelay:function(l){return this.anims.stopAfterDelay(l)},stopAfterRepeat:function(l){return this.anims.stopAfterRepeat(l)},stopOnFrame:function(l){return this.anims.stopOnFrame(l)},preUpdate:function(l,s){i.prototype.preUpdate.call(this,l,s),this.anims.update(l,s)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});v.exports=r},56015:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),p=t(13059),a=t(44603),n=t(23568),i=t(35154),e=t(33663);a.register("plane",function(r,l){r===void 0&&(r={});var s=n(r,"key",null),u=n(r,"frame",null),d=i(r,"width",8),f=i(r,"height",8),c=i(r,"tile",!1),m=new e(this.scene,0,0,s,u,d,f,c);l!==void 0&&(r.add=l);var T=i(r,"checkerboard",null);if(T){var C=i(T,"color1",16777215),S=i(T,"color2",255),A=i(T,"alpha1",255),P=i(T,"alpha2",255),R=i(T,"height",128);m.createCheckerboard(C,S,A,P,R)}return o(this.scene,m,r),p(m,r),m})},30985:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(33663),p=t(39429);p.register("plane",function(a,n,i,e,r,l,s){return this.displayList.add(new o(this.scene,a,n,i,e,r,l,s))})},80321:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(31401),a=t(95643),n=t(30100),i=t(36060),e=t(67277),r=new o({Extends:a,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.Mask,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Transform,p.Visible,e],initialize:function(s,u,d,f,c,m,T){f===void 0&&(f=16777215),c===void 0&&(c=128),m===void 0&&(m=1),T===void 0&&(T=.1),a.call(this,s,"PointLight"),this.initPipeline(i.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(u,d),this.color=n(f),this.intensity=m,this.attenuation=T,this.width=c*2,this.height=c*2,this._radius=c},radius:{get:function(){return this._radius},set:function(l){this._radius=l,this.width=l*2,this.height=l*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});v.exports=r},39829:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),p=t(44603),a=t(23568),n=t(80321);p.register("pointlight",function(i,e){i===void 0&&(i={});var r=a(i,"color",16777215),l=a(i,"radius",128),s=a(i,"intensity",1),u=a(i,"attenuation",.1),d=new n(this.scene,0,0,r,l,s,u);return e!==void 0&&(i.add=e),o(this.scene,d,i),d})},71255:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),p=t(80321);o.register("pointlight",function(a,n,i,e,r,l){return this.displayList.add(new p(this.scene,a,n,i,e,r,l))})},67277:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,a=o;p=t(57787),v.exports={renderWebGL:p,renderCanvas:a}},57787:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),p=function(a,n,i,e){i.addToRenderList(n);var r=a.pipelines.set(n.pipeline),l=o(n,i,e).calc,s=n.width,u=n.height,d=-n._radius,f=-n._radius,c=d+s,m=f+u,T=l.getX(0,0),C=l.getY(0,0),S=l.getX(d,f),A=l.getY(d,f),P=l.getX(d,m),R=l.getY(d,m),F=l.getX(c,m),D=l.getY(c,m),L=l.getX(c,f),O=l.getY(c,f);a.pipelines.preBatch(n),r.batchPointLight(n,i,S,A,P,R,F,D,L,O,T,C),a.pipelines.postBatch(n)};v.exports=p},591:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(81320),a=t(88571),n=new o({Extends:a,initialize:function(e,r,l,s,u){r===void 0&&(r=0),l===void 0&&(l=0),s===void 0&&(s=32),u===void 0&&(u=32);var d=new p(e.sys.textures,"",s,u);a.call(this,e,r,l,d),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(i,e){this.width=i,this.height=e,this.texture.setSize(i,e),this.updateDisplayOrigin();var r=this.input;return r&&!r.customHitArea&&(r.hitArea.width=i,r.hitArea.height=e),this},resize:function(i,e){return this.setSize(i,e),this},saveTexture:function(i){var e=this.texture;return e.key=i,e.manager.addDynamicTexture(e)&&(this._saved=!0),e},fill:function(i,e,r,l,s,u){return this.texture.fill(i,e,r,l,s,u),this},clear:function(){return this.texture.clear(),this},stamp:function(i,e,r,l,s){return this.texture.stamp(i,e,r,l,s),this},erase:function(i,e,r){return this.texture.erase(i,e,r),this},draw:function(i,e,r,l,s){return this.texture.draw(i,e,r,l,s),this},drawFrame:function(i,e,r,l,s,u){return this.texture.drawFrame(i,e,r,l,s,u),this},repeat:function(i,e,r,l,s,u,d,f,c){return this.texture.repeat(i,e,r,l,s,u,d,f,c),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(i,e,r,l,s){return this.texture.batchDraw(i,e,r,l,s),this},batchDrawFrame:function(i,e,r,l,s,u){return this.texture.batchDrawFrame(i,e,r,l,s,u),this},endDraw:function(i){return this.texture.endDraw(i),this},snapshotArea:function(i,e,r,l,s,u,d){return this.texture.snapshotArea(i,e,r,l,s,u,d),this},snapshot:function(i,e,r){return this.snapshotArea(0,0,this.width,this.height,i,e,r)},snapshotPixel:function(i,e,r){return this.snapshotArea(i,e,1,1,r,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});v.exports=n},34495:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),p=t(44603),a=t(23568),n=t(591);p.register("renderTexture",function(i,e){i===void 0&&(i={});var r=a(i,"x",0),l=a(i,"y",0),s=a(i,"width",32),u=a(i,"height",32),d=new n(this.scene,r,l,s,u);return e!==void 0&&(i.add=e),o(this.scene,d,i),d})},60505:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),p=t(591);o.register("renderTexture",function(a,n,i,e){return this.displayList.add(new p(this.scene,a,n,i,e))})},77757:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(9674),p=t(83419),a=t(31401),n=t(95643),i=t(36060),e=t(38745),r=t(26099),l=new p({Extends:n,Mixins:[a.AlphaSingle,a.BlendMode,a.Depth,a.Flip,a.Mask,a.Pipeline,a.PostPipeline,a.Size,a.Texture,a.Transform,a.Visible,a.ScrollFactor,e],initialize:function(u,d,f,c,m,T,C,S,A){c===void 0&&(c="__DEFAULT"),T===void 0&&(T=2),C===void 0&&(C=!0),n.call(this,u,"Rope"),this.anims=new o(this),this.points=T,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=c==="__DEFAULT",this.dirty=!1,this.horizontal=C,this._flipX=!1,this._flipY=!1,this._perp=new r,this.debugCallback=null,this.debugGraphic=null,this.setTexture(c,m),this.setPosition(d,f),this.setSizeToFrame(),this.initPipeline(i.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(T)&&this.resizeArrays(T.length),this.setPoints(T,S,A),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(s,u){var d=this.anims.currentFrame;this.anims.update(s,u),this.anims.currentFrame!==d&&(this.updateUVs(),this.updateVertices())},play:function(s,u,d){return this.anims.play(s,u,d),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(s,u,d){return s===void 0&&(s=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(s,u,d))},setVertical:function(s,u,d){return s===void 0&&(s=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(s,u,d)):this},setTintFill:function(s){return s===void 0&&(s=!1),this.tintFill=s,this},setAlphas:function(s,u){var d=this.points.length;if(d<1)return this;var f=this.alphas;s===void 0?s=[1]:!Array.isArray(s)&&u===void 0&&(s=[s]);var c,m=0;if(u!==void 0)for(c=0;c<d;c++)m=c*2,f[m]=s,f[m+1]=u;else if(s.length===d)for(c=0;c<d;c++)m=c*2,f[m]=s[c],f[m+1]=s[c];else{var T=s[0];for(c=0;c<d;c++)m=c*2,s.length>m&&(T=s[m]),f[m]=T,s.length>m+1&&(T=s[m+1]),f[m+1]=T}return this},setColors:function(s){var u=this.points.length;if(u<1)return this;var d=this.colors;s===void 0?s=[16777215]:Array.isArray(s)||(s=[s]);var f,c=0;if(s.length===u)for(f=0;f<u;f++)c=f*2,d[c]=s[f],d[c+1]=s[f];else{var m=s[0];for(f=0;f<u;f++)c=f*2,s.length>c&&(m=s[c]),d[c]=m,s.length>c+1&&(m=s[c+1]),d[c+1]=m}return this},setPoints:function(s,u,d){if(s===void 0&&(s=2),typeof s=="number"){var f=s;f<2&&(f=2),s=[];var c,m,T;if(this.horizontal)for(T=-this.frame.halfWidth,m=this.frame.width/(f-1),c=0;c<f;c++)s.push({x:T+c*m,y:0});else for(T=-this.frame.halfHeight,m=this.frame.height/(f-1),c=0;c<f;c++)s.push({x:0,y:T+c*m})}var C=s.length,S=this.points.length;return C<1?(console.warn("Rope: Not enough points given"),this):(C===1&&(s.unshift({x:0,y:0}),C++),S!==C&&this.resizeArrays(C),this.dirty=!0,this.points=s,this.updateUVs(),u!=null&&this.setColors(u),d!=null&&this.setAlphas(d),this)},updateUVs:function(){for(var s=this.uv,u=this.points.length,d=this.frame.u0,f=this.frame.v0,c=this.frame.u1,m=this.frame.v1,T=(c-d)/(u-1),C=(m-f)/(u-1),S=0;S<u;S++){var A=S*4,P,R,F,D;this.horizontal?(this._flipX?(P=c-S*T,F=c-S*T):(P=d+S*T,F=d+S*T),this._flipY?(R=m,D=f):(R=f,D=m)):(this._flipX?(P=d,F=c):(P=c,F=d),this._flipY?(R=m-S*C,D=m-S*C):(R=f+S*C,D=f+S*C)),s[A+0]=P,s[A+1]=R,s[A+2]=F,s[A+3]=D}return this},resizeArrays:function(s){var u=this.colors,d=this.alphas;this.vertices=new Float32Array(s*4),this.uv=new Float32Array(s*4),u=new Uint32Array(s*2),d=new Float32Array(s*2);for(var f=0;f<s*2;f++)u[f]=16777215,d[f]=1;return this.colors=u,this.alphas=d,this.dirty=!0,this},updateVertices:function(){var s=this._perp,u=this.points,d=this.vertices,f=u.length;if(this.dirty=!1,!(f<1)){for(var c,m=u[0],T=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,C=0;C<f;C++){var S=u[C],A=C*4;C<f-1?c=u[C+1]:c=S,s.x=c.y-m.y,s.y=-(c.x-m.x);var P=s.length();s.x/=P,s.y/=P,s.x*=T,s.y*=T,d[A]=S.x+s.x,d[A+1]=S.y+s.y,d[A+2]=S.x-s.x,d[A+3]=S.y-s.y,m=S}return this}},setDebug:function(s,u){return this.debugGraphic=s,!s&&!u?this.debugCallback=null:u?this.debugCallback=u:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(s,u,d){var f=s.debugGraphic,c=d[0],m=d[1],T=d[2],C=d[3];f.lineBetween(c,m,T,C);for(var S=4;S<u;S+=4){var A=d[S+0],P=d[S+1],R=d[S+2],F=d[S+3];f.lineBetween(c,m,A,P),f.lineBetween(T,C,R,F),f.lineBetween(T,C,A,P),f.lineBetween(A,P,R,F),c=A,m=P,T=R,C=F}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(s){return this._flipX=s,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(s){return this._flipY=s,this.updateUVs()}}});v.exports=l},95262:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(){};v.exports=y},26209:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),p=t(44603),a=t(23568),n=t(35154),i=t(77757);p.register("rope",function(e,r){e===void 0&&(e={});var l=a(e,"key",null),s=a(e,"frame",null),u=a(e,"horizontal",!0),d=n(e,"points",void 0),f=n(e,"colors",void 0),c=n(e,"alphas",void 0),m=new i(this.scene,0,0,l,s,d,u,f,c);return r!==void 0&&(e.add=r),o(this.scene,m,e),m})},96819:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(77757),p=t(39429);p.register("rope",function(a,n,i,e,r,l,s,u){return this.displayList.add(new o(this.scene,a,n,i,e,r,l,s,u))})},38745:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,a=o;p=t(20439),a=t(95262),v.exports={renderWebGL:p,renderCanvas:a}},20439:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),p=t(70554),a=function(n,i,e,r){e.addToRenderList(i);var l=n.pipelines.set(i.pipeline,i),s=o(i,e,r).calc,u=i.vertices,d=i.uv,f=i.colors,c=i.alphas,m=i.alpha,T=p.getTintAppendFloatAlpha,C=e.roundPixels,S=u.length,A=Math.floor(S*.5);l.flush(),n.pipelines.preBatch(i);var P=l.setGameObject(i),R=l.vertexViewF32,F=l.vertexViewU32,D=l.vertexCount*l.currentShader.vertexComponentCount-1,L=0,O=i.tintFill;i.dirty&&i.updateVertices();for(var B=i.debugCallback,b=[],z=0;z<S;z+=2){var V=u[z+0],W=u[z+1],K=V*s.a+W*s.c+s.e,U=V*s.b+W*s.d+s.f;C&&(K=Math.round(K),U=Math.round(U)),R[++D]=K,R[++D]=U,R[++D]=d[z+0],R[++D]=d[z+1],R[++D]=P,R[++D]=O,F[++D]=T(f[L],e.alpha*(c[L]*m)),L++,B&&(b[z+0]=K,b[z+1]=U)}B&&B.call(i,i,S,b),l.vertexCount+=A,l.currentBatch.count=l.vertexCount-l.currentBatch.start,n.pipelines.postBatch(i)};v.exports=a},20071:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(31401),a=t(95643),n=t(95540),i=t(79291),e=t(61622),r=t(25479),l=t(61340),s=t(95428),u=t(92503),d=new o({Extends:a,Mixins:[p.ComputedSize,p.Depth,p.GetBounds,p.Mask,p.Origin,p.ScrollFactor,p.Transform,p.Visible,r],initialize:function(c,m,T,C,S,A,P,R){T===void 0&&(T=0),C===void 0&&(C=0),S===void 0&&(S=128),A===void 0&&(A=128),a.call(this,c,"Shader"),this.blendMode=-1,this.shader;var F=c.sys.renderer;this.renderer=F,this.gl=F.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=F.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new l,this._tempMatrix2=new l,this._tempMatrix3=new l,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=F.width,this._rendererHeight=F.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(T,C),this.setSize(S,A),this.setOrigin(.5,.5),this.setShader(m,P,R),this.renderer.on(u.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(f){return this.renderToTexture?!0:!(a.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&f.id)},setRenderToTexture:function(f,c){if(!this.renderToTexture){var m=this.width,T=this.height,C=this.renderer;this.glTexture=C.createTextureFromSource(null,m,T,0),this.framebuffer=C.createFramebuffer(m,T,this.glTexture,!1),this._rendererWidth=m,this._rendererHeight=T,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),f&&(this.texture=this.scene.sys.textures.addGLTexture(f,this.glTexture))}return this.shader&&(C.pipelines.clear(),this.load(),this.flush(),C.pipelines.rebind()),this},setShader:function(f,c,m){if(this.renderer.contextLost)return this._deferSetShader={key:f,textures:c,textureData:m},this;if(c===void 0&&(c=[]),typeof f=="string"){var T=this.scene.sys.cache.shader;if(!T.has(f))return console.warn("Shader missing: "+f),this;this.shader=T.get(f)}else this.shader=f;var C=this.gl,S=this.renderer;this.program&&S.deleteProgram(this.program);var A=S.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);C.uniformMatrix4fv(C.getUniformLocation(A.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),C.uniformMatrix4fv(C.getUniformLocation(A.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),C.uniform2f(C.getUniformLocation(A.webGLProgram,"uResolution"),this.width,this.height),this.program=A;var P=new Date,R={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[P.getFullYear(),P.getMonth(),P.getDate(),P.getHours()*60*60+P.getMinutes()*60+P.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=i(!0,{},this.shader.uniforms,R):this.uniforms=R;for(var F=0;F<4;F++)c[F]&&this.setSampler2D("iChannel"+F,c[F],F,m);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(f){return this.pointer=f,this},projOrtho:function(f,c,m,T){if(this.renderer.contextLost){this._deferProjOrtho={left:f,right:c,bottom:m,top:T};return}var C=-1e3,S=1e3,A=1/(f-c),P=1/(m-T),R=1/(C-S),F=this.projectionMatrix;F[0]=-2*A,F[5]=-2*P,F[10]=2*R,F[12]=(f+c)*A,F[13]=(T+m)*P,F[14]=(S+C)*R;var D=this.program,L=this.gl,O=this.renderer;O.setProgram(D),L.uniformMatrix4fv(L.getUniformLocation(D.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=c,this._rendererHeight=m},initUniforms:function(){var f=this.renderer.glFuncMap,c=this.program;this._textureCount=0;for(var m in this.uniforms){var T=this.uniforms[m],C=T.type,S=f[C];T.uniformLocation=this.renderer.createUniformLocation(c,m),C!=="sampler2D"&&(T.glMatrix=S.matrix,T.glValueLength=S.length,T.glFunc=S.func)}},setSampler2DBuffer:function(f,c,m,T,C,S){C===void 0&&(C=0),S===void 0&&(S={});var A=this.uniforms[f];return A.value=c,S.width=m,S.height=T,A.textureData=S,this._textureCount=C,this.initSampler2D(A),this},setSampler2D:function(f,c,m,T){m===void 0&&(m=0);var C=this.scene.sys.textures;if(C.exists(c)){var S=C.getFrame(c);if(S.glTexture&&S.glTexture.isRenderTexture)return this.setSampler2DBuffer(f,S.glTexture,S.width,S.height,m,T);var A=this.uniforms[f],P=S.source;A.textureKey=c,A.source=P.image,A.value=S.glTexture,P.isGLTexture&&(T||(T={}),T.width=P.width,T.height=P.height),T&&(A.textureData=T),this._textureCount=m,this.initSampler2D(A)}return this},setUniform:function(f,c){return e(this.uniforms,f,c),this},getUniform:function(f){return n(this.uniforms,f,null)},setChannel0:function(f,c){return this.setSampler2D("iChannel0",f,0,c)},setChannel1:function(f,c){return this.setSampler2D("iChannel1",f,1,c)},setChannel2:function(f,c){return this.setSampler2D("iChannel2",f,2,c)},setChannel3:function(f,c){return this.setSampler2D("iChannel3",f,3,c)},initSampler2D:function(f){if(f.value){var c=f.textureData;if(c&&!f.value.isRenderTexture){var m=this.gl,T=f.value,C=m[n(c,"magFilter","linear").toUpperCase()],S=m[n(c,"minFilter","linear").toUpperCase()],A=m[n(c,"wrapS","repeat").toUpperCase()],P=m[n(c,"wrapT","repeat").toUpperCase()],R=m[n(c,"format","rgba").toUpperCase()],F=n(c,"flipY",!1),D=n(c,"width",T.width),L=n(c,"height",T.height),O=n(c,"source",T.pixels);c.repeat&&(A=m.REPEAT,P=m.REPEAT),c.width&&(O=null),T.update(O,D,L,F,A,P,S,C,R)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var f=this.gl,c=this.uniforms,m,T,C,S,A,P=0;for(var R in c)m=c[R],C=m.glFunc,T=m.glValueLength,S=m.uniformLocation,A=m.value,A!==null&&(T===1?m.glMatrix?C.call(f,S.webGLUniformLocation,m.transpose,A):C.call(f,S.webGLUniformLocation,A):T===2?C.call(f,S.webGLUniformLocation,A.x,A.y):T===3?C.call(f,S.webGLUniformLocation,A.x,A.y,A.z):T===4?C.call(f,S.webGLUniformLocation,A.x,A.y,A.z,A.w):m.type==="sampler2D"&&(f.activeTexture(f.TEXTURE0+P),f.bindTexture(f.TEXTURE_2D,A.webGLTexture),f.uniform1i(S.webGLUniformLocation,P),P++))},load:function(f){var c=this.gl,m=this.width,T=this.height,C=this.renderer,S=this.program,A=this.viewMatrix;if(!this.renderToTexture){var P=-this._displayOriginX,R=-this._displayOriginY;A[0]=f[0],A[1]=f[1],A[4]=f[2],A[5]=f[3],A[8]=f[4],A[9]=f[5],A[12]=A[0]*P+A[4]*R,A[13]=A[1]*P+A[5]*R}c.useProgram(S.webGLProgram),c.uniformMatrix4fv(c.getUniformLocation(S.webGLProgram,"uViewMatrix"),!1,A),c.uniformMatrix4fv(c.getUniformLocation(S.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),c.uniform2f(c.getUniformLocation(S.webGLProgram,"uResolution"),this.width,this.height);var F=this.uniforms,D=F.resolution;D.value.x=m,D.value.y=T,F.time.value=C.game.loop.getDuration();var L=this.pointer;if(L){var O=F.mouse,B=L.x/m,b=1-L.y/T;O.value.x=B.toFixed(2),O.value.y=b.toFixed(2)}this.syncUniforms()},flush:function(){var f=this.width,c=this.height,m=this.program,T=this.gl,C=this.vertexBuffer,S=this.renderer,A=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(S.setFramebuffer(this.framebuffer),T.clearColor(0,0,0,0),T.clear(T.COLOR_BUFFER_BIT)),T.bindBuffer(T.ARRAY_BUFFER,C.webGLBuffer);var P=T.getAttribLocation(m.webGLProgram,"inPosition");P!==-1&&(T.enableVertexAttribArray(P),T.vertexAttribPointer(P,2,T.FLOAT,!1,A,0));var R=this.vertexViewF32;R[3]=c,R[4]=f,R[5]=c,R[8]=f,R[9]=c,R[10]=f;var F=6;T.bufferSubData(T.ARRAY_BUFFER,0,this.bytes.subarray(0,F*A)),T.drawArrays(T.TRIANGLES,0,F),this.renderToTexture&&S.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(this._deferSetShader!==null){var f=this._deferSetShader.key,c=this._deferSetShader.textures,m=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(f,c,m)}if(this._deferProjOrtho!==null){var T=this._deferProjOrtho.left,C=this._deferProjOrtho.right,S=this._deferProjOrtho.bottom,A=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(T,C,S,A)}},preDestroy:function(){var f=this.renderer;f.off(u.RESTORE_WEBGL,this.onContextRestored,this),f.deleteProgram(this.program),f.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(f.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),s(this.uniforms,function(c){f.deleteUniformLocation(c.uniformLocation),c.uniformLocation=null})}});v.exports=d},80464:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(){};v.exports=y},54935:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),p=t(44603),a=t(23568),n=t(20071);p.register("shader",function(i,e){i===void 0&&(i={});var r=a(i,"key",null),l=a(i,"x",0),s=a(i,"y",0),u=a(i,"width",128),d=a(i,"height",128),f=new n(this.scene,r,l,s,u,d);return e!==void 0&&(i.add=e),o(this.scene,f,i),f})},74177:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20071),p=t(39429);p.register("shader",function(a,n,i,e,r,l,s){return this.displayList.add(new o(this.scene,a,n,i,e,r,l,s))})},25479:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,a=o;p=t(19257),a=t(80464),v.exports={renderWebGL:p,renderCanvas:a}},19257:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),p=function(a,n,i,e){if(n.shader){if(i.addToRenderList(n),a.pipelines.clear(),n.renderToTexture)n.load(),n.flush();else{var r=o(n,i,e).calc;(a.width!==n._rendererWidth||a.height!==n._rendererHeight)&&n.projOrtho(0,a.width,a.height,0),n.load(r.matrix),n.flush()}a.pipelines.rebind()}};v.exports=p},10441:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(70554),p=function(a,n,i,e,r,l){for(var s=o.getTintAppendFloatAlpha(i.fillColor,i.fillAlpha*e),u=i.pathData,d=i.pathIndexes,f=0;f<d.length;f+=3){var c=d[f]*2,m=d[f+1]*2,T=d[f+2]*2,C=u[c+0]-r,S=u[c+1]-l,A=u[m+0]-r,P=u[m+1]-l,R=u[T+0]-r,F=u[T+1]-l,D=n.getX(C,S),L=n.getY(C,S),O=n.getX(A,P),B=n.getY(A,P),b=n.getX(R,F),z=n.getY(R,F);a.batchTri(i,D,L,O,B,b,z,0,0,1,1,s,s,s,2)}};v.exports=p},65960:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a){var n=p||o.fillColor,i=a||o.fillAlpha,e=(n&16711680)>>>16,r=(n&65280)>>>8,l=n&255;t.fillStyle="rgba("+e+","+r+","+l+","+i+")"};v.exports=y},75177:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a){var n=p||o.strokeColor,i=a||o.strokeAlpha,e=(n&16711680)>>>16,r=(n&65280)>>>8,l=n&255;t.strokeStyle="rgba("+e+","+r+","+l+","+i+")",t.lineWidth=o.lineWidth};v.exports=y},17803:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(31401),a=t(95643),n=t(23031),i=new o({Extends:a,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.GetBounds,p.Mask,p.Origin,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Transform,p.Visible],initialize:function(r,l,s){l===void 0&&(l="Shape"),a.call(this,r,l),this.geom=s,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new n,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(e,r){return r===void 0&&(r=1),e===void 0?this.isFilled=!1:(this.fillColor=e,this.fillAlpha=r,this.isFilled=!0),this},setStrokeStyle:function(e,r,l){return l===void 0&&(l=1),e===void 0?this.isStroked=!1:(this.lineWidth=e,this.strokeColor=r,this.strokeAlpha=l,this.isStroked=!0),this},setClosePath:function(e){return this.closePath=e,this},setSize:function(e,r){return this.width=e,this.height=r,this},setDisplaySize:function(e,r){return this.displayWidth=e,this.displayHeight=r,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}}});v.exports=i},34682:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(70554),p=function(a,n,i,e,r){var l=a.strokeTint,s=o.getTintAppendFloatAlpha(n.strokeColor,n.strokeAlpha*i);l.TL=s,l.TR=s,l.BL=s,l.BR=s;var u=n.pathData,d=u.length-1,f=n.lineWidth,c=f/2,m=u[0]-e,T=u[1]-r;n.closePath||(d-=2);for(var C=2;C<d;C+=2){var S=u[C]-e,A=u[C+1]-r;a.batchLine(m,T,S,A,c,c,f,C-2,n.closePath?C===d-1:!1),m=S,T=A}};v.exports=p},23629:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(13609),p=t(83419),a=t(39506),n=t(94811),i=t(96503),e=t(36383),r=t(17803),l=new p({Extends:r,Mixins:[o],initialize:function(u,d,f,c,m,T,C,S,A){d===void 0&&(d=0),f===void 0&&(f=0),c===void 0&&(c=128),m===void 0&&(m=0),T===void 0&&(T=360),C===void 0&&(C=!1),r.call(this,u,"Arc",new i(0,0,c)),this._startAngle=m,this._endAngle=T,this._anticlockwise=C,this._iterations=.01,this.setPosition(d,f);var P=this.geom.radius*2;this.setSize(P,P),S!==void 0&&this.setFillStyle(S,A),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(s){this._iterations=s,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(s){this.geom.radius=s;var u=s*2;this.setSize(u,u),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(s){this._startAngle=s,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(s){this._endAngle=s,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(s){this._anticlockwise=s,this.updateData()}},setRadius:function(s){return this.radius=s,this},setIterations:function(s){return s===void 0&&(s=.01),this.iterations=s,this},setStartAngle:function(s,u){return this._startAngle=s,u!==void 0&&(this._anticlockwise=u),this.updateData()},setEndAngle:function(s,u){return this._endAngle=s,u!==void 0&&(this._anticlockwise=u),this.updateData()},updateData:function(){var s=this._iterations,u=s,d=this.geom.radius,f=a(this._startAngle),c=a(this._endAngle),m=this._anticlockwise,T=d,C=d;c-=f,m?c<-e.PI2?c=-e.PI2:c>0&&(c=-e.PI2+c%e.PI2):c>e.PI2?c=e.PI2:c<0&&(c=e.PI2+c%e.PI2);for(var S=[T+Math.cos(f)*d,C+Math.sin(f)*d],A;u<1;)A=c*u+f,S.push(T+Math.cos(A)*d,C+Math.sin(A)*d),u+=s;return A=c+f,S.push(T+Math.cos(A)*d,C+Math.sin(A)*d),S.push(T+Math.cos(f)*d,C+Math.sin(f)*d),this.pathIndexes=n(S),this.pathData=S,this}});v.exports=l},42542:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39506),p=t(65960),a=t(75177),n=t(20926),i=function(e,r,l,s){l.addToRenderList(r);var u=e.currentContext;if(n(e,u,r,l,s)){var d=r.radius;u.beginPath(),u.arc(d-r.originX*(d*2),d-r.originY*(d*2),d,o(r._startAngle),o(r._endAngle),r.anticlockwise),r.closePath&&u.closePath(),r.isFilled&&(p(u,r),u.fill()),r.isStroked&&(a(u,r),u.stroke()),u.restore()}};v.exports=i},42563:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(23629),p=t(39429);p.register("arc",function(a,n,i,e,r,l,s,u){return this.displayList.add(new o(this.scene,a,n,i,e,r,l,s,u))}),p.register("circle",function(a,n,i,e,r){return this.displayList.add(new o(this.scene,a,n,i,0,360,!1,e,r))})},13609:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,a=o;p=t(41447),a=t(42542),v.exports={renderWebGL:p,renderCanvas:a}},41447:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),p=t(10441),a=t(34682),n=function(i,e,r,l){r.addToRenderList(e);var s=i.pipelines.set(e.pipeline),u=o(e,r,l),d=s.calcMatrix.copyFrom(u.calc),f=e._displayOriginX,c=e._displayOriginY,m=r.alpha*e.alpha;i.pipelines.preBatch(e),e.isFilled&&p(s,d,e,m,f,c),e.isStroked&&a(s,e,m,f,c),i.pipelines.postBatch(e)};v.exports=n},89:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(33141),a=t(94811),n=t(87841),i=t(17803),e=new o({Extends:i,Mixins:[p],initialize:function(l,s,u,d,f,c){s===void 0&&(s=0),u===void 0&&(u=0),i.call(this,l,"Curve",d),this._smoothness=32,this._curveBounds=new n,this.closePath=!1,this.setPosition(s,u),f!==void 0&&this.setFillStyle(f,c),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(r){this._smoothness=r,this.updateData()}},setSmoothness:function(r){return this._smoothness=r,this.updateData()},updateData:function(){var r=this._curveBounds,l=this._smoothness;this.geom.getBounds(r,l),this.setSize(r.width,r.height),this.updateDisplayOrigin();for(var s=[],u=this.geom.getPoints(l),d=0;d<u.length;d++)s.push(u[d].x,u[d].y);return s.push(u[0].x,u[0].y),this.pathIndexes=a(s),this.pathData=s,this}});v.exports=e},3170:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(65960),p=t(75177),a=t(20926),n=function(i,e,r,l){r.addToRenderList(e);var s=i.currentContext;if(a(i,s,e,r,l)){var u=e._displayOriginX+e._curveBounds.x,d=e._displayOriginY+e._curveBounds.y,f=e.pathData,c=f.length-1,m=f[0]-u,T=f[1]-d;s.beginPath(),s.moveTo(m,T),e.closePath||(c-=2);for(var C=2;C<c;C+=2){var S=f[C]-u,A=f[C+1]-d;s.lineTo(S,A)}e.closePath&&s.closePath(),e.isFilled&&(o(s,e),s.fill()),e.isStroked&&(p(s,e),s.stroke()),s.restore()}};v.exports=n},40511:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),p=t(89);o.register("curve",function(a,n,i,e,r){return this.displayList.add(new p(this.scene,a,n,i,e,r))})},33141:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,a=o;p=t(53987),a=t(3170),v.exports={renderWebGL:p,renderCanvas:a}},53987:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10441),p=t(91296),a=t(34682),n=function(i,e,r,l){r.addToRenderList(e);var s=i.pipelines.set(e.pipeline),u=p(e,r,l),d=s.calcMatrix.copyFrom(u.calc),f=e._displayOriginX+e._curveBounds.x,c=e._displayOriginY+e._curveBounds.y,m=r.alpha*e.alpha;i.pipelines.preBatch(e),e.isFilled&&o(s,d,e,m,f,c),e.isStroked&&a(s,e,m,f,c),i.pipelines.postBatch(e)};v.exports=n},19921:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(94811),a=t(54205),n=t(8497),i=t(17803),e=new o({Extends:i,Mixins:[a],initialize:function(l,s,u,d,f,c,m){s===void 0&&(s=0),u===void 0&&(u=0),d===void 0&&(d=128),f===void 0&&(f=128),i.call(this,l,"Ellipse",new n(d/2,f/2,d,f)),this._smoothness=64,this.setPosition(s,u),this.width=d,this.height=f,c!==void 0&&this.setFillStyle(c,m),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(r){this._smoothness=r,this.updateData()}},setSize:function(r,l){return this.width=r,this.height=l,this.geom.setPosition(r/2,l/2),this.geom.setSize(r,l),this.updateData()},setSmoothness:function(r){return this._smoothness=r,this.updateData()},updateData:function(){for(var r=[],l=this.geom.getPoints(this._smoothness),s=0;s<l.length;s++)r.push(l[s].x,l[s].y);return r.push(l[0].x,l[0].y),this.pathIndexes=p(r),this.pathData=r,this}});v.exports=e},7930:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(65960),p=t(75177),a=t(20926),n=function(i,e,r,l){r.addToRenderList(e);var s=i.currentContext;if(a(i,s,e,r,l)){var u=e._displayOriginX,d=e._displayOriginY,f=e.pathData,c=f.length-1,m=f[0]-u,T=f[1]-d;s.beginPath(),s.moveTo(m,T),e.closePath||(c-=2);for(var C=2;C<c;C+=2){var S=f[C]-u,A=f[C+1]-d;s.lineTo(S,A)}s.closePath(),e.isFilled&&(o(s,e),s.fill()),e.isStroked&&(p(s,e),s.stroke()),s.restore()}};v.exports=n},1543:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(19921),p=t(39429);p.register("ellipse",function(a,n,i,e,r,l){return this.displayList.add(new o(this.scene,a,n,i,e,r,l))})},54205:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,a=o;p=t(19467),a=t(7930),v.exports={renderWebGL:p,renderCanvas:a}},19467:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10441),p=t(91296),a=t(34682),n=function(i,e,r,l){r.addToRenderList(e);var s=i.pipelines.set(e.pipeline),u=p(e,r,l),d=s.calcMatrix.copyFrom(u.calc),f=e._displayOriginX,c=e._displayOriginY,m=r.alpha*e.alpha;i.pipelines.preBatch(e),e.isFilled&&o(s,d,e,m,f,c),e.isStroked&&a(s,e,m,f,c),i.pipelines.postBatch(e)};v.exports=n},30479:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(17803),a=t(26015),n=new o({Extends:p,Mixins:[a],initialize:function(e,r,l,s,u,d,f,c,m,T,C){r===void 0&&(r=0),l===void 0&&(l=0),s===void 0&&(s=128),u===void 0&&(u=128),d===void 0&&(d=32),f===void 0&&(f=32),p.call(this,e,"Grid",null),this.cellWidth=d,this.cellHeight=f,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(r,l),this.setSize(s,u),this.setFillStyle(c,m),T!==void 0&&this.setOutlineStyle(T,C),this.updateDisplayOrigin()},setFillStyle:function(i,e){return e===void 0&&(e=1),i===void 0?this.showCells=!1:(this.fillColor=i,this.fillAlpha=e,this.showCells=!0),this},setAltFillStyle:function(i,e){return e===void 0&&(e=1),i===void 0?this.showAltCells=!1:(this.altFillColor=i,this.altFillAlpha=e,this.showAltCells=!0),this},setOutlineStyle:function(i,e){return e===void 0&&(e=1),i===void 0?this.showOutline=!1:(this.outlineFillColor=i,this.outlineFillAlpha=e,this.showOutline=!0),this}});v.exports=n},49912:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(65960),p=t(75177),a=t(20926),n=function(i,e,r,l){r.addToRenderList(e);var s=i.currentContext;if(a(i,s,e,r,l)){var u=-e._displayOriginX,d=-e._displayOriginY,f=r.alpha*e.alpha,c=e.width,m=e.height,T=e.cellWidth,C=e.cellHeight,S=Math.ceil(c/T),A=Math.ceil(m/C),P=T,R=C,F=T-(S*T-c),D=C-(A*C-m),L=e.showCells,O=e.showAltCells,B=e.showOutline,b=0,z=0,V=0,W=0,K=0;if(B&&(P--,R--,F===T&&F--,D===C&&D--),L&&e.fillAlpha>0)for(o(s,e),z=0;z<A;z++)for(O&&(V=z%2),b=0;b<S;b++){if(O&&V){V=0;continue}V++,W=b<S-1?P:F,K=z<A-1?R:D,s.fillRect(u+b*T,d+z*C,W,K)}if(O&&e.altFillAlpha>0)for(o(s,e,e.altFillColor,e.altFillAlpha*f),z=0;z<A;z++)for(O&&(V=z%2),b=0;b<S;b++){if(O&&!V){V=1;continue}V=0,W=b<S-1?P:F,K=z<A-1?R:D,s.fillRect(u+b*T,d+z*C,W,K)}if(B&&e.outlineFillAlpha>0){for(p(s,e,e.outlineFillColor,e.outlineFillAlpha*f),b=1;b<S;b++){var U=b*T;s.beginPath(),s.moveTo(U+u,d),s.lineTo(U+u,m+d),s.stroke()}for(z=1;z<A;z++){var Y=z*C;s.beginPath(),s.moveTo(u,Y+d),s.lineTo(u+c,Y+d),s.stroke()}}s.restore()}};v.exports=n},34137:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),p=t(30479);o.register("grid",function(a,n,i,e,r,l,s,u,d,f){return this.displayList.add(new p(this.scene,a,n,i,e,r,l,s,u,d,f))})},26015:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,a=o;p=t(46161),a=t(49912),v.exports={renderWebGL:p,renderCanvas:a}},46161:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),p=t(70554),a=function(n,i,e,r){e.addToRenderList(i);var l=n.pipelines.set(i.pipeline),s=o(i,e,r),u=l.calcMatrix.copyFrom(s.calc);u.translate(-i._displayOriginX,-i._displayOriginY);var d=e.alpha*i.alpha,f=i.width,c=i.height,m=i.cellWidth,T=i.cellHeight,C=Math.ceil(f/m),S=Math.ceil(c/T),A=m,P=T,R=m-(C*m-f),F=T-(S*T-c),D,L,O=i.showCells,B=i.showAltCells,b=i.showOutline,z=0,V=0,W=0,K=0,U=0;if(b&&(A--,P--,R===m&&R--,F===T&&F--),n.pipelines.preBatch(i),O&&i.fillAlpha>0)for(D=l.fillTint,L=p.getTintAppendFloatAlpha(i.fillColor,i.fillAlpha*d),D.TL=L,D.TR=L,D.BL=L,D.BR=L,V=0;V<S;V++)for(B&&(W=V%2),z=0;z<C;z++){if(B&&W){W=0;continue}W++,K=z<C-1?A:R,U=V<S-1?P:F,l.batchFillRect(z*m,V*T,K,U)}if(B&&i.altFillAlpha>0)for(D=l.fillTint,L=p.getTintAppendFloatAlpha(i.altFillColor,i.altFillAlpha*d),D.TL=L,D.TR=L,D.BL=L,D.BR=L,V=0;V<S;V++)for(B&&(W=V%2),z=0;z<C;z++){if(B&&!W){W=1;continue}W=0,K=z<C-1?A:R,U=V<S-1?P:F,l.batchFillRect(z*m,V*T,K,U)}if(b&&i.outlineFillAlpha>0){var Y=l.strokeTint,I=p.getTintAppendFloatAlpha(i.outlineFillColor,i.outlineFillAlpha*d);for(Y.TL=I,Y.TR=I,Y.BL=I,Y.BR=I,z=1;z<C;z++){var N=z*m;l.batchLine(N,0,N,c,1,1,1,0,!1)}for(V=1;V<S;V++){var G=V*T;l.batchLine(0,G,f,G,1,1,1,0,!1)}}n.pipelines.postBatch(i)};v.exports=a},61475:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(99651),p=t(83419),a=t(17803),n=new p({Extends:a,Mixins:[o],initialize:function(e,r,l,s,u,d,f,c){r===void 0&&(r=0),l===void 0&&(l=0),s===void 0&&(s=48),u===void 0&&(u=32),d===void 0&&(d=15658734),f===void 0&&(f=10066329),c===void 0&&(c=13421772),a.call(this,e,"IsoBox",null),this.projection=4,this.fillTop=d,this.fillLeft=f,this.fillRight=c,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(r,l),this.setSize(s,u),this.updateDisplayOrigin()},setProjection:function(i){return this.projection=i,this},setFaces:function(i,e,r){return i===void 0&&(i=!0),e===void 0&&(e=!0),r===void 0&&(r=!0),this.showTop=i,this.showLeft=e,this.showRight=r,this},setFillStyle:function(i,e,r){return this.fillTop=i,this.fillLeft=e,this.fillRight=r,this.isFilled=!0,this}});v.exports=n},11508:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(65960),p=t(20926),a=function(n,i,e,r){e.addToRenderList(i);var l=n.currentContext;if(p(n,l,i,e,r)&&i.isFilled){var s=i.width,u=i.height,d=s/2,f=s/i.projection;i.showTop&&(o(l,i,i.fillTop),l.beginPath(),l.moveTo(-d,-u),l.lineTo(0,-f-u),l.lineTo(d,-u),l.lineTo(d,-1),l.lineTo(0,f-1),l.lineTo(-d,-1),l.lineTo(-d,-u),l.fill()),i.showLeft&&(o(l,i,i.fillLeft),l.beginPath(),l.moveTo(-d,0),l.lineTo(0,f),l.lineTo(0,f-u),l.lineTo(-d,-u),l.lineTo(-d,0),l.fill()),i.showRight&&(o(l,i,i.fillRight),l.beginPath(),l.moveTo(d,0),l.lineTo(0,f),l.lineTo(0,f-u),l.lineTo(d,-u),l.lineTo(d,0),l.fill()),l.restore()}};v.exports=a},3933:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),p=t(61475);o.register("isobox",function(a,n,i,e,r,l,s){return this.displayList.add(new p(this.scene,a,n,i,e,r,l,s))})},99651:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,a=o;p=t(68149),a=t(11508),v.exports={renderWebGL:p,renderCanvas:a}},68149:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),p=t(70554),a=function(n,i,e,r){e.addToRenderList(i);var l=n.pipelines.set(i.pipeline),s=o(i,e,r),u=l.calcMatrix.copyFrom(s.calc),d=i.width,f=i.height,c=d/2,m=d/i.projection,T=e.alpha*i.alpha;if(i.isFilled){var C,S,A,P,R,F,D,L,O;n.pipelines.preBatch(i),i.showTop&&(C=p.getTintAppendFloatAlpha(i.fillTop,T),S=u.getX(-c,-f),A=u.getY(-c,-f),P=u.getX(0,-m-f),R=u.getY(0,-m-f),F=u.getX(c,-f),D=u.getY(c,-f),L=u.getX(0,m-f),O=u.getY(0,m-f),l.batchQuad(i,S,A,P,R,F,D,L,O,0,0,1,1,C,C,C,C,2)),i.showLeft&&(C=p.getTintAppendFloatAlpha(i.fillLeft,T),S=u.getX(-c,0),A=u.getY(-c,0),P=u.getX(0,m),R=u.getY(0,m),F=u.getX(0,m-f),D=u.getY(0,m-f),L=u.getX(-c,-f),O=u.getY(-c,-f),l.batchQuad(i,S,A,P,R,F,D,L,O,0,0,1,1,C,C,C,C,2)),i.showRight&&(C=p.getTintAppendFloatAlpha(i.fillRight,T),S=u.getX(c,0),A=u.getY(c,0),P=u.getX(0,m),R=u.getY(0,m),F=u.getX(0,m-f),D=u.getY(0,m-f),L=u.getX(c,-f),O=u.getY(c,-f),l.batchQuad(i,S,A,P,R,F,D,L,O,0,0,1,1,C,C,C,C,2)),n.pipelines.postBatch(i)}};v.exports=a},16933:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(60561),a=t(17803),n=new o({Extends:a,Mixins:[p],initialize:function(e,r,l,s,u,d,f,c,m){r===void 0&&(r=0),l===void 0&&(l=0),s===void 0&&(s=48),u===void 0&&(u=32),d===void 0&&(d=!1),f===void 0&&(f=15658734),c===void 0&&(c=10066329),m===void 0&&(m=13421772),a.call(this,e,"IsoTriangle",null),this.projection=4,this.fillTop=f,this.fillLeft=c,this.fillRight=m,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=d,this.isFilled=!0,this.setPosition(r,l),this.setSize(s,u),this.updateDisplayOrigin()},setProjection:function(i){return this.projection=i,this},setReversed:function(i){return this.isReversed=i,this},setFaces:function(i,e,r){return i===void 0&&(i=!0),e===void 0&&(e=!0),r===void 0&&(r=!0),this.showTop=i,this.showLeft=e,this.showRight=r,this},setFillStyle:function(i,e,r){return this.fillTop=i,this.fillLeft=e,this.fillRight=r,this.isFilled=!0,this}});v.exports=n},79590:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(65960),p=t(20926),a=function(n,i,e,r){e.addToRenderList(i);var l=n.currentContext;if(p(n,l,i,e,r)&&i.isFilled){var s=i.width,u=i.height,d=s/2,f=s/i.projection,c=i.isReversed;i.showTop&&c&&(o(l,i,i.fillTop),l.beginPath(),l.moveTo(-d,-u),l.lineTo(0,-f-u),l.lineTo(d,-u),l.lineTo(0,f-u),l.fill()),i.showLeft&&(o(l,i,i.fillLeft),l.beginPath(),c?(l.moveTo(-d,-u),l.lineTo(0,f),l.lineTo(0,f-u)):(l.moveTo(-d,0),l.lineTo(0,f),l.lineTo(0,f-u)),l.fill()),i.showRight&&(o(l,i,i.fillRight),l.beginPath(),c?(l.moveTo(d,-u),l.lineTo(0,f),l.lineTo(0,f-u)):(l.moveTo(d,0),l.lineTo(0,f),l.lineTo(0,f-u)),l.fill()),l.restore()}};v.exports=a},49803:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),p=t(16933);o.register("isotriangle",function(a,n,i,e,r,l,s,u){return this.displayList.add(new p(this.scene,a,n,i,e,r,l,s,u))})},60561:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,a=o;p=t(51503),a=t(79590),v.exports={renderWebGL:p,renderCanvas:a}},51503:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),p=t(70554),a=function(n,i,e,r){e.addToRenderList(i);var l=n.pipelines.set(i.pipeline),s=o(i,e,r),u=l.calcMatrix.copyFrom(s.calc),d=i.width,f=i.height,c=d/2,m=d/i.projection,T=i.isReversed,C=e.alpha*i.alpha;if(i.isFilled){n.pipelines.preBatch(i);var S,A,P,R,F,D,L;if(i.showTop&&T){S=p.getTintAppendFloatAlpha(i.fillTop,C),A=u.getX(-c,-f),P=u.getY(-c,-f),R=u.getX(0,-m-f),F=u.getY(0,-m-f),D=u.getX(c,-f),L=u.getY(c,-f);var O=u.getX(0,m-f),B=u.getY(0,m-f);l.batchQuad(i,A,P,R,F,D,L,O,B,0,0,1,1,S,S,S,S,2)}i.showLeft&&(S=p.getTintAppendFloatAlpha(i.fillLeft,C),T?(A=u.getX(-c,-f),P=u.getY(-c,-f),R=u.getX(0,m),F=u.getY(0,m),D=u.getX(0,m-f),L=u.getY(0,m-f)):(A=u.getX(-c,0),P=u.getY(-c,0),R=u.getX(0,m),F=u.getY(0,m),D=u.getX(0,m-f),L=u.getY(0,m-f)),l.batchTri(i,A,P,R,F,D,L,0,0,1,1,S,S,S,2)),i.showRight&&(S=p.getTintAppendFloatAlpha(i.fillRight,C),T?(A=u.getX(c,-f),P=u.getY(c,-f),R=u.getX(0,m),F=u.getY(0,m),D=u.getX(0,m-f),L=u.getY(0,m-f)):(A=u.getX(c,0),P=u.getY(c,0),R=u.getX(0,m),F=u.getY(0,m),D=u.getX(0,m-f),L=u.getY(0,m-f)),l.batchTri(i,A,P,R,F,D,L,0,0,1,1,S,S,S,2)),n.pipelines.postBatch(i)}};v.exports=a},57847:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(17803),a=t(23031),n=t(36823),i=new o({Extends:p,Mixins:[n],initialize:function(r,l,s,u,d,f,c,m,T){l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=0),d===void 0&&(d=0),f===void 0&&(f=128),c===void 0&&(c=0),p.call(this,r,"Line",new a(u,d,f,c));var C=Math.max(1,this.geom.right-this.geom.left),S=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(l,s),this.setSize(C,S),m!==void 0&&this.setStrokeStyle(1,m,T),this.updateDisplayOrigin()},setLineWidth:function(e,r){return r===void 0&&(r=e),this._startWidth=e,this._endWidth=r,this.lineWidth=e,this},setTo:function(e,r,l,s){return this.geom.setTo(e,r,l,s),this}});v.exports=i},17440:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(75177),p=t(20926),a=function(n,i,e,r){e.addToRenderList(i);var l=n.currentContext;if(p(n,l,i,e,r)){var s=i._displayOriginX,u=i._displayOriginY;i.isStroked&&(o(l,i),l.beginPath(),l.moveTo(i.geom.x1-s,i.geom.y1-u),l.lineTo(i.geom.x2-s,i.geom.y2-u),l.stroke()),l.restore()}};v.exports=a},2481:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),p=t(57847);o.register("line",function(a,n,i,e,r,l,s,u){return this.displayList.add(new p(this.scene,a,n,i,e,r,l,s,u))})},36823:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,a=o;p=t(77385),a=t(17440),v.exports={renderWebGL:p,renderCanvas:a}},77385:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),p=t(70554),a=function(n,i,e,r){e.addToRenderList(i);var l=n.pipelines.set(i.pipeline),s=o(i,e,r);l.calcMatrix.copyFrom(s.calc);var u=i._displayOriginX,d=i._displayOriginY,f=e.alpha*i.alpha;if(n.pipelines.preBatch(i),i.isStroked){var c=l.strokeTint,m=p.getTintAppendFloatAlpha(i.strokeColor,i.strokeAlpha*f);c.TL=m,c.TR=m,c.BL=m,c.BR=m,l.batchLine(i.geom.x1-u,i.geom.y1-d,i.geom.x2-u,i.geom.y2-d,i._startWidth/2,i._endWidth/2,1,0,!1,s.sprite,s.camera)}n.pipelines.postBatch(i)};v.exports=a},24949:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(90273),p=t(83419),a=t(94811),n=t(13829),i=t(25717),e=t(17803),r=t(5469),l=new p({Extends:e,Mixins:[o],initialize:function(u,d,f,c,m,T){d===void 0&&(d=0),f===void 0&&(f=0),e.call(this,u,"Polygon",new i(c));var C=n(this.geom);this.setPosition(d,f),this.setSize(C.width,C.height),m!==void 0&&this.setFillStyle(m,T),this.updateDisplayOrigin(),this.updateData()},smooth:function(s){s===void 0&&(s=1);for(var u=0;u<s;u++)r(this.geom);return this.updateData()},setTo:function(s){this.geom.setTo(s);var u=n(this.geom);return this.setSize(u.width,u.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var s=[],u=this.geom.points,d=0;d<u.length;d++)s.push(u[d].x,u[d].y);return s.push(u[0].x,u[0].y),this.pathIndexes=a(s),this.pathData=s,this}});v.exports=l},38710:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(65960),p=t(75177),a=t(20926),n=function(i,e,r,l){r.addToRenderList(e);var s=i.currentContext;if(a(i,s,e,r,l)){var u=e._displayOriginX,d=e._displayOriginY,f=e.pathData,c=f.length-1,m=f[0]-u,T=f[1]-d;s.beginPath(),s.moveTo(m,T),e.closePath||(c-=2);for(var C=2;C<c;C+=2){var S=f[C]-u,A=f[C+1]-d;s.lineTo(S,A)}e.closePath&&s.closePath(),e.isFilled&&(o(s,e),s.fill()),e.isStroked&&(p(s,e),s.stroke()),s.restore()}};v.exports=n},64827:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),p=t(24949);o.register("polygon",function(a,n,i,e,r){return this.displayList.add(new p(this.scene,a,n,i,e,r))})},90273:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,a=o;p=t(73695),a=t(38710),v.exports={renderWebGL:p,renderCanvas:a}},73695:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10441),p=t(91296),a=t(34682),n=function(i,e,r,l){r.addToRenderList(e);var s=i.pipelines.set(e.pipeline),u=p(e,r,l),d=s.calcMatrix.copyFrom(u.calc),f=e._displayOriginX,c=e._displayOriginY,m=r.alpha*e.alpha;i.pipelines.preBatch(e),e.isFilled&&o(s,d,e,m,f,c),e.isStroked&&a(s,e,m,f,c),i.pipelines.postBatch(e)};v.exports=n},74561:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(87841),a=t(17803),n=t(95597),i=new o({Extends:a,Mixins:[n],initialize:function(r,l,s,u,d,f,c){l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=128),d===void 0&&(d=128),a.call(this,r,"Rectangle",new p(0,0,u,d)),this.setPosition(l,s),this.setSize(u,d),f!==void 0&&this.setFillStyle(f,c),this.updateDisplayOrigin(),this.updateData()},setSize:function(e,r){this.width=e,this.height=r,this.geom.setSize(e,r),this.updateData(),this.updateDisplayOrigin();var l=this.input;return l&&!l.customHitArea&&(l.hitArea.width=e,l.hitArea.height=r),this},updateData:function(){var e=[],r=this.geom,l=this._tempLine;return r.getLineA(l),e.push(l.x1,l.y1,l.x2,l.y2),r.getLineB(l),e.push(l.x2,l.y2),r.getLineC(l),e.push(l.x2,l.y2),r.getLineD(l),e.push(l.x2,l.y2),this.pathData=e,this}});v.exports=i},48682:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(65960),p=t(75177),a=t(20926),n=function(i,e,r,l){r.addToRenderList(e);var s=i.currentContext;if(a(i,s,e,r,l)){var u=e._displayOriginX,d=e._displayOriginY;e.isFilled&&(o(s,e),s.fillRect(-u,-d,e.width,e.height)),e.isStroked&&(p(s,e),s.beginPath(),s.rect(-u,-d,e.width,e.height),s.stroke()),s.restore()}};v.exports=n},87959:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),p=t(74561);o.register("rectangle",function(a,n,i,e,r,l){return this.displayList.add(new p(this.scene,a,n,i,e,r,l))})},95597:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,a=o;p=t(52059),a=t(48682),v.exports={renderWebGL:p,renderCanvas:a}},52059:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),p=t(34682),a=t(70554),n=function(i,e,r,l){r.addToRenderList(e);var s=i.pipelines.set(e.pipeline),u=o(e,r,l);s.calcMatrix.copyFrom(u.calc);var d=e._displayOriginX,f=e._displayOriginY,c=r.alpha*e.alpha;if(i.pipelines.preBatch(e),e.isFilled){var m=s.fillTint,T=a.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*c);m.TL=T,m.TR=T,m.BL=T,m.BR=T,s.batchFillRect(-d,-f,e.width,e.height)}e.isStroked&&p(s,e,c,d,f),i.pipelines.postBatch(e)};v.exports=n},55911:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(81991),p=t(83419),a=t(94811),n=t(17803),i=new p({Extends:n,Mixins:[o],initialize:function(r,l,s,u,d,f,c,m){l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=5),d===void 0&&(d=32),f===void 0&&(f=64),n.call(this,r,"Star",null),this._points=u,this._innerRadius=d,this._outerRadius=f,this.setPosition(l,s),this.setSize(f*2,f*2),c!==void 0&&this.setFillStyle(c,m),this.updateDisplayOrigin(),this.updateData()},setPoints:function(e){return this._points=e,this.updateData()},setInnerRadius:function(e){return this._innerRadius=e,this.updateData()},setOuterRadius:function(e){return this._outerRadius=e,this.updateData()},points:{get:function(){return this._points},set:function(e){this._points=e,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(e){this._innerRadius=e,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(e){this._outerRadius=e,this.updateData()}},updateData:function(){var e=[],r=this._points,l=this._innerRadius,s=this._outerRadius,u=Math.PI/2*3,d=Math.PI/r,f=s,c=s;e.push(f,c+-s);for(var m=0;m<r;m++)e.push(f+Math.cos(u)*s,c+Math.sin(u)*s),u+=d,e.push(f+Math.cos(u)*l,c+Math.sin(u)*l),u+=d;return e.push(f,c+-s),this.pathIndexes=a(e),this.pathData=e,this}});v.exports=i},64272:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(65960),p=t(75177),a=t(20926),n=function(i,e,r,l){r.addToRenderList(e);var s=i.currentContext;if(a(i,s,e,r,l)){var u=e._displayOriginX,d=e._displayOriginY,f=e.pathData,c=f.length-1,m=f[0]-u,T=f[1]-d;s.beginPath(),s.moveTo(m,T),e.closePath||(c-=2);for(var C=2;C<c;C+=2){var S=f[C]-u,A=f[C+1]-d;s.lineTo(S,A)}s.closePath(),e.isFilled&&(o(s,e),s.fill()),e.isStroked&&(p(s,e),s.stroke()),s.restore()}};v.exports=n},93697:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(55911),p=t(39429);p.register("star",function(a,n,i,e,r,l,s){return this.displayList.add(new o(this.scene,a,n,i,e,r,l,s))})},81991:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,a=o;p=t(57017),a=t(64272),v.exports={renderWebGL:p,renderCanvas:a}},57017:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10441),p=t(91296),a=t(34682),n=function(i,e,r,l){r.addToRenderList(e);var s=i.pipelines.set(e.pipeline),u=p(e,r,l),d=s.calcMatrix.copyFrom(u.calc),f=e._displayOriginX,c=e._displayOriginY,m=r.alpha*e.alpha;i.pipelines.preBatch(e),e.isFilled&&o(s,d,e,m,f,c),e.isStroked&&a(s,e,m,f,c),i.pipelines.postBatch(e)};v.exports=n},36931:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(17803),a=t(16483),n=t(96195),i=new o({Extends:p,Mixins:[n],initialize:function(r,l,s,u,d,f,c,m,T,C,S){l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=0),d===void 0&&(d=128),f===void 0&&(f=64),c===void 0&&(c=0),m===void 0&&(m=128),T===void 0&&(T=128),p.call(this,r,"Triangle",new a(u,d,f,c,m,T));var A=this.geom.right-this.geom.left,P=this.geom.bottom-this.geom.top;this.setPosition(l,s),this.setSize(A,P),C!==void 0&&this.setFillStyle(C,S),this.updateDisplayOrigin(),this.updateData()},setTo:function(e,r,l,s,u,d){return this.geom.setTo(e,r,l,s,u,d),this.updateData()},updateData:function(){var e=[],r=this.geom,l=this._tempLine;return r.getLineA(l),e.push(l.x1,l.y1,l.x2,l.y2),r.getLineB(l),e.push(l.x2,l.y2),r.getLineC(l),e.push(l.x2,l.y2),this.pathData=e,this}});v.exports=i},85172:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(65960),p=t(75177),a=t(20926),n=function(i,e,r,l){r.addToRenderList(e);var s=i.currentContext;if(a(i,s,e,r,l)){var u=e._displayOriginX,d=e._displayOriginY,f=e.geom.x1-u,c=e.geom.y1-d,m=e.geom.x2-u,T=e.geom.y2-d,C=e.geom.x3-u,S=e.geom.y3-d;s.beginPath(),s.moveTo(f,c),s.lineTo(m,T),s.lineTo(C,S),s.closePath(),e.isFilled&&(o(s,e),s.fill()),e.isStroked&&(p(s,e),s.stroke()),s.restore()}};v.exports=n},45245:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),p=t(36931);o.register("triangle",function(a,n,i,e,r,l,s,u,d,f){return this.displayList.add(new p(this.scene,a,n,i,e,r,l,s,u,d,f))})},96195:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,a=o;p=t(83253),a=t(85172),v.exports={renderWebGL:p,renderCanvas:a}},83253:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),p=t(34682),a=t(70554),n=function(i,e,r,l){r.addToRenderList(e);var s=i.pipelines.set(e.pipeline),u=o(e,r,l);s.calcMatrix.copyFrom(u.calc);var d=e._displayOriginX,f=e._displayOriginY,c=r.alpha*e.alpha;if(i.pipelines.preBatch(e),e.isFilled){var m=s.fillTint,T=a.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*c);m.TL=T,m.TR=T,m.BL=T,m.BR=T;var C=e.geom.x1-d,S=e.geom.y1-f,A=e.geom.x2-d,P=e.geom.y2-f,R=e.geom.x3-d,F=e.geom.y3-f;s.batchFillTriangle(C,S,A,P,R,F,u.sprite,u.camera)}e.isStroked&&p(s,e,c,d,f),i.pipelines.postBatch(e)};v.exports=n},68287:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(9674),p=t(83419),a=t(31401),n=t(95643),i=t(92751),e=new p({Extends:n,Mixins:[a.Alpha,a.BlendMode,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Size,a.TextureCrop,a.Tint,a.Transform,a.Visible,i],initialize:function(l,s,u,d,f){n.call(this,l,"Sprite"),this._crop=this.resetCropObject(),this.anims=new o(this),this.setTexture(d,f),this.setPosition(s,u),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(r,l){this.anims.update(r,l)},play:function(r,l){return this.anims.play(r,l)},playReverse:function(r,l){return this.anims.playReverse(r,l)},playAfterDelay:function(r,l){return this.anims.playAfterDelay(r,l)},playAfterRepeat:function(r,l){return this.anims.playAfterRepeat(r,l)},chain:function(r){return this.anims.chain(r)},stop:function(){return this.anims.stop()},stopAfterDelay:function(r){return this.anims.stopAfterDelay(r)},stopAfterRepeat:function(r){return this.anims.stopAfterRepeat(r)},stopOnFrame:function(r){return this.anims.stopOnFrame(r)},toJSON:function(){return a.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});v.exports=e},76552:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a){p.addToRenderList(o),t.batchSprite(o,o.frame,p,a)};v.exports=y},15567:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),p=t(13059),a=t(44603),n=t(23568),i=t(68287);a.register("sprite",function(e,r){e===void 0&&(e={});var l=n(e,"key",null),s=n(e,"frame",null),u=new i(this.scene,0,0,l,s);return r!==void 0&&(e.add=r),o(this.scene,u,e),p(u,e),u})},46409:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),p=t(68287);o.register("sprite",function(a,n,i,e){return this.displayList.add(new p(this.scene,a,n,i,e))})},92751:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,a=o;p=t(9409),a=t(76552),v.exports={renderWebGL:p,renderCanvas:a}},9409:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a){p.addToRenderList(o),o.pipeline.batchSprite(o,p,a)};v.exports=y},14220:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){var a=t.canvas,n=t.context,i=t.style,e=[],r=0,l=p.length;i.maxLines>0&&i.maxLines<p.length&&(l=i.maxLines),i.syncFont(a,n);for(var s=0;s<l;s++){var u=i.strokeThickness;u+=n.measureText(p[s]).width,p[s].length>1&&(u+=t.letterSpacing*(p[s].length-1)),i.wordWrap&&(u-=n.measureText(" ").width),e[s]=Math.ceil(u),r=Math.max(r,e[s])}var d=o.fontSize+i.strokeThickness,f=d*l,c=t.lineSpacing;return l>1&&(f+=c*(l-1)),{width:r,height:f,lines:l,lineWidths:e,lineSpacing:c,lineHeight:d}};v.exports=y},79557:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(27919),p=function(a){var n=o.create(this),i=n.getContext("2d",{willReadFrequently:!0});a.syncFont(n,i);var e=i.measureText(a.testString);if("actualBoundingBoxAscent"in e){var r=e.actualBoundingBoxAscent,l=e.actualBoundingBoxDescent;return o.remove(n),{ascent:r,descent:l,fontSize:r+l}}var s=Math.ceil(e.width*a.baselineX),u=s,d=2*u;u=u*a.baselineY|0,n.width=s,n.height=d,i.fillStyle="#f00",i.fillRect(0,0,s,d),i.font=a._font,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(a.testString,0,u);var f={ascent:0,descent:0,fontSize:0},c=i.getImageData(0,0,s,d);if(!c)return f.ascent=u,f.descent=u+6,f.fontSize=f.ascent+f.descent,o.remove(n),f;var m=c.data,T=m.length,C=s*4,S,A,P=0,R=!1;for(S=0;S<u;S++){for(A=0;A<C;A+=4)if(m[P+A]!==255){R=!0;break}if(!R)P+=C;else break}for(f.ascent=u-S,P=T-C,R=!1,S=d;S>u;S--){for(A=0;A<C;A+=4)if(m[P+A]!==255){R=!0;break}if(!R)P-=C;else break}return f.descent=S-u,f.fontSize=f.ascent+f.descent,o.remove(n),f};v.exports=p},50171:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(40366),p=t(27919),a=t(83419),n=t(31401),i=t(95643),e=t(14220),r=t(35154),l=t(35846),s=t(61771),u=t(35762),d=t(45650),f=new a({Extends:i,Mixins:[n.Alpha,n.BlendMode,n.ComputedSize,n.Crop,n.Depth,n.Flip,n.GetBounds,n.Mask,n.Origin,n.Pipeline,n.PostPipeline,n.ScrollFactor,n.Tint,n.Transform,n.Visible,s],initialize:function(m,T,C,S,A){T===void 0&&(T=0),C===void 0&&(C=0),i.call(this,m,"Text"),this.renderer=m.sys.renderer,this.setPosition(T,C),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=p.create(this),this.context,this.style=new u(this,A),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=d(),this.texture=m.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(S),A&&A.padding&&this.setPadding(A.padding),A&&A.lineSpacing&&this.setLineSpacing(A.lineSpacing)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",o(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(c){var m=this.style;if(m.wordWrapCallback){var T=m.wordWrapCallback.call(m.wordWrapCallbackScope,c,this);return Array.isArray(T)&&(T=T.join(`
`)),T}else return m.wordWrapWidth?m.wordWrapUseAdvanced?this.advancedWordWrap(c,this.context,this.style.wordWrapWidth):this.basicWordWrap(c,this.context,this.style.wordWrapWidth):c},advancedWordWrap:function(c,m,T){for(var C="",S=c.replace(/ +/gi," ").split(this.splitRegExp),A=S.length,P=0;P<A;P++){var R=S[P],F="";R=R.replace(/^ *|\s*$/gi,"");var D=m.measureText(R).width;if(D<T){C+=R+`
`;continue}for(var L=T,O=R.split(" "),B=0;B<O.length;B++){var b=O[B],z=b+" ",V=m.measureText(z).width;if(V>L){if(B===0){for(var W=z;W.length&&(W=W.slice(0,-1),V=m.measureText(W).width,!(V<=L)););if(!W.length)throw new Error("wordWrapWidth < a single character");var K=b.substr(W.length);O[B]=K,F+=W}var U=O[B].length?B:B+1,Y=O.slice(U).join(" ").replace(/[ \n]*$/gi,"");S.splice(P+1,0,Y),A=S.length;break}else F+=z,L-=V}C+=F.replace(/[ \n]*$/gi,"")+`
`}return C=C.replace(/[\s|\n]*$/gi,""),C},basicWordWrap:function(c,m,T){for(var C="",S=c.split(this.splitRegExp),A=S.length-1,P=m.measureText(" ").width,R=0;R<=A;R++){for(var F=T,D=S[R].split(" "),L=D.length-1,O=0;O<=L;O++){var B=D[O],b=m.measureText(B).width,z=b;O<L&&(z+=P),z>F&&O>0&&(C+=`
`,F=T),C+=B,O<L?(C+=" ",F-=z):F-=b}R<A&&(C+=`
`)}return C},getWrappedText:function(c){c===void 0&&(c=this._text),this.style.syncFont(this.canvas,this.context);var m=this.runWordWrap(c);return m.split(this.splitRegExp)},setText:function(c){return!c&&c!==0&&(c=""),Array.isArray(c)&&(c=c.join(`
`)),c!==this._text&&(this._text=c.toString(),this.updateText()),this},appendText:function(c,m){m===void 0&&(m=!0),!c&&c!==0&&(c=""),Array.isArray(c)&&(c=c.join(`
`)),c=c.toString();var T=this._text.concat(m?`
`+c:c);return T!==this._text&&(this._text=T,this.updateText()),this},setStyle:function(c){return this.style.setStyle(c)},setFont:function(c){return this.style.setFont(c)},setFontFamily:function(c){return this.style.setFontFamily(c)},setFontSize:function(c){return this.style.setFontSize(c)},setFontStyle:function(c){return this.style.setFontStyle(c)},setFixedSize:function(c,m){return this.style.setFixedSize(c,m)},setBackgroundColor:function(c){return this.style.setBackgroundColor(c)},setFill:function(c){return this.style.setFill(c)},setColor:function(c){return this.style.setColor(c)},setStroke:function(c,m){return this.style.setStroke(c,m)},setShadow:function(c,m,T,C,S,A){return this.style.setShadow(c,m,T,C,S,A)},setShadowOffset:function(c,m){return this.style.setShadowOffset(c,m)},setShadowColor:function(c){return this.style.setShadowColor(c)},setShadowBlur:function(c){return this.style.setShadowBlur(c)},setShadowStroke:function(c){return this.style.setShadowStroke(c)},setShadowFill:function(c){return this.style.setShadowFill(c)},setWordWrapWidth:function(c,m){return this.style.setWordWrapWidth(c,m)},setWordWrapCallback:function(c,m){return this.style.setWordWrapCallback(c,m)},setAlign:function(c){return this.style.setAlign(c)},setResolution:function(c){return this.style.setResolution(c)},setLineSpacing:function(c){return this.lineSpacing=c,this.updateText()},setLetterSpacing:function(c){return this.letterSpacing=c,this.updateText()},setPadding:function(c,m,T,C){if(typeof c=="object"){var S=c,A=r(S,"x",null);A!==null?(c=A,T=A):(c=r(S,"left",0),T=r(S,"right",c));var P=r(S,"y",null);P!==null?(m=P,C=P):(m=r(S,"top",0),C=r(S,"bottom",m))}else c===void 0&&(c=0),m===void 0&&(m=c),T===void 0&&(T=c),C===void 0&&(C=m);return this.padding.left=c,this.padding.top=m,this.padding.right=T,this.padding.bottom=C,this.updateText()},setMaxLines:function(c){return this.style.setMaxLines(c)},setRTL:function(c){c===void 0&&(c=!0);var m=this.style;return m.rtl===c?this:(m.rtl=c,c?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",o(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),m.align==="left"?m.align="right":m.align==="right"&&(m.align="left"),this)},updateText:function(){var c=this.canvas,m=this.context,T=this.style,C=T.resolution,S=T.metrics;T.syncFont(c,m);var A=this._text;(T.wordWrapWidth||T.wordWrapCallback)&&(A=this.runWordWrap(this._text));var P=A.split(this.splitRegExp),R=e(this,S,P),F=this.padding,D;T.fixedWidth===0?(this.width=R.width+F.left+F.right,D=R.width):(this.width=T.fixedWidth,D=this.width-F.left-F.right,D<R.width&&(D=R.width)),T.fixedHeight===0?this.height=R.height+F.top+F.bottom:this.height=T.fixedHeight;var L=this.width,O=this.height;this.updateDisplayOrigin(),L*=C,O*=C,L=Math.max(L,1),O=Math.max(O,1),c.width!==L||c.height!==O?(c.width=L,c.height=O,this.frame.setSize(L,O),T.syncFont(c,m),T.rtl&&(m.direction="rtl")):m.clearRect(0,0,L,O),m.save(),m.scale(C,C),T.backgroundColor&&(m.fillStyle=T.backgroundColor,m.fillRect(0,0,L,O)),T.syncStyle(c,m),m.translate(F.left,F.top);for(var B,b,z=0;z<R.lines;z++){if(B=T.strokeThickness/2,b=T.strokeThickness/2+z*R.lineHeight+S.ascent,z>0&&(b+=R.lineSpacing*z),T.rtl)B=L-B-F.left-F.right;else if(T.align==="right")B+=D-R.lineWidths[z];else if(T.align==="center")B+=(D-R.lineWidths[z])/2;else if(T.align==="justify"){var V=.85;if(R.lineWidths[z]/R.width>=V){var W=R.width-R.lineWidths[z],K=m.measureText(" ").width,U=P[z].trim(),Y=U.split(" ");W+=(P[z].length-U.length)*K;for(var I=Math.floor(W/K),N=0;I>0;)Y[N]+=" ",N=(N+1)%(Y.length-1||1),--I;P[z]=Y.join(" ")}}if(this.autoRound&&(B=Math.round(B),b=Math.round(b)),T.strokeThickness&&(T.syncShadow(m,T.shadowStroke),m.strokeText(P[z],B,b)),T.color){T.syncShadow(m,T.shadowFill);var G=this.letterSpacing;if(G!==0)for(var X=0,H=P[z].split(""),Q=0;Q<H.length;Q++)m.fillText(H[Q],B+X,b),X+=m.measureText(H[Q]).width+G;else m.fillText(P[z],B,b)}}m.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(c,this.frame.source.glTexture,!0));var $=this.input;return $&&!$.customHitArea&&($.hitArea.width=this.width,$.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(c){this.setText(c)}},toJSON:function(){var c=n.ToJSON(this),m={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return c.data=m,c},preDestroy:function(){l(this.canvas),p.remove(this.canvas);var c=this.texture;c&&c.destroy()}});v.exports=f},79724:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a){o.width===0||o.height===0||(p.addToRenderList(o),t.batchSprite(o,o.frame,p,a))};v.exports=y},71259:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),p=t(44603),a=t(23568),n=t(50171);p.register("text",function(i,e){i===void 0&&(i={});var r=a(i,"text",""),l=a(i,"style",null),s=a(i,"padding",null);s!==null&&(l.padding=s);var u=new n(this.scene,0,0,r,l);return e!==void 0&&(i.add=e),o(this.scene,u,i),u.autoRound=a(i,"autoRound",!0),u.resolution=a(i,"resolution",1),u})},68005:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(50171),p=t(39429);p.register("text",function(a,n,i,e){return this.displayList.add(new o(this.scene,a,n,i,e))})},61771:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,a=o;p=t(34397),a=t(79724),v.exports={renderWebGL:p,renderCanvas:a}},35762:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(23568),a=t(35154),n=t(79557),i={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|MÃ‰qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},e=new o({initialize:function(l,s){this.parent=l,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(s,!1,!0)},setStyle:function(r,l,s){l===void 0&&(l=!0),s===void 0&&(s=!1),r&&r.hasOwnProperty("fontSize")&&typeof r.fontSize=="number"&&(r.fontSize=r.fontSize.toString()+"px");for(var u in i){var d=s?i[u][1]:this[u];u==="wordWrapCallback"||u==="wordWrapCallbackScope"?this[u]=a(r,i[u][0],d):this[u]=p(r,i[u][0],d)}var f=a(r,"font",null);f!==null&&this.setFont(f,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var c=a(r,"fill",null);c!==null&&(this.color=c);var m=a(r,"metrics",!1);return m?this.metrics={ascent:a(m,"ascent",0),descent:a(m,"descent",0),fontSize:a(m,"fontSize",0)}:(l||!this.metrics)&&(this.metrics=n(this)),l?this.parent.updateText():this.parent},syncFont:function(r,l){l.font=this._font},syncStyle:function(r,l){l.textBaseline="alphabetic",l.fillStyle=this.color,l.strokeStyle=this.stroke,l.lineWidth=this.strokeThickness,l.lineCap="round",l.lineJoin="round"},syncShadow:function(r,l){l?(r.shadowOffsetX=this.shadowOffsetX,r.shadowOffsetY=this.shadowOffsetY,r.shadowColor=this.shadowColor,r.shadowBlur=this.shadowBlur):(r.shadowOffsetX=0,r.shadowOffsetY=0,r.shadowColor=0,r.shadowBlur=0)},update:function(r){return r&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=n(this)),this.parent.updateText()},setFont:function(r,l){l===void 0&&(l=!0);var s=r,u="",d="";if(typeof r!="string")s=a(r,"fontFamily","Courier"),u=a(r,"fontSize","16px"),d=a(r,"fontStyle","");else{var f=r.split(" "),c=0;d=f.length>2?f[c++]:"",u=f[c++]||"16px",s=f[c++]||"Courier"}return(s!==this.fontFamily||u!==this.fontSize||d!==this.fontStyle)&&(this.fontFamily=s,this.fontSize=u,this.fontStyle=d,l&&this.update(!0)),this.parent},setFontFamily:function(r){return this.fontFamily!==r&&(this.fontFamily=r,this.update(!0)),this.parent},setFontStyle:function(r){return this.fontStyle!==r&&(this.fontStyle=r,this.update(!0)),this.parent},setFontSize:function(r){return typeof r=="number"&&(r=r.toString()+"px"),this.fontSize!==r&&(this.fontSize=r,this.update(!0)),this.parent},setTestString:function(r){return this.testString=r,this.update(!0)},setFixedSize:function(r,l){return this.fixedWidth=r,this.fixedHeight=l,r&&(this.parent.width=r),l&&(this.parent.height=l),this.update(!1)},setBackgroundColor:function(r){return this.backgroundColor=r,this.update(!1)},setFill:function(r){return this.color=r,this.update(!1)},setColor:function(r){return this.color=r,this.update(!1)},setResolution:function(r){return this.resolution=r,this.update(!1)},setStroke:function(r,l){return l===void 0&&(l=this.strokeThickness),r===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==r||this.strokeThickness!==l)&&(this.stroke=r,this.strokeThickness=l,this.update(!0)),this.parent},setShadow:function(r,l,s,u,d,f){return r===void 0&&(r=0),l===void 0&&(l=0),s===void 0&&(s="#000"),u===void 0&&(u=0),d===void 0&&(d=!1),f===void 0&&(f=!0),this.shadowOffsetX=r,this.shadowOffsetY=l,this.shadowColor=s,this.shadowBlur=u,this.shadowStroke=d,this.shadowFill=f,this.update(!1)},setShadowOffset:function(r,l){return r===void 0&&(r=0),l===void 0&&(l=r),this.shadowOffsetX=r,this.shadowOffsetY=l,this.update(!1)},setShadowColor:function(r){return r===void 0&&(r="#000"),this.shadowColor=r,this.update(!1)},setShadowBlur:function(r){return r===void 0&&(r=0),this.shadowBlur=r,this.update(!1)},setShadowStroke:function(r){return this.shadowStroke=r,this.update(!1)},setShadowFill:function(r){return this.shadowFill=r,this.update(!1)},setWordWrapWidth:function(r,l){return l===void 0&&(l=!1),this.wordWrapWidth=r,this.wordWrapUseAdvanced=l,this.update(!1)},setWordWrapCallback:function(r,l){return l===void 0&&(l=null),this.wordWrapCallback=r,this.wordWrapCallbackScope=l,this.update(!1)},setAlign:function(r){return r===void 0&&(r="left"),this.align=r,this.update(!1)},setMaxLines:function(r){return r===void 0&&(r=0),this.maxLines=r,this.update(!1)},getTextMetrics:function(){var r=this.metrics;return{ascent:r.ascent,descent:r.descent,fontSize:r.fontSize}},toJSON:function(){var r={};for(var l in i)r[l]=this[l];return r.metrics=this.getTextMetrics(),r},destroy:function(){this.parent=void 0}});v.exports=e},34397:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(70554),p=function(a,n,i,e){if(!(n.width===0||n.height===0)){i.addToRenderList(n);var r=n.frame,l=r.width,s=r.height,u=o.getTintAppendFloatAlpha,d=a.pipelines.set(n.pipeline,n),f=d.setTexture2D(r.glTexture,n);d.batchTexture(n,r.glTexture,l,s,n.x,n.y,l/n.style.resolution,s/n.style.resolution,n.scaleX,n.scaleY,n.rotation,n.flipX,n.flipY,n.scrollFactorX,n.scrollFactorY,n.displayOriginX,n.displayOriginY,0,0,l,s,u(n.tintTopLeft,i.alpha*n._alphaTL),u(n.tintTopRight,i.alpha*n._alphaTR),u(n.tintBottomLeft,i.alpha*n._alphaBL),u(n.tintBottomRight,i.alpha*n._alphaBR),n.tintFill,0,0,i,e,!1,f)}};v.exports=p},20839:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(27919),p=t(83419),a=t(31401),n=t(95643),i=t(98439),e=t(68703),r=t(56295),l=t(45650),s=t(26099),u=8,d=new p({Extends:n,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Crop,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Tint,a.Transform,a.Visible,r],initialize:function(c,m,T,C,S,A,P){var R=c.sys.renderer;n.call(this,c,"TileSprite");var F=c.sys.textures.get(A),D=F.get(P);D.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),F=c.sys.textures.get("__MISSING"),D=F.get()),F.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),F=c.sys.textures.get("__MISSING"),D=F.get()),!C||!S?(C=D.width,S=D.height):(C=Math.floor(C),S=Math.floor(S)),this._tilePosition=new s,this._tileScale=new s(1,1),this.dirty=!1,this.renderer=R,this.canvas=o.create(this,C,S),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=F,this.displayFrame=D,this._crop=this.resetCropObject(),this._textureKey=l(),this.texture=c.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=i(D.width),this.potHeight=i(D.height),this.fillCanvas=o.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(m,T),this.setSize(C,S),this.setFrame(P),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(f,c){return this.displayTexture=this.scene.sys.textures.get(f),this.setFrame(c)},setFrame:function(f){var c=this.displayTexture.get(f);return this.potWidth=i(c.width),this.potHeight=i(c.height),this.canvas.width=0,!c.cutWidth||!c.cutHeight?this.renderFlags&=-9:this.renderFlags|=u,this.displayFrame=c,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(f,c){return f!==void 0&&(this.tilePositionX=f),c!==void 0&&(this.tilePositionY=c),this},setTileScale:function(f,c){return f===void 0&&(f=this.tileScaleX),c===void 0&&(c=f),this.tileScaleX=f,this.tileScaleY=c,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var f=this.displayFrame;if(f.source.isRenderTexture||f.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var c=this.fillContext,m=this.fillCanvas,T=this.potWidth,C=this.potHeight;(!this.renderer||!this.renderer.gl)&&(T=f.cutWidth,C=f.cutHeight),c.clearRect(0,0,T,C),m.width=T,m.height=C,c.drawImage(f.source.image,f.cutX,f.cutY,f.cutWidth,f.cutHeight,0,0,T,C),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(m,this.fillPattern):this.fillPattern=c.createPattern(m,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var f=this.canvas;if((f.width!==this.width||f.height!==this.height)&&(f.width=this.width,f.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var c=this.context;this.scene.sys.game.config.antialias||e.disable(c);var m=this._tileScale.x,T=this._tileScale.y,C=this._tilePosition.x,S=this._tilePosition.y;c.clearRect(0,0,this.width,this.height),c.save(),c.scale(m,T),c.translate(-C,-S),c.fillStyle=this.fillPattern,c.fillRect(C,S,this.width/m,this.height/T),c.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),o.remove(this.canvas),o.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var f=this.texture;f&&f.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(f){this._tilePosition.x=f,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(f){this._tilePosition.y=f,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(f){this._tileScale.x=f,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(f){this._tileScale.y=f,this.dirty=!0}}});v.exports=d},46992:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a){o.updateCanvas(),p.addToRenderList(o),t.batchSprite(o,o.frame,p,a)};v.exports=y},14167:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),p=t(44603),a=t(23568),n=t(20839);p.register("tileSprite",function(i,e){i===void 0&&(i={});var r=a(i,"x",0),l=a(i,"y",0),s=a(i,"width",512),u=a(i,"height",512),d=a(i,"key",""),f=a(i,"frame",""),c=new n(this.scene,r,l,s,u,d,f);return e!==void 0&&(i.add=e),o(this.scene,c,i),c})},91681:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20839),p=t(39429);p.register("tileSprite",function(a,n,i,e,r,l){return this.displayList.add(new o(this.scene,a,n,i,e,r,l))})},56295:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,a=o;p=t(18553),a=t(46992),v.exports={renderWebGL:p,renderCanvas:a}},18553:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(70554),p=function(a,n,i,e){n.updateCanvas();var r=n.width,l=n.height;if(!(r===0||l===0)){i.addToRenderList(n);var s=o.getTintAppendFloatAlpha,u=a.pipelines.set(n.pipeline,n),d=u.setTexture2D(n.fillPattern,n);u.batchTexture(n,n.fillPattern,n.displayFrame.width*n.tileScaleX,n.displayFrame.height*n.tileScaleY,n.x,n.y,r,l,n.scaleX,n.scaleY,n.rotation,n.flipX,n.flipY,n.scrollFactorX,n.scrollFactorY,n.originX*r,n.originY*l,0,0,r,l,s(n.tintTopLeft,i.alpha*n._alphaTL),s(n.tintTopRight,i.alpha*n._alphaTR),s(n.tintBottomLeft,i.alpha*n._alphaBL),s(n.tintBottomRight,i.alpha*n._alphaBR),n.tintFill,n.tilePositionX%n.displayFrame.width/n.displayFrame.width,n.tilePositionY%n.displayFrame.height/n.displayFrame.height,i,e,!1,d)}};v.exports=p},18471:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),p=t(83419),a=t(31401),n=t(51708),i=t(8443),e=t(95643),r=t(36383),l=t(14463),s=t(45650),u=t(10247),d=new p({Extends:e,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.TextureCrop,a.Tint,a.Transform,a.Visible,u],initialize:function(c,m,T,C){e.call(this,c,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=s(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._rfvCallbackId=0;var S=c.sys.game;this._device=S.device.video,this.setPosition(m,T),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),S.events.on(i.PAUSE,this.globalPause,this),S.events.on(i.RESUME,this.globalResume,this);var A=c.sys.sound;A&&A.on(l.GLOBAL_MUTE,this.globalMute,this),C&&this.load(C)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(f){var c=this.scene.sys.cache.video.get(f);return c?(this.cacheKey=f,this.loadHandler(c.url,c.noAudio,c.crossOrigin)):console.warn("No video in cache for key: "+f),this},changeSource:function(f,c,m,T,C){c===void 0&&(c=!0),m===void 0&&(m=!1),this.cacheKey!==f&&(this.load(f),c&&this.play(m,T,C))},getVideoKey:function(){return this.cacheKey},loadURL:function(f,c,m){c===void 0&&(c=!1);var T=this._device.getVideoURL(f);return T?(this.cacheKey="",this.loadHandler(T.url,c,m)):console.warn("No supported video format found for "+f),this},loadMediaStream:function(f,c,m){return this.loadHandler(null,c,m,f)},loadHandler:function(f,c,m,T){c||(c=!1);var C=this.video;if(C?(this.removeLoadEventHandlers(),this.stop()):(C=document.createElement("video"),C.controls=!1,C.setAttribute("playsinline","playsinline"),C.setAttribute("preload","auto"),C.setAttribute("disablePictureInPicture","true")),c?(C.muted=!0,C.defaultMuted=!0,C.setAttribute("autoplay","autoplay")):(C.muted=!1,C.defaultMuted=!1,C.removeAttribute("autoplay")),m?C.setAttribute("crossorigin",m):C.removeAttribute("crossorigin"),T)if("srcObject"in C)try{C.srcObject=T}catch(A){if(A.name!=="TypeError")throw A;C.src=URL.createObjectURL(T)}else C.src=URL.createObjectURL(T);else C.src=f;this.retry=0,this.video=C,this._playCalled=!1,C.load(),this.addLoadEventHandlers();var S=this.scene.sys.textures.get(this._key);return this.setTexture(S),this},requestVideoFrame:function(f,c){var m=this.video;if(m){var T=c.width,C=c.height,S=this.videoTexture,A=this.videoTextureSource,P=!S||A.source!==m;P?(this._codePaused=m.paused,this._codeMuted=m.muted,S?(A.source=m,A.width=T,A.height=C,S.get().setSize(T,C)):(S=this.scene.sys.textures.create(this._key,m,T,C),S.add("__BASE",0,0,0,T,C),this.setTexture(S),this.videoTexture=S,this.videoTextureSource=S.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(n.VIDEO_TEXTURE,this,S)),this.setSizeToFrame(),this.updateDisplayOrigin()):A.update(),this.isStalled=!1,this.metadata=c;var R=c.mediaTime;P&&(this._lastUpdate=R,this.emit(n.VIDEO_CREATED,this,T,C),this.frameReady||(this.frameReady=!0,this.emit(n.VIDEO_PLAY,this))),this._playingMarker?R>=this._markerOut&&(m.loop?(m.currentTime=this._markerIn,this.emit(n.VIDEO_LOOP,this)):(this.stop(!1),this.emit(n.VIDEO_COMPLETE,this))):R<this._lastUpdate&&this.emit(n.VIDEO_LOOP,this),this._lastUpdate=R,this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(f,c,m){c===void 0&&(c=-1),m===void 0&&(m=r.MAX_SAFE_INTEGER);var T=this.video;return!T||this.isPlaying()?(T||console.warn("Video not loaded"),this):(f===void 0&&(f=T.loop),T.loop=f,this._markerIn=c,this._markerOut=m,this._playingMarker=c>-1&&m>c&&m<r.MAX_SAFE_INTEGER,this._playCalled||(this._rfvCallbackId=T.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},addLoadEventHandlers:function(){var f=this.video;f&&(f.addEventListener("error",this._loadCallbackHandler),f.addEventListener("abort",this._loadCallbackHandler),f.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var f=this.video;f&&(f.removeEventListener("error",this._loadCallbackHandler),f.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var f=this.video;if(f){var c=this._callbacks;for(var m in c)f.addEventListener(m,c[m])}},removeEventHandlers:function(){var f=this.video;if(f){var c=this._callbacks;for(var m in c)f.removeEventListener(m,c[m])}},createPlayPromise:function(f){f===void 0&&(f=!0);var c=this.video,m=c.play();if(m!==void 0){var T=this.playSuccess.bind(this),C=this.playError.bind(this);if(!f){var S=this;C=function(){S.failedPlayAttempts++}}m.then(T).catch(C)}else c.addEventListener("playing",this._callbacks.legacy),f||this.failedPlayAttempts++},addMarker:function(f,c,m){return!isNaN(c)&&c>=0&&!isNaN(m)&&m>c&&(this.markers[f]=[c,m]),this},playMarker:function(f,c){var m=this.markers[f];return m&&this.play(c,m[0],m[1]),this},removeMarker:function(f){return delete this.markers[f],this},snapshot:function(f,c){return f===void 0&&(f=this.width),c===void 0&&(c=this.height),this.snapshotArea(0,0,this.width,this.height,f,c)},snapshotArea:function(f,c,m,T,C,S){f===void 0&&(f=0),c===void 0&&(c=0),m===void 0&&(m=this.width),T===void 0&&(T=this.height),C===void 0&&(C=m),S===void 0&&(S=T);var A=this.video,P=this.snapshotTexture;return P?(P.setSize(C,S),A&&P.context.drawImage(A,f,c,m,T,0,0,C,S)):(P=this.scene.sys.textures.createCanvas(s(),C,S),this.snapshotTexture=P,A&&P.context.drawImage(A,f,c,m,T,0,0,C,S)),P.update()},saveSnapshotTexture:function(f){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,f):this.snapshotTexture=this.scene.sys.textures.createCanvas(f,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(n.VIDEO_UNLOCKED,this));var f=this.scene.sys.sound;f&&f.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(f){var c=f.name;c==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(n.VIDEO_LOCKED,this)):c==="NotSupportedError"?(this.stop(!1),this.emit(n.VIDEO_UNSUPPORTED,this,f)):(this.stop(!1),this.emit(n.VIDEO_ERROR,this,f))},legacyPlayHandler:function(){var f=this.video;f&&(this.playSuccess(),f.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(n.VIDEO_PLAYING,this)},loadErrorHandler:function(f){this.stop(!1),this.emit(n.VIDEO_ERROR,this,f)},metadataHandler:function(f){this.emit(n.VIDEO_METADATA,this,f)},setSizeToFrame:function(f){f||(f=this.frame),this.width=f.realWidth,this.height=f.realHeight,this.scaleX!==1&&(this.scaleX=this.displayWidth/this.width),this.scaleY!==1&&(this.scaleY=this.displayHeight/this.height);var c=this.input;return c&&!c.customHitArea&&(c.hitArea.width=this.width,c.hitArea.height=this.height),this},stalledHandler:function(f){this.isStalled=!0,this.emit(n.VIDEO_STALLED,this,f)},completeHandler:function(){this._playCalled=!1,this.emit(n.VIDEO_COMPLETE,this)},preUpdate:function(f,c){var m=this.video;!m||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=c,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(f){var c=this.video;if(c){var m=c.duration;if(m!==1/0&&!isNaN(m)){var T=m*f;this.setCurrentTime(T)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(f){var c=this.video;if(c){if(typeof f=="string"){var m=f[0],T=parseFloat(f.substr(1));m==="+"?f=c.currentTime+T:m==="-"&&(f=c.currentTime-T)}c.currentTime=f}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(n.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(n.VIDEO_SEEKED,this)},getProgress:function(){var f=this.video;if(f){var c=f.duration;if(c!==1/0&&!isNaN(c))return f.currentTime/c}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(f){f===void 0&&(f=!0),this._codeMuted=f;var c=this.video;return c&&(c.muted=this._systemMuted?!0:f),this},isMuted:function(){return this._codeMuted},globalMute:function(f,c){this._systemMuted=c;var m=this.video;m&&(m.muted=this._codeMuted?!0:c)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(f){f===void 0&&(f=!0);var c=this.video;return this._codePaused=f,c&&!c.ended&&(f?c.paused||(this.removeEventHandlers(),c.pause()):f||(this._playCalled?c.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(f){return f===void 0&&(f=1),this.video&&(this.video.volume=o(f,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(f){return this.video&&(this.video.playbackRate=f),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(f){return f===void 0&&(f=!0),this.video&&(this.video.loop=f),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(f,c){return c===void 0&&(c=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,f),this.videoTextureSource.setFlipY(c)),this._key=f,this.flipY=c,!!this.videoTexture},stop:function(f){f===void 0&&(f=!0);var c=this.video;return c&&(this.removeEventHandlers(),c.cancelVideoFrameCallback(this._rfvCallbackId),c.pause()),this.retry=0,this._playCalled=!1,f&&this.emit(n.VIDEO_STOP,this),this},removeVideoElement:function(){var f=this.video;if(f){for(f.parentNode&&f.parentNode.removeChild(f);f.hasChildNodes();)f.removeChild(f.firstChild);f.removeAttribute("autoplay"),f.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var f=this.scene.sys.game.events;f.off(i.PAUSE,this.globalPause,this),f.off(i.RESUME,this.globalResume,this);var c=this.scene.sys.sound;c&&c.off(l.GLOBAL_MUTE,this.globalMute,this)}});v.exports=d},58352:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a){o.videoTexture&&(p.addToRenderList(o),t.batchSprite(o,o.frame,p,a))};v.exports=y},11511:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),p=t(44603),a=t(23568),n=t(18471);p.register("video",function(i,e){i===void 0&&(i={});var r=a(i,"key",null),l=new n(this.scene,0,0,r);return e!==void 0&&(i.add=e),o(this.scene,l,i),l})},89025:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(18471),p=t(39429);p.register("video",function(a,n,i){return this.displayList.add(new o(this.scene,a,n,i))})},10247:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,a=o;p=t(29849),a=t(58352),v.exports={renderWebGL:p,renderCanvas:a}},29849:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a){o.videoTexture&&(p.addToRenderList(o),o.pipeline.batchSprite(o,p,a))};v.exports=y},41481:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10312),p=t(96503),a=t(87902),n=t(83419),i=t(31401),e=t(95643),r=t(87841),l=t(37303),s=new n({Extends:e,Mixins:[i.Depth,i.GetBounds,i.Origin,i.Transform,i.ScrollFactor,i.Visible],initialize:function(d,f,c,m,T){m===void 0&&(m=1),T===void 0&&(T=m),e.call(this,d,"Zone"),this.setPosition(f,c),this.width=m,this.height=T,this.blendMode=o.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(u){this.scaleX=u/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(u){this.scaleY=u/this.height}},setSize:function(u,d,f){f===void 0&&(f=!0),this.width=u,this.height=d,this.updateDisplayOrigin();var c=this.input;return f&&c&&!c.customHitArea&&(c.hitArea.width=u,c.hitArea.height=d),this},setDisplaySize:function(u,d){return this.displayWidth=u,this.displayHeight=d,this},setCircleDropZone:function(u){return this.setDropZone(new p(0,0,u),a)},setRectangleDropZone:function(u,d){return this.setDropZone(new r(0,0,u,d),l)},setDropZone:function(u,d){return this.input||this.setInteractive(u,d,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(u,d,f){f.addToRenderList(d)},renderWebGL:function(u,d,f){f.addToRenderList(d)}});v.exports=s},95261:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(44603),p=t(23568),a=t(41481);o.register("zone",function(n){var i=p(n,"x",0),e=p(n,"y",0),r=p(n,"width",1),l=p(n,"height",r);return new a(this.scene,i,e,r,l)})},84175:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(41481),p=t(39429);p.register("zone",function(a,n,i,e){return this.displayList.add(new o(this.scene,a,n,i,e))})},95166:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.radius>0?Math.PI*t.radius*t.radius:0};v.exports=y},96503:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(87902),a=t(26241),n=t(79124),i=t(23777),e=t(28176),r=new o({initialize:function(s,u,d){s===void 0&&(s=0),u===void 0&&(u=0),d===void 0&&(d=0),this.type=i.CIRCLE,this.x=s,this.y=u,this._radius=d,this._diameter=d*2},contains:function(l,s){return p(this,l,s)},getPoint:function(l,s){return a(this,l,s)},getPoints:function(l,s,u){return n(this,l,s,u)},getRandomPoint:function(l){return e(this,l)},setTo:function(l,s,u){return this.x=l,this.y=s,this._radius=u,this._diameter=u*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(l,s){return s===void 0&&(s=l),this.x=l,this.y=s,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(l){this._radius=l,this._diameter=l*2}},diameter:{get:function(){return this._diameter},set:function(l){this._diameter=l,this._radius=l*.5}},left:{get:function(){return this.x-this._radius},set:function(l){this.x=l+this._radius}},right:{get:function(){return this.x+this._radius},set:function(l){this.x=l-this._radius}},top:{get:function(){return this.y-this._radius},set:function(l){this.y=l+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(l){this.y=l-this._radius}}});v.exports=r},71562:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return 2*(Math.PI*t.radius)};v.exports=y},92110:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),p=function(a,n,i){return i===void 0&&(i=new o),i.x=a.x+a.radius*Math.cos(n),i.y=a.y+a.radius*Math.sin(n),i};v.exports=p},42250:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(96503),p=function(a){return new o(a.x,a.y,a.radius)};v.exports=p},87902:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){if(t.radius>0&&o>=t.left&&o<=t.right&&p>=t.top&&p<=t.bottom){var a=(t.x-o)*(t.x-o),n=(t.y-p)*(t.y-p);return a+n<=t.radius*t.radius}else return!1};v.exports=y},5698:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87902),p=function(a,n){return o(a,n.x,n.y)};v.exports=p},70588:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87902),p=function(a,n){return o(a,n.x,n.y)&&o(a,n.right,n.y)&&o(a,n.x,n.bottom)&&o(a,n.right,n.bottom)};v.exports=p},26394:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o.setTo(t.x,t.y,t.radius)};v.exports=y},76278:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.x===o.x&&t.y===o.y&&t.radius===o.radius};v.exports=y},2074:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),p=function(a,n){return n===void 0&&(n=new o),n.x=a.left,n.y=a.top,n.width=a.diameter,n.height=a.diameter,n};v.exports=p},26241:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(92110),p=t(62945),a=t(36383),n=t(2141),i=function(e,r,l){l===void 0&&(l=new n);var s=p(r,0,a.PI2);return o(e,s,l)};v.exports=i},79124:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(71562),p=t(92110),a=t(62945),n=t(36383),i=function(e,r,l,s){s===void 0&&(s=[]),!r&&l>0&&(r=o(e)/l);for(var u=0;u<r;u++){var d=a(u/r,0,n.PI2);s.push(p(e,d))}return s};v.exports=i},50884:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){return t.x+=o,t.y+=p,t};v.exports=y},39212:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.x+=o.x,t.y+=o.y,t};v.exports=y},28176:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),p=function(a,n){n===void 0&&(n=new o);var i=2*Math.PI*Math.random(),e=Math.random()+Math.random(),r=e>1?2-e:e,l=r*Math.cos(i),s=r*Math.sin(i);return n.x=a.x+l*a.radius,n.y=a.y+s*a.radius,n};v.exports=p},88911:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(96503);o.Area=t(95166),o.Circumference=t(71562),o.CircumferencePoint=t(92110),o.Clone=t(42250),o.Contains=t(87902),o.ContainsPoint=t(5698),o.ContainsRect=t(70588),o.CopyFrom=t(26394),o.Equals=t(76278),o.GetBounds=t(2074),o.GetPoint=t(26241),o.GetPoints=t(79124),o.Offset=t(50884),o.OffsetPoint=t(39212),o.Random=t(28176),v.exports=o},23777:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};v.exports=y},78874:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.isEmpty()?0:t.getMajorRadius()*t.getMinorRadius()*Math.PI};v.exports=y},92990:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var o=t.width/2,p=t.height/2,a=Math.pow(o-p,2)/Math.pow(o+p,2);return Math.PI*(o+p)*(1+3*a/(10+Math.sqrt(4-3*a)))};v.exports=y},79522:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),p=function(a,n,i){i===void 0&&(i=new o);var e=a.width/2,r=a.height/2;return i.x=a.x+e*Math.cos(n),i.y=a.y+r*Math.sin(n),i};v.exports=p},58102:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(8497),p=function(a){return new o(a.x,a.y,a.width,a.height)};v.exports=p},81154:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){if(t.width<=0||t.height<=0)return!1;var a=(o-t.x)/t.width,n=(p-t.y)/t.height;return a*=a,n*=n,a+n<.25};v.exports=y},46662:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(81154),p=function(a,n){return o(a,n.x,n.y)};v.exports=p},1632:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(81154),p=function(a,n){return o(a,n.x,n.y)&&o(a,n.right,n.y)&&o(a,n.x,n.bottom)&&o(a,n.right,n.bottom)};v.exports=p},65534:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o.setTo(t.x,t.y,t.width,t.height)};v.exports=y},8497:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(81154),a=t(90549),n=t(48320),i=t(23777),e=t(24820),r=new o({initialize:function(s,u,d,f){s===void 0&&(s=0),u===void 0&&(u=0),d===void 0&&(d=0),f===void 0&&(f=0),this.type=i.ELLIPSE,this.x=s,this.y=u,this.width=d,this.height=f},contains:function(l,s){return p(this,l,s)},getPoint:function(l,s){return a(this,l,s)},getPoints:function(l,s,u){return n(this,l,s,u)},getRandomPoint:function(l){return e(this,l)},setTo:function(l,s,u,d){return this.x=l,this.y=s,this.width=u,this.height=d,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(l,s){return s===void 0&&(s=l),this.x=l,this.y=s,this},setSize:function(l,s){return s===void 0&&(s=l),this.width=l,this.height=s,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(l){this.x=l+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(l){this.x=l-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(l){this.y=l+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(l){this.y=l-this.height/2}}});v.exports=r},36146:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.x===o.x&&t.y===o.y&&t.width===o.width&&t.height===o.height};v.exports=y},23694:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),p=function(a,n){return n===void 0&&(n=new o),n.x=a.left,n.y=a.top,n.width=a.width,n.height=a.height,n};v.exports=p},90549:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(79522),p=t(62945),a=t(36383),n=t(2141),i=function(e,r,l){l===void 0&&(l=new n);var s=p(r,0,a.PI2);return o(e,s,l)};v.exports=i},48320:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(92990),p=t(79522),a=t(62945),n=t(36383),i=function(e,r,l,s){s===void 0&&(s=[]),!r&&l>0&&(r=o(e)/l);for(var u=0;u<r;u++){var d=a(u/r,0,n.PI2);s.push(p(e,d))}return s};v.exports=i},73424:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){return t.x+=o,t.y+=p,t};v.exports=y},44808:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.x+=o.x,t.y+=o.y,t};v.exports=y},24820:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),p=function(a,n){n===void 0&&(n=new o);var i=Math.random()*Math.PI*2,e=Math.sqrt(Math.random());return n.x=a.x+e*Math.cos(i)*a.width/2,n.y=a.y+e*Math.sin(i)*a.height/2,n};v.exports=p},49203:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(8497);o.Area=t(78874),o.Circumference=t(92990),o.CircumferencePoint=t(79522),o.Clone=t(58102),o.Contains=t(81154),o.ContainsPoint=t(46662),o.ContainsRect=t(1632),o.CopyFrom=t(65534),o.Equals=t(36146),o.GetBounds=t(23694),o.GetPoint=t(90549),o.GetPoints=t(48320),o.Offset=t(73424),o.OffsetPoint=t(44808),o.Random=t(24820),v.exports=o},55738:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(23777),p=t(79291),a={Circle:t(88911),Ellipse:t(49203),Intersects:t(91865),Line:t(2529),Mesh:t(73090),Point:t(43711),Polygon:t(58423),Rectangle:t(93232),Triangle:t(84435)};a=p(!1,a,o),v.exports=a},2044:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20339),p=function(a,n){return o(a.x,a.y,n.x,n.y)<=a.radius+n.radius};v.exports=p},81491:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){var p=o.width/2,a=o.height/2,n=Math.abs(t.x-o.x-p),i=Math.abs(t.y-o.y-a),e=p+t.radius,r=a+t.radius;if(n>e||i>r)return!1;if(n<=p||i<=a)return!0;var l=n-p,s=i-a,u=l*l,d=s*s,f=t.radius*t.radius;return u+d<=f};v.exports=y},63376:(v,y,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),p=t(2044),a=function(n,i,e){if(e===void 0&&(e=[]),p(n,i)){var r=n.x,l=n.y,s=n.radius,u=i.x,d=i.y,f=i.radius,c,m,T,C,S;if(l===d)S=(f*f-s*s-u*u+r*r)/(2*(r-u)),c=1,m=-2*d,T=u*u+S*S-2*u*S+d*d-f*f,C=m*m-4*c*T,C===0?e.push(new o(S,-m/(2*c))):C>0&&(e.push(new o(S,(-m+Math.sqrt(C))/(2*c))),e.push(new o(S,(-m-Math.sqrt(C))/(2*c))));else{var A=(r-u)/(l-d),P=(f*f-s*s-u*u+r*r-d*d+l*l)/(2*(l-d));c=A*A+1,m=2*l*A-2*P*A-2*r,T=r*r+l*l+P*P-s*s-2*l*P,C=m*m-4*c*T,C===0?(S=-m/(2*c),e.push(new o(S,P-S*A))):C>0&&(S=(-m+Math.sqrt(C))/(2*c),e.push(new o(S,P-S*A)),S=(-m-Math.sqrt(C))/(2*c),e.push(new o(S,P-S*A)))}}return e};v.exports=a},97439:(v,y,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(4042),p=t(81491),a=function(n,i,e){if(e===void 0&&(e=[]),p(n,i)){var r=i.getLineA(),l=i.getLineB(),s=i.getLineC(),u=i.getLineD();o(r,n,e),o(l,n,e),o(s,n,e),o(u,n,e)}return e};v.exports=a},4042:(v,y,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),p=t(80462),a=function(n,i,e){if(e===void 0&&(e=[]),p(n,i)){var r=n.x1,l=n.y1,s=n.x2,u=n.y2,d=i.x,f=i.y,c=i.radius,m=s-r,T=u-l,C=r-d,S=l-f,A=m*m+T*T,P=2*(m*C+T*S),R=C*C+S*S-c*c,F=P*P-4*A*R,D,L;if(F===0){var O=-P/(2*A);D=r+O*m,L=l+O*T,O>=0&&O<=1&&e.push(new o(D,L))}else if(F>0){var B=(-P-Math.sqrt(F))/(2*A);D=r+B*m,L=l+B*T,B>=0&&B<=1&&e.push(new o(D,L));var b=(-P+Math.sqrt(F))/(2*A);D=r+b*m,L=l+b*T,b>=0&&b<=1&&e.push(new o(D,L))}}return e};v.exports=a},36100:(v,y,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25836),p=function(a,n,i,e){i===void 0&&(i=!1);var r=a.x1,l=a.y1,s=a.x2,u=a.y2,d=n.x1,f=n.y1,c=n.x2,m=n.y2,T=s-r,C=u-l,S=c-d,A=m-f,P=T*A-C*S;if(P===0)return null;var R,F,D;if(i){if(R=(T*(f-l)+C*(r-d))/(S*C-A*T),F=(d+S*R-r)/T,F<0||R<0||R>1)return null;D=F}else{if(R=((d-r)*A-(f-l)*S)/P,F=((l-f)*T-(r-d)*C)/P,R<0||R>1||F<0||F>1)return null;D=R}return e===void 0&&(e=new o),e.set(r+T*D,l+C*D,D)};v.exports=p},3073:(v,y,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36100),p=t(23031),a=t(25836),n=new p,i=new a,e=function(r,l,s,u){s===void 0&&(s=!1),u===void 0&&(u=new a);var d=!1;u.set(),i.set();for(var f=l[l.length-1],c=0;c<l.length;c++){var m=l[c];n.setTo(f.x,f.y,m.x,m.y),f=m,o(r,n,s,i)&&(!d||i.z<u.z)&&(u.copy(i),d=!0)}return d?u:null};v.exports=e},56362:(v,y,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25836),p=t(61369),a=t(3073),n=new o,i=function(e,r,l,s){s===void 0&&(s=new p),Array.isArray(r)||(r=[r]);var u=!1;s.set(),n.set();for(var d=0;d<r.length;d++)a(e,r[d].points,l,n)&&(!u||n.z<s.z)&&(s.set(n.x,n.y,n.z,d),u=!0);return u?s:null};v.exports=i},60646:(v,y,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),p=t(76112),a=t(92773),n=function(i,e,r){if(r===void 0&&(r=[]),a(i,e))for(var l=e.getLineA(),s=e.getLineB(),u=e.getLineC(),d=e.getLineD(),f=[new o,new o,new o,new o],c=[p(l,i,f[0]),p(s,i,f[1]),p(u,i,f[2]),p(d,i,f[3])],m=0;m<4;m++)c[m]&&r.push(f[m]);return r};v.exports=n},71147:(v,y,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(61369),p=t(56362),a=t(23031),n=new a;function i(l,s,u,d,f){var c=Math.cos(l),m=Math.sin(l);n.setTo(s,u,s+c,u+m);var T=p(n,d,!0);T&&f.push(new o(T.x,T.y,l,T.w))}function e(l,s){return l.z-s.z}var r=function(l,s,u){Array.isArray(u)||(u=[u]);for(var d=[],f=[],c=0;c<u.length;c++)for(var m=u[c].points,T=0;T<m.length;T++){var C=Math.atan2(m[T].y-s,m[T].x-l);f.indexOf(C)===-1&&(i(C,l,s,u,d),i(C-1e-5,l,s,u,d),i(C+1e-5,l,s,u,d),f.push(C))}return d.sort(e)};v.exports=r},68389:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),p=t(59996),a=function(n,i,e){return e===void 0&&(e=new o),p(n,i)&&(e.x=Math.max(n.x,i.x),e.y=Math.max(n.y,i.y),e.width=Math.min(n.right,i.right)-e.x,e.height=Math.min(n.bottom,i.bottom)-e.y),e};v.exports=a},52784:(v,y,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(60646),p=t(59996),a=function(n,i,e){if(e===void 0&&(e=[]),p(n,i)){var r=n.getLineA(),l=n.getLineB(),s=n.getLineC(),u=n.getLineD();o(r,i,e),o(l,i,e),o(s,i,e),o(u,i,e)}return e};v.exports=a},26341:(v,y,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(89265),p=t(60646),a=function(n,i,e){if(e===void 0&&(e=[]),o(n,i)){var r=i.getLineA(),l=i.getLineB(),s=i.getLineC();p(r,n,e),p(l,n,e),p(s,n,e)}return e};v.exports=a},38720:(v,y,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(4042),p=t(67636),a=function(n,i,e){if(e===void 0&&(e=[]),p(n,i)){var r=n.getLineA(),l=n.getLineB(),s=n.getLineC();o(r,i,e),o(l,i,e),o(s,i,e)}return e};v.exports=a},13882:(v,y,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),p=t(2822),a=t(76112),n=function(i,e,r){if(r===void 0&&(r=[]),p(i,e))for(var l=i.getLineA(),s=i.getLineB(),u=i.getLineC(),d=[new o,new o,new o],f=[a(l,e,d[0]),a(s,e,d[1]),a(u,e,d[2])],c=0;c<3;c++)f[c]&&r.push(d[c]);return r};v.exports=n},75636:(v,y,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(82944),p=t(13882),a=function(n,i,e){if(e===void 0&&(e=[]),o(n,i)){var r=i.getLineA(),l=i.getLineB(),s=i.getLineC();p(n,r,e),p(n,l,e),p(n,s,e)}return e};v.exports=a},80462:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87902),p=t(2141),a=new p,n=function(i,e,r){if(r===void 0&&(r=a),o(e,i.x1,i.y1))return r.x=i.x1,r.y=i.y1,!0;if(o(e,i.x2,i.y2))return r.x=i.x2,r.y=i.y2,!0;var l=i.x2-i.x1,s=i.y2-i.y1,u=e.x-i.x1,d=e.y-i.y1,f=l*l+s*s,c=l,m=s;if(f>0){var T=(u*l+d*s)/f;c*=T,m*=T}r.x=i.x1+c,r.y=i.y1+m;var C=c*c+m*m;return C<=f&&c*l+m*s>=0&&o(e,r.x,r.y)};v.exports=n},76112:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){var a=t.x1,n=t.y1,i=t.x2,e=t.y2,r=o.x1,l=o.y1,s=o.x2,u=o.y2;if(a===i&&n===e||r===s&&l===u)return!1;var d=(u-l)*(i-a)-(s-r)*(e-n);if(d===0)return!1;var f=((s-r)*(n-l)-(u-l)*(a-r))/d,c=((i-a)*(n-l)-(e-n)*(a-r))/d;return f<0||f>1||c<0||c>1?!1:(p&&(p.x=a+f*(i-a),p.y=n+f*(e-n)),!0)};v.exports=y},92773:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){var p=t.x1,a=t.y1,n=t.x2,i=t.y2,e=o.x,r=o.y,l=o.right,s=o.bottom,u=0;if(p>=e&&p<=l&&a>=r&&a<=s||n>=e&&n<=l&&i>=r&&i<=s)return!0;if(p<e&&n>=e){if(u=a+(i-a)*(e-p)/(n-p),u>r&&u<=s)return!0}else if(p>l&&n<=l&&(u=a+(i-a)*(l-p)/(n-p),u>=r&&u<=s))return!0;if(a<r&&i>=r){if(u=p+(n-p)*(r-a)/(i-a),u>=e&&u<=l)return!0}else if(a>s&&i<=s&&(u=p+(n-p)*(s-a)/(i-a),u>=e&&u<=l))return!0;return!1};v.exports=y},16204:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){p===void 0&&(p=1);var a=o.x1,n=o.y1,i=o.x2,e=o.y2,r=t.x,l=t.y,s=(i-a)*(i-a)+(e-n)*(e-n);if(s===0)return!1;var u=((r-a)*(i-a)+(l-n)*(e-n))/s;if(u<0)return Math.sqrt((a-r)*(a-r)+(n-l)*(n-l))<=p;if(u>=0&&u<=1){var d=((n-l)*(i-a)-(a-r)*(e-n))/s;return Math.abs(d)*Math.sqrt(s)<=p}else return Math.sqrt((i-r)*(i-r)+(e-l)*(e-l))<=p};v.exports=y},14199:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(16204),p=function(a,n){if(!o(a,n))return!1;var i=Math.min(n.x1,n.x2),e=Math.max(n.x1,n.x2),r=Math.min(n.y1,n.y2),l=Math.max(n.y1,n.y2);return a.x>=i&&a.x<=e&&a.y>=r&&a.y<=l};v.exports=p},59996:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.width<=0||t.height<=0||o.width<=0||o.height<=0?!1:!(t.right<o.x||t.bottom<o.y||t.x>o.right||t.y>o.bottom)};v.exports=y},89265:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(76112),p=t(37303),a=t(48653),n=t(77493),i=function(e,r){if(r.left>e.right||r.right<e.left||r.top>e.bottom||r.bottom<e.top)return!1;var l=r.getLineA(),s=r.getLineB(),u=r.getLineC();if(p(e,l.x1,l.y1)||p(e,l.x2,l.y2)||p(e,s.x1,s.y1)||p(e,s.x2,s.y2)||p(e,u.x1,u.y1)||p(e,u.x2,u.y2))return!0;var d=e.getLineA(),f=e.getLineB(),c=e.getLineC(),m=e.getLineD();if(o(l,d)||o(l,f)||o(l,c)||o(l,m)||o(s,d)||o(s,f)||o(s,c)||o(s,m)||o(u,d)||o(u,f)||o(u,c)||o(u,m))return!0;var T=n(e),C=a(r,T,!0);return C.length>0};v.exports=i},84411:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a,n,i){return i===void 0&&(i=0),!(o>t.right+i||p<t.left-i||a>t.bottom+i||n<t.top-i)};v.exports=y},67636:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(80462),p=t(10690),a=function(n,i){return n.left>i.right||n.right<i.left||n.top>i.bottom||n.bottom<i.top?!1:!!(p(n,i.x,i.y)||o(n.getLineA(),i)||o(n.getLineB(),i)||o(n.getLineC(),i))};v.exports=a},2822:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(76112),p=function(a,n){return!!(a.contains(n.x1,n.y1)||a.contains(n.x2,n.y2)||o(a.getLineA(),n)||o(a.getLineB(),n)||o(a.getLineC(),n))};v.exports=p},82944:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(48653),p=t(71694),a=t(76112),n=function(i,e){if(i.left>e.right||i.right<e.left||i.top>e.bottom||i.bottom<e.top)return!1;var r=i.getLineA(),l=i.getLineB(),s=i.getLineC(),u=e.getLineA(),d=e.getLineB(),f=e.getLineC();if(a(r,u)||a(r,d)||a(r,f)||a(l,u)||a(l,d)||a(l,f)||a(s,u)||a(s,d)||a(s,f))return!0;var c=p(i),m=o(e,c,!0);return m.length>0||(c=p(e),m=o(i,c,!0),m.length>0)};v.exports=n},91865:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={CircleToCircle:t(2044),CircleToRectangle:t(81491),GetCircleToCircle:t(63376),GetCircleToRectangle:t(97439),GetLineToCircle:t(4042),GetLineToLine:t(36100),GetLineToPoints:t(3073),GetLineToPolygon:t(56362),GetLineToRectangle:t(60646),GetRaysFromPointToPolygon:t(71147),GetRectangleIntersection:t(68389),GetRectangleToRectangle:t(52784),GetRectangleToTriangle:t(26341),GetTriangleToCircle:t(38720),GetTriangleToLine:t(13882),GetTriangleToTriangle:t(75636),LineToCircle:t(80462),LineToLine:t(76112),LineToRectangle:t(92773),PointToLine:t(16204),PointToLineSegment:t(14199),RectangleToRectangle:t(59996),RectangleToTriangle:t(89265),RectangleToValues:t(84411),TriangleToCircle:t(67636),TriangleToLine:t(2822),TriangleToTriangle:t(82944)}},91938:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return Math.atan2(t.y2-t.y1,t.x2-t.x1)};v.exports=y},84993:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){o===void 0&&(o=1),p===void 0&&(p=[]);var a=Math.round(t.x1),n=Math.round(t.y1),i=Math.round(t.x2),e=Math.round(t.y2),r=Math.abs(i-a),l=Math.abs(e-n),s=a<i?1:-1,u=n<e?1:-1,d=r-l;p.push({x:a,y:n});for(var f=1;!(a===i&&n===e);){var c=d<<1;c>-l&&(d-=l,a+=s),c<r&&(d+=r,n+=u),f%o===0&&p.push({x:a,y:n}),f++}return p};v.exports=y},36469:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){var a=o-(t.x1+t.x2)/2,n=p-(t.y1+t.y2)/2;return t.x1+=a,t.y1+=n,t.x2+=a,t.y2+=n,t};v.exports=y},31116:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(23031),p=function(a){return new o(a.x1,a.y1,a.x2,a.y2)};v.exports=p},59944:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o.setTo(t.x1,t.y1,t.x2,t.y2)};v.exports=y},59220:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.x1===o.x1&&t.y1===o.y1&&t.x2===o.x2&&t.y2===o.y2};v.exports=y},78177:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35001),p=function(a,n,i){i===void 0&&(i=n);var e=o(a),r=a.x2-a.x1,l=a.y2-a.y1;return n&&(a.x1=a.x1-r/e*n,a.y1=a.y1-l/e*n),i&&(a.x2=a.x2+r/e*i,a.y2=a.y2+l/e*i),a};v.exports=p},26708:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(52816),p=t(6113),a=t(2141),n=function(i,e,r,l,s){l===void 0&&(l=0),s===void 0&&(s=[]);var u=[],d=i.x1,f=i.y1,c=i.x2-d,m=i.y2-f,T=p(e,s),C,S,A=r-1;for(C=0;C<A;C++)S=T(C/A),u.push(new a(d+c*S,f+m*S));if(S=T(1),u.push(new a(d+c*S,f+m*S)),l>0){var P=u[0],R=[P];for(C=1;C<u.length-1;C++){var F=u[C];o(P,F)>=l&&(R.push(F),P=F)}var D=u[u.length-1];return o(P,D)<l&&R.pop(),R.push(D),R}else return u};v.exports=n},32125:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),p=function(a,n){return n===void 0&&(n=new o),n.x=(a.x1+a.x2)/2,n.y=(a.y1+a.y2)/2,n};v.exports=p},99569:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),p=function(a,n,i){i===void 0&&(i=new o);var e=a.x1,r=a.y1,l=a.x2,s=a.y2,u=(l-e)*(l-e)+(s-r)*(s-r);if(u===0)return i;var d=((n.x-e)*(l-e)+(n.y-r)*(s-r))/u;return i.x=e+d*(l-e),i.y=r+d*(s-r),i};v.exports=p},34638:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36383),p=t(91938),a=t(2141),n=function(i,e){e===void 0&&(e=new a);var r=p(i)-o.TAU;return e.x=Math.cos(r),e.y=Math.sin(r),e};v.exports=n},13151:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),p=function(a,n,i){return i===void 0&&(i=new o),i.x=a.x1+(a.x2-a.x1)*n,i.y=a.y1+(a.y2-a.y1)*n,i};v.exports=p},15258:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35001),p=t(2141),a=function(n,i,e,r){r===void 0&&(r=[]),!i&&e>0&&(i=o(n)/e);for(var l=n.x1,s=n.y1,u=n.x2,d=n.y2,f=0;f<i;f++){var c=f/i,m=l+(u-l)*c,T=s+(d-s)*c;r.push(new p(m,T))}return r};v.exports=a},26408:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){var p=t.x1,a=t.y1,n=t.x2,i=t.y2,e=(n-p)*(n-p)+(i-a)*(i-a);if(e===0)return!1;var r=((a-o.y)*(n-p)-(p-o.x)*(i-a))/e;return Math.abs(r)*Math.sqrt(e)};v.exports=y},98770:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return Math.abs(t.y1-t.y2)};v.exports=y},35001:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return Math.sqrt((t.x2-t.x1)*(t.x2-t.x1)+(t.y2-t.y1)*(t.y2-t.y1))};v.exports=y},23031:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(13151),a=t(15258),n=t(23777),i=t(65822),e=t(26099),r=new o({initialize:function(s,u,d,f){s===void 0&&(s=0),u===void 0&&(u=0),d===void 0&&(d=0),f===void 0&&(f=0),this.type=n.LINE,this.x1=s,this.y1=u,this.x2=d,this.y2=f},getPoint:function(l,s){return p(this,l,s)},getPoints:function(l,s,u){return a(this,l,s,u)},getRandomPoint:function(l){return i(this,l)},setTo:function(l,s,u,d){return l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=0),d===void 0&&(d=0),this.x1=l,this.y1=s,this.x2=u,this.y2=d,this},setFromObjects:function(l,s){return this.x1=l.x,this.y1=l.y,this.x2=s.x,this.y2=s.y,this},getPointA:function(l){return l===void 0&&(l=new e),l.set(this.x1,this.y1),l},getPointB:function(l){return l===void 0&&(l=new e),l.set(this.x2,this.y2),l},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(l){this.x1<=this.x2?this.x1=l:this.x2=l}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(l){this.x1>this.x2?this.x1=l:this.x2=l}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(l){this.y1<=this.y2?this.y1=l:this.y2=l}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(l){this.y1>this.y2?this.y1=l:this.y2=l}}});v.exports=r},64795:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36383),p=t(15994),a=t(91938),n=function(i){var e=a(i)-o.TAU;return p(e,-Math.PI,Math.PI)};v.exports=n},52616:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36383),p=t(91938),a=function(n){return Math.cos(p(n)-o.TAU)};v.exports=a},87231:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36383),p=t(91938),a=function(n){return Math.sin(p(n)-o.TAU)};v.exports=a},89662:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){return t.x1+=o,t.y1+=p,t.x2+=o,t.y2+=p,t};v.exports=y},71165:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return-((t.x2-t.x1)/(t.y2-t.y1))};v.exports=y},65822:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),p=function(a,n){n===void 0&&(n=new o);var i=Math.random();return n.x=a.x1+i*(a.x2-a.x1),n.y=a.y1+i*(a.y2-a.y1),n};v.exports=p},69777:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91938),p=t(64795),a=function(n,i){return 2*p(i)-Math.PI-o(n)};v.exports=a},39706:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(64400),p=function(a,n){var i=(a.x1+a.x2)/2,e=(a.y1+a.y2)/2;return o(a,i,e,n)};v.exports=p},82585:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(64400),p=function(a,n,i){return o(a,n.x,n.y,i)};v.exports=p},64400:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a){var n=Math.cos(a),i=Math.sin(a),e=t.x1-o,r=t.y1-p;return t.x1=e*n-r*i+o,t.y1=e*i+r*n+p,e=t.x2-o,r=t.y2-p,t.x2=e*n-r*i+o,t.y2=e*i+r*n+p,t};v.exports=y},62377:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a,n){return t.x1=o,t.y1=p,t.x2=o+Math.cos(a)*n,t.y2=p+Math.sin(a)*n,t};v.exports=y},71366:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return(t.y2-t.y1)/(t.x2-t.x1)};v.exports=y},10809:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return Math.abs(t.x1-t.x2)};v.exports=y},2529:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(23031);o.Angle=t(91938),o.BresenhamPoints=t(84993),o.CenterOn=t(36469),o.Clone=t(31116),o.CopyFrom=t(59944),o.Equals=t(59220),o.Extend=t(78177),o.GetEasedPoints=t(26708),o.GetMidPoint=t(32125),o.GetNearestPoint=t(99569),o.GetNormal=t(34638),o.GetPoint=t(13151),o.GetPoints=t(15258),o.GetShortestDistance=t(26408),o.Height=t(98770),o.Length=t(35001),o.NormalAngle=t(64795),o.NormalX=t(52616),o.NormalY=t(87231),o.Offset=t(89662),o.PerpSlope=t(71165),o.Random=t(65822),o.ReflectAngle=t(69777),o.Rotate=t(39706),o.RotateAroundPoint=t(82585),o.RotateAroundXY=t(64400),o.SetToAngle=t(62377),o.Slope=t(71366),o.Width=t(10809),v.exports=o},83997:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(87841),a=t(26099);function n(e,r,l,s){var u=e-l,d=r-s,f=u*u+d*d;return Math.sqrt(f)}var i=new o({initialize:function(r,l,s){this.vertex1=r,this.vertex2=l,this.vertex3=s,this.bounds=new p,this._inCenter=new a},getInCenter:function(e){e===void 0&&(e=!0);var r=this.vertex1,l=this.vertex2,s=this.vertex3,u,d,f,c,m,T;e?(u=r.x,d=r.y,f=l.x,c=l.y,m=s.x,T=s.y):(u=r.vx,d=r.vy,f=l.vx,c=l.vy,m=s.vx,T=s.vy);var C=n(m,T,f,c),S=n(u,d,m,T),A=n(f,c,u,d),P=C+S+A;return this._inCenter.set((u*C+f*S+m*A)/P,(d*C+c*S+T*A)/P)},contains:function(e,r,l){var s=this.vertex1,u=this.vertex2,d=this.vertex3,f=s.vx,c=s.vy,m=u.vx,T=u.vy,C=d.vx,S=d.vy;if(l){var A=l.a,P=l.b,R=l.c,F=l.d,D=l.e,L=l.f;f=s.vx*A+s.vy*R+D,c=s.vx*P+s.vy*F+L,m=u.vx*A+u.vy*R+D,T=u.vx*P+u.vy*F+L,C=d.vx*A+d.vy*R+D,S=d.vx*P+d.vy*F+L}var O=C-f,B=S-c,b=m-f,z=T-c,V=e-f,W=r-c,K=O*O+B*B,U=O*b+B*z,Y=O*V+B*W,I=b*b+z*z,N=b*V+z*W,G=K*I-U*U,X=G===0?0:1/G,H=(I*Y-U*N)*X,Q=(K*N-U*Y)*X;return H>=0&&Q>=0&&H+Q<1},isCounterClockwise:function(e){var r=this.vertex1,l=this.vertex2,s=this.vertex3,u=(l.vx-r.vx)*(s.vy-r.vy)-(l.vy-r.vy)*(s.vx-r.vx);return e<=0?u>=0:u<0},load:function(e,r,l,s,u){return l=this.vertex1.load(e,r,l,s,u),l=this.vertex2.load(e,r,l,s,u),l=this.vertex3.load(e,r,l,s,u),l},transformCoordinatesLocal:function(e,r,l,s){return this.vertex1.transformCoordinatesLocal(e,r,l,s),this.vertex2.transformCoordinatesLocal(e,r,l,s),this.vertex3.transformCoordinatesLocal(e,r,l,s),this},updateBounds:function(){var e=this.vertex1,r=this.vertex2,l=this.vertex3,s=this.bounds;return s.x=Math.min(e.vx,r.vx,l.vx),s.y=Math.min(e.vy,r.vy,l.vy),s.width=Math.max(e.vx,r.vx,l.vx)-s.x,s.height=Math.max(e.vy,r.vy,l.vy)-s.y,this},isInView:function(e,r,l,s,u,d,f,c,m,T,C){this.update(s,u,d,f,c,m,T,C);var S=this.vertex1,A=this.vertex2,P=this.vertex3;if(S.ta<=0&&A.ta<=0&&P.ta<=0||r&&!this.isCounterClockwise(l))return!1;var R=this.bounds;R.x=Math.min(S.tx,A.tx,P.tx),R.y=Math.min(S.ty,A.ty,P.ty),R.width=Math.max(S.tx,A.tx,P.tx)-R.x,R.height=Math.max(S.ty,A.ty,P.ty)-R.y;var F=e.x+e.width,D=e.y+e.height;return R.width<=0||R.height<=0||e.width<=0||e.height<=0?!1:!(R.right<e.x||R.bottom<e.y||R.x>F||R.y>D)},scrollUV:function(e,r){return this.vertex1.scrollUV(e,r),this.vertex2.scrollUV(e,r),this.vertex3.scrollUV(e,r),this},scaleUV:function(e,r){return this.vertex1.scaleUV(e,r),this.vertex2.scaleUV(e,r),this.vertex3.scaleUV(e,r),this},setColor:function(e){return this.vertex1.color=e,this.vertex2.color=e,this.vertex3.color=e,this},update:function(e,r,l,s,u,d,f,c){return this.vertex1.update(r,l,s,u,d,f,c,e),this.vertex2.update(r,l,s,u,d,f,c,e),this.vertex3.update(r,l,s,u,d,f,c,e),this},translate:function(e,r){r===void 0&&(r=0);var l=this.vertex1,s=this.vertex2,u=this.vertex3;return l.x+=e,l.y+=r,s.x+=e,s.y+=r,u.x+=e,u.y+=r,this},x:{get:function(){return this.getInCenter().x},set:function(e){var r=this.getInCenter();this.translate(e-r.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(e){var r=this.getInCenter();this.translate(0,e-r.y)}},alpha:{get:function(){var e=this.vertex1,r=this.vertex2,l=this.vertex3;return(e.alpha+r.alpha+l.alpha)/3},set:function(e){this.vertex1.alpha=e,this.vertex2.alpha=e,this.vertex3.alpha=e}},depth:{get:function(){var e=this.vertex1,r=this.vertex2,l=this.vertex3;return(e.vz+r.vz+l.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});v.exports=i},48803:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83997),p=t(95540),a=t(37867),n=t(25836),i=t(39318),e=new n,r=new n,l=new a,s=function(u){var d=p(u,"mesh"),f=p(u,"texture",null),c=p(u,"frame"),m=p(u,"width",1),T=p(u,"height",m),C=p(u,"widthSegments",1),S=p(u,"heightSegments",C),A=p(u,"x",0),P=p(u,"y",0),R=p(u,"z",0),F=p(u,"rotateX",0),D=p(u,"rotateY",0),L=p(u,"rotateZ",0),O=p(u,"zIsUp",!0),B=p(u,"isOrtho",d?d.dirtyCache[11]:!1),b=p(u,"colors",[16777215]),z=p(u,"alphas",[1]),V=p(u,"tile",!1),W=p(u,"flipY",!1),K=p(u,"width",null),U={faces:[],verts:[]};e.set(A,P,R),r.set(F,D,L),l.fromRotationXYTranslation(r,e,O);var Y;if(!f&&d)f=d.texture,c||(Y=d.frame);else if(d&&typeof f=="string")f=d.scene.sys.textures.get(f);else if(!f)return U;Y||(Y=f.get(c)),!K&&B&&f&&d&&(m=Y.width/d.height,T=Y.height/d.height);var I=m/2,N=T/2,G=Math.floor(C),X=Math.floor(S),H=G+1,Q=X+1,$=m/G,Z=T/X,J=[],j=[],k,_,q=0,et=1,st=0,nt=1;Y&&(q=Y.u0,et=Y.u1,W?(st=Y.v1,nt=Y.v0):(st=Y.v0,nt=Y.v1));var it=et-q,tt=nt-st;for(_=0;_<Q;_++){var at=_*Z-N;for(k=0;k<H;k++){var rt=k*$-I;j.push(rt,-at);var ot=q+it*(k/G),ht=st+tt*(_/X);J.push(ot,ht)}}Array.isArray(b)||(b=[b]),Array.isArray(z)||(z=[z]);var ft=0,ct=0;for(_=0;_<X;_++)for(k=0;k<G;k++){var vt=(k+H*_)*2,dt=(k+H*(_+1))*2,Et=(k+1+H*(_+1))*2,St=(k+1+H*_)*2,Rt=b[ct],Bt=z[ft],At=new i(j[vt],j[vt+1],0,J[vt],J[vt+1],Rt,Bt).transformMat4(l),Yt=new i(j[dt],j[dt+1],0,J[dt],J[dt+1],Rt,Bt).transformMat4(l),Ce=new i(j[St],j[St+1],0,J[St],J[St+1],Rt,Bt).transformMat4(l),si=new i(j[dt],j[dt+1],0,J[dt],J[dt+1],Rt,Bt).transformMat4(l),ni=new i(j[Et],j[Et+1],0,J[Et],J[Et+1],Rt,Bt).transformMat4(l),ri=new i(j[St],j[St+1],0,J[St],J[St+1],Rt,Bt).transformMat4(l);V&&(At.setUVs(q,nt),Yt.setUVs(q,st),Ce.setUVs(et,nt),si.setUVs(q,st),ni.setUVs(et,st),ri.setUVs(et,nt)),ct++,ct===b.length&&(ct=0),ft++,ft===z.length&&(ft=0),U.verts.push(At,Yt,Ce,si,ni,ri),U.faces.push(new o(At,Yt,Ce),new o(si,ni,ri))}return d&&(d.faces=d.faces.concat(U.faces),d.vertices=d.vertices.concat(U.verts)),U};v.exports=s},34684:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83997),p=t(37867),a=t(25836),n=t(39318),i=new a,e=new a,r=new p,l=function(s,u,d,f,c,m,T,C,S,A){d===void 0&&(d=1),f===void 0&&(f=0),c===void 0&&(c=0),m===void 0&&(m=0),T===void 0&&(T=0),C===void 0&&(C=0),S===void 0&&(S=0),A===void 0&&(A=!0);var P={faces:[],verts:[]},R=s.materials;i.set(f,c,m),e.set(T,C,S),r.fromRotationXYTranslation(e,i,A);for(var F=0;F<s.models.length;F++)for(var D=s.models[F],L=D.vertices,O=D.textureCoords,B=D.faces,b=0;b<B.length;b++){var z=B[b],V=z.vertices[0],W=z.vertices[1],K=z.vertices[2],U=L[V.vertexIndex],Y=L[W.vertexIndex],I=L[K.vertexIndex],N=V.textureCoordsIndex,G=W.textureCoordsIndex,X=K.textureCoordsIndex,H=N===-1?{u:0,v:1}:O[N],Q=G===-1?{u:0,v:0}:O[G],$=X===-1?{u:1,v:1}:O[X],Z=16777215;z.material!==""&&R[z.material]&&(Z=R[z.material]);var J=new n(U.x*d,U.y*d,U.z*d,H.u,H.v,Z).transformMat4(r),j=new n(Y.x*d,Y.y*d,Y.z*d,Q.u,Q.v,Z).transformMat4(r),k=new n(I.x*d,I.y*d,I.z*d,$.u,$.v,Z).transformMat4(r);P.verts.push(J,j,k),P.faces.push(new o(J,j,k))}return u&&(u.faces=u.faces.concat(P.faces),u.vertices=u.vertices.concat(P.verts)),P};v.exports=l},92515:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83997),p=t(39318),a=function(n,i,e,r,l,s,u,d){if(r===void 0&&(r=!1),s===void 0&&(s=16777215),u===void 0&&(u=1),d===void 0&&(d=!1),n.length!==i.length&&!r){console.warn("GenerateVerts: vertices and uvs count not equal");return}var f={faces:[],vertices:[]},c,m,T,C,S,A,P,R,F,D,L,O=r?3:2,B=Array.isArray(s),b=Array.isArray(u);if(Array.isArray(e)&&e.length>0)for(c=0;c<e.length;c++){var z=e[c],V=e[c]*2,W=e[c]*O;m=n[W],T=n[W+1],C=r?n[W+2]:0,S=i[V],A=i[V+1],d&&(A=1-A),P=B?s[z]:s,R=b?u[z]:u,F=0,D=0,L=0,l&&(F=l[W],D=l[W+1],L=r?l[W+2]:0),f.vertices.push(new p(m,T,C,S,A,P,R,F,D,L))}else{var K=0,U=0;for(c=0;c<n.length;c+=O)m=n[c],T=n[c+1],C=r?n[c+2]:0,S=i[K],A=i[K+1],P=B?s[U]:s,R=b?u[U]:u,F=0,D=0,L=0,l&&(F=l[c],D=l[c+1],L=r?l[c+2]:0),f.vertices.push(new p(m,T,C,S,A,P,R,F,D,L)),K+=2,U++}for(c=0;c<f.vertices.length;c+=3){var Y=f.vertices[c],I=f.vertices[c+1],N=f.vertices[c+2];f.faces.push(new o(Y,I,N))}return f};v.exports=a},85048:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=!0,t="untitled",o="",p="";function a(m){var T=m.indexOf("#");return T>-1?m.substring(0,T):m}function n(m){return m.models.length===0&&m.models.push({faces:[],name:t,textureCoords:[],vertexNormals:[],vertices:[]}),o="",m.models[m.models.length-1]}function i(m,T){var C=m.length>=2?m[1]:t;T.models.push({faces:[],name:C,textureCoords:[],vertexNormals:[],vertices:[]}),o=""}function e(m){m.length===2&&(o=m[1])}function r(m,T){var C=m.length,S=C>=2?parseFloat(m[1]):0,A=C>=3?parseFloat(m[2]):0,P=C>=4?parseFloat(m[3]):0;n(T).vertices.push({x:S,y:A,z:P})}function l(m,T){var C=m.length,S=C>=2?parseFloat(m[1]):0,A=C>=3?parseFloat(m[2]):0,P=C>=4?parseFloat(m[3]):0;isNaN(S)&&(S=0),isNaN(A)&&(A=0),isNaN(P)&&(P=0),y&&(A=1-A),n(T).textureCoords.push({u:S,v:A,w:P})}function s(m,T){var C=m.length,S=C>=2?parseFloat(m[1]):0,A=C>=3?parseFloat(m[2]):0,P=C>=4?parseFloat(m[3]):0;n(T).vertexNormals.push({x:S,y:A,z:P})}function u(m,T){var C=m.length-1;if(!(C<3)){for(var S={group:o,material:p,vertices:[]},A=0;A<C;A++){var P=m[A+1],R=P.split("/"),F=R.length;if(!(F<1||F>3)){var D=0,L=0,O=0;D=parseInt(R[0],10),F>1&&R[1]!==""&&(L=parseInt(R[1],10)),F>2&&(O=parseInt(R[2],10)),D!==0&&(D<0&&(D=n(T).vertices.length+1+D),L-=1,D-=1,O-=1,S.vertices.push({textureCoordsIndex:L,vertexIndex:D,vertexNormalIndex:O}))}}n(T).faces.push(S)}}function d(m,T){m.length>=2&&T.materialLibraries.push(m[1])}function f(m){m.length>=2&&(p=m[1])}var c=function(m,T){T===void 0&&(T=!0),y=T;var C={materials:{},materialLibraries:[],models:[]};o="",p="";for(var S=m.split(`
`),A=0;A<S.length;A++){var P=a(S[A]),R=P.replace(/\s\s+/g," ").trim().split(" ");switch(R[0].toLowerCase()){case"o":i(R,C);break;case"g":e(R);break;case"v":r(R,C);break;case"vt":l(R,C);break;case"vn":s(R,C);break;case"f":u(R,C);break;case"mtllib":d(R,C);break;case"usemtl":f(R);break}}return C};v.exports=c},61485:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37589),p=function(a){for(var n={},i=a.split(`
`),e="",r=0;r<i.length;r++){var l=i[r].trim();if(!(l.indexOf("#")===0||l==="")){var s=l.replace(/\s\s+/g," ").trim().split(" ");switch(s[0].toLowerCase()){case"newmtl":{e=s[1];break}case"kd":{var u=Math.floor(s[1]*255),d=s.length>=2?Math.floor(s[2]*255):u,f=s.length>=3?Math.floor(s[3]*255):u;n[e]=o(u,d,f);break}}}}return n};v.exports=p},92570:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a){var n,i;if(p===void 0&&a===void 0){var e=t.getInCenter();n=e.x,i=e.y}var r=Math.cos(o),l=Math.sin(o),s=t.vertex1,u=t.vertex2,d=t.vertex3,f=s.x-n,c=s.y-i;s.set(f*r-c*l+n,f*l+c*r+i),f=u.x-n,c=u.y-i,u.set(f*r-c*l+n,f*l+c*r+i),f=d.x-n,c=d.y-i,d.set(f*r-c*l+n,f*l+c*r+i)};v.exports=y},39318:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(70554),a=t(25836),n=new o({Extends:a,initialize:function(e,r,l,s,u,d,f,c,m,T){d===void 0&&(d=16777215),f===void 0&&(f=1),c===void 0&&(c=0),m===void 0&&(m=0),T===void 0&&(T=0),a.call(this,e,r,l),this.vx=0,this.vy=0,this.vz=0,this.nx=c,this.ny=m,this.nz=T,this.u=s,this.v=u,this.color=d,this.alpha=f,this.tx=0,this.ty=0,this.ta=0,this.tu=s,this.tv=u},setUVs:function(i,e){return this.u=i,this.v=e,this.tu=i,this.tv=e,this},scrollUV:function(i,e){return this.tu+=i,this.tv+=e,this},scaleUV:function(i,e){return this.tu=this.u*i,this.tv=this.v*e,this},transformCoordinatesLocal:function(i,e,r,l){var s=this.x,u=this.y,d=this.z,f=i.val,c=s*f[0]+u*f[4]+d*f[8]+f[12],m=s*f[1]+u*f[5]+d*f[9]+f[13],T=s*f[2]+u*f[6]+d*f[10]+f[14],C=s*f[3]+u*f[7]+d*f[11]+f[15];this.vx=c/C*e,this.vy=-(m/C)*r,l<=0?this.vz=T/C:this.vz=-(T/C)},resize:function(i,e,r,l,s,u){return this.x=i,this.y=e,this.vx=this.x*r,this.vy=-this.y*l,this.vz=0,s<.5?this.vx+=r*(.5-s):s>.5&&(this.vx-=r*(s-.5)),u<.5?this.vy+=l*(.5-u):u>.5&&(this.vy-=l*(u-.5)),this},update:function(i,e,r,l,s,u,d,f){var c=this.vx*i+this.vy*r+s,m=this.vx*e+this.vy*l+u;return d&&(c=Math.round(c),m=Math.round(m)),this.tx=c,this.ty=m,this.ta=this.alpha*f,this},load:function(i,e,r,l,s){return i[++r]=this.tx,i[++r]=this.ty,i[++r]=this.tu,i[++r]=this.tv,i[++r]=l,i[++r]=s,e[++r]=p.getTintAppendFloatAlpha(this.color,this.ta),r}});v.exports=n},73090:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={Face:t(83997),GenerateGridVerts:t(48803),GenerateObjVerts:t(34684),GenerateVerts:t(92515),ParseObj:t(85048),ParseObjMaterial:t(61485),RotateFace:t(92570),Vertex:t(39318)};v.exports=o},96550:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.setTo(Math.ceil(t.x),Math.ceil(t.y))};v.exports=y},99706:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),p=function(a){return new o(a.x,a.y)};v.exports=p},68010:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o.setTo(t.x,t.y)};v.exports=y},27814:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.x===o.x&&t.y===o.y};v.exports=y},73565:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.setTo(Math.floor(t.x),Math.floor(t.y))};v.exports=y},87555:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),p=function(a,n){if(n===void 0&&(n=new o),!Array.isArray(a))throw new Error("GetCentroid points argument must be an array");var i=a.length;if(i<1)throw new Error("GetCentroid points array must not be empty");if(i===1)n.x=a[0].x,n.y=a[0].y;else{for(var e=0;e<i;e++)n.x+=a[e].x,n.y+=a[e].y;n.x/=i,n.y/=i}return n};v.exports=p},28793:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)};v.exports=y},44405:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.x*t.x+t.y*t.y};v.exports=y},20873:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),p=function(a,n){n===void 0&&(n=new o);for(var i=Number.NEGATIVE_INFINITY,e=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY,s=0;s<a.length;s++){var u=a[s];u.x>i&&(i=u.x),u.x<e&&(e=u.x),u.y>r&&(r=u.y),u.y<l&&(l=u.y)}return n.x=e,n.y=l,n.width=i-e,n.height=r-l,n};v.exports=p},26152:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),p=function(a,n,i,e){return i===void 0&&(i=0),e===void 0&&(e=new o),e.x=a.x+(n.x-a.x)*i,e.y=a.y+(n.y-a.y)*i,e};v.exports=p},55767:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.setTo(t.y,t.x)};v.exports=y},79432:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),p=function(a,n){return n===void 0&&(n=new o),n.setTo(-a.x,-a.y)};v.exports=p},2141:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(23777),a=new o({initialize:function(i,e){i===void 0&&(i=0),e===void 0&&(e=i),this.type=p.POINT,this.x=i,this.y=e},setTo:function(n,i){return n===void 0&&(n=0),i===void 0&&(i=n),this.x=n,this.y=i,this}});v.exports=a},72930:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),p=t(44405),a=function(n,i,e){e===void 0&&(e=new o);var r=n.x*i.x+n.y*i.y,l=r/p(i);return l!==0&&(e.x=l*i.x,e.y=l*i.y),e};v.exports=a},62880:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),p=function(a,n,i){i===void 0&&(i=new o);var e=a.x*n.x+a.y*n.y;return e!==0&&(i.x=e*n.x,i.y=e*n.y),i};v.exports=p},15093:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(28793),p=function(a,n){if(a.x!==0||a.y!==0){var i=o(a);a.x/=i,a.y/=i}return a.x*=n,a.y*=n,a};v.exports=p},43711:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141);o.Ceil=t(96550),o.Clone=t(99706),o.CopyFrom=t(68010),o.Equals=t(27814),o.Floor=t(73565),o.GetCentroid=t(87555),o.GetMagnitude=t(28793),o.GetMagnitudeSq=t(44405),o.GetRectangleFromPoints=t(20873),o.Interpolate=t(26152),o.Invert=t(55767),o.Negative=t(79432),o.Project=t(72930),o.ProjectUnit=t(62880),o.SetMagnitude=t(15093),v.exports=o},12306:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25717),p=function(a){return new o(a.points)};v.exports=p},63814:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){for(var a=!1,n=-1,i=t.points.length-1;++n<t.points.length;i=n){var e=t.points[n].x,r=t.points[n].y,l=t.points[i].x,s=t.points[i].y;(r<=p&&p<s||s<=p&&p<r)&&o<(l-e)*(p-r)/(s-r)+e&&(a=!a)}return a};v.exports=y},99338:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(63814),p=function(a,n){return o(a,n.x,n.y)};v.exports=p},94811:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(U,Y,I){I=I||2;var N=Y&&Y.length,G=N?Y[0]*I:U.length,X=t(U,0,G,I,!0),H=[];if(!X||X.next===X.prev)return H;var Q,$,Z,J,j,k,_;if(N&&(X=r(U,Y,X,I)),U.length>80*I){Q=Z=U[0],$=J=U[1];for(var q=I;q<G;q+=I)j=U[q],k=U[q+1],j<Q&&(Q=j),k<$&&($=k),j>Z&&(Z=j),k>J&&(J=k);_=Math.max(Z-Q,J-$),_=_!==0?32767/_:0}return p(X,H,I,Q,$,_,0),H}function t(U,Y,I,N,G){var X,H;if(G===K(U,Y,I,N)>0)for(X=Y;X<I;X+=N)H=z(X,U[X],U[X+1],H);else for(X=I-N;X>=Y;X-=N)H=z(X,U[X],U[X+1],H);return H&&P(H,H.next)&&(V(H),H=H.next),H}function o(U,Y){if(!U)return U;Y||(Y=U);var I=U,N;do if(N=!1,!I.steiner&&(P(I,I.next)||A(I.prev,I,I.next)===0)){if(V(I),I=Y=I.prev,I===I.next)break;N=!0}else I=I.next;while(N||I!==Y);return Y}function p(U,Y,I,N,G,X,H){if(U){!H&&X&&f(U,N,G,X);for(var Q=U,$,Z;U.prev!==U.next;){if($=U.prev,Z=U.next,X?n(U,N,G,X):a(U)){Y.push($.i/I|0),Y.push(U.i/I|0),Y.push(Z.i/I|0),V(U),U=Z.next,Q=Z.next;continue}if(U=Z,U===Q){H?H===1?(U=i(o(U),Y,I),p(U,Y,I,N,G,X,2)):H===2&&e(U,Y,I,N,G,X):p(o(U),Y,I,N,G,X,1);break}}}}function a(U){var Y=U.prev,I=U,N=U.next;if(A(Y,I,N)>=0)return!1;for(var G=Y.x,X=I.x,H=N.x,Q=Y.y,$=I.y,Z=N.y,J=G<X?G<H?G:H:X<H?X:H,j=Q<$?Q<Z?Q:Z:$<Z?$:Z,k=G>X?G>H?G:H:X>H?X:H,_=Q>$?Q>Z?Q:Z:$>Z?$:Z,q=N.next;q!==Y;){if(q.x>=J&&q.x<=k&&q.y>=j&&q.y<=_&&C(G,Q,X,$,H,Z,q.x,q.y)&&A(q.prev,q,q.next)>=0)return!1;q=q.next}return!0}function n(U,Y,I,N){var G=U.prev,X=U,H=U.next;if(A(G,X,H)>=0)return!1;for(var Q=G.x,$=X.x,Z=H.x,J=G.y,j=X.y,k=H.y,_=Q<$?Q<Z?Q:Z:$<Z?$:Z,q=J<j?J<k?J:k:j<k?j:k,et=Q>$?Q>Z?Q:Z:$>Z?$:Z,st=J>j?J>k?J:k:j>k?j:k,nt=m(_,q,Y,I,N),it=m(et,st,Y,I,N),tt=U.prevZ,at=U.nextZ;tt&&tt.z>=nt&&at&&at.z<=it;){if(tt.x>=_&&tt.x<=et&&tt.y>=q&&tt.y<=st&&tt!==G&&tt!==H&&C(Q,J,$,j,Z,k,tt.x,tt.y)&&A(tt.prev,tt,tt.next)>=0||(tt=tt.prevZ,at.x>=_&&at.x<=et&&at.y>=q&&at.y<=st&&at!==G&&at!==H&&C(Q,J,$,j,Z,k,at.x,at.y)&&A(at.prev,at,at.next)>=0))return!1;at=at.nextZ}for(;tt&&tt.z>=nt;){if(tt.x>=_&&tt.x<=et&&tt.y>=q&&tt.y<=st&&tt!==G&&tt!==H&&C(Q,J,$,j,Z,k,tt.x,tt.y)&&A(tt.prev,tt,tt.next)>=0)return!1;tt=tt.prevZ}for(;at&&at.z<=it;){if(at.x>=_&&at.x<=et&&at.y>=q&&at.y<=st&&at!==G&&at!==H&&C(Q,J,$,j,Z,k,at.x,at.y)&&A(at.prev,at,at.next)>=0)return!1;at=at.nextZ}return!0}function i(U,Y,I){var N=U;do{var G=N.prev,X=N.next.next;!P(G,X)&&R(G,N,N.next,X)&&O(G,X)&&O(X,G)&&(Y.push(G.i/I|0),Y.push(N.i/I|0),Y.push(X.i/I|0),V(N),V(N.next),N=U=X),N=N.next}while(N!==U);return o(N)}function e(U,Y,I,N,G,X){var H=U;do{for(var Q=H.next.next;Q!==H.prev;){if(H.i!==Q.i&&S(H,Q)){var $=b(H,Q);H=o(H,H.next),$=o($,$.next),p(H,Y,I,N,G,X,0),p($,Y,I,N,G,X,0);return}Q=Q.next}H=H.next}while(H!==U)}function r(U,Y,I,N){var G=[],X,H,Q,$,Z;for(X=0,H=Y.length;X<H;X++)Q=Y[X]*N,$=X<H-1?Y[X+1]*N:U.length,Z=t(U,Q,$,N,!1),Z===Z.next&&(Z.steiner=!0),G.push(T(Z));for(G.sort(l),X=0;X<G.length;X++)I=s(G[X],I);return I}function l(U,Y){return U.x-Y.x}function s(U,Y){var I=u(U,Y);if(!I)return Y;var N=b(I,U);return o(N,N.next),o(I,I.next)}function u(U,Y){var I=Y,N=U.x,G=U.y,X=-1/0,H;do{if(G<=I.y&&G>=I.next.y&&I.next.y!==I.y){var Q=I.x+(G-I.y)*(I.next.x-I.x)/(I.next.y-I.y);if(Q<=N&&Q>X&&(X=Q,H=I.x<I.next.x?I:I.next,Q===N))return H}I=I.next}while(I!==Y);if(!H)return null;var $=H,Z=H.x,J=H.y,j=1/0,k;I=H;do N>=I.x&&I.x>=Z&&N!==I.x&&C(G<J?N:X,G,Z,J,G<J?X:N,G,I.x,I.y)&&(k=Math.abs(G-I.y)/(N-I.x),O(I,U)&&(k<j||k===j&&(I.x>H.x||I.x===H.x&&d(H,I)))&&(H=I,j=k)),I=I.next;while(I!==$);return H}function d(U,Y){return A(U.prev,U,Y.prev)<0&&A(Y.next,U,U.next)<0}function f(U,Y,I,N){var G=U;do G.z===0&&(G.z=m(G.x,G.y,Y,I,N)),G.prevZ=G.prev,G.nextZ=G.next,G=G.next;while(G!==U);G.prevZ.nextZ=null,G.prevZ=null,c(G)}function c(U){var Y,I,N,G,X,H,Q,$,Z=1;do{for(I=U,U=null,X=null,H=0;I;){for(H++,N=I,Q=0,Y=0;Y<Z&&(Q++,N=N.nextZ,!!N);Y++);for($=Z;Q>0||$>0&&N;)Q!==0&&($===0||!N||I.z<=N.z)?(G=I,I=I.nextZ,Q--):(G=N,N=N.nextZ,$--),X?X.nextZ=G:U=G,G.prevZ=X,X=G;I=N}X.nextZ=null,Z*=2}while(H>1);return U}function m(U,Y,I,N,G){return U=(U-I)*G|0,Y=(Y-N)*G|0,U=(U|U<<8)&16711935,U=(U|U<<4)&252645135,U=(U|U<<2)&858993459,U=(U|U<<1)&1431655765,Y=(Y|Y<<8)&16711935,Y=(Y|Y<<4)&252645135,Y=(Y|Y<<2)&858993459,Y=(Y|Y<<1)&1431655765,U|Y<<1}function T(U){var Y=U,I=U;do(Y.x<I.x||Y.x===I.x&&Y.y<I.y)&&(I=Y),Y=Y.next;while(Y!==U);return I}function C(U,Y,I,N,G,X,H,Q){return(G-H)*(Y-Q)>=(U-H)*(X-Q)&&(U-H)*(N-Q)>=(I-H)*(Y-Q)&&(I-H)*(X-Q)>=(G-H)*(N-Q)}function S(U,Y){return U.next.i!==Y.i&&U.prev.i!==Y.i&&!L(U,Y)&&(O(U,Y)&&O(Y,U)&&B(U,Y)&&(A(U.prev,U,Y.prev)||A(U,Y.prev,Y))||P(U,Y)&&A(U.prev,U,U.next)>0&&A(Y.prev,Y,Y.next)>0)}function A(U,Y,I){return(Y.y-U.y)*(I.x-Y.x)-(Y.x-U.x)*(I.y-Y.y)}function P(U,Y){return U.x===Y.x&&U.y===Y.y}function R(U,Y,I,N){var G=D(A(U,Y,I)),X=D(A(U,Y,N)),H=D(A(I,N,U)),Q=D(A(I,N,Y));return!!(G!==X&&H!==Q||G===0&&F(U,I,Y)||X===0&&F(U,N,Y)||H===0&&F(I,U,N)||Q===0&&F(I,Y,N))}function F(U,Y,I){return Y.x<=Math.max(U.x,I.x)&&Y.x>=Math.min(U.x,I.x)&&Y.y<=Math.max(U.y,I.y)&&Y.y>=Math.min(U.y,I.y)}function D(U){return U>0?1:U<0?-1:0}function L(U,Y){var I=U;do{if(I.i!==U.i&&I.next.i!==U.i&&I.i!==Y.i&&I.next.i!==Y.i&&R(I,I.next,U,Y))return!0;I=I.next}while(I!==U);return!1}function O(U,Y){return A(U.prev,U,U.next)<0?A(U,Y,U.next)>=0&&A(U,U.prev,Y)>=0:A(U,Y,U.prev)<0||A(U,U.next,Y)<0}function B(U,Y){var I=U,N=!1,G=(U.x+Y.x)/2,X=(U.y+Y.y)/2;do I.y>X!=I.next.y>X&&I.next.y!==I.y&&G<(I.next.x-I.x)*(X-I.y)/(I.next.y-I.y)+I.x&&(N=!N),I=I.next;while(I!==U);return N}function b(U,Y){var I=new W(U.i,U.x,U.y),N=new W(Y.i,Y.x,Y.y),G=U.next,X=Y.prev;return U.next=Y,Y.prev=U,I.next=G,G.prev=I,N.next=I,I.prev=N,X.next=N,N.prev=X,N}function z(U,Y,I,N){var G=new W(U,Y,I);return N?(G.next=N.next,G.prev=N,N.next.prev=G,N.next=G):(G.prev=G,G.next=G),G}function V(U){U.next.prev=U.prev,U.prev.next=U.next,U.prevZ&&(U.prevZ.nextZ=U.nextZ),U.nextZ&&(U.nextZ.prevZ=U.prevZ)}function W(U,Y,I){this.i=U,this.x=Y,this.y=I,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}y.deviation=function(U,Y,I,N){var G=Y&&Y.length,X=G?Y[0]*I:U.length,H=Math.abs(K(U,0,X,I));if(G)for(var Q=0,$=Y.length;Q<$;Q++){var Z=Y[Q]*I,J=Q<$-1?Y[Q+1]*I:U.length;H-=Math.abs(K(U,Z,J,I))}var j=0;for(Q=0;Q<N.length;Q+=3){var k=N[Q]*I,_=N[Q+1]*I,q=N[Q+2]*I;j+=Math.abs((U[k]-U[q])*(U[_+1]-U[k+1])-(U[k]-U[_])*(U[q+1]-U[k+1]))}return H===0&&j===0?0:Math.abs((j-H)/H)};function K(U,Y,I,N){for(var G=0,X=Y,H=I-N;X<I;X+=N)G+=(U[H]-U[X])*(U[X+1]+U[H+1]),H=X;return G}y.flatten=function(U){for(var Y=U[0][0].length,I={vertices:[],holes:[],dimensions:Y},N=0,G=0;G<U.length;G++){for(var X=0;X<U[G].length;X++)for(var H=0;H<Y;H++)I.vertices.push(U[G][X][H]);G>0&&(N+=U[G-1].length,I.holes.push(N))}return I},v.exports=y},13829:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),p=function(a,n){n===void 0&&(n=new o);for(var i=1/0,e=1/0,r=-i,l=-e,s,u=0;u<a.points.length;u++)s=a.points[u],i=Math.min(i,s.x),e=Math.min(e,s.y),r=Math.max(r,s.x),l=Math.max(l,s.y);return n.x=i,n.y=e,n.width=r-i,n.height=l-e,n};v.exports=p},26173:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){o===void 0&&(o=[]);for(var p=0;p<t.points.length;p++)o.push(t.points[p].x),o.push(t.points[p].y);return o};v.exports=y},9564:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35001),p=t(23031),a=t(30052),n=function(i,e,r,l){l===void 0&&(l=[]);var s=i.points,u=a(i);!e&&r>0&&(e=u/r);for(var d=0;d<e;d++)for(var f=u*(d/e),c=0,m=0;m<s.length;m++){var T=s[m],C=s[(m+1)%s.length],S=new p(T.x,T.y,C.x,C.y),A=o(S);if(f<c||f>c+A){c+=A;continue}var P=S.getPoint((f-c)/A);l.push(P);break}return l};v.exports=n},30052:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35001),p=t(23031),a=function(n){for(var i=n.points,e=0,r=0;r<i.length;r++){var l=i[r],s=i[(r+1)%i.length],u=new p(l.x,l.y,s.x,s.y);e+=o(u)}return e};v.exports=a},25717:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(63814),a=t(9564),n=t(23777),i=new o({initialize:function(r){this.type=n.POLYGON,this.area=0,this.points=[],r&&this.setTo(r)},contains:function(e,r){return p(this,e,r)},setTo:function(e){if(this.area=0,this.points=[],typeof e=="string"&&(e=e.split(" ")),!Array.isArray(e))return this;for(var r,l=0;l<e.length;l++)r={x:0,y:0},typeof e[l]=="number"||typeof e[l]=="string"?(r.x=parseFloat(e[l]),r.y=parseFloat(e[l+1]),l++):Array.isArray(e[l])?(r.x=e[l][0],r.y=e[l][1]):(r.x=e[l].x,r.y=e[l].y),this.points.push(r);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var e=0,r,l,s=0;s<this.points.length-1;s++)r=this.points[s],l=this.points[s+1],e+=(l.x-r.x)*(r.y+l.y);return r=this.points[0],l=this.points[this.points.length-1],e+=(r.x-l.x)*(l.y+r.y),this.area=-e*.5,this.area},getPoints:function(e,r,l){return a(this,e,r,l)}});v.exports=i},8133:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.points.reverse(),t};v.exports=y},29524:v=>{function y(i,e){var r=i.x-e.x,l=i.y-e.y;return r*r+l*l}function t(i,e,r){var l=e.x,s=e.y,u=r.x-l,d=r.y-s;if(u!==0||d!==0){var f=((i.x-l)*u+(i.y-s)*d)/(u*u+d*d);f>1?(l=r.x,s=r.y):f>0&&(l+=u*f,s+=d*f)}return u=i.x-l,d=i.y-s,u*u+d*d}function o(i,e){for(var r=i[0],l=[r],s,u=1,d=i.length;u<d;u++)s=i[u],y(s,r)>e&&(l.push(s),r=s);return r!==s&&l.push(s),l}function p(i,e,r,l,s){for(var u=l,d,f=e+1;f<r;f++){var c=t(i[f],i[e],i[r]);c>u&&(d=f,u=c)}u>l&&(d-e>1&&p(i,e,d,l,s),s.push(i[d]),r-d>1&&p(i,d,r,l,s))}function a(i,e){var r=i.length-1,l=[i[0]];return p(i,0,r,e,l),l.push(i[r]),l}var n=function(i,e,r){e===void 0&&(e=1),r===void 0&&(r=!1);var l=i.points;if(l.length>2){var s=e*e;r||(l=o(l,s)),i.setTo(a(l,s))}return i};v.exports=n},5469:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(o,p){return o[0]=p[0],o[1]=p[1],o},t=function(o){var p,a=[],n=o.points;for(p=0;p<n.length;p++)a.push([n[p].x,n[p].y]);var i=[];for(a.length>0&&i.push(y([0,0],a[0])),p=0;p<a.length-1;p++){var e=a[p],r=a[p+1],l=e[0],s=e[1],u=r[0],d=r[1];i.push([.85*l+.15*u,.85*s+.15*d]),i.push([.15*l+.85*u,.15*s+.85*d])}return a.length>1&&i.push(y([0,0],a[a.length-1])),o.setTo(i)};v.exports=t},24709:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){for(var a=t.points,n=0;n<a.length;n++)a[n].x+=o,a[n].y+=p;return t};v.exports=y},58423:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25717);o.Clone=t(12306),o.Contains=t(63814),o.ContainsPoint=t(99338),o.Earcut=t(94811),o.GetAABB=t(13829),o.GetNumberArray=t(26173),o.GetPoints=t(9564),o.Perimeter=t(30052),o.Reverse=t(8133),o.Simplify=t(29524),o.Smooth=t(5469),o.Translate=t(24709),v.exports=o},62224:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.width*t.height};v.exports=y},98615:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t};v.exports=y},31688:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t.width=Math.ceil(t.width),t.height=Math.ceil(t.height),t};v.exports=y},67502:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){return t.x=o-t.width/2,t.y=p-t.height/2,t};v.exports=y},65085:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),p=function(a){return new o(a.x,a.y,a.width,a.height)};v.exports=p},37303:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){return t.width<=0||t.height<=0?!1:t.x<=o&&t.x+t.width>=o&&t.y<=p&&t.y+t.height>=p};v.exports=y},96553:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37303),p=function(a,n){return o(a,n.x,n.y)};v.exports=p},70273:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o.width*o.height>t.width*t.height?!1:o.x>t.x&&o.x<t.right&&o.right>t.x&&o.right<t.right&&o.y>t.y&&o.y<t.bottom&&o.bottom>t.y&&o.bottom<t.bottom};v.exports=y},43459:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o.setTo(t.x,t.y,t.width,t.height)};v.exports=y},77493:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o===void 0&&(o=[]),o.push({x:t.x,y:t.y}),o.push({x:t.right,y:t.y}),o.push({x:t.right,y:t.bottom}),o.push({x:t.x,y:t.bottom}),o};v.exports=y},9219:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.x===o.x&&t.y===o.y&&t.width===o.width&&t.height===o.height};v.exports=y},53751:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(8249),p=function(a,n){var i=o(a);return i<o(n)?a.setSize(n.height*i,n.height):a.setSize(n.width,n.width/i),a.setPosition(n.centerX-a.width/2,n.centerY-a.height/2)};v.exports=p},16088:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(8249),p=function(a,n){var i=o(a);return i>o(n)?a.setSize(n.height*i,n.height):a.setSize(n.width,n.width/i),a.setPosition(n.centerX-a.width/2,n.centerY-a.height/2)};v.exports=p},80774:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t};v.exports=y},83859:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t.width=Math.floor(t.width),t.height=Math.floor(t.height),t};v.exports=y},19217:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),p=t(36383),a=function(n,i){if(i===void 0&&(i=new o),n.length===0)return i;for(var e=Number.MAX_VALUE,r=Number.MAX_VALUE,l=p.MIN_SAFE_INTEGER,s=p.MIN_SAFE_INTEGER,u,d,f,c=0;c<n.length;c++)u=n[c],Array.isArray(u)?(d=u[0],f=u[1]):(d=u.x,f=u.y),e=Math.min(e,d),r=Math.min(r,f),l=Math.max(l,d),s=Math.max(s,f);return i.x=e,i.y=r,i.width=l-e,i.height=s-r,i};v.exports=a},9477:(v,y,t)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),p=function(a,n,i,e,r){return r===void 0&&(r=new o),r.setTo(Math.min(a,i),Math.min(n,e),Math.abs(a-i),Math.abs(n-e))};v.exports=p},8249:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.height===0?NaN:t.width/t.height};v.exports=y},27165:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),p=function(a,n){return n===void 0&&(n=new o),n.x=a.centerX,n.y=a.centerY,n};v.exports=p},20812:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(13019),p=t(2141),a=function(n,i,e){if(e===void 0&&(e=new p),i<=0||i>=1)return e.x=n.x,e.y=n.y,e;var r=o(n)*i;return i>.5?(r-=n.width+n.height,r<=n.width?(e.x=n.right-r,e.y=n.bottom):(e.x=n.x,e.y=n.bottom-(r-n.width))):r<=n.width?(e.x=n.x+r,e.y=n.y):(e.x=n.right,e.y=n.y+(r-n.width)),e};v.exports=a},34819:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20812),p=t(13019),a=function(n,i,e,r){r===void 0&&(r=[]),!i&&e>0&&(i=p(n)/e);for(var l=0;l<i;l++){var s=l/i;r.push(o(n,s))}return r};v.exports=a},51313:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),p=function(a,n){return n===void 0&&(n=new o),n.x=a.width,n.y=a.height,n};v.exports=p},86091:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(67502),p=function(a,n,i){var e=a.centerX,r=a.centerY;return a.setSize(a.width+n*2,a.height+i*2),o(a,e,r)};v.exports=p},53951:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),p=t(59996),a=function(n,i,e){return e===void 0&&(e=new o),p(n,i)?(e.x=Math.max(n.x,i.x),e.y=Math.max(n.y,i.y),e.width=Math.min(n.right,i.right)-e.x,e.height=Math.min(n.bottom,i.bottom)-e.y):e.setEmpty(),e};v.exports=a},14649:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(13019),p=t(2141),a=function(n,i,e,r){if(r===void 0&&(r=[]),!i&&!e)return r;i?e=Math.round(o(n)/i):i=o(n)/e;for(var l=n.x,s=n.y,u=0,d=0;d<e;d++)switch(r.push(new p(l,s)),u){case 0:l+=i,l>=n.right&&(u=1,s+=l-n.right,l=n.right);break;case 1:s+=i,s>=n.bottom&&(u=2,l-=s-n.bottom,s=n.bottom);break;case 2:l-=i,l<=n.left&&(u=3,s-=n.left-l,l=n.left);break;case 3:s-=i,s<=n.top&&(u=0,s=n.top);break}return r};v.exports=a},33595:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){for(var p=t.x,a=t.right,n=t.y,i=t.bottom,e=0;e<o.length;e++)p=Math.min(p,o[e].x),a=Math.max(a,o[e].x),n=Math.min(n,o[e].y),i=Math.max(i,o[e].y);return t.x=p,t.y=n,t.width=a-p,t.height=i-n,t};v.exports=y},20074:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){var p=Math.min(t.x,o.x),a=Math.max(t.right,o.right);t.x=p,t.width=a-p;var n=Math.min(t.y,o.y),i=Math.max(t.bottom,o.bottom);return t.y=n,t.height=i-n,t};v.exports=y},92171:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){var a=Math.min(t.x,o),n=Math.max(t.right,o);t.x=a,t.width=n-a;var i=Math.min(t.y,p),e=Math.max(t.bottom,p);return t.y=i,t.height=e-i,t};v.exports=y},42981:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){return t.x+=o,t.y+=p,t};v.exports=y},46907:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.x+=o.x,t.y+=o.y,t};v.exports=y},60170:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.x<o.right&&t.right>o.x&&t.y<o.bottom&&t.bottom>o.y};v.exports=y},13019:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return 2*(t.width+t.height)};v.exports=y},85133:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),p=t(39506),a=function(n,i,e){e===void 0&&(e=new o),i=p(i);var r=Math.sin(i),l=Math.cos(i),s=l>0?n.width/2:n.width/-2,u=r>0?n.height/2:n.height/-2;return Math.abs(s*r)<Math.abs(u*l)?u=s*r/l:s=u*l/r,e.x=s+n.centerX,e.y=u+n.centerY,e};v.exports=a},26597:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),p=function(a,n){return n===void 0&&(n=new o),n.x=a.x+Math.random()*a.width,n.y=a.y+Math.random()*a.height,n};v.exports=p},86470:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(30976),p=t(70273),a=t(2141),n=function(i,e,r){if(r===void 0&&(r=new a),p(i,e))switch(o(0,3)){case 0:r.x=i.x+Math.random()*(e.right-i.x),r.y=i.y+Math.random()*(e.top-i.y);break;case 1:r.x=e.x+Math.random()*(i.right-e.x),r.y=e.bottom+Math.random()*(i.bottom-e.bottom);break;case 2:r.x=i.x+Math.random()*(e.x-i.x),r.y=e.y+Math.random()*(i.bottom-e.y);break;case 3:r.x=e.right+Math.random()*(i.right-e.right),r.y=i.y+Math.random()*(e.bottom-i.y);break}return r};v.exports=n},87841:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(37303),a=t(20812),n=t(34819),i=t(23777),e=t(23031),r=t(26597),l=new o({initialize:function(u,d,f,c){u===void 0&&(u=0),d===void 0&&(d=0),f===void 0&&(f=0),c===void 0&&(c=0),this.type=i.RECTANGLE,this.x=u,this.y=d,this.width=f,this.height=c},contains:function(s,u){return p(this,s,u)},getPoint:function(s,u){return a(this,s,u)},getPoints:function(s,u,d){return n(this,s,u,d)},getRandomPoint:function(s){return r(this,s)},setTo:function(s,u,d,f){return this.x=s,this.y=u,this.width=d,this.height=f,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(s,u){return u===void 0&&(u=s),this.x=s,this.y=u,this},setSize:function(s,u){return u===void 0&&(u=s),this.width=s,this.height=u,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(s){return s===void 0&&(s=new e),s.setTo(this.x,this.y,this.right,this.y),s},getLineB:function(s){return s===void 0&&(s=new e),s.setTo(this.right,this.y,this.right,this.bottom),s},getLineC:function(s){return s===void 0&&(s=new e),s.setTo(this.right,this.bottom,this.x,this.bottom),s},getLineD:function(s){return s===void 0&&(s=new e),s.setTo(this.x,this.bottom,this.x,this.y),s},left:{get:function(){return this.x},set:function(s){s>=this.right?this.width=0:this.width=this.right-s,this.x=s}},right:{get:function(){return this.x+this.width},set:function(s){s<=this.x?this.width=0:this.width=s-this.x}},top:{get:function(){return this.y},set:function(s){s>=this.bottom?this.height=0:this.height=this.bottom-s,this.y=s}},bottom:{get:function(){return this.y+this.height},set:function(s){s<=this.y?this.height=0:this.height=s-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(s){this.x=s-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(s){this.y=s-this.height/2}}});v.exports=l},94845:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.width===o.width&&t.height===o.height};v.exports=y},31730:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){return p===void 0&&(p=o),t.width*=o,t.height*=p,t};v.exports=y},36899:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),p=function(a,n,i){i===void 0&&(i=new o);var e=Math.min(a.x,n.x),r=Math.min(a.y,n.y),l=Math.max(a.right,n.right)-e,s=Math.max(a.bottom,n.bottom)-r;return i.setTo(e,r,l,s)};v.exports=p},93232:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841);o.Area=t(62224),o.Ceil=t(98615),o.CeilAll=t(31688),o.CenterOn=t(67502),o.Clone=t(65085),o.Contains=t(37303),o.ContainsPoint=t(96553),o.ContainsRect=t(70273),o.CopyFrom=t(43459),o.Decompose=t(77493),o.Equals=t(9219),o.FitInside=t(53751),o.FitOutside=t(16088),o.Floor=t(80774),o.FloorAll=t(83859),o.FromPoints=t(19217),o.FromXY=t(9477),o.GetAspectRatio=t(8249),o.GetCenter=t(27165),o.GetPoint=t(20812),o.GetPoints=t(34819),o.GetSize=t(51313),o.Inflate=t(86091),o.Intersection=t(53951),o.MarchingAnts=t(14649),o.MergePoints=t(33595),o.MergeRect=t(20074),o.MergeXY=t(92171),o.Offset=t(42981),o.OffsetPoint=t(46907),o.Overlaps=t(60170),o.Perimeter=t(13019),o.PerimeterPoint=t(85133),o.Random=t(26597),o.RandomOutside=t(86470),o.SameDimensions=t(94845),o.Scale=t(31730),o.Union=t(36899),v.exports=o},41658:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var o=t.x1,p=t.y1,a=t.x2,n=t.y2,i=t.x3,e=t.y3;return Math.abs(((i-o)*(n-p)-(a-o)*(e-p))/2)};v.exports=y},39208:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(16483),p=function(a,n,i){var e=i*(Math.sqrt(3)/2),r=a,l=n,s=a+i/2,u=n+e,d=a-i/2,f=n+e;return new o(r,l,s,u,d,f)};v.exports=p},39545:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(94811),p=t(16483),a=function(n,i,e,r,l){i===void 0&&(i=null),e===void 0&&(e=1),r===void 0&&(r=1),l===void 0&&(l=[]);for(var s=o(n,i),u,d,f,c,m,T,C,S,A,P=0;P<s.length;P+=3)u=s[P],d=s[P+1],f=s[P+2],c=n[u*2]*e,m=n[u*2+1]*r,T=n[d*2]*e,C=n[d*2+1]*r,S=n[f*2]*e,A=n[f*2+1]*r,l.push(new p(c,m,T,C,S,A));return l};v.exports=a},90301:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(16483),p=function(a,n,i,e){e===void 0&&(e=i);var r=a,l=n,s=a,u=n-e,d=a+i,f=n;return new o(r,l,s,u,d,f)};v.exports=p},23707:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(97523),p=t(13584),a=function(n,i,e,r){r===void 0&&(r=o);var l=r(n),s=i-l.x,u=e-l.y;return p(n,s,u)};v.exports=a},97523:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),p=function(a,n){return n===void 0&&(n=new o),n.x=(a.x1+a.x2+a.x3)/3,n.y=(a.y1+a.y2+a.y3)/3,n};v.exports=p},24951:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099);function p(n,i,e,r){return n*r-i*e}var a=function(n,i){i===void 0&&(i=new o);var e=n.x3,r=n.y3,l=n.x1-e,s=n.y1-r,u=n.x2-e,d=n.y2-r,f=2*p(l,s,u,d),c=p(s,l*l+s*s,d,u*u+d*d),m=p(l,l*l+s*s,u,u*u+d*d);return i.x=e-c/f,i.y=r+m/f,i};v.exports=a},85614:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(96503),p=function(a,n){n===void 0&&(n=new o);var i=a.x1,e=a.y1,r=a.x2,l=a.y2,s=a.x3,u=a.y3,d=r-i,f=l-e,c=s-i,m=u-e,T=d*(i+r)+f*(e+l),C=c*(i+s)+m*(e+u),S=2*(d*(u-l)-f*(s-r)),A,P;if(Math.abs(S)<1e-6){var R=Math.min(i,r,s),F=Math.min(e,l,u);A=(Math.max(i,r,s)-R)*.5,P=(Math.max(e,l,u)-F)*.5,n.x=R+A,n.y=F+P,n.radius=Math.sqrt(A*A+P*P)}else n.x=(m*T-f*C)/S,n.y=(d*C-c*T)/S,A=n.x-i,P=n.y-e,n.radius=Math.sqrt(A*A+P*P);return n};v.exports=p},74422:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(16483),p=function(a){return new o(a.x1,a.y1,a.x2,a.y2,a.x3,a.y3)};v.exports=p},10690:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){var a=t.x3-t.x1,n=t.y3-t.y1,i=t.x2-t.x1,e=t.y2-t.y1,r=o-t.x1,l=p-t.y1,s=a*a+n*n,u=a*i+n*e,d=a*r+n*l,f=i*i+e*e,c=i*r+e*l,m=s*f-u*u,T=m===0?0:1/m,C=(f*d-u*c)*T,S=(s*c-u*d)*T;return C>=0&&S>=0&&C+S<1};v.exports=y},48653:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a){p===void 0&&(p=!1),a===void 0&&(a=[]);for(var n=t.x3-t.x1,i=t.y3-t.y1,e=t.x2-t.x1,r=t.y2-t.y1,l=n*n+i*i,s=n*e+i*r,u=e*e+r*r,d=l*u-s*s,f=d===0?0:1/d,c,m,T,C,S,A,P=t.x1,R=t.y1,F=0;F<o.length&&(T=o[F].x-P,C=o[F].y-R,S=n*T+i*C,A=e*T+r*C,c=(u*S-s*A)*f,m=(l*A-s*S)*f,!(c>=0&&m>=0&&c+m<1&&(a.push({x:o[F].x,y:o[F].y}),p)));F++);return a};v.exports=y},96006:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10690),p=function(a,n){return o(a,n.x,n.y)};v.exports=p},71326:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o.setTo(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)};v.exports=y},71694:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o===void 0&&(o=[]),o.push({x:t.x1,y:t.y1}),o.push({x:t.x2,y:t.y2}),o.push({x:t.x3,y:t.y3}),o};v.exports=y},33522:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.x1===o.x1&&t.y1===o.y1&&t.x2===o.x2&&t.y2===o.y2&&t.x3===o.x3&&t.y3===o.y3};v.exports=y},20437:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),p=t(35001),a=function(n,i,e){e===void 0&&(e=new o);var r=n.getLineA(),l=n.getLineB(),s=n.getLineC();if(i<=0||i>=1)return e.x=r.x1,e.y=r.y1,e;var u=p(r),d=p(l),f=p(s),c=u+d+f,m=c*i,T=0;return m<u?(T=m/u,e.x=r.x1+(r.x2-r.x1)*T,e.y=r.y1+(r.y2-r.y1)*T):m>u+d?(m-=u+d,T=m/f,e.x=s.x1+(s.x2-s.x1)*T,e.y=s.y1+(s.y2-s.y1)*T):(m-=u,T=m/d,e.x=l.x1+(l.x2-l.x1)*T,e.y=l.y1+(l.y2-l.y1)*T),e};v.exports=a},80672:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35001),p=t(2141),a=function(n,i,e,r){r===void 0&&(r=[]);var l=n.getLineA(),s=n.getLineB(),u=n.getLineC(),d=o(l),f=o(s),c=o(u),m=d+f+c;!i&&e>0&&(i=m/e);for(var T=0;T<i;T++){var C=m*(T/i),S=0,A=new p;C<d?(S=C/d,A.x=l.x1+(l.x2-l.x1)*S,A.y=l.y1+(l.y2-l.y1)*S):C>d+f?(C-=d+f,S=C/c,A.x=u.x1+(u.x2-u.x1)*S,A.y=u.y1+(u.y2-u.y1)*S):(C-=d,S=C/f,A.x=s.x1+(s.x2-s.x1)*S,A.y=s.y1+(s.y2-s.y1)*S),r.push(A)}return r};v.exports=a},39757:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141);function p(n,i,e,r){var l=n-e,s=i-r,u=l*l+s*s;return Math.sqrt(u)}var a=function(n,i){i===void 0&&(i=new o);var e=n.x1,r=n.y1,l=n.x2,s=n.y2,u=n.x3,d=n.y3,f=p(u,d,l,s),c=p(e,r,u,d),m=p(l,s,e,r),T=f+c+m;return i.x=(e*f+l*c+u*m)/T,i.y=(r*f+s*c+d*m)/T,i};v.exports=a},13584:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){return t.x1+=o,t.y1+=p,t.x2+=o,t.y2+=p,t.x3+=o,t.y3+=p,t};v.exports=y},1376:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35001),p=function(a){var n=a.getLineA(),i=a.getLineB(),e=a.getLineC();return o(n)+o(i)+o(e)};v.exports=p},90260:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),p=function(a,n){n===void 0&&(n=new o);var i=a.x2-a.x1,e=a.y2-a.y1,r=a.x3-a.x1,l=a.y3-a.y1,s=Math.random(),u=Math.random();return s+u>=1&&(s=1-s,u=1-u),n.x=a.x1+(i*s+r*u),n.y=a.y1+(e*s+l*u),n};v.exports=p},52172:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(99614),p=t(39757),a=function(n,i){var e=p(n);return o(n,e.x,e.y,i)};v.exports=a},49907:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(99614),p=function(a,n,i){return o(a,n.x,n.y,i)};v.exports=p},99614:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a){var n=Math.cos(a),i=Math.sin(a),e=t.x1-o,r=t.y1-p;return t.x1=e*n-r*i+o,t.y1=e*i+r*n+p,e=t.x2-o,r=t.y2-p,t.x2=e*n-r*i+o,t.y2=e*i+r*n+p,e=t.x3-o,r=t.y3-p,t.x3=e*n-r*i+o,t.y3=e*i+r*n+p,t};v.exports=y},16483:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(10690),a=t(20437),n=t(80672),i=t(23777),e=t(23031),r=t(90260),l=new o({initialize:function(u,d,f,c,m,T){u===void 0&&(u=0),d===void 0&&(d=0),f===void 0&&(f=0),c===void 0&&(c=0),m===void 0&&(m=0),T===void 0&&(T=0),this.type=i.TRIANGLE,this.x1=u,this.y1=d,this.x2=f,this.y2=c,this.x3=m,this.y3=T},contains:function(s,u){return p(this,s,u)},getPoint:function(s,u){return a(this,s,u)},getPoints:function(s,u,d){return n(this,s,u,d)},getRandomPoint:function(s){return r(this,s)},setTo:function(s,u,d,f,c,m){return s===void 0&&(s=0),u===void 0&&(u=0),d===void 0&&(d=0),f===void 0&&(f=0),c===void 0&&(c=0),m===void 0&&(m=0),this.x1=s,this.y1=u,this.x2=d,this.y2=f,this.x3=c,this.y3=m,this},getLineA:function(s){return s===void 0&&(s=new e),s.setTo(this.x1,this.y1,this.x2,this.y2),s},getLineB:function(s){return s===void 0&&(s=new e),s.setTo(this.x2,this.y2,this.x3,this.y3),s},getLineC:function(s){return s===void 0&&(s=new e),s.setTo(this.x3,this.y3,this.x1,this.y1),s},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(s){var u=0;this.x1<=this.x2&&this.x1<=this.x3?u=this.x1-s:this.x2<=this.x1&&this.x2<=this.x3?u=this.x2-s:u=this.x3-s,this.x1-=u,this.x2-=u,this.x3-=u}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(s){var u=0;this.x1>=this.x2&&this.x1>=this.x3?u=this.x1-s:this.x2>=this.x1&&this.x2>=this.x3?u=this.x2-s:u=this.x3-s,this.x1-=u,this.x2-=u,this.x3-=u}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(s){var u=0;this.y1<=this.y2&&this.y1<=this.y3?u=this.y1-s:this.y2<=this.y1&&this.y2<=this.y3?u=this.y2-s:u=this.y3-s,this.y1-=u,this.y2-=u,this.y3-=u}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(s){var u=0;this.y1>=this.y2&&this.y1>=this.y3?u=this.y1-s:this.y2>=this.y1&&this.y2>=this.y3?u=this.y2-s:u=this.y3-s,this.y1-=u,this.y2-=u,this.y3-=u}}});v.exports=l},84435:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(16483);o.Area=t(41658),o.BuildEquilateral=t(39208),o.BuildFromPolygon=t(39545),o.BuildRight=t(90301),o.CenterOn=t(23707),o.Centroid=t(97523),o.CircumCenter=t(24951),o.CircumCircle=t(85614),o.Clone=t(74422),o.Contains=t(10690),o.ContainsArray=t(48653),o.ContainsPoint=t(96006),o.CopyFrom=t(71326),o.Decompose=t(71694),o.Equals=t(33522),o.GetPoint=t(20437),o.GetPoints=t(80672),o.InCenter=t(39757),o.Perimeter=t(1376),o.Offset=t(13584),o.Random=t(90260),o.Rotate=t(52172),o.RotateAroundPoint=t(49907),o.RotateAroundXY=t(99614),v.exports=o},74457:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){return{gameObject:t,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:o,hitAreaCallback:p,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragX:0,dragY:0}};v.exports=y},84409:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return function(p,a,n,i){var e=t.getPixelAlpha(a,n,i.texture.key,i.frame.name);return e&&e>=o}};v.exports=y},7003:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(93301),a=t(50792),n=t(8214),i=t(8443),e=t(78970),r=t(85098),l=t(42515),s=t(36210),u=t(61340),d=t(85955),f=new o({initialize:function(m,T){this.game=m,this.scaleManager,this.canvas,this.config=T,this.enabled=!0,this.events=new a,this.isOver=!0,this.defaultCursor="",this.keyboard=T.inputKeyboard?new e(this):null,this.mouse=T.inputMouse?new r(this):null,this.touch=T.inputTouch?new s(this):null,this.pointers=[],this.pointersTotal=T.inputActivePointers,T.inputTouch&&this.pointersTotal===1&&(this.pointersTotal=2);for(var C=0;C<=this.pointersTotal;C++){var S=new l(this,C);S.smoothFactor=T.inputSmoothFactor,this.pointers.push(S)}this.mousePointer=T.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new u,this._tempMatrix2=new u,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],m.events.once(i.BOOT,this.boot,this)},boot:function(){var c=this.game,m=c.events;this.canvas=c.canvas,this.scaleManager=c.scale,this.events.emit(n.MANAGER_BOOT),m.on(i.PRE_RENDER,this.preRender,this),m.once(i.DESTROY,this.destroy,this)},setCanvasOver:function(c){this.isOver=!0,this.events.emit(n.GAME_OVER,c)},setCanvasOut:function(c){this.isOver=!1,this.events.emit(n.GAME_OUT,c)},preRender:function(){var c=this.game.loop.now,m=this.game.loop.delta,T=this.game.scene.getScenes(!0,!0);this.time=c,this.events.emit(n.MANAGER_UPDATE);for(var C=0;C<T.length;C++){var S=T[C];if(S.sys.input&&S.sys.input.updatePoll(c,m)&&this.globalTopOnly)return}},setDefaultCursor:function(c){this.defaultCursor=c,this.canvas.style.cursor!==c&&(this.canvas.style.cursor=c)},setCursor:function(c){c.cursor&&(this.canvas.style.cursor=c.cursor)},resetCursor:function(c){c.cursor&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(c){c===void 0&&(c=1);var m=[];this.pointersTotal+c>10&&(c=10-this.pointersTotal);for(var T=0;T<c;T++){var C=this.pointers.length,S=new l(this,C);S.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(S),this.pointersTotal++,m.push(S)}return m},updateInputPlugins:function(c,m){var T=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var C=0;C<T.length;C++){var S=T[C];if(S.sys.input){var A=S.sys.input.update(c,m);if(A&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(c){for(var m=this.pointers,T=[],C=0;C<c.changedTouches.length;C++)for(var S=c.changedTouches[C],A=1;A<this.pointersTotal;A++){var P=m[A];if(!P.active){P.touchstart(S,c),this.activePointer=P,T.push(P);break}}this.updateInputPlugins(p.TOUCH_START,T)},onTouchMove:function(c){for(var m=this.pointers,T=[],C=0;C<c.changedTouches.length;C++)for(var S=c.changedTouches[C],A=1;A<this.pointersTotal;A++){var P=m[A];if(P.active&&P.identifier===S.identifier){var R=document.elementFromPoint(S.clientX,S.clientY),F=R===this.canvas;!this.isOver&&F?this.setCanvasOver(c):this.isOver&&!F&&this.setCanvasOut(c),this.isOver&&(P.touchmove(S,c),this.activePointer=P,T.push(P));break}}this.updateInputPlugins(p.TOUCH_MOVE,T)},onTouchEnd:function(c){for(var m=this.pointers,T=[],C=0;C<c.changedTouches.length;C++)for(var S=c.changedTouches[C],A=1;A<this.pointersTotal;A++){var P=m[A];if(P.active&&P.identifier===S.identifier){P.touchend(S,c),T.push(P);break}}this.updateInputPlugins(p.TOUCH_END,T)},onTouchCancel:function(c){for(var m=this.pointers,T=[],C=0;C<c.changedTouches.length;C++)for(var S=c.changedTouches[C],A=1;A<this.pointersTotal;A++){var P=m[A];if(P.active&&P.identifier===S.identifier){P.touchcancel(S,c),T.push(P);break}}this.updateInputPlugins(p.TOUCH_CANCEL,T)},onMouseDown:function(c){var m=this.mousePointer;m.down(c),m.updateMotion(),this.activePointer=m,this.updateInputPlugins(p.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(c){var m=this.mousePointer;m.move(c),m.updateMotion(),this.activePointer=m,this.updateInputPlugins(p.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(c){var m=this.mousePointer;m.up(c),m.updateMotion(),this.activePointer=m,this.updateInputPlugins(p.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(c){var m=this.mousePointer;m.wheel(c),this.activePointer=m,this.updateInputPlugins(p.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(c){var m=this.mouse.locked;this.mousePointer.locked=m,this.events.emit(n.POINTERLOCK_CHANGE,c,m)},inputCandidate:function(c,m){var T=c.input;if(!T||!T.enabled||!c.willRender(m))return!1;var C=!0,S=c.parentContainer;if(S)do{if(!S.willRender(m)){C=!1;break}S=S.parentContainer}while(S);return C},hitTest:function(c,m,T,C){C===void 0&&(C=this._tempHitTest);var S=this._tempPoint,A=T.scrollX,P=T.scrollY;C.length=0;var R=c.x,F=c.y;T.getWorldPoint(R,F,S),c.worldX=S.x,c.worldY=S.y;for(var D={x:0,y:0},L=this._tempMatrix,O=this._tempMatrix2,B=0;B<m.length;B++){var b=m[B];if(this.inputCandidate(b,T)){var z=S.x+A*b.scrollFactorX-A,V=S.y+P*b.scrollFactorY-P;b.parentContainer?(b.getWorldTransformMatrix(L,O),L.applyInverse(z,V,D)):d(z,V,b.x,b.y,b.rotation,b.scaleX,b.scaleY,D),this.pointWithinHitArea(b,D.x,D.y)&&C.push(b)}}return C},pointWithinHitArea:function(c,m,T){m+=c.displayOriginX,T+=c.displayOriginY;var C=c.input;return C&&C.hitAreaCallback(C.hitArea,m,T,c)?(C.localX=m,C.localY=T,!0):!1},pointWithinInteractiveObject:function(c,m,T){return c.hitArea?(m+=c.gameObject.displayOriginX,T+=c.gameObject.displayOriginY,c.localX=m,c.localY=T,c.hitAreaCallback(c.hitArea,m,T,c)):!1},transformPointer:function(c,m,T,C){var S=c.position,A=c.prevPosition;A.x=S.x,A.y=S.y;var P=this.scaleManager.transformX(m),R=this.scaleManager.transformY(T),F=c.smoothFactor;!C||F===0?(S.x=P,S.y=R):(S.x=P*F+A.x*(1-F),S.y=R*F+A.y*(1-F))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(i.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var c=0;c<this.pointers.length;c++)this.pointers[c].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});v.exports=f},48205:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(96503),p=t(87902),a=t(83419),n=t(93301),i=t(74457),e=t(84409),r=t(20339),l=t(8497),s=t(81154),u=t(8214),d=t(50792),f=t(95540),c=t(23777),m=t(89639),T=t(41212),C=t(37277),S=t(87841),A=t(37303),P=t(44594),R=t(16483),F=t(10690),D=new a({Extends:d,initialize:function(O){d.call(this),this.scene=O,this.systems=O.sys,this.settings=O.sys.settings,this.manager=O.sys.game.input,this.pluginEvents=new d,this.enabled=!0,this.displayList,this.cameras,m.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var B={cancelled:!1};this._eventContainer={stopPropagation:function(){B.cancelled=!0}},this._eventData=B,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,O.sys.events.once(P.BOOT,this.boot,this),O.sys.events.on(P.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(P.DESTROY,this.destroy,this),this.pluginEvents.emit(u.BOOT)},start:function(){var L=this.systems.events;L.on(P.TRANSITION_START,this.transitionIn,this),L.on(P.TRANSITION_OUT,this.transitionOut,this),L.on(P.TRANSITION_COMPLETE,this.transitionComplete,this),L.on(P.PRE_UPDATE,this.preUpdate,this),L.once(P.SHUTDOWN,this.shutdown,this),this.manager.events.on(u.GAME_OUT,this.onGameOut,this),this.manager.events.on(u.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(u.START)},onGameOver:function(L){this.isActive()&&this.emit(u.GAME_OVER,L.timeStamp,L)},onGameOut:function(L){this.isActive()&&this.emit(u.GAME_OUT,L.timeStamp,L)},preUpdate:function(){this.pluginEvents.emit(u.PRE_UPDATE);var L=this._pendingRemoval,O=this._pendingInsertion,B=L.length,b=O.length;if(!(B===0&&b===0)){for(var z=this._list,V=0;V<B;V++){var W=L[V],K=z.indexOf(W);K>-1&&(z.splice(K,1),this.clear(W,!0))}this._pendingRemoval.length=0,this._list=z.concat(O.splice(0))}},isActive:function(){return this.enabled&&this.scene.sys.canInput()},updatePoll:function(L,O){if(!this.isActive())return!1;if(this.pluginEvents.emit(u.UPDATE,L,O),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var B,b=this.manager,z=b.pointers,V=b.pointersTotal;for(B=0;B<V;B++)z[B].updateMotion();if(this._list.length===0)return!1;var W=this.pollRate;if(W===-1)return!1;if(W>0)if(this._pollTimer-=O,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var K=!1;for(B=0;B<V;B++){var U=0,Y=z[B];this._tempZones=[],this._temp=this.hitTestPointer(Y),this.sortGameObjects(this._temp,Y),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),U+=this.processOverOutEvents(Y),this.getDragState(Y)===2&&this.processDragThresholdEvent(Y,L),U>0&&(K=!0)}return K},update:function(L,O){if(!this.isActive())return!1;for(var B=O.length,b=!1,z=0;z<B;z++){var V=0,W=O[z];switch(this._tempZones=[],this._temp=this.hitTestPointer(W),this.sortGameObjects(this._temp,W),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),L){case n.MOUSE_DOWN:V+=this.processDragDownEvent(W),V+=this.processDownEvents(W),V+=this.processOverOutEvents(W);break;case n.MOUSE_UP:V+=this.processDragUpEvent(W),V+=this.processUpEvents(W),V+=this.processOverOutEvents(W);break;case n.TOUCH_START:V+=this.processDragDownEvent(W),V+=this.processDownEvents(W),V+=this.processOverEvents(W);break;case n.TOUCH_END:case n.TOUCH_CANCEL:V+=this.processDragUpEvent(W),V+=this.processUpEvents(W),V+=this.processOutEvents(W);break;case n.MOUSE_MOVE:case n.TOUCH_MOVE:V+=this.processDragMoveEvent(W),V+=this.processMoveEvents(W),V+=this.processOverOutEvents(W);break;case n.MOUSE_WHEEL:V+=this.processWheelEvent(W);break}V>0&&(b=!0)}return this._updatedThisFrame=!0,b},clear:function(L,O){O===void 0&&(O=!1),this.disable(L);var B=L.input;B&&(this.removeDebug(L),this.manager.resetCursor(B),B.gameObject=void 0,B.target=void 0,B.hitArea=void 0,B.hitAreaCallback=void 0,B.callbackContext=void 0,L.input=null),O||this.queueForRemoval(L);var b=this._draggable.indexOf(L);return b>-1&&this._draggable.splice(b,1),L},disable:function(L){var O=L.input;O&&(O.enabled=!1,O.dragState=0);for(var B=this._drag,b=this._over,z=this.manager,V=0,W;V<z.pointersTotal;V++)W=B[V].indexOf(L),W>-1&&B[V].splice(W,1),W=b[V].indexOf(L),W>-1&&b[V].splice(W,1);return this},enable:function(L,O,B,b){return b===void 0&&(b=!1),L.input?L.input.enabled=!0:this.setHitArea(L,O,B),L.input&&b&&!L.input.dropZone&&(L.input.dropZone=b),this},hitTestPointer:function(L){for(var O=this.cameras.getCamerasBelowPointer(L),B=0;B<O.length;B++){for(var b=O[B],z=this.manager.hitTest(L,this._list,b),V=0;V<z.length;V++){var W=z[V];W.input.dropZone&&this._tempZones.push(W)}if(z.length>0)return L.camera=b,z}return L.camera=O[0],[]},processDownEvents:function(L){var O=0,B=this._temp,b=this._eventData,z=this._eventContainer;b.cancelled=!1;for(var V=!1,W=0;W<B.length;W++){var K=B[W];if(!(!K.input||!K.input.enabled)){if(O++,K.emit(u.GAMEOBJECT_POINTER_DOWN,L,K.input.localX,K.input.localY,z),b.cancelled||!K.input||!K.input.enabled){V=!0;break}if(this.emit(u.GAMEOBJECT_DOWN,L,K,z),b.cancelled||!K.input){V=!0;break}}}return!V&&this.manager&&(L.downElement===this.manager.game.canvas?this.emit(u.POINTER_DOWN,L,B):this.emit(u.POINTER_DOWN_OUTSIDE,L)),O},getDragState:function(L){return this._dragState[L.id]},setDragState:function(L,O){this._dragState[L.id]=O},processDragThresholdEvent:function(L,O){var B=!1,b=this.dragTimeThreshold,z=this.dragDistanceThreshold;if((z>0&&r(L.x,L.y,L.downX,L.downY)>=z||b>0&&O>=L.downTime+b)&&(B=!0),B)return this.setDragState(L,3),this.processDragStartList(L)},processDragStartList:function(L){if(this.getDragState(L)!==3)return 0;for(var O=this._drag[L.id],B=0;B<O.length;B++){var b=O[B],z=b.input;z.dragState=2,z.dragStartX=b.x,z.dragStartY=b.y,z.dragStartXGlobal=L.worldX,z.dragStartYGlobal=L.worldY,z.dragX=z.dragStartXGlobal-z.dragStartX,z.dragY=z.dragStartYGlobal-z.dragStartY,b.emit(u.GAMEOBJECT_DRAG_START,L,z.dragX,z.dragY),this.emit(u.DRAG_START,L,b)}return this.setDragState(L,4),O.length},processDragDownEvent:function(L){var O=this._temp;if(this._draggable.length===0||O.length===0||!L.primaryDown||this.getDragState(L)!==0)return 0;this.setDragState(L,1);for(var B=[],b=0;b<O.length;b++){var z=O[b];z.input.draggable&&z.input.dragState===0&&B.push(z)}return B.length===0?(this.setDragState(L,0),0):(B.length>1&&(this.sortGameObjects(B,L),this.topOnly&&B.splice(1)),this._drag[L.id]=B,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(L,3),this.processDragStartList(L)):(this.setDragState(L,2),0))},processDragMoveEvent:function(L){if(this.getDragState(L)===2&&this.processDragThresholdEvent(L,this.manager.game.loop.now),this.getDragState(L)!==4)return 0;for(var O=this._tempZones,B=this._drag[L.id],b=0;b<B.length;b++){var z=B[b],V=z.input,W=V.target;if(W){var K=O.indexOf(W);K===0?(z.emit(u.GAMEOBJECT_DRAG_OVER,L,W),this.emit(u.DRAG_OVER,L,z,W)):K>0?(z.emit(u.GAMEOBJECT_DRAG_LEAVE,L,W),this.emit(u.DRAG_LEAVE,L,z,W),V.target=O[0],W=V.target,z.emit(u.GAMEOBJECT_DRAG_ENTER,L,W),this.emit(u.DRAG_ENTER,L,z,W)):(z.emit(u.GAMEOBJECT_DRAG_LEAVE,L,W),this.emit(u.DRAG_LEAVE,L,z,W),O[0]?(V.target=O[0],W=V.target,z.emit(u.GAMEOBJECT_DRAG_ENTER,L,W),this.emit(u.DRAG_ENTER,L,z,W)):V.target=null)}else!W&&O[0]&&(V.target=O[0],W=V.target,z.emit(u.GAMEOBJECT_DRAG_ENTER,L,W),this.emit(u.DRAG_ENTER,L,z,W));var U,Y;if(!z.parentContainer)U=L.worldX-V.dragX,Y=L.worldY-V.dragY;else{var I=L.worldX-V.dragStartXGlobal,N=L.worldY-V.dragStartYGlobal,G=z.getParentRotation(),X=I*Math.cos(G)+N*Math.sin(G),H=N*Math.cos(G)-I*Math.sin(G);X*=1/z.parentContainer.scaleX,H*=1/z.parentContainer.scaleY,U=X+V.dragStartX,Y=H+V.dragStartY}z.emit(u.GAMEOBJECT_DRAG,L,U,Y),this.emit(u.DRAG,L,z,U,Y)}return B.length},processDragUpEvent:function(L){for(var O=this._drag[L.id],B=0;B<O.length;B++){var b=O[B],z=b.input;if(z&&z.dragState===2){z.dragState=0,z.dragX=z.localX-b.displayOriginX,z.dragY=z.localY-b.displayOriginY;var V=!1,W=z.target;W&&(b.emit(u.GAMEOBJECT_DROP,L,W),this.emit(u.DROP,L,b,W),z.target=null,V=!0),b.input&&b.input.enabled&&(b.emit(u.GAMEOBJECT_DRAG_END,L,z.dragX,z.dragY,V),this.emit(u.DRAG_END,L,b,V))}}return this.setDragState(L,0),O.splice(0),0},processMoveEvents:function(L){var O=0,B=this._temp,b=this._eventData,z=this._eventContainer;b.cancelled=!1;for(var V=!1,W=0;W<B.length;W++){var K=B[W];if(!(!K.input||!K.input.enabled)){if(O++,K.emit(u.GAMEOBJECT_POINTER_MOVE,L,K.input.localX,K.input.localY,z),b.cancelled||!K.input||!K.input.enabled){V=!0;break}if(this.emit(u.GAMEOBJECT_MOVE,L,K,z),b.cancelled||!K.input||!K.input.enabled){V=!0;break}if(this.topOnly)break}}return V||this.emit(u.POINTER_MOVE,L,B),O},processWheelEvent:function(L){var O=0,B=this._temp,b=this._eventData,z=this._eventContainer;b.cancelled=!1;for(var V=!1,W=L.deltaX,K=L.deltaY,U=L.deltaZ,Y=0;Y<B.length;Y++){var I=B[Y];if(!(!I.input||!I.input.enabled)){if(O++,I.emit(u.GAMEOBJECT_POINTER_WHEEL,L,W,K,U,z),b.cancelled||!I.input||!I.input.enabled){V=!0;break}if(this.emit(u.GAMEOBJECT_WHEEL,L,I,W,K,U,z),b.cancelled||!I.input||!I.input.enabled){V=!0;break}}}return V||this.emit(u.POINTER_WHEEL,L,B,W,K,U),O},processOverEvents:function(L){var O=this._temp,B=0,b=O.length,z=[];if(b>0){var V=this.manager,W=this._eventData,K=this._eventContainer;W.cancelled=!1;for(var U=!1,Y=0;Y<b;Y++){var I=O[Y];if(!(!I.input||!I.input.enabled)){if(z.push(I),V.setCursor(I.input),I.emit(u.GAMEOBJECT_POINTER_OVER,L,I.input.localX,I.input.localY,K),B++,W.cancelled||!I.input||!I.input.enabled){U=!0;break}if(this.emit(u.GAMEOBJECT_OVER,L,I,K),W.cancelled||!I.input||!I.input.enabled){U=!0;break}}}U||this.emit(u.POINTER_OVER,L,z)}return this._over[L.id]=z,B},processOutEvents:function(L){var O=this._over[L.id],B=0,b=O.length;if(b>0){var z=this.manager,V=this._eventData,W=this._eventContainer;V.cancelled=!1;var K=!1;this.sortGameObjects(O,L);for(var U=0;U<b;U++){var Y=O[U];if(Y=O[U],!(!Y.input||!Y.input.enabled)){if(z.resetCursor(Y.input),Y.emit(u.GAMEOBJECT_POINTER_OUT,L,W),B++,V.cancelled||!Y.input||!Y.input.enabled){K=!0;break}if(this.emit(u.GAMEOBJECT_OUT,L,Y,W),V.cancelled||!Y.input||!Y.input.enabled){K=!0;break}K||this.emit(u.POINTER_OUT,L,O)}}this._over[L.id]=[]}return B},processOverOutEvents:function(L){var O=this._temp,B,b,z=[],V=[],W=[],K=this._over[L.id],U=this._drag[L.id],Y=this.manager;for(B=0;B<K.length;B++)b=K[B],O.indexOf(b)===-1&&U.indexOf(b)===-1?z.push(b):W.push(b);for(B=0;B<O.length;B++)b=O[B],K.indexOf(b)===-1&&V.push(b);var I=z.length,N=0,G=this._eventData,X=this._eventContainer;G.cancelled=!1;var H=!1;if(I>0){for(this.sortGameObjects(z,L),B=0;B<I;B++)if(b=z[B],!(!b.input||!b.input.enabled)){if(Y.resetCursor(b.input),b.emit(u.GAMEOBJECT_POINTER_OUT,L,X),N++,G.cancelled||!b.input||!b.input.enabled){H=!0;break}if(this.emit(u.GAMEOBJECT_OUT,L,b,X),G.cancelled||!b.input||!b.input.enabled){H=!0;break}}H||this.emit(u.POINTER_OUT,L,z)}if(I=V.length,G.cancelled=!1,H=!1,I>0){for(this.sortGameObjects(V,L),B=0;B<I;B++)if(b=V[B],!(!b.input||!b.input.enabled)){if(Y.setCursor(b.input),b.emit(u.GAMEOBJECT_POINTER_OVER,L,b.input.localX,b.input.localY,X),N++,G.cancelled||!b.input||!b.input.enabled){H=!0;break}if(this.emit(u.GAMEOBJECT_OVER,L,b,X),G.cancelled||!b.input||!b.input.enabled){H=!0;break}}H||this.emit(u.POINTER_OVER,L,V)}return K=W.concat(V),this._over[L.id]=this.sortGameObjects(K,L),N},processUpEvents:function(L){var O=this._temp,B=this._eventData,b=this._eventContainer;B.cancelled=!1;for(var z=!1,V=0;V<O.length;V++){var W=O[V];if(!(!W.input||!W.input.enabled)){if(W.emit(u.GAMEOBJECT_POINTER_UP,L,W.input.localX,W.input.localY,b),B.cancelled||!W.input||!W.input.enabled){z=!0;break}if(this.emit(u.GAMEOBJECT_UP,L,W,b),B.cancelled||!W.input||!W.input.enabled){z=!0;break}}}return!z&&this.manager&&(L.upElement===this.manager.game.canvas?this.emit(u.POINTER_UP,L,O):this.emit(u.POINTER_UP_OUTSIDE,L)),O.length},queueForInsertion:function(L){return this._pendingInsertion.indexOf(L)===-1&&this._list.indexOf(L)===-1&&this._pendingInsertion.push(L),this},queueForRemoval:function(L){return this._pendingRemoval.push(L),this},setDraggable:function(L,O){O===void 0&&(O=!0),Array.isArray(L)||(L=[L]);for(var B=0;B<L.length;B++){var b=L[B];b.input.draggable=O;var z=this._draggable.indexOf(b);O&&z===-1?this._draggable.push(b):!O&&z>-1&&this._draggable.splice(z,1)}return this},makePixelPerfect:function(L){L===void 0&&(L=1);var O=this.systems.textures;return e(O,L)},setHitArea:function(L,O,B){if(O===void 0)return this.setHitAreaFromTexture(L);Array.isArray(L)||(L=[L]);var b=!1,z=!1,V=!1,W=!1,K=!1,U=!0;if(T(O)&&Object.keys(O).length){var Y=O,I=L.some(function(Q){return Q.hasOwnProperty("faces")});if(!I){O=f(Y,"hitArea",null),B=f(Y,"hitAreaCallback",null),K=f(Y,"pixelPerfect",!1);var N=f(Y,"alphaTolerance",1);K&&(O={},B=this.makePixelPerfect(N))}b=f(Y,"draggable",!1),z=f(Y,"dropZone",!1),V=f(Y,"cursor",!1),W=f(Y,"useHandCursor",!1),(!O||!B)&&(this.setHitAreaFromTexture(L),U=!1)}else typeof O=="function"&&!B&&(B=O,O={});for(var G=0;G<L.length;G++){var X=L[G];if(K&&X.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var H=X.input?X.input:i(X,O,B);H.customHitArea=U,H.dropZone=z,H.cursor=W?"pointer":V,X.input=H,b&&this.setDraggable(X),this.queueForInsertion(X)}return this},setHitAreaCircle:function(L,O,B,b,z){z===void 0&&(z=p);var V=new o(O,B,b);return this.setHitArea(L,V,z)},setHitAreaEllipse:function(L,O,B,b,z,V){V===void 0&&(V=s);var W=new l(O,B,b,z);return this.setHitArea(L,W,V)},setHitAreaFromTexture:function(L,O){O===void 0&&(O=A),Array.isArray(L)||(L=[L]);for(var B=0;B<L.length;B++){var b=L[B],z=b.frame,V=0,W=0;if(b.width?(V=b.width,W=b.height):z&&(V=z.realWidth,W=z.realHeight),b.type==="Container"&&(V===0||W===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}V!==0&&W!==0&&(b.input=i(b,new S(0,0,V,W),O),this.queueForInsertion(b))}return this},setHitAreaRectangle:function(L,O,B,b,z,V){V===void 0&&(V=A);var W=new S(O,B,b,z);return this.setHitArea(L,W,V)},setHitAreaTriangle:function(L,O,B,b,z,V,W,K){K===void 0&&(K=F);var U=new R(O,B,b,z,V,W);return this.setHitArea(L,U,K)},enableDebug:function(L,O){O===void 0&&(O=65280);var B=L.input;if(!B||!B.hitArea)return this;var b=B.hitArea,z=b.type,V=B.hitAreaDebug,W=this.systems.add,K=this.systems.updateList;V&&(K.remove(V),V.destroy(),V=null);var U=0,Y=0;switch(z){case c.CIRCLE:V=W.arc(0,0,b.radius),U=b.x-b.radius,Y=b.y-b.radius;break;case c.ELLIPSE:V=W.ellipse(0,0,b.width,b.height),U=b.x-b.width/2,Y=b.y-b.height/2;break;case c.LINE:V=W.line(0,0,b.x1,b.y1,b.x2,b.y2);break;case c.POLYGON:V=W.polygon(0,0,b.points);break;case c.RECTANGLE:V=W.rectangle(0,0,b.width,b.height),U=b.x,Y=b.y;break;case c.TRIANGLE:V=W.triangle(0,0,b.x1,b.y1,b.x2,b.y2,b.x3,b.y3);break}return V&&(V.isFilled=!1,V.strokeColor=O,V.preUpdate=function(){V.setVisible(L.visible),V.setStrokeStyle(1/L.scale,V.strokeColor),V.setDisplayOrigin(L.displayOriginX,L.displayOriginY);var I=L.x,N=L.y,G=L.rotation,X=L.scaleX,H=L.scaleY;if(L.parentContainer){var Q=L.getWorldTransformMatrix();I=Q.tx,N=Q.ty,G=Q.rotation,X=Q.scaleX,H=Q.scaleY}V.setRotation(G),V.setScale(X,H),V.setPosition(I+U*X,N+Y*H),V.setScrollFactor(L.scrollFactorX,L.scrollFactorY),V.setDepth(L.depth)},K.add(V),B.hitAreaDebug=V),this},removeDebug:function(L){var O=L.input;if(O&&O.hitAreaDebug){var B=O.hitAreaDebug;B.destroy(),O.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(L){return this.pollRate=L,this._pollTimer=0,this},setGlobalTopOnly:function(L){return this.manager.globalTopOnly=L,this},setTopOnly:function(L){return this.topOnly=L,this},sortGameObjects:function(L,O){if(L.length<2||!O.camera)return L;var B=O.camera.renderList;return L.sort(function(b,z){var V=Math.max(B.indexOf(b),0),W=Math.max(B.indexOf(z),0);return W-V})},sortDropZones:function(L){return L.length<2?L:(this.scene.sys.depthSort(),L.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(L,O){if(!L.parentContainer&&!O.parentContainer)return this.displayList.getIndex(O)-this.displayList.getIndex(L);if(L.parentContainer===O.parentContainer)return O.parentContainer.getIndex(O)-L.parentContainer.getIndex(L);if(L.parentContainer===O)return-1;if(O.parentContainer===L)return 1;for(var B=L.getIndexList(),b=O.getIndexList(),z=Math.min(B.length,b.length),V=0;V<z;V++){var W=B[V],K=b[V];if(W!==K)return K-W}return b.length-B.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(L){return this.manager.addPointer(L)},setDefaultCursor:function(L){return this.manager.setDefaultCursor(L),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(u.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var L=0;L<10;L++)this._drag[L]=[],this._over[L]=[];this.removeAllListeners();var O=this.manager;O.canvas.style.cursor=O.defaultCursor;var B=this.systems.events;B.off(P.TRANSITION_START,this.transitionIn,this),B.off(P.TRANSITION_OUT,this.transitionOut,this),B.off(P.TRANSITION_COMPLETE,this.transitionComplete,this),B.off(P.PRE_UPDATE,this.preUpdate,this),O.events.off(u.GAME_OUT,this.onGameOut,this),O.events.off(u.GAME_OVER,this.onGameOver,this),B.off(P.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var L=this.manager.pointers,O=0;O<L.length;O++)L[O].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(u.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(P.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});C.register("InputPlugin",D,"input"),v.exports=D},89639:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35154),p={},a={};a.register=function(n,i,e,r,l){p[n]={plugin:i,mapping:e,settingsKey:r,configKey:l}},a.getPlugin=function(n){return p[n]},a.install=function(n){var i=n.scene.sys,e=i.settings.input,r=i.game.config;for(var l in p){var s=p[l].plugin,u=p[l].mapping,d=p[l].settingsKey,f=p[l].configKey;o(e,d,r[f])&&(n[u]=new s(n))}},a.remove=function(n){p.hasOwnProperty(n)&&delete p[n]},v.exports=a},42515:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(31040),p=t(83419),a=t(20339),n=t(43855),i=t(47235),e=t(26099),r=t(25892),l=new p({initialize:function(u,d){this.manager=u,this.id=d,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new e,this.prevPosition=new e,this.midPoint=new e(-1,-1),this.velocity=new e,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=d===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(s){var u=s.getWorldPoint(this.x,this.y);return this.worldX=u.x,this.worldY=u.y,this},positionToCamera:function(s,u){return s.getWorldPoint(this.x,this.y,u)},updateMotion:function(){var s=this.position.x,u=this.position.y,d=this.midPoint.x,f=this.midPoint.y;if(!(s===d&&u===f)){var c=i(this.motionFactor,d,s),m=i(this.motionFactor,f,u);n(c,s,.1)&&(c=s),n(m,u,.1)&&(m=u),this.midPoint.set(c,m);var T=s-c,C=u-m;this.velocity.set(T,C),this.angle=o(c,m,s,u),this.distance=Math.sqrt(T*T+C*C)}},up:function(s){"buttons"in s&&(this.buttons=s.buttons),this.event=s,this.button=s.button,this.upElement=s.target,this.manager.transformPointer(this,s.pageX,s.pageY,!1),s.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=s.timeStamp,this.wasTouch=!1)},down:function(s){"buttons"in s&&(this.buttons=s.buttons),this.event=s,this.button=s.button,this.downElement=s.target,this.manager.transformPointer(this,s.pageX,s.pageY,!1),s.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),r.macOS&&s.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=s.timeStamp),this.wasTouch=!1},move:function(s){"buttons"in s&&(this.buttons=s.buttons),this.event=s,this.manager.transformPointer(this,s.pageX,s.pageY,!0),this.locked&&(this.movementX=s.movementX||s.mozMovementX||s.webkitMovementX||0,this.movementY=s.movementY||s.mozMovementY||s.webkitMovementY||0),this.moveTime=s.timeStamp,this.wasTouch=!1},wheel:function(s){"buttons"in s&&(this.buttons=s.buttons),this.event=s,this.manager.transformPointer(this,s.pageX,s.pageY,!1),this.deltaX=s.deltaX,this.deltaY=s.deltaY,this.deltaZ=s.deltaZ,this.wasTouch=!1},touchstart:function(s,u){s.pointerId&&(this.pointerId=s.pointerId),this.identifier=s.identifier,this.target=s.target,this.active=!0,this.buttons=1,this.event=u,this.downElement=s.target,this.manager.transformPointer(this,s.pageX,s.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=u.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(s,u){this.event=u,this.manager.transformPointer(this,s.pageX,s.pageY,!0),this.moveTime=u.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(s,u){this.buttons=0,this.event=u,this.upElement=s.target,this.manager.transformPointer(this,s.pageX,s.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=u.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(s,u){this.buttons=0,this.event=u,this.upElement=s.target,this.manager.transformPointer(this,s.pageX,s.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=u.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.button===0&&!this.isDown},rightButtonReleased:function(){return this.button===2&&!this.isDown},middleButtonReleased:function(){return this.button===1&&!this.isDown},backButtonReleased:function(){return this.button===3&&!this.isDown},forwardButtonReleased:function(){return this.button===4&&!this.isDown},getDistance:function(){return this.isDown?a(this.downX,this.downY,this.x,this.y):a(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?o(this.downX,this.downY,this.x,this.y):o(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(s,u){s===void 0&&(s=10),u===void 0&&(u=[]);for(var d=this.prevPosition.x,f=this.prevPosition.y,c=this.position.x,m=this.position.y,T=0;T<s;T++){var C=1/s*T;u[T]={x:i(C,d,c),y:i(C,f,m)}}return u},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(s){this.position.x=s}},y:{get:function(){return this.position.y},set:function(s){this.position.y=s}},time:{get:function(){return this.event?this.event.timeStamp:0}}});v.exports=l},93301:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};v.exports=y},7179:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="boot"},85375:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="destroy"},39843:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragend"},23388:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragenter"},16133:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="drag"},27829:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragleave"},53904:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragover"},56058:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragstart"},2642:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="drop"},88171:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="gameobjectdown"},36147:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragend"},71692:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragenter"},96149:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="drag"},81285:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragleave"},74048:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragover"},21322:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragstart"},49378:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="drop"},86754:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="gameobjectmove"},86433:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="gameobjectout"},60709:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="gameobjectover"},24081:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerdown"},11172:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointermove"},18907:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerout"},95579:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerover"},35368:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerup"},26972:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="wheel"},47078:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="gameobjectup"},73802:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="gameobjectwheel"},56718:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="gameout"},25936:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="gameover"},27503:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="boot"},50852:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="process"},96438:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="update"},59152:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerlockchange"},47777:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerdown"},27957:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerdownoutside"},19444:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointermove"},54251:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerout"},18667:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerover"},27192:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerup"},24652:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerupoutside"},45132:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="wheel"},44512:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="preupdate"},15757:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="shutdown"},41637:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="start"},93802:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="update"},8214:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={BOOT:t(7179),DESTROY:t(85375),DRAG_END:t(39843),DRAG_ENTER:t(23388),DRAG:t(16133),DRAG_LEAVE:t(27829),DRAG_OVER:t(53904),DRAG_START:t(56058),DROP:t(2642),GAME_OUT:t(56718),GAME_OVER:t(25936),GAMEOBJECT_DOWN:t(88171),GAMEOBJECT_DRAG_END:t(36147),GAMEOBJECT_DRAG_ENTER:t(71692),GAMEOBJECT_DRAG:t(96149),GAMEOBJECT_DRAG_LEAVE:t(81285),GAMEOBJECT_DRAG_OVER:t(74048),GAMEOBJECT_DRAG_START:t(21322),GAMEOBJECT_DROP:t(49378),GAMEOBJECT_MOVE:t(86754),GAMEOBJECT_OUT:t(86433),GAMEOBJECT_OVER:t(60709),GAMEOBJECT_POINTER_DOWN:t(24081),GAMEOBJECT_POINTER_MOVE:t(11172),GAMEOBJECT_POINTER_OUT:t(18907),GAMEOBJECT_POINTER_OVER:t(95579),GAMEOBJECT_POINTER_UP:t(35368),GAMEOBJECT_POINTER_WHEEL:t(26972),GAMEOBJECT_UP:t(47078),GAMEOBJECT_WHEEL:t(73802),MANAGER_BOOT:t(27503),MANAGER_PROCESS:t(50852),MANAGER_UPDATE:t(96438),POINTER_DOWN:t(47777),POINTER_DOWN_OUTSIDE:t(27957),POINTER_MOVE:t(19444),POINTER_OUT:t(54251),POINTER_OVER:t(18667),POINTER_UP:t(27192),POINTER_UP_OUTSIDE:t(24652),POINTER_WHEEL:t(45132),POINTERLOCK_CHANGE:t(59152),PRE_UPDATE:t(44512),SHUTDOWN:t(15757),START:t(41637),UPDATE:t(93802)}},97421:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=new o({initialize:function(n,i){this.pad=n,this.events=n.events,this.index=i,this.value=0,this.threshold=.1},update:function(a){this.value=a},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});v.exports=p},28884:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(92734),a=new o({initialize:function(i,e){this.pad=i,this.events=i.manager,this.index=e,this.value=0,this.threshold=1,this.pressed=!1},update:function(n){this.value=n;var i=this.pad,e=this.index;n>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(p.BUTTON_DOWN,i,this,n),this.pad.emit(p.GAMEPAD_BUTTON_DOWN,e,n,this)):this.pressed&&(this.pressed=!1,this.events.emit(p.BUTTON_UP,i,this,n),this.pad.emit(p.GAMEPAD_BUTTON_UP,e,n,this))},destroy:function(){this.pad=null,this.events=null}});v.exports=a},99125:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(97421),p=t(28884),a=t(83419),n=t(50792),i=t(26099),e=new a({Extends:n,initialize:function(l,s){n.call(this),this.manager=l,this.pad=s,this.id=s.id,this.index=s.index;for(var u=[],d=0;d<s.buttons.length;d++)u.push(new p(this,d));this.buttons=u;var f=[];for(d=0;d<s.axes.length;d++)f.push(new o(this,d));this.axes=f,this.vibration=s.vibrationActuator;var c={value:0,pressed:!1};this._LCLeft=u[14]?u[14]:c,this._LCRight=u[15]?u[15]:c,this._LCTop=u[12]?u[12]:c,this._LCBottom=u[13]?u[13]:c,this._RCLeft=u[2]?u[2]:c,this._RCRight=u[1]?u[1]:c,this._RCTop=u[3]?u[3]:c,this._RCBottom=u[0]?u[0]:c,this._FBLeftTop=u[4]?u[4]:c,this._FBLeftBottom=u[6]?u[6]:c,this._FBRightTop=u[5]?u[5]:c,this._FBRightBottom=u[7]?u[7]:c;var m={value:0};this._HAxisLeft=f[0]?f[0]:m,this._VAxisLeft=f[1]?f[1]:m,this._HAxisRight=f[2]?f[2]:m,this._VAxisRight=f[3]?f[3]:m,this.leftStick=new i,this.rightStick=new i,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(r){return this.axes[r].getValue()},setAxisThreshold:function(r){for(var l=0;l<this.axes.length;l++)this.axes[l].threshold=r},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(r){return this.buttons[r].value},isButtonDown:function(r){return this.buttons[r].pressed},update:function(r){if(!(r.timestamp<this._created)){var l,s=this.buttons,u=r.buttons,d=s.length;for(l=0;l<d;l++)s[l].update(u[l].value);var f=this.axes,c=r.axes;for(d=f.length,l=0;l<d;l++)f[l].update(c[l]);d>=2&&(this.leftStick.set(f[0].getValue(),f[1].getValue()),d>=4&&this.rightStick.set(f[2].getValue(),f[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var r;for(r=0;r<this.buttons.length;r++)this.buttons[r].destroy();for(r=0;r<this.axes.length;r++)this.axes[r].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});v.exports=e},56654:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(50792),a=t(92734),n=t(99125),i=t(35154),e=t(89639),r=t(8214),l=new o({Extends:p,initialize:function(u){p.call(this),this.scene=u.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=u,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,u.pluginEvents.once(r.BOOT,this.boot,this),u.pluginEvents.on(r.START,this.start,this)},boot:function(){var s=this.scene.sys.game,u=this.settings.input,d=s.config;this.enabled=i(u,"gamepad",d.inputGamepad)&&s.device.input.gamepads,this.target=i(u,"gamepad.target",d.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(r.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(r.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var s=this,u=this.target,d=function(f){f.defaultPrevented||!s.isActive()||(s.refreshPads(),s.queue.push(f))};this.onGamepadHandler=d,u.addEventListener("gamepadconnected",d,!1),u.addEventListener("gamepaddisconnected",d,!1),this.sceneInputPlugin.pluginEvents.on(r.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(r.UPDATE,this.update);for(var s=0;s<this.gamepads.length;s++)this.gamepads[s].removeAllListeners()},disconnectAll:function(){for(var s=0;s<this.gamepads.length;s++)this.gamepads[s].pad.connected=!1},refreshPads:function(){var s=navigator.getGamepads();if(!s)this.disconnectAll();else for(var u=this.gamepads,d=0;d<s.length;d++){var f=s[d];if(f){var c=f.id,m=f.index,T=u[m];if(T)T.id!==c?(T.destroy(),u[m]=new n(this,f)):T.update(f);else{var C=new n(this,f);u[m]=C,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=C):this._pad3=C:this._pad2=C:this._pad1=C}}}},getAll:function(){for(var s=[],u=this.gamepads,d=0;d<u.length;d++)u[d]&&s.push(u[d]);return s},getPad:function(s){for(var u=this.gamepads,d=0;d<u.length;d++)if(u[d]&&u[d].index===s)return u[d]},update:function(){if(this.enabled){this.refreshPads();var s=this.queue.length;if(s!==0)for(var u=this.queue.splice(0,s),d=0;d<s;d++){var f=u[d],c=this.getPad(f.gamepad.index);f.type==="gamepadconnected"?this.emit(a.CONNECTED,c,f):f.type==="gamepaddisconnected"&&this.emit(a.DISCONNECTED,c,f)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var s=0;s<this.gamepads.length;s++)this.gamepads[s]&&this.gamepads[s].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});e.register("GamepadPlugin",l,"gamepad","gamepad","inputGamepad"),v.exports=l},89651:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},64894:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={DUALSHOCK_4:t(65294),SNES_USB:t(89651),XBOX_360:t(90089)}},46008:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="down"},7629:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="up"},42206:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="connected"},86544:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="disconnected"},94784:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="down"},14325:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="up"},92734:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={BUTTON_DOWN:t(46008),BUTTON_UP:t(7629),CONNECTED:t(42206),DISCONNECTED:t(86544),GAMEPAD_BUTTON_DOWN:t(94784),GAMEPAD_BUTTON_UP:t(14325)}},48646:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Axis:t(97421),Button:t(28884),Events:t(92734),Gamepad:t(99125),GamepadPlugin:t(56654),Configs:t(64894)}},14350:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(93301),p=t(79291),a={CreatePixelPerfectHandler:t(84409),CreateInteractiveObject:t(74457),Events:t(8214),Gamepad:t(48646),InputManager:t(7003),InputPlugin:t(48205),InputPluginCache:t(89639),Keyboard:t(51442),Mouse:t(87078),Pointer:t(42515),Touch:t(95618)};a=p(!1,a,o),v.exports=a},78970:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(72905),p=t(83419),a=t(8443),n=t(8214),i=t(46032),e=t(29747),r=new p({initialize:function(s){this.manager=s,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=e,this.onKeyUp=e,s.events.once(n.MANAGER_BOOT,this.boot,this)},boot:function(){var l=this.manager.config;this.enabled=l.inputKeyboard,this.target=l.inputKeyboardEventTarget,this.addCapture(l.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(a.POST_STEP,this.postUpdate,this)},startListeners:function(){var l=this;this.onKeyDown=function(u){if(!(u.defaultPrevented||!l.enabled||!l.manager)){l.queue.push(u),l.manager.events.emit(n.MANAGER_PROCESS);var d=u.altKey||u.ctrlKey||u.shiftKey||u.metaKey;l.preventDefault&&!d&&l.captures.indexOf(u.keyCode)>-1&&u.preventDefault()}},this.onKeyUp=function(u){if(!(u.defaultPrevented||!l.enabled||!l.manager)){l.queue.push(u),l.manager.events.emit(n.MANAGER_PROCESS);var d=u.altKey||u.ctrlKey||u.shiftKey||u.metaKey;l.preventDefault&&!d&&l.captures.indexOf(u.keyCode)>-1&&u.preventDefault()}};var s=this.target;s&&(s.addEventListener("keydown",this.onKeyDown,!1),s.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var l=this.target;l.removeEventListener("keydown",this.onKeyDown,!1),l.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(l){typeof l=="string"&&(l=l.split(",")),Array.isArray(l)||(l=[l]);for(var s=this.captures,u=0;u<l.length;u++){var d=l[u];typeof d=="string"&&(d=i[d.trim().toUpperCase()]),s.indexOf(d)===-1&&s.push(d)}this.preventDefault=s.length>0},removeCapture:function(l){typeof l=="string"&&(l=l.split(",")),Array.isArray(l)||(l=[l]);for(var s=this.captures,u=0;u<l.length;u++){var d=l[u];typeof d=="string"&&(d=i[d.toUpperCase()]),o(s,d)}this.preventDefault=s.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(a.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});v.exports=r},28846:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(50792),a=t(95922),n=t(8443),i=t(35154),e=t(8214),r=t(89639),l=t(30472),s=t(46032),u=t(87960),d=t(74600),f=t(44594),c=t(56583),m=new o({Extends:p,initialize:function(C){p.call(this),this.game=C.systems.game,this.scene=C.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=C,this.manager=C.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,C.pluginEvents.once(e.BOOT,this.boot,this),C.pluginEvents.on(e.START,this.start,this)},boot:function(){var T=this.settings.input;this.enabled=i(T,"keyboard",!0);var C=i(T,"keyboard.capture",null);C&&this.addCaptures(C),this.sceneInputPlugin.pluginEvents.once(e.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(e.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(e.SHUTDOWN,this.shutdown,this),this.game.events.on(n.BLUR,this.resetKeys,this),this.scene.sys.events.on(f.PAUSE,this.resetKeys,this),this.scene.sys.events.on(f.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(T){return this.manager.addCapture(T),this},removeCapture:function(T){return this.manager.removeCapture(T),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:s.UP,down:s.DOWN,left:s.LEFT,right:s.RIGHT,space:s.SPACE,shift:s.SHIFT})},addKeys:function(T,C,S){C===void 0&&(C=!0),S===void 0&&(S=!1);var A={};if(typeof T=="string"){T=T.split(",");for(var P=0;P<T.length;P++){var R=T[P].trim();R&&(A[R]=this.addKey(R,C,S))}}else for(var F in T)A[F]=this.addKey(T[F],C,S);return A},addKey:function(T,C,S){C===void 0&&(C=!0),S===void 0&&(S=!1);var A=this.keys;if(T instanceof l){var P=A.indexOf(T);return P>-1?A[P]=T:A[T.keyCode]=T,C&&this.addCapture(T.keyCode),T.setEmitOnRepeat(S),T}return typeof T=="string"&&(T=s[T.toUpperCase()]),A[T]||(A[T]=new l(this,T),C&&this.addCapture(T),A[T].setEmitOnRepeat(S)),A[T]},removeKey:function(T,C,S){C===void 0&&(C=!1),S===void 0&&(S=!1);var A=this.keys,P;if(T instanceof l){var R=A.indexOf(T);R>-1&&(P=this.keys[R],this.keys[R]=void 0)}else typeof T=="string"&&(T=s[T.toUpperCase()]);return A[T]&&(P=A[T],A[T]=void 0),P&&(P.plugin=null,S&&this.removeCapture(P.keyCode),C&&P.destroy()),this},removeAllKeys:function(T,C){T===void 0&&(T=!1),C===void 0&&(C=!1);for(var S=this.keys,A=0;A<S.length;A++){var P=S[A];P&&(S[A]=void 0,C&&this.removeCapture(P.keyCode),T&&P.destroy())}return this},createCombo:function(T,C){return new u(this,T,C)},checkDown:function(T,C){if(C===void 0&&(C=0),this.enabled&&T.isDown){var S=c(this.time-T.timeDown,C);if(S>T._tick)return T._tick=S,!0}return!1},update:function(){var T=this.manager.queue,C=T.length;if(!(!this.isActive()||C===0))for(var S=this.keys,A=0;A<C;A++){var P=T[A],R=P.keyCode,F=S[R],D=!1;P.cancelled===void 0&&(P.cancelled=0,P.stopImmediatePropagation=function(){P.cancelled=1},P.stopPropagation=function(){P.cancelled=-1}),P.cancelled!==-1&&(R===this.prevCode&&P.timeStamp===this.prevTime&&P.type===this.prevType||(this.prevCode=R,this.prevTime=P.timeStamp,this.prevType=P.type,P.type==="keydown"?(F&&(D=F.isDown,F.onDown(P)),!P.cancelled&&(!F||!D)&&(d[R]&&this.emit(a.KEY_DOWN+d[R],P),P.cancelled||this.emit(a.ANY_KEY_DOWN,P))):(F&&F.onUp(P),P.cancelled||(d[R]&&this.emit(a.KEY_UP+d[R],P),P.cancelled||this.emit(a.ANY_KEY_UP,P))),P.cancelled===1&&(P.cancelled=0)))}},resetKeys:function(){for(var T=this.keys,C=0;C<T.length;C++)T[C]&&T[C].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(e.MANAGER_PROCESS,this.update,this),this.game.events.off(n.BLUR,this.resetKeys),this.scene.sys.events.off(f.PAUSE,this.resetKeys,this),this.scene.sys.events.off(f.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var T=this.keys,C=0;C<T.length;C++)T[C]&&T[C].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});r.register("KeyboardPlugin",m,"keyboard","keyboard","inputKeyboard"),v.exports=m},66970:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o.timeLastMatched=t.timeStamp,o.index++,o.index===o.size?!0:(o.current=o.keyCodes[o.index],!1)};v.exports=y},87960:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(95922),a=t(95540),n=t(68769),i=t(92803),e=new o({initialize:function(l,s,u){if(u===void 0&&(u={}),s.length<2)return!1;this.manager=l,this.enabled=!0,this.keyCodes=[];for(var d=0;d<s.length;d++){var f=s[d];typeof f=="string"?this.keyCodes.push(f.toUpperCase().charCodeAt(0)):typeof f=="number"?this.keyCodes.push(f):f.hasOwnProperty("keyCode")&&this.keyCodes.push(f.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=a(u,"resetOnWrongKey",!0),this.maxKeyDelay=a(u,"maxKeyDelay",0),this.resetOnMatch=a(u,"resetOnMatch",!1),this.deleteOnMatch=a(u,"deleteOnMatch",!1);var c=this,m=function(T){if(!(c.matched||!c.enabled)){var C=n(T,c);C&&(c.manager.emit(p.COMBO_MATCH,c,T),c.resetOnMatch?i(c):c.deleteOnMatch&&c.destroy())}};this.onKeyDown=m,this.manager.on(p.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(p.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});v.exports=e},68769:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66970),p=function(a,n){if(n.matched)return!0;var i=!1,e=!1;if(a.keyCode===n.current)if(n.index>0&&n.maxKeyDelay>0){var r=n.timeLastMatched+n.maxKeyDelay;a.timeStamp<=r&&(e=!0,i=o(a,n))}else e=!0,i=o(a,n);return!e&&n.resetOnWrongKey&&(n.index=0,n.current=n.keyCodes[0]),i&&(n.timeLastMatched=a.timeStamp,n.matched=!0,n.timeMatched=a.timeStamp),i};v.exports=p},92803:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.current=t.keyCodes[0],t.index=0,t.timeLastMatched=0,t.matched=!1,t.timeMatched=0,t};v.exports=y},92612:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="keydown"},23345:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="keyup"},21957:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="keycombomatch"},44743:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="down"},3771:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="keydown-"},46358:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="keyup-"},75674:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="up"},95922:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ANY_KEY_DOWN:t(92612),ANY_KEY_UP:t(23345),COMBO_MATCH:t(21957),DOWN:t(44743),KEY_DOWN:t(3771),KEY_UP:t(46358),UP:t(75674)}},51442:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Events:t(95922),KeyboardManager:t(78970),KeyboardPlugin:t(28846),Key:t(30472),KeyCodes:t(46032),KeyCombo:t(87960),AdvanceKeyCombo:t(66970),ProcessKeyCombo:t(68769),ResetKeyCombo:t(92803),JustDown:t(90229),JustUp:t(38796),DownDuration:t(37015),UpDuration:t(41170)}},37015:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){o===void 0&&(o=50);var p=t.plugin.game.loop.time-t.timeDown;return t.isDown&&p<o};v.exports=y},90229:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t._justDown?(t._justDown=!1,!0):!1};v.exports=y},38796:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t._justUp?(t._justUp=!1,!0):!1};v.exports=y},30472:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(50792),a=t(95922),n=new o({Extends:p,initialize:function(e,r){p.call(this),this.plugin=e,this.keyCode=r,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(i){return this.emitOnRepeat=i,this},onDown:function(i){this.originalEvent=i,this.enabled&&(this.altKey=i.altKey,this.ctrlKey=i.ctrlKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.location=i.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(a.DOWN,this,i):(this.isDown=!0,this.isUp=!1,this.timeDown=i.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(a.DOWN,this,i)))},onUp:function(i){this.originalEvent=i,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=i.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(a.UP,this,i))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});v.exports=n},46032:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};v.exports=y},74600:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(46032),p={};for(var a in o)p[o[a]]=a;v.exports=p},41170:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){o===void 0&&(o=50);var p=t.plugin.game.loop.time-t.timeUp;return t.isUp&&p<o};v.exports=y},85098:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(89357),a=t(8214),n=t(29747),i=new o({initialize:function(r){this.manager=r,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=n,this.onMouseDown=n,this.onMouseUp=n,this.onMouseDownWindow=n,this.onMouseUpWindow=n,this.onMouseOver=n,this.onMouseOut=n,this.onMouseWheel=n,this.pointerLockChange=n,this.isTop=!0,r.events.once(a.MANAGER_BOOT,this.boot,this)},boot:function(){var e=this.manager.config;this.enabled=e.inputMouse,this.target=e.inputMouseEventTarget,this.passive=e.inputMousePassive,this.preventDefaultDown=e.inputMousePreventDefaultDown,this.preventDefaultUp=e.inputMousePreventDefaultUp,this.preventDefaultMove=e.inputMousePreventDefaultMove,this.preventDefaultWheel=e.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,e.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(e){return e.preventDefault(),!1}),this},requestPointerLock:function(){if(p.pointerLock){var e=this.target;e.requestPointerLock=e.requestPointerLock||e.mozRequestPointerLock||e.webkitRequestPointerLock,e.requestPointerLock()}},releasePointerLock:function(){p.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var e=this.target;if(e){var r=this,l=this.manager,s=l.canvas,u=window&&window.focus&&l.game.config.autoFocus;this.onMouseMove=function(f){!f.defaultPrevented&&r.enabled&&l&&l.enabled&&(l.onMouseMove(f),r.preventDefaultMove&&f.preventDefault())},this.onMouseDown=function(f){u&&window.focus(),!f.defaultPrevented&&r.enabled&&l&&l.enabled&&(l.onMouseDown(f),r.preventDefaultDown&&f.target===s&&f.preventDefault())},this.onMouseDownWindow=function(f){f.sourceCapabilities&&f.sourceCapabilities.firesTouchEvents||!f.defaultPrevented&&r.enabled&&l&&l.enabled&&f.target!==s&&l.onMouseDown(f)},this.onMouseUp=function(f){!f.defaultPrevented&&r.enabled&&l&&l.enabled&&(l.onMouseUp(f),r.preventDefaultUp&&f.target===s&&f.preventDefault())},this.onMouseUpWindow=function(f){f.sourceCapabilities&&f.sourceCapabilities.firesTouchEvents||!f.defaultPrevented&&r.enabled&&l&&l.enabled&&f.target!==s&&l.onMouseUp(f)},this.onMouseOver=function(f){!f.defaultPrevented&&r.enabled&&l&&l.enabled&&l.setCanvasOver(f)},this.onMouseOut=function(f){!f.defaultPrevented&&r.enabled&&l&&l.enabled&&l.setCanvasOut(f)},this.onMouseWheel=function(f){!f.defaultPrevented&&r.enabled&&l&&l.enabled&&l.onMouseWheel(f),r.preventDefaultWheel&&f.target===s&&f.preventDefault()};var d={passive:!0};if(e.addEventListener("mousemove",this.onMouseMove),e.addEventListener("mousedown",this.onMouseDown),e.addEventListener("mouseup",this.onMouseUp),e.addEventListener("mouseover",this.onMouseOver,d),e.addEventListener("mouseout",this.onMouseOut,d),this.preventDefaultWheel?e.addEventListener("wheel",this.onMouseWheel,{passive:!1}):e.addEventListener("wheel",this.onMouseWheel,d),window&&l.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,d),window.top.addEventListener("mouseup",this.onMouseUpWindow,d)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,d),window.addEventListener("mouseup",this.onMouseUpWindow,d),this.isTop=!1}p.pointerLock&&(this.pointerLockChange=function(f){var c=r.target;r.locked=document.pointerLockElement===c||document.mozPointerLockElement===c||document.webkitPointerLockElement===c,l.onPointerLockChange(f)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var e=this.target;e.removeEventListener("mousemove",this.onMouseMove),e.removeEventListener("mousedown",this.onMouseDown),e.removeEventListener("mouseup",this.onMouseUp),e.removeEventListener("mouseover",this.onMouseOver),e.removeEventListener("mouseout",this.onMouseOut),window&&(e=this.isTop?window.top:window,e.removeEventListener("mousedown",this.onMouseDownWindow),e.removeEventListener("mouseup",this.onMouseUpWindow)),p.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});v.exports=i},87078:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={MouseManager:t(85098)}},36210:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(8214),a=t(29747),n=new o({initialize:function(e){this.manager=e,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=a,this.onTouchStartWindow=a,this.onTouchMove=a,this.onTouchEnd=a,this.onTouchEndWindow=a,this.onTouchCancel=a,this.onTouchCancelWindow=a,this.isTop=!0,e.events.once(p.MANAGER_BOOT,this.boot,this)},boot:function(){var i=this.manager.config;this.enabled=i.inputTouch,this.target=i.inputTouchEventTarget,this.capture=i.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,i.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(i){return i.preventDefault(),!1}),this},startListeners:function(){var i=this.target;if(i){var e=this,r=this.manager,l=r.canvas,s=window&&window.focus&&r.game.config.autoFocus;this.onTouchMove=function(c){!c.defaultPrevented&&e.enabled&&r&&r.enabled&&(r.onTouchMove(c),e.capture&&c.cancelable&&c.preventDefault())},this.onTouchStart=function(c){s&&window.focus(),!c.defaultPrevented&&e.enabled&&r&&r.enabled&&(r.onTouchStart(c),e.capture&&c.cancelable&&c.target===l&&c.preventDefault())},this.onTouchStartWindow=function(c){!c.defaultPrevented&&e.enabled&&r&&r.enabled&&c.target!==l&&r.onTouchStart(c)},this.onTouchEnd=function(c){!c.defaultPrevented&&e.enabled&&r&&r.enabled&&(r.onTouchEnd(c),e.capture&&c.cancelable&&c.target===l&&c.preventDefault())},this.onTouchEndWindow=function(c){!c.defaultPrevented&&e.enabled&&r&&r.enabled&&c.target!==l&&r.onTouchEnd(c)},this.onTouchCancel=function(c){!c.defaultPrevented&&e.enabled&&r&&r.enabled&&(r.onTouchCancel(c),e.capture&&c.preventDefault())},this.onTouchCancelWindow=function(c){!c.defaultPrevented&&e.enabled&&r&&r.enabled&&r.onTouchCancel(c)};var u=this.capture,d={passive:!0},f={passive:!1};if(i.addEventListener("touchstart",this.onTouchStart,u?f:d),i.addEventListener("touchmove",this.onTouchMove,u?f:d),i.addEventListener("touchend",this.onTouchEnd,u?f:d),i.addEventListener("touchcancel",this.onTouchCancel,u?f:d),window&&r.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,f),window.top.addEventListener("touchend",this.onTouchEndWindow,f),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,f)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,f),window.addEventListener("touchend",this.onTouchEndWindow,f),window.addEventListener("touchcancel",this.onTouchCancelWindow,f),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var i=this.target;i.removeEventListener("touchstart",this.onTouchStart),i.removeEventListener("touchmove",this.onTouchMove),i.removeEventListener("touchend",this.onTouchEnd),i.removeEventListener("touchcancel",this.onTouchCancel),window&&(i=this.isTop?window.top:window,i.removeEventListener("touchstart",this.onTouchStartWindow),i.removeEventListener("touchend",this.onTouchEndWindow),i.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});v.exports=n},95618:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={TouchManager:t(36210)}},41299:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(23906),a=t(54899),n=t(95540),i=t(98356),e=t(3374),r=t(84376),l=t(92638),s=new o({initialize:function(d,f){if(this.loader=d,this.cache=n(f,"cache",!1),this.type=n(f,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=n(f,"key",!1);var c=this.key;if(d.prefix&&d.prefix!==""&&(this.key=d.prefix+c),!this.key)throw new Error("Invalid File key: "+this.key);var m=n(f,"url");m===void 0?m=d.path+c+"."+n(f,"extension",""):typeof m=="string"&&!m.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(m=d.path+m),this.url=m,this.src="",this.xhrSettings=l(n(f,"responseType",void 0)),n(f,"xhrSettings",!1)&&(this.xhrSettings=e(this.xhrSettings,n(f,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?p.FILE_POPULATED:p.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=n(f,"config",{}),this.multiFile,this.linkFile,this.base64=typeof m=="string"&&m.indexOf("data:")===0},setLink:function(u){this.linkFile=u,u.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===p.FILE_POPULATED?this.loader.nextFile(this,!0):(this.state=p.FILE_LOADING,this.src=i(this,this.loader.baseURL),this.src.indexOf("data:")===0&&(this.base64=!0),this.xhrLoader=r(this,this.loader.xhr))},onLoad:function(u,d){var f=u.responseURL&&this.loader.localSchemes.some(function(T){return u.responseURL.indexOf(T)===0}),c=f&&d.target.status===0,m=!(d.target&&d.target.status!==200)||c;u.readyState===4&&u.status>=400&&u.status<=599&&(m=!1),this.state=p.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,m)},onBase64Load:function(u){this.xhrLoader=u,this.state=p.FILE_LOADED,this.percentComplete=1,this.loader.emit(a.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(u){u.lengthComputable&&(this.bytesLoaded=u.loaded,this.bytesTotal=u.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(a.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=p.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=p.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=p.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(u){if(this.state!==p.FILE_PENDING_DESTROY){u===void 0&&(u=this.data);var d=this.key,f=this.type;this.loader.emit(a.FILE_COMPLETE,d,f,u),this.loader.emit(a.FILE_KEY_COMPLETE+f+"-"+d,d,f,u),this.loader.flagForRemoval(this),this.state=p.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});s.createObjectURL=function(u,d,f){if(typeof URL=="function")u.src=URL.createObjectURL(d);else{var c=new FileReader;c.onload=function(){u.removeAttribute("crossOrigin"),u.src="data:"+(d.type||f)+";base64,"+c.result.split(",")[1]},c.onerror=u.onerror,c.readAsDataURL(d)}},s.revokeObjectURL=function(u){typeof URL=="function"&&URL.revokeObjectURL(u.src)},v.exports=s},74099:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={},t={install:function(o){for(var p in y)o[p]=y[p]},register:function(o,p){y[o]=p},destroy:function(){y={}}};v.exports=t},98356:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.url?t.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?t.url:o+t.url:!1};v.exports=y},74261:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(23906),a=t(35072),n=t(50792),i=t(54899),e=t(74099),r=t(95540),l=t(35154),s=t(37277),u=t(44594),d=t(92638),f=new o({Extends:n,initialize:function(m){n.call(this);var T=m.sys.game.config,C=m.sys.settings.loader;this.scene=m,this.systems=m.sys,this.cacheManager=m.sys.cache,this.textureManager=m.sys.textures,this.sceneManager=m.sys.game.scene,e.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(r(C,"baseURL",T.loaderBaseURL)),this.setPath(r(C,"path",T.loaderPath)),this.setPrefix(r(C,"prefix",T.loaderPrefix)),this.maxParallelDownloads=r(C,"maxParallelDownloads",T.loaderMaxParallelDownloads),this.xhr=d(r(C,"responseType",T.loaderResponseType),r(C,"async",T.loaderAsync),r(C,"user",T.loaderUser),r(C,"password",T.loaderPassword),r(C,"timeout",T.loaderTimeout),r(C,"withCredentials",T.loaderWithCredentials)),this.crossOrigin=r(C,"crossOrigin",T.loaderCrossOrigin),this.imageLoadType=r(C,"imageLoadType",T.loaderImageLoadType),this.localSchemes=r(C,"localScheme",T.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new a,this.inflight=new a,this.queue=new a,this._deleteQueue=new a,this.totalFailed=0,this.totalComplete=0,this.state=p.LOADER_IDLE,this.multiKeyIndex=0,m.sys.events.once(u.BOOT,this.boot,this),m.sys.events.on(u.START,this.pluginStart,this)},boot:function(){this.systems.events.once(u.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(u.SHUTDOWN,this.shutdown,this)},setBaseURL:function(c){return c===void 0&&(c=""),c!==""&&c.substr(-1)!=="/"&&(c=c.concat("/")),this.baseURL=c,this},setPath:function(c){return c===void 0&&(c=""),c!==""&&c.substr(-1)!=="/"&&(c=c.concat("/")),this.path=c,this},setPrefix:function(c){return c===void 0&&(c=""),this.prefix=c,this},setCORS:function(c){return this.crossOrigin=c,this},addFile:function(c){Array.isArray(c)||(c=[c]);for(var m=0;m<c.length;m++){var T=c[m];this.keyExists(T)||(this.list.set(T),this.emit(i.ADD,T.key,T.type,this,T),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(c){var m=c.hasCacheConflict();return m||this.list.iterate(function(T){if(T.type===c.type&&T.key===c.key)return m=!0,!1}),!m&&this.isLoading()&&(this.inflight.iterate(function(T){if(T.type===c.type&&T.key===c.key)return m=!0,!1}),this.queue.iterate(function(T){if(T.type===c.type&&T.key===c.key)return m=!0,!1})),m},addPack:function(c,m){if(typeof m=="string"){var T=l(c,m);T&&(c={packKey:T})}var C=0,S=this.baseURL,A=this.path,P=this.prefix;for(var R in c)if(Object.prototype.hasOwnProperty.call(c,R)){var F=c[R],D=r(F,"baseURL",S),L=r(F,"path",A),O=r(F,"prefix",P),B=r(F,"files",null),b=r(F,"defaultType","void");if(Array.isArray(B)){this.setBaseURL(D),this.setPath(L),this.setPrefix(O);for(var z=0;z<B.length;z++){var V=B[z],W=V.hasOwnProperty("type")?V.type:b;this[W]&&(this[W](V),C++)}}}return this.setBaseURL(S),this.setPath(A),this.setPrefix(P),C>0},isLoading:function(){return this.state===p.LOADER_LOADING||this.state===p.LOADER_PROCESSING},isReady:function(){return this.state===p.LOADER_IDLE||this.state===p.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(i.START,this),this.list.size===0?this.loadComplete():(this.state=p.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(u.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(i.PROGRESS,this.progress)},update:function(){this.state===p.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(c){if((c.state===p.FILE_POPULATED||c.state===p.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(c),this.list.delete(c),c.crossOrigin||(c.crossOrigin=this.crossOrigin),c.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(c,m){this.inflight&&(this.inflight.delete(c),this.updateProgress(),m?(this.totalComplete++,this.queue.set(c),this.emit(i.FILE_LOAD,c),c.onProcess()):(this.totalFailed++,this._deleteQueue.set(c),this.emit(i.FILE_LOAD_ERROR,c),this.fileProcessComplete(c)))},fileProcessComplete:function(c){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(c.state===p.FILE_ERRORED?c.multiFile&&c.multiFile.onFileFailed(c):c.state===p.FILE_COMPLETE&&(c.multiFile?c.multiFile.isReadyToProcess()&&(c.multiFile.addToCache(),c.multiFile.pendingDestroy()):(c.addToCache(),c.pendingDestroy())),this.queue.delete(c),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(i.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=p.LOADER_COMPLETE,this.systems.events.off(u.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(i.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(c){this._deleteQueue.set(c)},saveJSON:function(c,m){return this.save(JSON.stringify(c),m)},save:function(c,m,T){m===void 0&&(m="file.json"),T===void 0&&(T="application/json");var C=new Blob([c],{type:T}),S=URL.createObjectURL(C),A=document.createElement("a");return A.download=m,A.textContent="Download "+m,A.href=S,A.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var c=this.systems.game.config,m=this.systems.settings.loader;this.setBaseURL(r(m,"baseURL",c.loaderBaseURL)),this.setPath(r(m,"path",c.loaderPath)),this.setPrefix(r(m,"prefix",c.loaderPrefix)),this.state=p.LOADER_IDLE},shutdown:function(){this.reset(),this.state=p.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(u.UPDATE,this.update,this),this.systems.events.off(u.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=p.LOADER_DESTROYED,this.systems.events.off(u.UPDATE,this.update,this),this.systems.events.off(u.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});s.register("Loader",f,"load"),v.exports=f},3374:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(79291),p=t(92638),a=function(n,i){var e=n===void 0?p():o({},n);if(i)for(var r in i)i[r]!==void 0&&(e[r]=i[r]);return e};v.exports=a},26430:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(23906),a=t(54899),n=new o({initialize:function(e,r,l,s){var u=[];s.forEach(function(c){c&&u.push(c)}),this.loader=e,this.type=r,this.key=l;var d=this.key;e.prefix&&e.prefix!==""&&(this.key=e.prefix+d),this.multiKeyIndex=e.multiKeyIndex++,this.files=u,this.state=p.FILE_PENDING,this.complete=!1,this.pending=u.length,this.failed=0,this.config={},this.baseURL=e.baseURL,this.path=e.path,this.prefix=e.prefix;for(var f=0;f<u.length;f++)u[f].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(i){return this.files.push(i),i.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(i){var e=this.files.indexOf(i);e!==-1&&this.pending--},onFileFailed:function(i){var e=this.files.indexOf(i);e!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,i.type,i.key))},pendingDestroy:function(){if(this.state!==p.FILE_PENDING_DESTROY){var i=this.key,e=this.type;this.loader.emit(a.FILE_COMPLETE,i,e),this.loader.emit(a.FILE_KEY_COMPLETE+e+"-"+i,i,e),this.loader.flagForRemoval(this);for(var r=0;r<this.files.length;r++)this.files[r].pendingDestroy();this.state=p.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});v.exports=n},84376:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(3374),p=function(a,n){var i=o(n,a.xhrSettings);if(a.base64){var e=a.url.split(";base64,").pop()||a.url.split(",").pop(),r={responseText:atob(e)};a.onBase64Load(r);return}var l=new XMLHttpRequest;if(l.open("GET",a.src,i.async,i.user,i.password),l.responseType=a.xhrSettings.responseType,l.timeout=i.timeout,i.headers)for(var s in i.headers)l.setRequestHeader(s,i.headers[s]);return i.header&&i.headerValue&&l.setRequestHeader(i.header,i.headerValue),i.requestedWith&&l.setRequestHeader("X-Requested-With",i.requestedWith),i.overrideMimeType&&l.overrideMimeType(i.overrideMimeType),i.withCredentials&&(l.withCredentials=!0),l.onload=a.onLoad.bind(a,l),l.onerror=a.onError.bind(a,l),l.onprogress=a.onProgress.bind(a),l.ontimeout=a.onError.bind(a,l),l.send(),l};v.exports=p},92638:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a,n,i){return t===void 0&&(t=""),o===void 0&&(o=!0),p===void 0&&(p=""),a===void 0&&(a=""),n===void 0&&(n=0),i===void 0&&(i=!1),{responseType:t,async:o,user:p,password:a,timeout:n,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:i}};v.exports=y},23906:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};v.exports=y},42155:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="addfile"},38991:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="complete"},27540:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="filecomplete"},87464:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="filecomplete-"},94486:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="loaderror"},13035:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="load"},38144:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="fileprogress"},97520:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="postprocess"},85595:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="progress"},55680:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="start"},54899:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ADD:t(42155),COMPLETE:t(38991),FILE_COMPLETE:t(27540),FILE_KEY_COMPLETE:t(87464),FILE_LOAD_ERROR:t(94486),FILE_LOAD:t(13035),FILE_PROGRESS:t(38144),POST_PROCESS:t(97520),PROGRESS:t(85595),START:t(55680)}},14135:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(74099),a=t(518),n=t(54899),i=new o({Extends:a,initialize:function(r,l,s,u,d){a.call(this,r,l,s,u,d),this.type="animationJSON"},onProcess:function(){this.loader.once(n.POST_PROCESS,this.onLoadComplete,this),a.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});p.register("animation",function(e,r,l,s){if(Array.isArray(e))for(var u=0;u<e.length;u++)this.addFile(new i(this,e[u]));else this.addFile(new i(this,e,r,s,l));return this}),v.exports=i},76272:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(74099),a=t(95540),n=t(19550),i=t(41212),e=t(518),r=t(26430),l=new o({Extends:r,initialize:function(u,d,f,c,m,T){var C,S;if(i(d)){var A=d;d=a(A,"key"),C=new n(u,{key:d,url:a(A,"textureURL"),extension:a(A,"textureExtension","png"),normalMap:a(A,"normalMap"),xhrSettings:a(A,"textureXhrSettings")}),S=new e(u,{key:d,url:a(A,"atlasURL"),extension:a(A,"atlasExtension","json"),xhrSettings:a(A,"atlasXhrSettings")})}else C=new n(u,d,f,m),S=new e(u,d,c,T);C.linkFile?r.call(this,u,"atlasjson",d,[C,S,C.linkFile]):r.call(this,u,"atlasjson",d,[C,S])},addToCache:function(){if(this.isReadyToProcess()){var s=this.files[0],u=this.files[1],d=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(s.key,s.data,u.data,d),u.addToCache(),this.complete=!0}}});p.register("aseprite",function(s,u,d,f,c){var m;if(Array.isArray(s))for(var T=0;T<s.length;T++)m=new l(this,s[T]),this.addFile(m.files);else m=new l(this,s,u,d,f,c),this.addFile(m.files);return this}),v.exports=l},38734:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(74099),a=t(95540),n=t(19550),i=t(41212),e=t(518),r=t(26430),l=new o({Extends:r,initialize:function(u,d,f,c,m,T){var C,S;if(i(d)){var A=d;d=a(A,"key"),C=new n(u,{key:d,url:a(A,"textureURL"),extension:a(A,"textureExtension","png"),normalMap:a(A,"normalMap"),xhrSettings:a(A,"textureXhrSettings")}),S=new e(u,{key:d,url:a(A,"atlasURL"),extension:a(A,"atlasExtension","json"),xhrSettings:a(A,"atlasXhrSettings")})}else C=new n(u,d,f,m),S=new e(u,d,c,T);C.linkFile?r.call(this,u,"atlasjson",d,[C,S,C.linkFile]):r.call(this,u,"atlasjson",d,[C,S])},addToCache:function(){if(this.isReadyToProcess()){var s=this.files[0],u=this.files[1],d=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(s.key,s.data,u.data,d),this.complete=!0}}});p.register("atlas",function(s,u,d,f,c){var m;if(Array.isArray(s))for(var T=0;T<s.length;T++)m=new l(this,s[T]),this.addFile(m.files);else m=new l(this,s,u,d,f,c),this.addFile(m.files);return this}),v.exports=l},74599:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(74099),a=t(95540),n=t(19550),i=t(41212),e=t(26430),r=t(57318),l=new o({Extends:e,initialize:function(u,d,f,c,m,T){var C,S;if(i(d)){var A=d;d=a(A,"key"),C=new n(u,{key:d,url:a(A,"textureURL"),extension:a(A,"textureExtension","png"),normalMap:a(A,"normalMap"),xhrSettings:a(A,"textureXhrSettings")}),S=new r(u,{key:d,url:a(A,"atlasURL"),extension:a(A,"atlasExtension","xml"),xhrSettings:a(A,"atlasXhrSettings")})}else C=new n(u,d,f,m),S=new r(u,d,c,T);C.linkFile?e.call(this,u,"atlasxml",d,[C,S,C.linkFile]):e.call(this,u,"atlasxml",d,[C,S])},addToCache:function(){if(this.isReadyToProcess()){var s=this.files[0],u=this.files[1],d=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(s.key,s.data,u.data,d),this.complete=!0}}});p.register("atlasXML",function(s,u,d,f,c){var m;if(Array.isArray(s))for(var T=0;T<s.length;T++)m=new l(this,s[T]),this.addFile(m.files);else m=new l(this,s,u,d,f,c),this.addFile(m.files);return this}),v.exports=l},21097:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(23906),a=t(41299),n=t(74099),i=t(95540),e=t(89749),r=t(41212),l=new o({Extends:a,initialize:function(u,d,f,c,m){if(r(d)){var T=d;d=i(T,"key"),c=i(T,"xhrSettings"),m=i(T,"context",m)}var C={type:"audio",cache:u.cacheManager.audio,extension:f.type,responseType:"arraybuffer",key:d,url:f.url,xhrSettings:c,config:{context:m}};a.call(this,u,C)},onProcess:function(){this.state=p.FILE_PROCESSING;var s=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(u){s.data=u,s.onProcessComplete()},function(u){console.error("Error decoding audio: "+s.key+" - ",u?u.message:null),s.onProcessError()}),this.config.context=null}});l.create=function(s,u,d,f,c){var m=s.systems.game,T=m.config.audio,C=m.device.audio;r(u)&&(d=i(u,"url",[]),f=i(u,"config",{}));var S=l.getAudioURL(m,d);return S?C.webAudio&&!T.disableWebAudio?new l(s,u,S,c,m.sound.context):new e(s,u,S,f):(console.warn('No audio URLs for "%s" matched this device',u),null)},l.getAudioURL=function(s,u){Array.isArray(u)||(u=[u]);for(var d=0;d<u.length;d++){var f=i(u[d],"url",u[d]);if(f.indexOf("blob:")===0||f.indexOf("data:")===0)return{url:f,type:""};var c=f.match(/\.([a-zA-Z0-9]+)($|\?)/);if(c=i(u[d],"type",c?c[1]:"").toLowerCase(),s.device.audio[c])return{url:f,type:c}}return null},n.register("audio",function(s,u,d,f){var c=this.systems.game,m=c.config.audio,T=c.device.audio;if(m.noAudio||!T.webAudio&&!T.audioData)return this;var C;if(Array.isArray(s))for(var S=0;S<s.length;S++)C=l.create(this,s[S]),C&&this.addFile(C);else C=l.create(this,s,u,d,f),C&&this.addFile(C);return this}),v.exports=l},89524:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(21097),p=t(83419),a=t(74099),n=t(95540),i=t(41212),e=t(518),r=t(26430),l=new p({Extends:r,initialize:function(u,d,f,c,m,T,C){if(i(d)){var S=d;d=n(S,"key"),f=n(S,"jsonURL"),c=n(S,"audioURL"),m=n(S,"audioConfig"),T=n(S,"audioXhrSettings"),C=n(S,"jsonXhrSettings")}var A;if(!c)A=new e(u,d,f,C),r.call(this,u,"audiosprite",d,[A]),this.config.resourceLoad=!0,this.config.audioConfig=m,this.config.audioXhrSettings=T;else{var P=o.create(u,d,c,m,T);P&&(A=new e(u,d,f,C),r.call(this,u,"audiosprite",d,[P,A]),this.config.resourceLoad=!1)}},onFileComplete:function(s){var u=this.files.indexOf(s);if(u!==-1&&(this.pending--,this.config.resourceLoad&&s.type==="json"&&s.data.hasOwnProperty("resources"))){var d=s.data.resources,f=n(this.config,"audioConfig"),c=n(this.config,"audioXhrSettings"),m=o.create(this.loader,s.key,d,f,c);m&&(this.addToMultiFile(m),this.loader.addFile(m))}},addToCache:function(){if(this.isReadyToProcess()){var s=this.files[0],u=this.files[1];s.addToCache(),u.addToCache(),this.complete=!0}}});a.register("audioSprite",function(s,u,d,f,c,m){var T=this.systems.game,C=T.config.audio,S=T.device.audio;if(C&&C.noAudio||!S.webAudio&&!S.audioData)return this;var A;if(Array.isArray(s))for(var P=0;P<s.length;P++)A=new l(this,s[P]),A.files&&this.addFile(A.files);else A=new l(this,s,u,d,f,c,m),A.files&&this.addFile(A.files);return this})},85722:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(23906),a=t(41299),n=t(74099),i=t(95540),e=t(41212),r=new o({Extends:a,initialize:function(s,u,d,f,c){var m="bin";if(e(u)){var T=u;u=i(T,"key"),d=i(T,"url"),f=i(T,"xhrSettings"),m=i(T,"extension",m),c=i(T,"dataType",c)}var C={type:"binary",cache:s.cacheManager.binary,extension:m,responseType:"arraybuffer",key:u,url:d,xhrSettings:f,config:{dataType:c}};a.call(this,s,C)},onProcess:function(){this.state=p.FILE_PROCESSING;var l=this.config.dataType;this.data=l?new l(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});n.register("binary",function(l,s,u,d){if(Array.isArray(l))for(var f=0;f<l.length;f++)this.addFile(new r(this,l[f]));else this.addFile(new r(this,l,s,d,u));return this}),v.exports=r},97025:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(74099),a=t(95540),n=t(19550),i=t(41212),e=t(26430),r=t(21859),l=t(57318),s=new o({Extends:e,initialize:function(d,f,c,m,T,C){var S,A;if(i(f)){var P=f;f=a(P,"key"),S=new n(d,{key:f,url:a(P,"textureURL"),extension:a(P,"textureExtension","png"),normalMap:a(P,"normalMap"),xhrSettings:a(P,"textureXhrSettings")}),A=new l(d,{key:f,url:a(P,"fontDataURL"),extension:a(P,"fontDataExtension","xml"),xhrSettings:a(P,"fontDataXhrSettings")})}else S=new n(d,f,c,T),A=new l(d,f,m,C);S.linkFile?e.call(this,d,"bitmapfont",f,[S,A,S.linkFile]):e.call(this,d,"bitmapfont",f,[S,A])},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0],d=this.files[1];u.addToCache();var f=u.cache.get(u.key),c=r(d.data,u.cache.getFrame(u.key),0,0,f);this.loader.cacheManager.bitmapFont.add(u.key,{data:c,texture:u.key,frame:null}),this.complete=!0}}});p.register("bitmapFont",function(u,d,f,c,m){var T;if(Array.isArray(u))for(var C=0;C<u.length;C++)T=new s(this,u[C]),this.addFile(T.files);else T=new s(this,u,d,f,c,m),this.addFile(T.files);return this}),v.exports=s},16024:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(23906),a=t(41299),n=t(74099),i=t(95540),e=t(41212),r=new o({Extends:a,initialize:function(s,u,d,f){var c="css";if(e(u)){var m=u;u=i(m,"key"),d=i(m,"url"),f=i(m,"xhrSettings"),c=i(m,"extension",c)}var T={type:"script",cache:!1,extension:c,responseType:"text",key:u,url:d,xhrSettings:f};a.call(this,s,T)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});n.register("css",function(l,s,u){if(Array.isArray(l))for(var d=0;d<l.length;d++)this.addFile(new r(this,l[d]));else this.addFile(new r(this,l,s,u));return this}),v.exports=r},69559:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(38734),p=t(85722),a=t(83419),n=t(74099),i=t(95540),e=t(19550),r=t(41212),l=t(518),s=t(31403),u=t(46975),d=t(59327),f=t(26430),c=t(82038),m=t(55222),T=new a({Extends:f,initialize:function(S,A,P,R){if(P.multiAtlasURL){var F=new l(S,{key:A,url:P.multiAtlasURL,xhrSettings:R,config:P});f.call(this,S,"texture",A,[F])}else{var D=P.textureURL.substr(P.textureURL.length-3);P.type||(P.type=D.toLowerCase()==="ktx"?"KTX":"PVR");var L=new p(S,{key:A,url:P.textureURL,extension:D,xhrSettings:R,config:P});if(P.atlasURL){var O=new l(S,{key:A,url:P.atlasURL,xhrSettings:R,config:P});f.call(this,S,"texture",A,[L,O])}else f.call(this,S,"texture",A,[L])}this.config=P},onFileComplete:function(C){var S=this.files.indexOf(C);if(S!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(C.type==="json"&&C.data.hasOwnProperty("textures")){var A=C.data.textures,P=this.config,R=this.loader,F=R.baseURL,D=R.path,L=R.prefix,O=i(P,"multiBaseURL",this.baseURL),B=i(P,"multiPath",this.path),b=i(P,"prefix",this.prefix),z=i(P,"textureXhrSettings");O&&R.setBaseURL(O),B&&R.setPath(B),b&&R.setPrefix(b);for(var V=0;V<A.length;V++){var W=A[V].image,K="CMA"+this.multiKeyIndex+"_"+W,U=new p(R,K,W,z);if(this.addToMultiFile(U),R.addFile(U),A[V].normalMap){var Y=new p(R,K,A[V].normalMap,z);Y.type="normalMap",U.setLink(Y),this.addToMultiFile(Y),R.addFile(Y)}}R.setBaseURL(F),R.setPath(D),R.setPrefix(L)}}},addToCache:function(){function C(O){console.warn('Compressed Texture Invalid: "'+F.key+'". '+O)}if(this.isReadyToProcess()){var S=this.config;if(S.multiAtlasURL)this.addMultiToCache();else{var A=this.loader.systems.renderer,P=this.loader.textureManager,R,F=this.files[0],D=this.files[1];if(S.type==="PVR"?R=c(F.data):S.type==="KTX"&&(R=s(F.data),R||C("KTX file contains unsupported format.")),R&&!m(R)&&(C("Texture dimensions failed verification. Check the texture format specifications for "+S.format+" 0x"+R.internalFormat.toString(16)+"."),R=null),R&&!A.supportsCompressedTexture(S.format,R.internalFormat)&&(C("Texture format "+S.format+" with internal format "+R.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),R=null),R){R.format=A.getCompressedTextureName(S.format,R.internalFormat);var L=D&&D.data?D.data:null;P.addCompressedTexture(F.key,R,L)}}this.complete=!0}},addMultiToCache:function(){for(var C=this.config,S=this.files[0],A=[],P=[],R=[],F=this.loader.systems.renderer,D=this.loader.textureManager,L,O=1;O<this.files.length;O++){var B=this.files[O];if(B.type!=="normalMap")for(var b=B.key.indexOf("_"),z=B.key.substr(b+1),V=B.data,W=0;W<S.data.textures.length;W++){var K=S.data.textures[W];if(K.image===z){C.type==="PVR"?L=c(V):C.type==="KTX"&&(L=s(V)),L&&F.supportsCompressedTexture(C.format,L.internalFormat)&&(L.format=F.getCompressedTextureName(C.format,L.internalFormat),P.push(L),A.push(K),B.linkFile&&R.push(B.linkFile.data));break}}}R.length===0&&(R=void 0),D.addAtlasJSONArray(this.key,P,A,R),this.complete=!0}});n.register("texture",function(C,S,A){var P=this.systems.renderer,R=function(D,L,O,B){var b={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(r(L)){var z=L;L=i(z,"key"),O=i(z,"url"),B=i(z,"xhrSettings")}var V=!1;for(var W in O)if(P.supportsCompressedTexture(W)){var K=O[W];typeof K=="string"?b.textureURL=K:b=u(K,b),b.format=W.toUpperCase(),V=!0;break}if(!V)console.warn("No supported compressed texture format or IMG fallback",L);else if(b.format==="IMG"){var U,Y;b.multiAtlasURL?(Y=new d(D,L,b.multiAtlasURL,b.multiPath,b.multiBaseURL,B),U=Y.files):b.atlasURL?(Y=new o(D,L,b.textureURL,b.atlasURL,B),U=Y.files):U=new e(D,L,b.textureURL,B),D.addFile(U)}else{var I=new T(D,L,b,B);D.addFile(I.files)}};if(Array.isArray(C))for(var F=0;F<C.length;F++)R(this,C[F]);else R(this,C,S,A);return this}),v.exports=T},47931:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(23906),a=t(41299),n=t(74099),i=t(95540),e=t(41212),r=t(73894),l=new o({Extends:a,initialize:function(u,d,f,c,m){var T="glsl";if(e(d)){var C=d;d=i(C,"key"),f=i(C,"url"),c=i(C,"shaderType","fragment"),m=i(C,"xhrSettings"),T=i(C,"extension",T)}else c===void 0&&(c="fragment");var S={type:"glsl",cache:u.cacheManager.shader,extension:T,responseType:"text",key:d,url:f,config:{shaderType:c},xhrSettings:m};a.call(this,u,S)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var s=this.data.split(`
`),u=this.extractBlock(s,0);if(u)for(;u;){var d=this.getShaderName(u.header),f=this.getShaderType(u.header),c=this.getShaderUniforms(u.header),m=u.shader;if(this.cache.has(d)){var T=this.cache.get(d);f==="fragment"?T.fragmentSrc=m:T.vertexSrc=m,T.uniforms||(T.uniforms=c)}else f==="fragment"?this.cache.add(d,new r(d,m,"",c)):this.cache.add(d,new r(d,"",m,c));u=this.extractBlock(s,u.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new r(this.key,this.data)):this.cache.add(this.key,new r(this.key,"",this.data))},getShaderName:function(s){for(var u=0;u<s.length;u++){var d=s[u].trim();if(d.substring(0,5)==="name:")return d.substring(5).trim()}return this.key},getShaderType:function(s){for(var u=0;u<s.length;u++){var d=s[u].trim();if(d.substring(0,5)==="type:")return d.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(s){for(var u={},d=0;d<s.length;d++){var f=s[d].trim();if(f.substring(0,8)==="uniform."){var c=f.indexOf(":");if(c){var m=f.substring(8,c);try{u[m]=JSON.parse(f.substring(c+1))}catch{console.warn("Invalid uniform JSON: "+m)}}}}return u},extractBlock:function(s,u){for(var d=-1,f=-1,c=-1,m=!1,T=!1,C=[],S=[],A=u;A<s.length;A++){var P=s[A].trim();if(P==="---")if(d===-1)d=A,m=!0;else if(m)f=A,m=!1,T=!0;else{T=!1;break}else m?C.push(P):T&&(S.push(P),c=A)}return!m&&f!==-1?{header:C,shader:S.join(`
`),offset:c}:null}});n.register("glsl",function(s,u,d,f){if(Array.isArray(s))for(var c=0;c<s.length;c++)this.addFile(new l(this,s[c]));else this.addFile(new l(this,s,u,d,f));return this}),v.exports=l},89749:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(54899),a=t(41299),n=t(95540),i=t(98356),e=t(41212),r=new o({Extends:a,initialize:function(s,u,d,f){if(e(u)){var c=u;u=n(c,"key"),f=n(c,"config",f)}var m={type:"audio",cache:s.cacheManager.audio,extension:d.type,key:u,url:d.url,config:f};a.call(this,s,m),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var l=0;l<this.data.length;l++){var s=this.data[l];s.oncanplaythrough=null,s.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(l){var s=l.target;s.oncanplaythrough=null,s.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(p.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var l=this.config&&this.config.instances||1;this.filesTotal=l,this.filesLoaded=0,this.percentComplete=0;for(var s=0;s<l;s++){var u=new Audio;u.dataset||(u.dataset={}),u.dataset.name=this.key+("0"+s).slice(-2),u.dataset.used="false",this.locked?u.dataset.locked="true":(u.dataset.locked="false",u.preload="auto",u.oncanplaythrough=this.onProgress.bind(this),u.onerror=this.onError.bind(this)),this.data.push(u)}for(s=0;s<this.data.length;s++)u=this.data[s],u.src=i(this,this.loader.baseURL),this.locked||u.load();this.locked&&setTimeout(this.onLoad.bind(this))}});v.exports=r},88470:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(23906),a=t(41299),n=t(74099),i=t(95540),e=t(41212),r=new o({Extends:a,initialize:function(s,u,d,f){var c="html";if(e(u)){var m=u;u=i(m,"key"),d=i(m,"url"),f=i(m,"xhrSettings"),c=i(m,"extension",c)}var T={type:"text",cache:s.cacheManager.html,extension:c,responseType:"text",key:u,url:d,xhrSettings:f};a.call(this,s,T)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});n.register("html",function(l,s,u){if(Array.isArray(l))for(var d=0;d<l.length;d++)this.addFile(new r(this,l[d]));else this.addFile(new r(this,l,s,u));return this}),v.exports=r},14643:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(23906),a=t(41299),n=t(74099),i=t(95540),e=t(41212),r=new o({Extends:a,initialize:function(s,u,d,f,c,m){f===void 0&&(f=512),c===void 0&&(c=512);var T="html";if(e(u)){var C=u;u=i(C,"key"),d=i(C,"url"),m=i(C,"xhrSettings"),T=i(C,"extension",T),f=i(C,"width",f),c=i(C,"height",c)}var S={type:"html",cache:s.textureManager,extension:T,responseType:"text",key:u,url:d,xhrSettings:m,config:{width:f,height:c}};a.call(this,s,S)},onProcess:function(){this.state=p.FILE_PROCESSING;var l=this.config.width,s=this.config.height,u=[];u.push('<svg width="'+l+'px" height="'+s+'px" viewBox="0 0 '+l+" "+s+'" xmlns="http://www.w3.org/2000/svg">'),u.push('<foreignObject width="100%" height="100%">'),u.push('<body xmlns="http://www.w3.org/1999/xhtml">'),u.push(this.xhrLoader.responseText),u.push("</body>"),u.push("</foreignObject>"),u.push("</svg>");var d=[u.join(`
`)],f=this;try{var c=new window.Blob(d,{type:"image/svg+xml;charset=utf-8"})}catch{f.state=p.FILE_ERRORED,f.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){a.revokeObjectURL(f.data),f.onProcessComplete()},this.data.onerror=function(){a.revokeObjectURL(f.data),f.onProcessError()},a.createObjectURL(this.data,c,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});n.register("htmlTexture",function(l,s,u,d,f){if(Array.isArray(l))for(var c=0;c<l.length;c++)this.addFile(new r(this,l[c]));else this.addFile(new r(this,l,s,u,d,f));return this}),v.exports=r},19550:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(23906),a=t(41299),n=t(74099),i=t(95540),e=t(41212),r=t(98356),l=new o({Extends:a,initialize:function s(u,d,f,c,m){var T="png",C;if(e(d)){var S=d;d=i(S,"key"),f=i(S,"url"),C=i(S,"normalMap"),c=i(S,"xhrSettings"),T=i(S,"extension",T),m=i(S,"frameConfig")}Array.isArray(f)&&(C=f[1],f=f[0]);var A={type:"image",cache:u.textureManager,extension:T,responseType:"blob",key:d,url:f,xhrSettings:c,config:m};if(a.call(this,u,A),C){var P=new s(u,this.key,C,c,m);P.type="normalMap",this.setLink(P),u.addFile(P)}this.useImageElementLoad=u.imageLoadType==="HTMLImageElement"||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var s=this;this.data.onload=function(){a.revokeObjectURL(s.data),s.onProcessComplete()},this.data.onerror=function(){a.revokeObjectURL(s.data),s.onProcessError()},a.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var s=this.state;this.state=p.FILE_PROCESSING,s===p.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=p.FILE_LOADING,this.src=r(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var s=this;this.data.onload=function(){s.state=p.FILE_LOADED,s.loader.nextFile(s,!0)},this.data.onerror=function(){s.loader.nextFile(s,!1)},this.data.src=this.src},addToCache:function(){var s=this.linkFile;s?s.state>=p.FILE_COMPLETE&&(s.type==="spritesheet"?s.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,s.data,this.data):this.cache.addImage(this.key,this.data,s.data)):this.cache.addImage(this.key,this.data)}});n.register("image",function(s,u,d){if(Array.isArray(s))for(var f=0;f<s.length;f++)this.addFile(new l(this,s[f]));else this.addFile(new l(this,s,u,d));return this}),v.exports=l},518:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(23906),a=t(41299),n=t(74099),i=t(95540),e=t(35154),r=t(41212),l=new o({Extends:a,initialize:function(u,d,f,c,m){var T="json";if(r(d)){var C=d;d=i(C,"key"),f=i(C,"url"),c=i(C,"xhrSettings"),T=i(C,"extension",T),m=i(C,"dataKey",m)}var S={type:"json",cache:u.cacheManager.json,extension:T,responseType:"text",key:d,url:f,xhrSettings:c,config:m};a.call(this,u,S),r(f)&&(m?this.data=e(f,m):this.data=f,this.state=p.FILE_POPULATED)},onProcess:function(){if(this.state!==p.FILE_POPULATED){this.state=p.FILE_PROCESSING;try{var s=JSON.parse(this.xhrLoader.responseText)}catch(d){throw this.onProcessError(),d}var u=this.config;typeof u=="string"?this.data=e(s,u,s):this.data=s}this.onProcessComplete()}});n.register("json",function(s,u,d,f){if(Array.isArray(s))for(var c=0;c<s.length;c++)this.addFile(new l(this,s[c]));else this.addFile(new l(this,s,u,f,d));return this}),v.exports=l},59327:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(74099),a=t(95540),n=t(19550),i=t(41212),e=t(518),r=t(26430),l=new o({Extends:r,initialize:function(u,d,f,c,m,T,C){if(i(d)){var S=d;d=a(S,"key"),a(S,"url",!1)?f=a(S,"url"):f=a(S,"atlasURL"),T=a(S,"xhrSettings"),c=a(S,"path"),m=a(S,"baseURL"),C=a(S,"textureXhrSettings")}var A=new e(u,d,f,T);r.call(this,u,"multiatlas",d,[A]),this.config.path=c,this.config.baseURL=m,this.config.textureXhrSettings=C},onFileComplete:function(s){var u=this.files.indexOf(s);if(u!==-1&&(this.pending--,s.type==="json"&&s.data.hasOwnProperty("textures"))){var d=s.data.textures,f=this.config,c=this.loader,m=c.baseURL,T=c.path,C=c.prefix,S=a(f,"baseURL",this.baseURL),A=a(f,"path",this.path),P=a(f,"prefix",this.prefix),R=a(f,"textureXhrSettings");c.setBaseURL(S),c.setPath(A),c.setPrefix(P);for(var F=0;F<d.length;F++){var D=d[F].image,L="MA"+this.multiKeyIndex+"_"+D,O=new n(c,L,D,R);if(this.addToMultiFile(O),c.addFile(O),d[F].normalMap){var B=new n(c,L,d[F].normalMap,R);B.type="normalMap",O.setLink(B),this.addToMultiFile(B),c.addFile(B)}}c.setBaseURL(m),c.setPath(T),c.setPrefix(C)}},addToCache:function(){if(this.isReadyToProcess()){for(var s=this.files[0],u=[],d=[],f=[],c=1;c<this.files.length;c++){var m=this.files[c];if(m.type!=="normalMap")for(var T=m.key.indexOf("_"),C=m.key.substr(T+1),S=m.data,A=0;A<s.data.textures.length;A++){var P=s.data.textures[A];if(P.image===C){d.push(S),u.push(P),m.linkFile&&f.push(m.linkFile.data);break}}}f.length===0&&(f=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,d,u,f),this.complete=!0}}});p.register("multiatlas",function(s,u,d,f,c){var m;if(Array.isArray(s))for(var T=0;T<s.length;T++)m=new l(this,s[T]),this.addFile(m.files);else m=new l(this,s,u,d,f,c),this.addFile(m.files);return this}),v.exports=l},99297:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(74099),a=t(95540),n=t(41212),i=t(26430),e=t(34328),r=new o({Extends:i,initialize:function(s,u,d,f){var c="js",m=[];if(n(u)){var T=u;u=a(T,"key"),d=a(T,"url"),f=a(T,"xhrSettings"),c=a(T,"extension",c)}Array.isArray(d)||(d=[d]);for(var C=0;C<d.length;C++){var S=new e(s,{key:u+"_"+C.toString(),url:d[C],extension:c,xhrSettings:f});S.onProcess=function(){this.onProcessComplete()},m.push(S)}i.call(this,s,"scripts",u,m)},addToCache:function(){if(this.isReadyToProcess()){for(var l=0;l<this.files.length;l++){var s=this.files[l];s.data=document.createElement("script"),s.data.language="javascript",s.data.type="text/javascript",s.data.defer=!1,s.data.text=s.xhrLoader.responseText,document.head.appendChild(s.data)}this.complete=!0}}});p.register("scripts",function(l,s,u){var d;if(Array.isArray(l))for(var f=0;f<l.length;f++)d=new r(this,l[f]),this.addFile(d.files);else d=new r(this,l,s,u),this.addFile(d.files);return this}),v.exports=r},41846:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(74099),a=t(95540),n=t(41212),i=t(26430),e=t(85048),r=t(61485),l=t(78776),s=new o({Extends:i,initialize:function(d,f,c,m,T,C){var S,A,P=d.cacheManager.obj;if(n(f)){var R=f;f=a(R,"key"),S=new l(d,{key:f,type:"obj",cache:P,url:a(R,"url"),extension:a(R,"extension","obj"),xhrSettings:a(R,"xhrSettings"),config:{flipUV:a(R,"flipUV",T)}}),m=a(R,"matURL"),m&&(A=new l(d,{key:f,type:"mat",cache:P,url:m,extension:a(R,"matExtension","mat"),xhrSettings:a(R,"xhrSettings")}))}else S=new l(d,{key:f,url:c,type:"obj",cache:P,extension:"obj",xhrSettings:C,config:{flipUV:T}}),m&&(A=new l(d,{key:f,url:m,type:"mat",cache:P,extension:"mat",xhrSettings:C}));i.call(this,d,"obj",f,[S,A])},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0],d=this.files[1],f=e(u.data,u.config.flipUV);d&&(f.materials=r(d.data)),u.cache.add(u.key,f),this.complete=!0}}});p.register("obj",function(u,d,f,c,m){var T;if(Array.isArray(u))for(var C=0;C<u.length;C++)T=new s(this,u[C]),this.addFile(T.files);else T=new s(this,u,d,f,c,m),this.addFile(T.files);return this}),v.exports=s},58610:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(23906),a=t(74099),n=t(518),i=new o({Extends:n,initialize:function(r,l,s,u,d){n.call(this,r,l,s,u,d),this.type="packfile"},onProcess:function(){if(this.state!==p.FILE_POPULATED&&(this.state=p.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var e={};e[this.config]=this.data,this.data=e}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});a.register("pack",function(e,r,l,s){if(Array.isArray(e))for(var u=0;u<e.length;u++)this.addFile(new i(this,e[u]));else this.addFile(new i(this,e,r,s,l));return this}),v.exports=i},48988:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(23906),a=t(41299),n=t(74099),i=t(95540),e=t(41212),r=new o({Extends:a,initialize:function(s,u,d,f,c,m){var T="js";if(e(u)){var C=u;u=i(C,"key"),d=i(C,"url"),m=i(C,"xhrSettings"),T=i(C,"extension",T),f=i(C,"start"),c=i(C,"mapping")}var S={type:"plugin",cache:!1,extension:T,responseType:"text",key:u,url:d,xhrSettings:m,config:{start:f,mapping:c}};a.call(this,s,S),typeof d=="function"&&(this.data=d,this.state=p.FILE_POPULATED)},onProcess:function(){var l=this.loader.systems.plugins,s=this.config,u=i(s,"start",!1),d=i(s,"mapping",null);if(this.state===p.FILE_POPULATED)l.install(this.key,this.data,u,d);else{this.state=p.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var f=l.install(this.key,window[this.key],u,d);(u||d)&&(this.loader.systems[d]=f,this.loader.scene[d]=f)}this.onProcessComplete()}});n.register("plugin",function(l,s,u,d,f){if(Array.isArray(l))for(var c=0;c<l.length;c++)this.addFile(new r(this,l[c]));else this.addFile(new r(this,l,s,u,d,f));return this}),v.exports=r},67397:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(23906),a=t(41299),n=t(74099),i=t(95540),e=t(41212),r=new o({Extends:a,initialize:function(s,u,d,f,c){var m="svg";if(e(u)){var T=u;u=i(T,"key"),d=i(T,"url"),f=i(T,"svgConfig",{}),c=i(T,"xhrSettings"),m=i(T,"extension",m)}var C={type:"svg",cache:s.textureManager,extension:m,responseType:"text",key:u,url:d,xhrSettings:c,config:{width:i(f,"width"),height:i(f,"height"),scale:i(f,"scale")}};a.call(this,s,C)},onProcess:function(){this.state=p.FILE_PROCESSING;var l=this.xhrLoader.responseText,s=[l],u=this.config.width,d=this.config.height,f=this.config.scale;t:if(u&&d||f){var c=null,m=new DOMParser;c=m.parseFromString(l,"text/xml");var T=c.getElementsByTagName("svg")[0],C=T.hasAttribute("viewBox"),S=parseFloat(T.getAttribute("width")),A=parseFloat(T.getAttribute("height"));if(!C&&S&&A)T.setAttribute("viewBox","0  0 "+S+" "+A);else if(C&&!S&&!A){var P=T.getAttribute("viewBox").split(/\s+|,/);S=P[2],A=P[3]}if(f)if(S&&A)u=S*f,d=A*f;else break t;T.setAttribute("width",u.toString()+"px"),T.setAttribute("height",d.toString()+"px"),s=[new XMLSerializer().serializeToString(T)]}try{var R=new window.Blob(s,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var F=this,D=!1;this.data.onload=function(){D||a.revokeObjectURL(F.data),F.onProcessComplete()},this.data.onerror=function(){D?F.onProcessError():(D=!0,a.revokeObjectURL(F.data),F.data.src="data:image/svg+xml,"+encodeURIComponent(s.join("")))},a.createObjectURL(this.data,R,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});n.register("svg",function(l,s,u,d){if(Array.isArray(l))for(var f=0;f<l.length;f++)this.addFile(new r(this,l[f]));else this.addFile(new r(this,l,s,u,d));return this}),v.exports=r},88423:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(23906),a=t(41299),n=t(74099),i=t(95540),e=t(41212),r=new o({Extends:a,initialize:function(s,u,d,f){var c="js";if(e(u)){var m=u;u=i(m,"key"),d=i(m,"url"),f=i(m,"xhrSettings"),c=i(m,"extension",c)}var T={type:"text",extension:c,responseType:"text",key:u,url:d,xhrSettings:f};a.call(this,s,T)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var l=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),s=eval;this.loader.sceneManager.add(this.key,s(l)),this.complete=!0}});n.register("sceneFile",function(l,s,u){if(Array.isArray(l))for(var d=0;d<l.length;d++)this.addFile(new r(this,l[d]));else this.addFile(new r(this,l,s,u));return this}),v.exports=r},56812:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(23906),a=t(41299),n=t(74099),i=t(95540),e=t(41212),r=new o({Extends:a,initialize:function(s,u,d,f,c,m){var T="js";if(e(u)){var C=u;u=i(C,"key"),d=i(C,"url"),m=i(C,"xhrSettings"),T=i(C,"extension",T),f=i(C,"systemKey"),c=i(C,"sceneKey")}var S={type:"scenePlugin",cache:!1,extension:T,responseType:"text",key:u,url:d,xhrSettings:m,config:{systemKey:f,sceneKey:c}};a.call(this,s,S),typeof d=="function"&&(this.data=d,this.state=p.FILE_POPULATED)},onProcess:function(){var l=this.loader.systems.plugins,s=this.config,u=this.key,d=i(s,"systemKey",u),f=i(s,"sceneKey",u);this.state===p.FILE_POPULATED?l.installScenePlugin(d,this.data,f,this.loader.scene,!0):(this.state=p.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),l.installScenePlugin(d,window[this.key],f,this.loader.scene,!0)),this.onProcessComplete()}});n.register("scenePlugin",function(l,s,u,d,f){if(Array.isArray(l))for(var c=0;c<l.length;c++)this.addFile(new r(this,l[c]));else this.addFile(new r(this,l,s,u,d,f));return this}),v.exports=r},34328:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(23906),a=t(41299),n=t(74099),i=t(95540),e=t(41212),r=new o({Extends:a,initialize:function(s,u,d,f,c){var m="js";if(e(u)){var T=u;u=i(T,"key"),d=i(T,"url"),f=i(T,"type","script"),c=i(T,"xhrSettings"),m=i(T,"extension",m)}else f===void 0&&(f="script");var C={type:f,cache:!1,extension:m,responseType:"text",key:u,url:d,xhrSettings:c};a.call(this,s,C)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});n.register("script",function(l,s,u,d){if(Array.isArray(l))for(var f=0;f<l.length;f++)this.addFile(new r(this,l[f]));else this.addFile(new r(this,l,s,u,d));return this}),v.exports=r},85035:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(23906),a=t(74099),n=t(19550),i=new o({Extends:n,initialize:function(r,l,s,u,d){n.call(this,r,l,s,d,u),this.type="spritesheet"},addToCache:function(){var e=this.linkFile;e?e.state>=p.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,e.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,e.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});a.register("spritesheet",function(e,r,l,s){if(Array.isArray(e))for(var u=0;u<e.length;u++)this.addFile(new i(this,e[u]));else this.addFile(new i(this,e,r,l,s));return this}),v.exports=i},78776:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(23906),a=t(41299),n=t(74099),i=t(95540),e=t(41212),r=new o({Extends:a,initialize:function(s,u,d,f){var c="text",m="txt",T=s.cacheManager.text;if(e(u)){var C=u;u=i(C,"key"),d=i(C,"url"),f=i(C,"xhrSettings"),m=i(C,"extension",m),c=i(C,"type",c),T=i(C,"cache",T)}var S={type:c,cache:T,extension:m,responseType:"text",key:u,url:d,xhrSettings:f};a.call(this,s,S)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});n.register("text",function(l,s,u){if(Array.isArray(l))for(var d=0;d<l.length;d++)this.addFile(new r(this,l[d]));else this.addFile(new r(this,l,s,u));return this}),v.exports=r},49477:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(23906),a=t(41299),n=t(74099),i=t(95540),e=t(41212),r=t(80341),l=new o({Extends:a,initialize:function(u,d,f,c){var m="csv";if(e(d)){var T=d;d=i(T,"key"),f=i(T,"url"),c=i(T,"xhrSettings"),m=i(T,"extension",m)}var C={type:"tilemapCSV",cache:u.cacheManager.tilemap,extension:m,responseType:"text",key:d,url:f,xhrSettings:c};a.call(this,u,C),this.tilemapFormat=r.CSV},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var s={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,s)}});n.register("tilemapCSV",function(s,u,d){if(Array.isArray(s))for(var f=0;f<s.length;f++)this.addFile(new l(this,s[f]));else this.addFile(new l(this,s,u,d));return this}),v.exports=l},40807:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(74099),a=t(518),n=t(80341),i=new o({Extends:a,initialize:function(r,l,s,u){a.call(this,r,l,s,u),this.type="tilemapJSON",this.cache=r.cacheManager.tilemap},addToCache:function(){var e={format:n.WELTMEISTER,data:this.data};this.cache.add(this.key,e)}});p.register("tilemapImpact",function(e,r,l){if(Array.isArray(e))for(var s=0;s<e.length;s++)this.addFile(new i(this,e[s]));else this.addFile(new i(this,e,r,l));return this}),v.exports=i},56775:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(74099),a=t(518),n=t(80341),i=new o({Extends:a,initialize:function(r,l,s,u){a.call(this,r,l,s,u),this.type="tilemapJSON",this.cache=r.cacheManager.tilemap},addToCache:function(){var e={format:n.TILED_JSON,data:this.data};this.cache.add(this.key,e)}});p.register("tilemapTiledJSON",function(e,r,l){if(Array.isArray(e))for(var s=0;s<e.length;s++)this.addFile(new i(this,e[s]));else this.addFile(new i(this,e,r,l));return this}),v.exports=i},25771:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(74099),a=t(95540),n=t(19550),i=t(41212),e=t(26430),r=t(78776),l=new o({Extends:e,initialize:function(u,d,f,c,m,T){var C,S;if(i(d)){var A=d;d=a(A,"key"),C=new n(u,{key:d,url:a(A,"textureURL"),extension:a(A,"textureExtension","png"),normalMap:a(A,"normalMap"),xhrSettings:a(A,"textureXhrSettings")}),S=new r(u,{key:d,url:a(A,"atlasURL"),extension:a(A,"atlasExtension","txt"),xhrSettings:a(A,"atlasXhrSettings")})}else C=new n(u,d,f,m),S=new r(u,d,c,T);C.linkFile?e.call(this,u,"unityatlas",d,[C,S,C.linkFile]):e.call(this,u,"unityatlas",d,[C,S])},addToCache:function(){if(this.isReadyToProcess()){var s=this.files[0],u=this.files[1],d=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(s.key,s.data,u.data,d),this.complete=!0}}});p.register("unityAtlas",function(s,u,d,f,c){var m;if(Array.isArray(s))for(var T=0;T<s.length;T++)m=new l(this,s[T]),this.addFile(m.files);else m=new l(this,s,u,d,f,c),this.addFile(m.files);return this}),v.exports=l},33720:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(23906),a=t(41299),n=t(74099),i=t(98356),e=t(95540),r=t(41212),l=new o({Extends:a,initialize:function(u,d,f,c){if(c===void 0&&(c=!1),r(d)){var m=d;d=e(m,"key"),f=e(m,"url",[]),c=e(m,"noAudio",!1)}var T=u.systems.game.device.video.getVideoURL(f);T||console.warn("VideoFile: No supported format for "+d);var C={type:"video",cache:u.cacheManager.video,extension:T.type,key:d,url:T.url,config:{noAudio:c}};a.call(this,u,C)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=i(this,this.loader.baseURL),this.state=p.FILE_LOADED,this.loader.nextFile(this,!0)}});n.register("video",function(s,u,d){if(Array.isArray(s))for(var f=0;f<s.length;f++)this.addFile(new l(this,s[f]));else this.addFile(new l(this,s,u,d));return this}),v.exports=l},57318:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(23906),a=t(41299),n=t(74099),i=t(95540),e=t(41212),r=t(56836),l=new o({Extends:a,initialize:function(u,d,f,c){var m="xml";if(e(d)){var T=d;d=i(T,"key"),f=i(T,"url"),c=i(T,"xhrSettings"),m=i(T,"extension",m)}var C={type:"xml",cache:u.cacheManager.xml,extension:m,responseType:"text",key:d,url:f,xhrSettings:c};a.call(this,u,C)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=r(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});n.register("xml",function(s,u,d){if(Array.isArray(s))for(var f=0;f<s.length;f++)this.addFile(new l(this,s[f]));else this.addFile(new l(this,s,u,d));return this}),v.exports=l},64589:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={AnimationJSONFile:t(14135),AsepriteFile:t(76272),AtlasJSONFile:t(38734),AtlasXMLFile:t(74599),AudioFile:t(21097),AudioSpriteFile:t(89524),BinaryFile:t(85722),BitmapFontFile:t(97025),CompressedTextureFile:t(69559),CSSFile:t(16024),GLSLFile:t(47931),HTML5AudioFile:t(89749),HTMLFile:t(88470),HTMLTextureFile:t(14643),ImageFile:t(19550),JSONFile:t(518),MultiAtlasFile:t(59327),MultiScriptFile:t(99297),OBJFile:t(41846),PackFile:t(58610),PluginFile:t(48988),SceneFile:t(88423),ScenePluginFile:t(56812),ScriptFile:t(34328),SpriteSheetFile:t(85035),SVGFile:t(67397),TextFile:t(78776),TilemapCSVFile:t(49477),TilemapImpactFile:t(40807),TilemapJSONFile:t(56775),UnityAtlasFile:t(25771),VideoFile:t(33720),XMLFile:t(57318)}},57777:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(23906),p=t(79291),a={Events:t(54899),FileTypes:t(64589),File:t(41299),FileTypesManager:t(74099),GetURL:t(98356),LoaderPlugin:t(74261),MergeXHRSettings:t(3374),MultiFile:t(26430),XHRLoader:t(84376),XHRSettings:t(92638)};a=p(!1,a,o),v.exports=a},53307:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){for(var o=0,p=0;p<t.length;p++)o+=+t[p];return o/t.length};v.exports=y},85710:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(6411),p=function(a,n){return o(a)/o(n)/o(a-n)};v.exports=p},30976:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return Math.floor(Math.random()*(o-t+1)+t)};v.exports=y},87842:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a,n){var i=(a-o)*.5,e=(n-p)*.5,r=t*t,l=t*r;return(2*p-2*a+i+e)*l+(-3*p+3*a-2*i-e)*r+i*t+p};v.exports=y},26302:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){o===void 0&&(o=0),p===void 0&&(p=10);var a=Math.pow(p,-o);return Math.ceil(t*a)/a};v.exports=y},45319:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){return Math.max(o,Math.min(p,t))};v.exports=y},39506:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36383),p=function(a){return a*o.DEG_TO_RAD};v.exports=p},61241:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return Math.abs(t-o)};v.exports=y},38857:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),p=t(83419),a=t(37867),n=t(29747),i=new a,e=new p({initialize:function r(l,s,u,d){l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=0),d===void 0&&(d=r.DefaultOrder),this._x=l,this._y=s,this._z=u,this._order=d,this.onChangeCallback=n},x:{get:function(){return this._x},set:function(r){this._x=r,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(r){this._y=r,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(r){this._z=r,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(r){this._order=r,this.onChangeCallback(this)}},set:function(r,l,s,u){return u===void 0&&(u=this._order),this._x=r,this._y=l,this._z=s,this._order=u,this.onChangeCallback(this),this},copy:function(r){return this.set(r.x,r.y,r.z,r.order)},setFromQuaternion:function(r,l,s){return l===void 0&&(l=this._order),s===void 0&&(s=!1),i.fromQuat(r),this.setFromRotationMatrix(i,l,s)},setFromRotationMatrix:function(r,l,s){l===void 0&&(l=this._order),s===void 0&&(s=!1);var u=r.val,d=u[0],f=u[4],c=u[8],m=u[1],T=u[5],C=u[9],S=u[2],A=u[6],P=u[10],R=0,F=0,D=0,L=.99999;switch(l){case"XYZ":{F=Math.asin(o(c,-1,1)),Math.abs(c)<L?(R=Math.atan2(-C,P),D=Math.atan2(-f,d)):R=Math.atan2(A,T);break}case"YXZ":{R=Math.asin(-o(C,-1,1)),Math.abs(C)<L?(F=Math.atan2(c,P),D=Math.atan2(m,T)):F=Math.atan2(-S,d);break}case"ZXY":{R=Math.asin(o(A,-1,1)),Math.abs(A)<L?(F=Math.atan2(-S,P),D=Math.atan2(-f,T)):D=Math.atan2(m,d);break}case"ZYX":{F=Math.asin(-o(S,-1,1)),Math.abs(S)<L?(R=Math.atan2(A,P),D=Math.atan2(m,d)):D=Math.atan2(-f,T);break}case"YZX":{D=Math.asin(o(m,-1,1)),Math.abs(m)<L?(R=Math.atan2(-C,T),F=Math.atan2(-S,d)):F=Math.atan2(c,P);break}case"XZY":{D=Math.asin(-o(f,-1,1)),Math.abs(f)<L?(R=Math.atan2(A,T),F=Math.atan2(c,d)):R=Math.atan2(-C,P);break}}return this._x=R,this._y=F,this._z=D,this._order=l,s&&this.onChangeCallback(this),this}});e.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],e.DefaultOrder="XYZ",v.exports=e},6411:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){if(t===0)return 1;for(var o=t;--t;)o*=t;return o};v.exports=y},99472:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return Math.random()*(o-t)+t};v.exports=y},77623:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){o===void 0&&(o=0),p===void 0&&(p=10);var a=Math.pow(p,-o);return Math.floor(t*a)/a};v.exports=y},62945:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),p=function(a,n,i){return a=o(a,0,1),(i-n)*a+n};v.exports=p},38265:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t/o/1e3};v.exports=y},78702:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t==parseFloat(t)?!(t%2):void 0};v.exports=y},94883:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t===parseFloat(t)?!(t%2):void 0};v.exports=y},28915:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){return(o-t)*p+t};v.exports=y},94908:v=>{/**
 * @author       Greg McLean <GregDevProjects>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){return p===void 0&&(p=0),t.clone().lerp(o,p)};v.exports=y},94434:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=new o({initialize:function(n){this.val=new Float32Array(9),n?this.copy(n):this.identity()},clone:function(){return new p(this)},set:function(a){return this.copy(a)},copy:function(a){var n=this.val,i=a.val;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],this},fromMat4:function(a){var n=a.val,i=this.val;return i[0]=n[0],i[1]=n[1],i[2]=n[2],i[3]=n[4],i[4]=n[5],i[5]=n[6],i[6]=n[8],i[7]=n[9],i[8]=n[10],this},fromArray:function(a){var n=this.val;return n[0]=a[0],n[1]=a[1],n[2]=a[2],n[3]=a[3],n[4]=a[4],n[5]=a[5],n[6]=a[6],n[7]=a[7],n[8]=a[8],this},identity:function(){var a=this.val;return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=1,a[5]=0,a[6]=0,a[7]=0,a[8]=1,this},transpose:function(){var a=this.val,n=a[1],i=a[2],e=a[5];return a[1]=a[3],a[2]=a[6],a[3]=n,a[5]=a[7],a[6]=i,a[7]=e,this},invert:function(){var a=this.val,n=a[0],i=a[1],e=a[2],r=a[3],l=a[4],s=a[5],u=a[6],d=a[7],f=a[8],c=f*l-s*d,m=-f*r+s*u,T=d*r-l*u,C=n*c+i*m+e*T;return C?(C=1/C,a[0]=c*C,a[1]=(-f*i+e*d)*C,a[2]=(s*i-e*l)*C,a[3]=m*C,a[4]=(f*n-e*u)*C,a[5]=(-s*n+e*r)*C,a[6]=T*C,a[7]=(-d*n+i*u)*C,a[8]=(l*n-i*r)*C,this):null},adjoint:function(){var a=this.val,n=a[0],i=a[1],e=a[2],r=a[3],l=a[4],s=a[5],u=a[6],d=a[7],f=a[8];return a[0]=l*f-s*d,a[1]=e*d-i*f,a[2]=i*s-e*l,a[3]=s*u-r*f,a[4]=n*f-e*u,a[5]=e*r-n*s,a[6]=r*d-l*u,a[7]=i*u-n*d,a[8]=n*l-i*r,this},determinant:function(){var a=this.val,n=a[0],i=a[1],e=a[2],r=a[3],l=a[4],s=a[5],u=a[6],d=a[7],f=a[8];return n*(f*l-s*d)+i*(-f*r+s*u)+e*(d*r-l*u)},multiply:function(a){var n=this.val,i=n[0],e=n[1],r=n[2],l=n[3],s=n[4],u=n[5],d=n[6],f=n[7],c=n[8],m=a.val,T=m[0],C=m[1],S=m[2],A=m[3],P=m[4],R=m[5],F=m[6],D=m[7],L=m[8];return n[0]=T*i+C*l+S*d,n[1]=T*e+C*s+S*f,n[2]=T*r+C*u+S*c,n[3]=A*i+P*l+R*d,n[4]=A*e+P*s+R*f,n[5]=A*r+P*u+R*c,n[6]=F*i+D*l+L*d,n[7]=F*e+D*s+L*f,n[8]=F*r+D*u+L*c,this},translate:function(a){var n=this.val,i=a.x,e=a.y;return n[6]=i*n[0]+e*n[3]+n[6],n[7]=i*n[1]+e*n[4]+n[7],n[8]=i*n[2]+e*n[5]+n[8],this},rotate:function(a){var n=this.val,i=n[0],e=n[1],r=n[2],l=n[3],s=n[4],u=n[5],d=Math.sin(a),f=Math.cos(a);return n[0]=f*i+d*l,n[1]=f*e+d*s,n[2]=f*r+d*u,n[3]=f*l-d*i,n[4]=f*s-d*e,n[5]=f*u-d*r,this},scale:function(a){var n=this.val,i=a.x,e=a.y;return n[0]=i*n[0],n[1]=i*n[1],n[2]=i*n[2],n[3]=e*n[3],n[4]=e*n[4],n[5]=e*n[5],this},fromQuat:function(a){var n=a.x,i=a.y,e=a.z,r=a.w,l=n+n,s=i+i,u=e+e,d=n*l,f=n*s,c=n*u,m=i*s,T=i*u,C=e*u,S=r*l,A=r*s,P=r*u,R=this.val;return R[0]=1-(m+C),R[3]=f+P,R[6]=c-A,R[1]=f-P,R[4]=1-(d+C),R[7]=T+S,R[2]=c+A,R[5]=T-S,R[8]=1-(d+m),this},normalFromMat4:function(a){var n=a.val,i=this.val,e=n[0],r=n[1],l=n[2],s=n[3],u=n[4],d=n[5],f=n[6],c=n[7],m=n[8],T=n[9],C=n[10],S=n[11],A=n[12],P=n[13],R=n[14],F=n[15],D=e*d-r*u,L=e*f-l*u,O=e*c-s*u,B=r*f-l*d,b=r*c-s*d,z=l*c-s*f,V=m*P-T*A,W=m*R-C*A,K=m*F-S*A,U=T*R-C*P,Y=T*F-S*P,I=C*F-S*R,N=D*I-L*Y+O*U+B*K-b*W+z*V;return N?(N=1/N,i[0]=(d*I-f*Y+c*U)*N,i[1]=(f*K-u*I-c*W)*N,i[2]=(u*Y-d*K+c*V)*N,i[3]=(l*Y-r*I-s*U)*N,i[4]=(e*I-l*K+s*W)*N,i[5]=(r*K-e*Y-s*V)*N,i[6]=(P*z-R*b+F*B)*N,i[7]=(R*O-A*z-F*L)*N,i[8]=(A*b-P*O+F*D)*N,this):null}});v.exports=p},37867:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(25836),a=1e-6,n=new o({initialize:function(d){this.val=new Float32Array(16),d?this.copy(d):this.identity()},clone:function(){return new n(this)},set:function(u){return this.copy(u)},setValues:function(u,d,f,c,m,T,C,S,A,P,R,F,D,L,O,B){var b=this.val;return b[0]=u,b[1]=d,b[2]=f,b[3]=c,b[4]=m,b[5]=T,b[6]=C,b[7]=S,b[8]=A,b[9]=P,b[10]=R,b[11]=F,b[12]=D,b[13]=L,b[14]=O,b[15]=B,this},copy:function(u){var d=u.val;return this.setValues(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8],d[9],d[10],d[11],d[12],d[13],d[14],d[15])},fromArray:function(u){return this.setValues(u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8],u[9],u[10],u[11],u[12],u[13],u[14],u[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(u,d,f){var c=i.fromQuat(f),m=c.val,T=d.x,C=d.y,S=d.z;return this.setValues(m[0]*T,m[1]*T,m[2]*T,0,m[4]*C,m[5]*C,m[6]*C,0,m[8]*S,m[9]*S,m[10]*S,0,u.x,u.y,u.z,1)},xyz:function(u,d,f){this.identity();var c=this.val;return c[12]=u,c[13]=d,c[14]=f,this},scaling:function(u,d,f){this.zero();var c=this.val;return c[0]=u,c[5]=d,c[10]=f,c[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var u=this.val,d=u[1],f=u[2],c=u[3],m=u[6],T=u[7],C=u[11];return u[1]=u[4],u[2]=u[8],u[3]=u[12],u[4]=d,u[6]=u[9],u[7]=u[13],u[8]=f,u[9]=m,u[11]=u[14],u[12]=c,u[13]=T,u[14]=C,this},getInverse:function(u){return this.copy(u),this.invert()},invert:function(){var u=this.val,d=u[0],f=u[1],c=u[2],m=u[3],T=u[4],C=u[5],S=u[6],A=u[7],P=u[8],R=u[9],F=u[10],D=u[11],L=u[12],O=u[13],B=u[14],b=u[15],z=d*C-f*T,V=d*S-c*T,W=d*A-m*T,K=f*S-c*C,U=f*A-m*C,Y=c*A-m*S,I=P*O-R*L,N=P*B-F*L,G=P*b-D*L,X=R*B-F*O,H=R*b-D*O,Q=F*b-D*B,$=z*Q-V*H+W*X+K*G-U*N+Y*I;return $?($=1/$,this.setValues((C*Q-S*H+A*X)*$,(c*H-f*Q-m*X)*$,(O*Y-B*U+b*K)*$,(F*U-R*Y-D*K)*$,(S*G-T*Q-A*N)*$,(d*Q-c*G+m*N)*$,(B*W-L*Y-b*V)*$,(P*Y-F*W+D*V)*$,(T*H-C*G+A*I)*$,(f*G-d*H-m*I)*$,(L*U-O*W+b*z)*$,(R*W-P*U-D*z)*$,(C*N-T*X-S*I)*$,(d*X-f*N+c*I)*$,(O*V-L*K-B*z)*$,(P*K-R*V+F*z)*$)):this},adjoint:function(){var u=this.val,d=u[0],f=u[1],c=u[2],m=u[3],T=u[4],C=u[5],S=u[6],A=u[7],P=u[8],R=u[9],F=u[10],D=u[11],L=u[12],O=u[13],B=u[14],b=u[15];return this.setValues(C*(F*b-D*B)-R*(S*b-A*B)+O*(S*D-A*F),-(f*(F*b-D*B)-R*(c*b-m*B)+O*(c*D-m*F)),f*(S*b-A*B)-C*(c*b-m*B)+O*(c*A-m*S),-(f*(S*D-A*F)-C*(c*D-m*F)+R*(c*A-m*S)),-(T*(F*b-D*B)-P*(S*b-A*B)+L*(S*D-A*F)),d*(F*b-D*B)-P*(c*b-m*B)+L*(c*D-m*F),-(d*(S*b-A*B)-T*(c*b-m*B)+L*(c*A-m*S)),d*(S*D-A*F)-T*(c*D-m*F)+P*(c*A-m*S),T*(R*b-D*O)-P*(C*b-A*O)+L*(C*D-A*R),-(d*(R*b-D*O)-P*(f*b-m*O)+L*(f*D-m*R)),d*(C*b-A*O)-T*(f*b-m*O)+L*(f*A-m*C),-(d*(C*D-A*R)-T*(f*D-m*R)+P*(f*A-m*C)),-(T*(R*B-F*O)-P*(C*B-S*O)+L*(C*F-S*R)),d*(R*B-F*O)-P*(f*B-c*O)+L*(f*F-c*R),-(d*(C*B-S*O)-T*(f*B-c*O)+L*(f*S-c*C)),d*(C*F-S*R)-T*(f*F-c*R)+P*(f*S-c*C))},determinant:function(){var u=this.val,d=u[0],f=u[1],c=u[2],m=u[3],T=u[4],C=u[5],S=u[6],A=u[7],P=u[8],R=u[9],F=u[10],D=u[11],L=u[12],O=u[13],B=u[14],b=u[15],z=d*C-f*T,V=d*S-c*T,W=d*A-m*T,K=f*S-c*C,U=f*A-m*C,Y=c*A-m*S,I=P*O-R*L,N=P*B-F*L,G=P*b-D*L,X=R*B-F*O,H=R*b-D*O,Q=F*b-D*B;return z*Q-V*H+W*X+K*G-U*N+Y*I},multiply:function(u){var d=this.val,f=d[0],c=d[1],m=d[2],T=d[3],C=d[4],S=d[5],A=d[6],P=d[7],R=d[8],F=d[9],D=d[10],L=d[11],O=d[12],B=d[13],b=d[14],z=d[15],V=u.val,W=V[0],K=V[1],U=V[2],Y=V[3];return d[0]=W*f+K*C+U*R+Y*O,d[1]=W*c+K*S+U*F+Y*B,d[2]=W*m+K*A+U*D+Y*b,d[3]=W*T+K*P+U*L+Y*z,W=V[4],K=V[5],U=V[6],Y=V[7],d[4]=W*f+K*C+U*R+Y*O,d[5]=W*c+K*S+U*F+Y*B,d[6]=W*m+K*A+U*D+Y*b,d[7]=W*T+K*P+U*L+Y*z,W=V[8],K=V[9],U=V[10],Y=V[11],d[8]=W*f+K*C+U*R+Y*O,d[9]=W*c+K*S+U*F+Y*B,d[10]=W*m+K*A+U*D+Y*b,d[11]=W*T+K*P+U*L+Y*z,W=V[12],K=V[13],U=V[14],Y=V[15],d[12]=W*f+K*C+U*R+Y*O,d[13]=W*c+K*S+U*F+Y*B,d[14]=W*m+K*A+U*D+Y*b,d[15]=W*T+K*P+U*L+Y*z,this},multiplyLocal:function(u){var d=this.val,f=u.val;return this.setValues(d[0]*f[0]+d[1]*f[4]+d[2]*f[8]+d[3]*f[12],d[0]*f[1]+d[1]*f[5]+d[2]*f[9]+d[3]*f[13],d[0]*f[2]+d[1]*f[6]+d[2]*f[10]+d[3]*f[14],d[0]*f[3]+d[1]*f[7]+d[2]*f[11]+d[3]*f[15],d[4]*f[0]+d[5]*f[4]+d[6]*f[8]+d[7]*f[12],d[4]*f[1]+d[5]*f[5]+d[6]*f[9]+d[7]*f[13],d[4]*f[2]+d[5]*f[6]+d[6]*f[10]+d[7]*f[14],d[4]*f[3]+d[5]*f[7]+d[6]*f[11]+d[7]*f[15],d[8]*f[0]+d[9]*f[4]+d[10]*f[8]+d[11]*f[12],d[8]*f[1]+d[9]*f[5]+d[10]*f[9]+d[11]*f[13],d[8]*f[2]+d[9]*f[6]+d[10]*f[10]+d[11]*f[14],d[8]*f[3]+d[9]*f[7]+d[10]*f[11]+d[11]*f[15],d[12]*f[0]+d[13]*f[4]+d[14]*f[8]+d[15]*f[12],d[12]*f[1]+d[13]*f[5]+d[14]*f[9]+d[15]*f[13],d[12]*f[2]+d[13]*f[6]+d[14]*f[10]+d[15]*f[14],d[12]*f[3]+d[13]*f[7]+d[14]*f[11]+d[15]*f[15])},premultiply:function(u){return this.multiplyMatrices(u,this)},multiplyMatrices:function(u,d){var f=u.val,c=d.val,m=f[0],T=f[4],C=f[8],S=f[12],A=f[1],P=f[5],R=f[9],F=f[13],D=f[2],L=f[6],O=f[10],B=f[14],b=f[3],z=f[7],V=f[11],W=f[15],K=c[0],U=c[4],Y=c[8],I=c[12],N=c[1],G=c[5],X=c[9],H=c[13],Q=c[2],$=c[6],Z=c[10],J=c[14],j=c[3],k=c[7],_=c[11],q=c[15];return this.setValues(m*K+T*N+C*Q+S*j,A*K+P*N+R*Q+F*j,D*K+L*N+O*Q+B*j,b*K+z*N+V*Q+W*j,m*U+T*G+C*$+S*k,A*U+P*G+R*$+F*k,D*U+L*G+O*$+B*k,b*U+z*G+V*$+W*k,m*Y+T*X+C*Z+S*_,A*Y+P*X+R*Z+F*_,D*Y+L*X+O*Z+B*_,b*Y+z*X+V*Z+W*_,m*I+T*H+C*J+S*q,A*I+P*H+R*J+F*q,D*I+L*H+O*J+B*q,b*I+z*H+V*J+W*q)},translate:function(u){return this.translateXYZ(u.x,u.y,u.z)},translateXYZ:function(u,d,f){var c=this.val;return c[12]=c[0]*u+c[4]*d+c[8]*f+c[12],c[13]=c[1]*u+c[5]*d+c[9]*f+c[13],c[14]=c[2]*u+c[6]*d+c[10]*f+c[14],c[15]=c[3]*u+c[7]*d+c[11]*f+c[15],this},scale:function(u){return this.scaleXYZ(u.x,u.y,u.z)},scaleXYZ:function(u,d,f){var c=this.val;return c[0]=c[0]*u,c[1]=c[1]*u,c[2]=c[2]*u,c[3]=c[3]*u,c[4]=c[4]*d,c[5]=c[5]*d,c[6]=c[6]*d,c[7]=c[7]*d,c[8]=c[8]*f,c[9]=c[9]*f,c[10]=c[10]*f,c[11]=c[11]*f,this},makeRotationAxis:function(u,d){var f=Math.cos(d),c=Math.sin(d),m=1-f,T=u.x,C=u.y,S=u.z,A=m*T,P=m*C;return this.setValues(A*T+f,A*C-c*S,A*S+c*C,0,A*C+c*S,P*C+f,P*S-c*T,0,A*S-c*C,P*S+c*T,m*S*S+f,0,0,0,0,1)},rotate:function(u,d){var f=this.val,c=d.x,m=d.y,T=d.z,C=Math.sqrt(c*c+m*m+T*T);if(Math.abs(C)<a)return this;C=1/C,c*=C,m*=C,T*=C;var S=Math.sin(u),A=Math.cos(u),P=1-A,R=f[0],F=f[1],D=f[2],L=f[3],O=f[4],B=f[5],b=f[6],z=f[7],V=f[8],W=f[9],K=f[10],U=f[11],Y=f[12],I=f[13],N=f[14],G=f[15],X=c*c*P+A,H=m*c*P+T*S,Q=T*c*P-m*S,$=c*m*P-T*S,Z=m*m*P+A,J=T*m*P+c*S,j=c*T*P+m*S,k=m*T*P-c*S,_=T*T*P+A;return this.setValues(R*X+O*H+V*Q,F*X+B*H+W*Q,D*X+b*H+K*Q,L*X+z*H+U*Q,R*$+O*Z+V*J,F*$+B*Z+W*J,D*$+b*Z+K*J,L*$+z*Z+U*J,R*j+O*k+V*_,F*j+B*k+W*_,D*j+b*k+K*_,L*j+z*k+U*_,Y,I,N,G)},rotateX:function(u){var d=this.val,f=Math.sin(u),c=Math.cos(u),m=d[4],T=d[5],C=d[6],S=d[7],A=d[8],P=d[9],R=d[10],F=d[11];return d[4]=m*c+A*f,d[5]=T*c+P*f,d[6]=C*c+R*f,d[7]=S*c+F*f,d[8]=A*c-m*f,d[9]=P*c-T*f,d[10]=R*c-C*f,d[11]=F*c-S*f,this},rotateY:function(u){var d=this.val,f=Math.sin(u),c=Math.cos(u),m=d[0],T=d[1],C=d[2],S=d[3],A=d[8],P=d[9],R=d[10],F=d[11];return d[0]=m*c-A*f,d[1]=T*c-P*f,d[2]=C*c-R*f,d[3]=S*c-F*f,d[8]=m*f+A*c,d[9]=T*f+P*c,d[10]=C*f+R*c,d[11]=S*f+F*c,this},rotateZ:function(u){var d=this.val,f=Math.sin(u),c=Math.cos(u),m=d[0],T=d[1],C=d[2],S=d[3],A=d[4],P=d[5],R=d[6],F=d[7];return d[0]=m*c+A*f,d[1]=T*c+P*f,d[2]=C*c+R*f,d[3]=S*c+F*f,d[4]=A*c-m*f,d[5]=P*c-T*f,d[6]=R*c-C*f,d[7]=F*c-S*f,this},fromRotationTranslation:function(u,d){var f=u.x,c=u.y,m=u.z,T=u.w,C=f+f,S=c+c,A=m+m,P=f*C,R=f*S,F=f*A,D=c*S,L=c*A,O=m*A,B=T*C,b=T*S,z=T*A;return this.setValues(1-(D+O),R+z,F-b,0,R-z,1-(P+O),L+B,0,F+b,L-B,1-(P+D),0,d.x,d.y,d.z,1)},fromQuat:function(u){var d=u.x,f=u.y,c=u.z,m=u.w,T=d+d,C=f+f,S=c+c,A=d*T,P=d*C,R=d*S,F=f*C,D=f*S,L=c*S,O=m*T,B=m*C,b=m*S;return this.setValues(1-(F+L),P+b,R-B,0,P-b,1-(A+L),D+O,0,R+B,D-O,1-(A+F),0,0,0,0,1)},frustum:function(u,d,f,c,m,T){var C=1/(d-u),S=1/(c-f),A=1/(m-T);return this.setValues(m*2*C,0,0,0,0,m*2*S,0,0,(d+u)*C,(c+f)*S,(T+m)*A,-1,0,0,T*m*2*A,0)},perspective:function(u,d,f,c){var m=1/Math.tan(u/2),T=1/(f-c);return this.setValues(m/d,0,0,0,0,m,0,0,0,0,(c+f)*T,-1,0,0,2*c*f*T,0)},perspectiveLH:function(u,d,f,c){return this.setValues(2*f/u,0,0,0,0,2*f/d,0,0,0,0,-c/(f-c),1,0,0,f*c/(f-c),0)},ortho:function(u,d,f,c,m,T){var C=u-d,S=f-c,A=m-T;return C=C===0?C:1/C,S=S===0?S:1/S,A=A===0?A:1/A,this.setValues(-2*C,0,0,0,0,-2*S,0,0,0,0,2*A,0,(u+d)*C,(c+f)*S,(T+m)*A,1)},lookAtRH:function(u,d,f){var c=this.val;return s.subVectors(u,d),s.getLengthSquared()===0&&(s.z=1),s.normalize(),r.crossVectors(f,s),r.getLengthSquared()===0&&(Math.abs(f.z)===1?s.x+=1e-4:s.z+=1e-4,s.normalize(),r.crossVectors(f,s)),r.normalize(),l.crossVectors(s,r),c[0]=r.x,c[1]=r.y,c[2]=r.z,c[4]=l.x,c[5]=l.y,c[6]=l.z,c[8]=s.x,c[9]=s.y,c[10]=s.z,this},lookAt:function(u,d,f){var c=u.x,m=u.y,T=u.z,C=f.x,S=f.y,A=f.z,P=d.x,R=d.y,F=d.z;if(Math.abs(c-P)<a&&Math.abs(m-R)<a&&Math.abs(T-F)<a)return this.identity();var D=c-P,L=m-R,O=T-F,B=1/Math.sqrt(D*D+L*L+O*O);D*=B,L*=B,O*=B;var b=S*O-A*L,z=A*D-C*O,V=C*L-S*D;B=Math.sqrt(b*b+z*z+V*V),B?(B=1/B,b*=B,z*=B,V*=B):(b=0,z=0,V=0);var W=L*V-O*z,K=O*b-D*V,U=D*z-L*b;return B=Math.sqrt(W*W+K*K+U*U),B?(B=1/B,W*=B,K*=B,U*=B):(W=0,K=0,U=0),this.setValues(b,W,D,0,z,K,L,0,V,U,O,0,-(b*c+z*m+V*T),-(W*c+K*m+U*T),-(D*c+L*m+O*T),1)},yawPitchRoll:function(u,d,f){this.zero(),i.zero(),e.zero();var c=this.val,m=i.val,T=e.val,C=Math.sin(f),S=Math.cos(f);return c[10]=1,c[15]=1,c[0]=S,c[1]=C,c[4]=-C,c[5]=S,C=Math.sin(d),S=Math.cos(d),m[0]=1,m[15]=1,m[5]=S,m[10]=S,m[9]=-C,m[6]=C,C=Math.sin(u),S=Math.cos(u),T[5]=1,T[15]=1,T[0]=S,T[2]=-C,T[8]=C,T[10]=S,this.multiplyLocal(i),this.multiplyLocal(e),this},setWorldMatrix:function(u,d,f,c,m){return this.yawPitchRoll(u.y,u.x,u.z),i.scaling(f.x,f.y,f.z),e.xyz(d.x,d.y,d.z),this.multiplyLocal(i),this.multiplyLocal(e),c&&this.multiplyLocal(c),m&&this.multiplyLocal(m),this},multiplyToMat4:function(u,d){var f=this.val,c=u.val,m=f[0],T=f[1],C=f[2],S=f[3],A=f[4],P=f[5],R=f[6],F=f[7],D=f[8],L=f[9],O=f[10],B=f[11],b=f[12],z=f[13],V=f[14],W=f[15],K=c[0],U=c[1],Y=c[2],I=c[3],N=c[4],G=c[5],X=c[6],H=c[7],Q=c[8],$=c[9],Z=c[10],J=c[11],j=c[12],k=c[13],_=c[14],q=c[15];return d.setValues(K*m+U*A+Y*D+I*b,U*T+U*P+Y*L+I*z,Y*C+U*R+Y*O+I*V,I*S+U*F+Y*B+I*W,N*m+G*A+X*D+H*b,N*T+G*P+X*L+H*z,N*C+G*R+X*O+H*V,N*S+G*F+X*B+H*W,Q*m+$*A+Z*D+J*b,Q*T+$*P+Z*L+J*z,Q*C+$*R+Z*O+J*V,Q*S+$*F+Z*B+J*W,j*m+k*A+_*D+q*b,j*T+k*P+_*L+q*z,j*C+k*R+_*O+q*V,j*S+k*F+_*B+q*W)},fromRotationXYTranslation:function(u,d,f){var c=d.x,m=d.y,T=d.z,C=Math.sin(u.x),S=Math.cos(u.x),A=Math.sin(u.y),P=Math.cos(u.y),R=c,F=m,D=T,L=-C,O=0-L*A,B=0-S*A,b=L*P,z=S*P;return f||(R=P*c+A*T,F=O*c+S*m+b*T,D=B*c+C*m+z*T),this.setValues(P,O,B,0,0,S,C,0,A,b,z,0,R,F,D,1)},getMaxScaleOnAxis:function(){var u=this.val,d=u[0]*u[0]+u[1]*u[1]+u[2]*u[2],f=u[4]*u[4]+u[5]*u[5]+u[6]*u[6],c=u[8]*u[8]+u[9]*u[9]+u[10]*u[10];return Math.sqrt(Math.max(d,f,c))}}),i=new n,e=new n,r=new p,l=new p,s=new p;v.exports=n},86883:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){return Math.min(t+o,p)};v.exports=y},50040:v=>{/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var o=t.length;if(o===0)return 0;t.sort(function(a,n){return a-n});var p=Math.floor(o/2);return o%2===0?(t[p]+t[p-1])/2:t[p]};v.exports=y},37204:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){return Math.max(t-o,p)};v.exports=y},65201:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a){p===void 0&&(p=o+1);var n=(t-o)/(p-o);return n>1?a!==void 0?(n=(a-t)/(a-p),n<0&&(n=0)):n=1:n<0&&(n=0),n};v.exports=y},15746:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(94434),a=t(29747),n=t(25836),i=1e-6,e=new Int8Array([1,2,0]),r=new Float32Array([0,0,0]),l=new n(1,0,0),s=new n(0,1,0),u=new n,d=new p,f=new o({initialize:function(m,T,C,S){this.onChangeCallback=a,this.set(m,T,C,S)},x:{get:function(){return this._x},set:function(c){this._x=c,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(c){this._y=c,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(c){this._z=c,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(c){this._w=c,this.onChangeCallback(this)}},copy:function(c){return this.set(c)},set:function(c,m,T,C,S){return S===void 0&&(S=!0),typeof c=="object"?(this._x=c.x||0,this._y=c.y||0,this._z=c.z||0,this._w=c.w||0):(this._x=c||0,this._y=m||0,this._z=T||0,this._w=C||0),S&&this.onChangeCallback(this),this},add:function(c){return this._x+=c.x,this._y+=c.y,this._z+=c.z,this._w+=c.w,this.onChangeCallback(this),this},subtract:function(c){return this._x-=c.x,this._y-=c.y,this._z-=c.z,this._w-=c.w,this.onChangeCallback(this),this},scale:function(c){return this._x*=c,this._y*=c,this._z*=c,this._w*=c,this.onChangeCallback(this),this},length:function(){var c=this.x,m=this.y,T=this.z,C=this.w;return Math.sqrt(c*c+m*m+T*T+C*C)},lengthSq:function(){var c=this.x,m=this.y,T=this.z,C=this.w;return c*c+m*m+T*T+C*C},normalize:function(){var c=this.x,m=this.y,T=this.z,C=this.w,S=c*c+m*m+T*T+C*C;return S>0&&(S=1/Math.sqrt(S),this._x=c*S,this._y=m*S,this._z=T*S,this._w=C*S),this.onChangeCallback(this),this},dot:function(c){return this.x*c.x+this.y*c.y+this.z*c.z+this.w*c.w},lerp:function(c,m){m===void 0&&(m=0);var T=this.x,C=this.y,S=this.z,A=this.w;return this.set(T+m*(c.x-T),C+m*(c.y-C),S+m*(c.z-S),A+m*(c.w-A))},rotationTo:function(c,m){var T=c.x*m.x+c.y*m.y+c.z*m.z;return T<-.999999?(u.copy(l).cross(c).length()<i&&u.copy(s).cross(c),u.normalize(),this.setAxisAngle(u,Math.PI)):T>.999999?this.set(0,0,0,1):(u.copy(c).cross(m),this._x=u.x,this._y=u.y,this._z=u.z,this._w=1+T,this.normalize())},setAxes:function(c,m,T){var C=d.val;return C[0]=m.x,C[3]=m.y,C[6]=m.z,C[1]=T.x,C[4]=T.y,C[7]=T.z,C[2]=-c.x,C[5]=-c.y,C[8]=-c.z,this.fromMat3(d).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(c,m){m=m*.5;var T=Math.sin(m);return this.set(T*c.x,T*c.y,T*c.z,Math.cos(m))},multiply:function(c){var m=this.x,T=this.y,C=this.z,S=this.w,A=c.x,P=c.y,R=c.z,F=c.w;return this.set(m*F+S*A+T*R-C*P,T*F+S*P+C*A-m*R,C*F+S*R+m*P-T*A,S*F-m*A-T*P-C*R)},slerp:function(c,m){var T=this.x,C=this.y,S=this.z,A=this.w,P=c.x,R=c.y,F=c.z,D=c.w,L=T*P+C*R+S*F+A*D;L<0&&(L=-L,P=-P,R=-R,F=-F,D=-D);var O=1-m,B=m;if(1-L>i){var b=Math.acos(L),z=Math.sin(b);O=Math.sin((1-m)*b)/z,B=Math.sin(m*b)/z}return this.set(O*T+B*P,O*C+B*R,O*S+B*F,O*A+B*D)},invert:function(){var c=this.x,m=this.y,T=this.z,C=this.w,S=c*c+m*m+T*T+C*C,A=S?1/S:0;return this.set(-c*A,-m*A,-T*A,C*A)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(c){c*=.5;var m=this.x,T=this.y,C=this.z,S=this.w,A=Math.sin(c),P=Math.cos(c);return this.set(m*P+S*A,T*P+C*A,C*P-T*A,S*P-m*A)},rotateY:function(c){c*=.5;var m=this.x,T=this.y,C=this.z,S=this.w,A=Math.sin(c),P=Math.cos(c);return this.set(m*P-C*A,T*P+S*A,C*P+m*A,S*P-T*A)},rotateZ:function(c){c*=.5;var m=this.x,T=this.y,C=this.z,S=this.w,A=Math.sin(c),P=Math.cos(c);return this.set(m*P+T*A,T*P-m*A,C*P+S*A,S*P-C*A)},calculateW:function(){var c=this.x,m=this.y,T=this.z;return this.w=-Math.sqrt(1-c*c-m*m-T*T),this},setFromEuler:function(c,m){var T=c.x/2,C=c.y/2,S=c.z/2,A=Math.cos(T),P=Math.cos(C),R=Math.cos(S),F=Math.sin(T),D=Math.sin(C),L=Math.sin(S);switch(c.order){case"XYZ":{this.set(F*P*R+A*D*L,A*D*R-F*P*L,A*P*L+F*D*R,A*P*R-F*D*L,m);break}case"YXZ":{this.set(F*P*R+A*D*L,A*D*R-F*P*L,A*P*L-F*D*R,A*P*R+F*D*L,m);break}case"ZXY":{this.set(F*P*R-A*D*L,A*D*R+F*P*L,A*P*L+F*D*R,A*P*R-F*D*L,m);break}case"ZYX":{this.set(F*P*R-A*D*L,A*D*R+F*P*L,A*P*L-F*D*R,A*P*R+F*D*L,m);break}case"YZX":{this.set(F*P*R+A*D*L,A*D*R+F*P*L,A*P*L-F*D*R,A*P*R-F*D*L,m);break}case"XZY":{this.set(F*P*R-A*D*L,A*D*R-F*P*L,A*P*L+F*D*R,A*P*R+F*D*L,m);break}}return this},setFromRotationMatrix:function(c){var m=c.val,T=m[0],C=m[4],S=m[8],A=m[1],P=m[5],R=m[9],F=m[2],D=m[6],L=m[10],O=T+P+L,B;return O>0?(B=.5/Math.sqrt(O+1),this.set((D-R)*B,(S-F)*B,(A-C)*B,.25/B)):T>P&&T>L?(B=2*Math.sqrt(1+T-P-L),this.set(.25*B,(C+A)/B,(S+F)/B,(D-R)/B)):P>L?(B=2*Math.sqrt(1+P-T-L),this.set((C+A)/B,.25*B,(R+D)/B,(S-F)/B)):(B=2*Math.sqrt(1+L-T-P),this.set((S+F)/B,(R+D)/B,.25*B,(A-C)/B)),this},fromMat3:function(c){var m=c.val,T=m[0]+m[4]+m[8],C;if(T>0)C=Math.sqrt(T+1),this.w=.5*C,C=.5/C,this._x=(m[7]-m[5])*C,this._y=(m[2]-m[6])*C,this._z=(m[3]-m[1])*C;else{var S=0;m[4]>m[0]&&(S=1),m[8]>m[S*3+S]&&(S=2);var A=e[S],P=e[A];C=Math.sqrt(m[S*3+S]-m[A*3+A]-m[P*3+P]+1),r[S]=.5*C,C=.5/C,r[A]=(m[A*3+S]+m[S*3+A])*C,r[P]=(m[P*3+S]+m[S*3+P])*C,this._x=r[0],this._y=r[1],this._z=r[2],this._w=(m[P*3+A]-m[A*3+P])*C}return this.onChangeCallback(this),this}});v.exports=f},43396:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36383),p=function(a){return a*o.RAD_TO_DEG};v.exports=p},74362:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){o===void 0&&(o=1);var p=Math.random()*2*Math.PI;return t.x=Math.cos(p)*o,t.y=Math.sin(p)*o,t};v.exports=y},60706:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){o===void 0&&(o=1);var p=Math.random()*2*Math.PI,a=Math.random()*2-1,n=Math.sqrt(1-a*a)*o;return t.x=Math.cos(p)*n,t.y=Math.sin(p)*n,t.z=a*o,t};v.exports=y},67421:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o===void 0&&(o=1),t.x=(Math.random()*2-1)*o,t.y=(Math.random()*2-1)*o,t.z=(Math.random()*2-1)*o,t.w=(Math.random()*2-1)*o,t};v.exports=y},36305:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){var p=t.x,a=t.y;return t.x=p*Math.cos(o)-a*Math.sin(o),t.y=p*Math.sin(o)+a*Math.cos(o),t};v.exports=y},11520:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a){var n=Math.cos(a),i=Math.sin(a),e=t.x-o,r=t.y-p;return t.x=e*n-r*i+o,t.y=e*i+r*n+p,t};v.exports=y},1163:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a,n){var i=a+Math.atan2(t.y-p,t.x-o);return t.x=o+n*Math.cos(i),t.y=p+n*Math.sin(i),t};v.exports=y},70336:v=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a,n){return t.x=o+n*Math.cos(a),t.y=p+n*Math.sin(a),t};v.exports=y},72678:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25836),p=t(37867),a=t(15746),n=new p,i=new a,e=new o,r=function(l,s,u){return i.setAxisAngle(s,u),n.fromRotationTranslation(i,e.set(0,0,0)),l.transformMat4(n)};v.exports=r},2284:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t>0?Math.ceil(t):Math.floor(t)};v.exports=y},41013:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){o===void 0&&(o=0),p===void 0&&(p=10);var a=Math.pow(p,-o);return Math.round(t*a)/a};v.exports=y},16922:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a){o===void 0&&(o=1),p===void 0&&(p=1),a===void 0&&(a=1),a*=Math.PI/t;for(var n=[],i=[],e=0;e<t;e++)p-=o*a,o+=p*a,n[e]=p,i[e]=o;return{sin:i,cos:n,length:t}};v.exports=y},7602:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){return t<=o?0:t>=p?1:(t=(t-o)/(p-o),t*t*(3-2*t))};v.exports=y},54261:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){return t=Math.max(0,Math.min(1,(t-o)/(p-o))),t*t*t*(t*(t*6-15)+10)};v.exports=y},44408:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),p=function(a,n,i,e){e===void 0&&(e=new o);var r=0,l=0,s=n*i;return a>0&&a<=s&&(a>n-1?(l=Math.floor(a/n),r=a-l*n):r=a),e.set(r,l)};v.exports=p},85955:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),p=function(a,n,i,e,r,l,s,u){u===void 0&&(u=new o);var d=Math.sin(r),f=Math.cos(r),c=f*l,m=d*l,T=-d*s,C=f*s,S=1/(c*C+T*-m);return u.x=C*S*a+-T*S*n+(e*T-i*C)*S,u.y=c*S*n+-m*S*a+(-e*c+i*m)*S,u};v.exports=p},26099:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(43855),a=new o({initialize:function(i,e){this.x=0,this.y=0,typeof i=="object"?(this.x=i.x||0,this.y=i.y||0):(e===void 0&&(e=i),this.x=i||0,this.y=e||0)},clone:function(){return new a(this.x,this.y)},copy:function(n){return this.x=n.x||0,this.y=n.y||0,this},setFromObject:function(n){return this.x=n.x||0,this.y=n.y||0,this},set:function(n,i){return i===void 0&&(i=n),this.x=n,this.y=i,this},setTo:function(n,i){return this.set(n,i)},setToPolar:function(n,i){return i==null&&(i=1),this.x=Math.cos(n)*i,this.y=Math.sin(n)*i,this},equals:function(n){return this.x===n.x&&this.y===n.y},fuzzyEquals:function(n,i){return p(this.x,n.x,i)&&p(this.y,n.y,i)},angle:function(){var n=Math.atan2(this.y,this.x);return n<0&&(n+=2*Math.PI),n},setAngle:function(n){return this.setToPolar(n,this.length())},add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.x-=n.x,this.y-=n.y,this},multiply:function(n){return this.x*=n.x,this.y*=n.y,this},scale:function(n){return isFinite(n)?(this.x*=n,this.y*=n):(this.x=0,this.y=0),this},divide:function(n){return this.x/=n.x,this.y/=n.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(n){var i=n.x-this.x,e=n.y-this.y;return Math.sqrt(i*i+e*e)},distanceSq:function(n){var i=n.x-this.x,e=n.y-this.y;return i*i+e*e},length:function(){var n=this.x,i=this.y;return Math.sqrt(n*n+i*i)},setLength:function(n){return this.normalize().scale(n)},lengthSq:function(){var n=this.x,i=this.y;return n*n+i*i},normalize:function(){var n=this.x,i=this.y,e=n*n+i*i;return e>0&&(e=1/Math.sqrt(e),this.x=n*e,this.y=i*e),this},normalizeRightHand:function(){var n=this.x;return this.x=this.y*-1,this.y=n,this},normalizeLeftHand:function(){var n=this.x;return this.x=this.y,this.y=n*-1,this},dot:function(n){return this.x*n.x+this.y*n.y},cross:function(n){return this.x*n.y-this.y*n.x},lerp:function(n,i){i===void 0&&(i=0);var e=this.x,r=this.y;return this.x=e+i*(n.x-e),this.y=r+i*(n.y-r),this},transformMat3:function(n){var i=this.x,e=this.y,r=n.val;return this.x=r[0]*i+r[3]*e+r[6],this.y=r[1]*i+r[4]*e+r[7],this},transformMat4:function(n){var i=this.x,e=this.y,r=n.val;return this.x=r[0]*i+r[4]*e+r[12],this.y=r[1]*i+r[5]*e+r[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(n){var i=this.length();return i&&i>n&&this.scale(n/i),this},reflect:function(n){return n=n.clone().normalize(),this.subtract(n.scale(2*this.dot(n)))},mirror:function(n){return this.reflect(n).negate()},rotate:function(n){var i=Math.cos(n),e=Math.sin(n);return this.set(i*this.x-e*this.y,e*this.x+i*this.y)},project:function(n){var i=this.dot(n)/n.dot(n);return this.copy(n).scale(i)}});a.ZERO=new a,a.RIGHT=new a(1,0),a.LEFT=new a(-1,0),a.UP=new a(0,-1),a.DOWN=new a(0,1),a.ONE=new a(1,1),v.exports=a},25836:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=new o({initialize:function(n,i,e){this.x=0,this.y=0,this.z=0,typeof n=="object"?(this.x=n.x||0,this.y=n.y||0,this.z=n.z||0):(this.x=n||0,this.y=i||0,this.z=e||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(a){return this.x=Math.min(this.x,a.x),this.y=Math.min(this.y,a.y),this.z=Math.min(this.z,a.z),this},max:function(a){return this.x=Math.max(this.x,a.x),this.y=Math.max(this.y,a.y),this.z=Math.max(this.z,a.z),this},clone:function(){return new p(this.x,this.y,this.z)},addVectors:function(a,n){return this.x=a.x+n.x,this.y=a.y+n.y,this.z=a.z+n.z,this},crossVectors:function(a,n){var i=a.x,e=a.y,r=a.z,l=n.x,s=n.y,u=n.z;return this.x=e*u-r*s,this.y=r*l-i*u,this.z=i*s-e*l,this},equals:function(a){return this.x===a.x&&this.y===a.y&&this.z===a.z},copy:function(a){return this.x=a.x,this.y=a.y,this.z=a.z||0,this},set:function(a,n,i){return typeof a=="object"?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0):(this.x=a||0,this.y=n||0,this.z=i||0),this},setFromMatrixPosition:function(a){return this.fromArray(a.val,12)},setFromMatrixColumn:function(a,n){return this.fromArray(a.val,n*4)},fromArray:function(a,n){return n===void 0&&(n=0),this.x=a[n],this.y=a[n+1],this.z=a[n+2],this},add:function(a){return this.x+=a.x,this.y+=a.y,this.z+=a.z||0,this},addScalar:function(a){return this.x+=a,this.y+=a,this.z+=a,this},addScale:function(a,n){return this.x+=a.x*n,this.y+=a.y*n,this.z+=a.z*n||0,this},subtract:function(a){return this.x-=a.x,this.y-=a.y,this.z-=a.z||0,this},multiply:function(a){return this.x*=a.x,this.y*=a.y,this.z*=a.z||1,this},scale:function(a){return isFinite(a)?(this.x*=a,this.y*=a,this.z*=a):(this.x=0,this.y=0,this.z=0),this},divide:function(a){return this.x/=a.x,this.y/=a.y,this.z/=a.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(a){var n=a.x-this.x,i=a.y-this.y,e=a.z-this.z||0;return Math.sqrt(n*n+i*i+e*e)},distanceSq:function(a){var n=a.x-this.x,i=a.y-this.y,e=a.z-this.z||0;return n*n+i*i+e*e},length:function(){var a=this.x,n=this.y,i=this.z;return Math.sqrt(a*a+n*n+i*i)},lengthSq:function(){var a=this.x,n=this.y,i=this.z;return a*a+n*n+i*i},normalize:function(){var a=this.x,n=this.y,i=this.z,e=a*a+n*n+i*i;return e>0&&(e=1/Math.sqrt(e),this.x=a*e,this.y=n*e,this.z=i*e),this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},cross:function(a){var n=this.x,i=this.y,e=this.z,r=a.x,l=a.y,s=a.z;return this.x=i*s-e*l,this.y=e*r-n*s,this.z=n*l-i*r,this},lerp:function(a,n){n===void 0&&(n=0);var i=this.x,e=this.y,r=this.z;return this.x=i+n*(a.x-i),this.y=e+n*(a.y-e),this.z=r+n*(a.z-r),this},applyMatrix3:function(a){var n=this.x,i=this.y,e=this.z,r=a.val;return this.x=r[0]*n+r[3]*i+r[6]*e,this.y=r[1]*n+r[4]*i+r[7]*e,this.z=r[2]*n+r[5]*i+r[8]*e,this},applyMatrix4:function(a){var n=this.x,i=this.y,e=this.z,r=a.val,l=1/(r[3]*n+r[7]*i+r[11]*e+r[15]);return this.x=(r[0]*n+r[4]*i+r[8]*e+r[12])*l,this.y=(r[1]*n+r[5]*i+r[9]*e+r[13])*l,this.z=(r[2]*n+r[6]*i+r[10]*e+r[14])*l,this},transformMat3:function(a){var n=this.x,i=this.y,e=this.z,r=a.val;return this.x=n*r[0]+i*r[3]+e*r[6],this.y=n*r[1]+i*r[4]+e*r[7],this.z=n*r[2]+i*r[5]+e*r[8],this},transformMat4:function(a){var n=this.x,i=this.y,e=this.z,r=a.val;return this.x=r[0]*n+r[4]*i+r[8]*e+r[12],this.y=r[1]*n+r[5]*i+r[9]*e+r[13],this.z=r[2]*n+r[6]*i+r[10]*e+r[14],this},transformCoordinates:function(a){var n=this.x,i=this.y,e=this.z,r=a.val,l=n*r[0]+i*r[4]+e*r[8]+r[12],s=n*r[1]+i*r[5]+e*r[9]+r[13],u=n*r[2]+i*r[6]+e*r[10]+r[14],d=n*r[3]+i*r[7]+e*r[11]+r[15];return this.x=l/d,this.y=s/d,this.z=u/d,this},transformQuat:function(a){var n=this.x,i=this.y,e=this.z,r=a.x,l=a.y,s=a.z,u=a.w,d=u*n+l*e-s*i,f=u*i+s*n-r*e,c=u*e+r*i-l*n,m=-r*n-l*i-s*e;return this.x=d*u+m*-r+f*-s-c*-l,this.y=f*u+m*-l+c*-r-d*-s,this.z=c*u+m*-s+d*-l-f*-r,this},project:function(a){var n=this.x,i=this.y,e=this.z,r=a.val,l=r[0],s=r[1],u=r[2],d=r[3],f=r[4],c=r[5],m=r[6],T=r[7],C=r[8],S=r[9],A=r[10],P=r[11],R=r[12],F=r[13],D=r[14],L=r[15],O=1/(n*d+i*T+e*P+L);return this.x=(n*l+i*f+e*C+R)*O,this.y=(n*s+i*c+e*S+F)*O,this.z=(n*u+i*m+e*A+D)*O,this},projectViewMatrix:function(a,n){return this.applyMatrix4(a).applyMatrix4(n)},unprojectViewMatrix:function(a,n){return this.applyMatrix4(a).applyMatrix4(n)},unproject:function(a,n){var i=a.x,e=a.y,r=a.z,l=a.w,s=this.x-i,u=l-this.y-1-e,d=this.z;return this.x=2*s/r-1,this.y=2*u/l-1,this.z=2*d-1,this.project(n)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});p.ZERO=new p,p.RIGHT=new p(1,0,0),p.LEFT=new p(-1,0,0),p.UP=new p(0,-1,0),p.DOWN=new p(0,1,0),p.FORWARD=new p(0,0,1),p.BACK=new p(0,0,-1),p.ONE=new p(1,1,1),v.exports=p},61369:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=new o({initialize:function(n,i,e,r){this.x=0,this.y=0,this.z=0,this.w=0,typeof n=="object"?(this.x=n.x||0,this.y=n.y||0,this.z=n.z||0,this.w=n.w||0):(this.x=n||0,this.y=i||0,this.z=e||0,this.w=r||0)},clone:function(){return new p(this.x,this.y,this.z,this.w)},copy:function(a){return this.x=a.x,this.y=a.y,this.z=a.z||0,this.w=a.w||0,this},equals:function(a){return this.x===a.x&&this.y===a.y&&this.z===a.z&&this.w===a.w},set:function(a,n,i,e){return typeof a=="object"?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0,this.w=a.w||0):(this.x=a||0,this.y=n||0,this.z=i||0,this.w=e||0),this},add:function(a){return this.x+=a.x,this.y+=a.y,this.z+=a.z||0,this.w+=a.w||0,this},subtract:function(a){return this.x-=a.x,this.y-=a.y,this.z-=a.z||0,this.w-=a.w||0,this},scale:function(a){return this.x*=a,this.y*=a,this.z*=a,this.w*=a,this},length:function(){var a=this.x,n=this.y,i=this.z,e=this.w;return Math.sqrt(a*a+n*n+i*i+e*e)},lengthSq:function(){var a=this.x,n=this.y,i=this.z,e=this.w;return a*a+n*n+i*i+e*e},normalize:function(){var a=this.x,n=this.y,i=this.z,e=this.w,r=a*a+n*n+i*i+e*e;return r>0&&(r=1/Math.sqrt(r),this.x=a*r,this.y=n*r,this.z=i*r,this.w=e*r),this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z+this.w*a.w},lerp:function(a,n){n===void 0&&(n=0);var i=this.x,e=this.y,r=this.z,l=this.w;return this.x=i+n*(a.x-i),this.y=e+n*(a.y-e),this.z=r+n*(a.z-r),this.w=l+n*(a.w-l),this},multiply:function(a){return this.x*=a.x,this.y*=a.y,this.z*=a.z||1,this.w*=a.w||1,this},divide:function(a){return this.x/=a.x,this.y/=a.y,this.z/=a.z||1,this.w/=a.w||1,this},distance:function(a){var n=a.x-this.x,i=a.y-this.y,e=a.z-this.z||0,r=a.w-this.w||0;return Math.sqrt(n*n+i*i+e*e+r*r)},distanceSq:function(a){var n=a.x-this.x,i=a.y-this.y,e=a.z-this.z||0,r=a.w-this.w||0;return n*n+i*i+e*e+r*r},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(a){var n=this.x,i=this.y,e=this.z,r=this.w,l=a.val;return this.x=l[0]*n+l[4]*i+l[8]*e+l[12]*r,this.y=l[1]*n+l[5]*i+l[9]*e+l[13]*r,this.z=l[2]*n+l[6]*i+l[10]*e+l[14]*r,this.w=l[3]*n+l[7]*i+l[11]*e+l[15]*r,this},transformQuat:function(a){var n=this.x,i=this.y,e=this.z,r=a.x,l=a.y,s=a.z,u=a.w,d=u*n+l*e-s*i,f=u*i+s*n-r*e,c=u*e+r*i-l*n,m=-r*n-l*i-s*e;return this.x=d*u+m*-r+f*-s-c*-l,this.y=f*u+m*-l+c*-r-d*-s,this.z=c*u+m*-s+d*-l-f*-r,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});p.prototype.sub=p.prototype.subtract,p.prototype.mul=p.prototype.multiply,p.prototype.div=p.prototype.divide,p.prototype.dist=p.prototype.distance,p.prototype.distSq=p.prototype.distanceSq,p.prototype.len=p.prototype.length,p.prototype.lenSq=p.prototype.lengthSq,v.exports=p},60417:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){return Math.abs(t-o)<=p};v.exports=y},15994:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){var a=p-o;return o+((t-o)%a+a)%a};v.exports=y},31040:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a){return Math.atan2(a-o,p-t)};v.exports=y},55495:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return Math.atan2(o.y-t.y,o.x-t.x)};v.exports=y},128:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return Math.atan2(o.x-t.x,o.y-t.y)};v.exports=y},41273:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a){return Math.atan2(p-t,a-o)};v.exports=y},1432:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36383),p=function(a){return a>Math.PI&&(a-=o.PI2),Math.abs(((a+o.TAU)%o.PI2-o.PI2)%o.PI2)};v.exports=p},12407:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t=t%(2*Math.PI),t>=0?t:t+2*Math.PI};v.exports=y},53993:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(99472),p=function(){return o(-Math.PI,Math.PI)};v.exports=p},86564:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(99472),p=function(){return o(-180,180)};v.exports=p},90154:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(12407),p=function(a){return o(a+Math.PI)};v.exports=p},48736:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36383),p=function(a,n,i){return i===void 0&&(i=.05),a===n||(Math.abs(n-a)<=i||Math.abs(n-a)>=o.PI2-i?a=n:(Math.abs(n-a)>Math.PI&&(n<a?n+=o.PI2:n-=o.PI2),n>a?a+=i:n<a&&(a-=i))),a};v.exports=p},61430:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){var p=o-t;if(p===0)return 0;var a=Math.floor((p- -180)/360);return p-a*360};v.exports=y},86554:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(15994),p=function(a){return o(a,-Math.PI,Math.PI)};v.exports=p},30954:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(15994),p=function(a){return o(a,-180,180)};v.exports=p},25588:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Between:t(31040),BetweenPoints:t(55495),BetweenPointsY:t(128),BetweenY:t(41273),CounterClockwise:t(1432),Normalize:t(12407),Random:t(53993),RandomDegrees:t(86564),Reverse:t(90154),RotateTo:t(48736),ShortestBetween:t(61430),Wrap:t(86554),WrapDegrees:t(30954)}},36383:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};v.exports=y},20339:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a){var n=t-p,i=o-a;return Math.sqrt(n*n+i*i)};v.exports=y},52816:v=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){var p=t.x-o.x,a=t.y-o.y;return Math.sqrt(p*p+a*a)};v.exports=y},64559:v=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){var p=t.x-o.x,a=t.y-o.y;return p*p+a*a};v.exports=y},82340:v=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a){return Math.max(Math.abs(t-p),Math.abs(o-a))};v.exports=y},14390:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a,n){return n===void 0&&(n=2),Math.sqrt(Math.pow(p-t,n)+Math.pow(a-o,n))};v.exports=y},2243:v=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a){return Math.abs(t-p)+Math.abs(o-a)};v.exports=y},89774:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a){var n=t-p,i=o-a;return n*n+i*i};v.exports=y},50994:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Between:t(20339),BetweenPoints:t(52816),BetweenPointsSquared:t(64559),Chebyshev:t(82340),Power:t(14390),Snake:t(2243),Squared:t(89774)}},62640:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(54178),p=t(41521),a=t(79980),n=t(85433),i=t(99140),e=t(48857),r=t(81596),l=t(59133),s=t(98516),u=t(35248),d=t(82500),f=t(49752);v.exports={Power0:r,Power1:l.Out,Power2:n.Out,Power3:s.Out,Power4:u.Out,Linear:r,Quad:l.Out,Cubic:n.Out,Quart:s.Out,Quint:u.Out,Sine:d.Out,Expo:e.Out,Circ:a.Out,Elastic:i.Out,Back:o.Out,Bounce:p.Out,Stepped:f,"Quad.easeIn":l.In,"Cubic.easeIn":n.In,"Quart.easeIn":s.In,"Quint.easeIn":u.In,"Sine.easeIn":d.In,"Expo.easeIn":e.In,"Circ.easeIn":a.In,"Elastic.easeIn":i.In,"Back.easeIn":o.In,"Bounce.easeIn":p.In,"Quad.easeOut":l.Out,"Cubic.easeOut":n.Out,"Quart.easeOut":s.Out,"Quint.easeOut":u.Out,"Sine.easeOut":d.Out,"Expo.easeOut":e.Out,"Circ.easeOut":a.Out,"Elastic.easeOut":i.Out,"Back.easeOut":o.Out,"Bounce.easeOut":p.Out,"Quad.easeInOut":l.InOut,"Cubic.easeInOut":n.InOut,"Quart.easeInOut":s.InOut,"Quint.easeInOut":u.InOut,"Sine.easeInOut":d.InOut,"Expo.easeInOut":e.InOut,"Circ.easeInOut":a.InOut,"Elastic.easeInOut":i.InOut,"Back.easeInOut":o.InOut,"Bounce.easeInOut":p.InOut}},1639:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o===void 0&&(o=1.70158),t*t*((o+1)*t-o)};v.exports=y},50099:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){o===void 0&&(o=1.70158);var p=o*1.525;return(t*=2)<1?.5*(t*t*((p+1)*t-p)):.5*((t-=2)*t*((p+1)*t+p)+2)};v.exports=y},41286:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o===void 0&&(o=1.70158),--t*t*((o+1)*t+o)+1};v.exports=y},54178:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(1639),Out:t(41286),InOut:t(50099)}},59590:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t=1-t,t<.36363636363636365?1-7.5625*t*t:t<.7272727272727273?1-(7.5625*(t-=.5454545454545454)*t+.75):t<.9090909090909091?1-(7.5625*(t-=.8181818181818182)*t+.9375):1-(7.5625*(t-=.9545454545454546)*t+.984375)};v.exports=y},41788:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var o=!1;return t<.5?(t=1-t*2,o=!0):t=t*2-1,t<.36363636363636365?t=7.5625*t*t:t<.7272727272727273?t=7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?t=7.5625*(t-=.8181818181818182)*t+.9375:t=7.5625*(t-=.9545454545454546)*t+.984375,o?(1-t)*.5:t*.5+.5};v.exports=y},69905:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t<.36363636363636365?7.5625*t*t:t<.7272727272727273?7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?7.5625*(t-=.8181818181818182)*t+.9375:7.5625*(t-=.9545454545454546)*t+.984375};v.exports=y},41521:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(59590),Out:t(69905),InOut:t(41788)}},91861:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return 1-Math.sqrt(1-t*t)};v.exports=y},4177:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)};v.exports=y},57512:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return Math.sqrt(1- --t*t)};v.exports=y},79980:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(91861),Out:t(57512),InOut:t(4177)}},51150:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t*t*t};v.exports=y},82820:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)};v.exports=y},35033:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return--t*t*t+1};v.exports=y},85433:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(51150),Out:t(35033),InOut:t(82820)}},69965:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){if(o===void 0&&(o=.1),p===void 0&&(p=.1),t===0)return 0;if(t===1)return 1;var a=p/4;return o<1?o=1:a=p*Math.asin(1/o)/(2*Math.PI),-(o*Math.pow(2,10*(t-=1))*Math.sin((t-a)*(2*Math.PI)/p))};v.exports=y},50665:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){if(o===void 0&&(o=.1),p===void 0&&(p=.1),t===0)return 0;if(t===1)return 1;var a=p/4;return o<1?o=1:a=p*Math.asin(1/o)/(2*Math.PI),(t*=2)<1?-.5*(o*Math.pow(2,10*(t-=1))*Math.sin((t-a)*(2*Math.PI)/p)):o*Math.pow(2,-10*(t-=1))*Math.sin((t-a)*(2*Math.PI)/p)*.5+1};v.exports=y},7744:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){if(o===void 0&&(o=.1),p===void 0&&(p=.1),t===0)return 0;if(t===1)return 1;var a=p/4;return o<1?o=1:a=p*Math.asin(1/o)/(2*Math.PI),o*Math.pow(2,-10*t)*Math.sin((t-a)*(2*Math.PI)/p)+1};v.exports=y},99140:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(69965),Out:t(7744),InOut:t(50665)}},24590:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return Math.pow(2,10*(t-1))-.001};v.exports=y},87844:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))};v.exports=y},89433:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return 1-Math.pow(2,-10*t)};v.exports=y},48857:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(24590),Out:t(89433),InOut:t(87844)}},48820:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Back:t(54178),Bounce:t(41521),Circular:t(79980),Cubic:t(85433),Elastic:t(99140),Expo:t(48857),Linear:t(81596),Quadratic:t(59133),Quartic:t(98516),Quintic:t(35248),Sine:t(82500),Stepped:t(49752)}},7147:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t};v.exports=y},81596:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports=t(7147)},34826:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t*t};v.exports=y},20544:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)};v.exports=y},92029:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t*(2-t)};v.exports=y},59133:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(34826),Out:t(92029),InOut:t(20544)}},64413:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t*t*t*t};v.exports=y},78137:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)};v.exports=y},45840:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return 1- --t*t*t*t};v.exports=y},98516:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(64413),Out:t(45840),InOut:t(78137)}},87745:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t*t*t*t*t};v.exports=y},16509:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)};v.exports=y},17868:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return--t*t*t*t*t+1};v.exports=y},35248:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(87745),Out:t(17868),InOut:t(16509)}},80461:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t===0?0:t===1?1:1-Math.cos(t*Math.PI/2)};v.exports=y},34025:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t===0?0:t===1?1:.5*(1-Math.cos(Math.PI*t))};v.exports=y},52768:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t===0?0:t===1?1:Math.sin(t*Math.PI/2)};v.exports=y},82500:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(80461),Out:t(52768),InOut:t(34025)}},72251:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o===void 0&&(o=1),t<=0?0:t>=1?1:((o*t|0)+1)*(1/o)};v.exports=y},49752:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports=t(72251)},75698:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o===void 0&&(o=1e-4),Math.ceil(t-o)};v.exports=y},43855:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){return p===void 0&&(p=1e-4),Math.abs(t-o)<p};v.exports=y},25777:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o===void 0&&(o=1e-4),Math.floor(t+o)};v.exports=y},5470:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){return p===void 0&&(p=1e-4),t>o-p};v.exports=y},94977:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){return p===void 0&&(p=1e-4),t<o+p};v.exports=y},48379:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Ceil:t(75698),Equal:t(43855),Floor:t(25777),GreaterThan:t(5470),LessThan:t(94977)}},75508:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36383),p=t(79291),a={Angle:t(25588),Distance:t(50994),Easing:t(48820),Fuzzy:t(48379),Interpolation:t(38289),Pow2:t(49001),Snap:t(73697),RandomDataGenerator:t(28453),Average:t(53307),Bernstein:t(85710),Between:t(30976),CatmullRom:t(87842),CeilTo:t(26302),Clamp:t(45319),DegToRad:t(39506),Difference:t(61241),Euler:t(38857),Factorial:t(6411),FloatBetween:t(99472),FloorTo:t(77623),FromPercent:t(62945),GetSpeed:t(38265),IsEven:t(78702),IsEvenStrict:t(94883),Linear:t(28915),LinearXY:t(94908),MaxAdd:t(86883),Median:t(50040),MinSub:t(37204),Percent:t(65201),RadToDeg:t(43396),RandomXY:t(74362),RandomXYZ:t(60706),RandomXYZW:t(67421),Rotate:t(36305),RotateAround:t(11520),RotateAroundDistance:t(1163),RotateTo:t(70336),RoundAwayFromZero:t(2284),RoundTo:t(41013),SinCosTableGenerator:t(16922),SmootherStep:t(54261),SmoothStep:t(7602),ToXY:t(44408),TransformXY:t(85955),Within:t(60417),Wrap:t(15994),Vector2:t(26099),Vector3:t(25836),Vector4:t(61369),Matrix3:t(94434),Matrix4:t(37867),Quaternion:t(15746),RotateVec3:t(72678)};a=p(!1,a,o),v.exports=a},89318:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(85710),p=function(a,n){for(var i=0,e=a.length-1,r=0;r<=e;r++)i+=Math.pow(1-n,e-r)*Math.pow(n,r)*a[r]*o(e,r);return i};v.exports=p},77259:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87842),p=function(a,n){var i=a.length-1,e=i*n,r=Math.floor(e);return a[0]===a[i]?(n<0&&(r=Math.floor(e=i*(1+n))),o(e-r,a[(r-1+i)%i],a[r],a[(r+1)%i],a[(r+2)%i])):n<0?a[0]-(o(-e,a[0],a[0],a[1],a[1])-a[0]):n>1?a[i]-(o(e-i,a[i],a[i],a[i-1],a[i-1])-a[i]):o(e-r,a[r?r-1:0],a[r],a[i<r+1?i:r+1],a[i<r+2?i:r+2])};v.exports=p},36316:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(n,i){var e=1-n;return e*e*e*i}function t(n,i){var e=1-n;return 3*e*e*n*i}function o(n,i){return 3*(1-n)*n*n*i}function p(n,i){return n*n*n*i}var a=function(n,i,e,r,l){return y(n,i)+t(n,e)+o(n,r)+p(n,l)};v.exports=a},28392:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(28915),p=function(a,n){var i=a.length-1,e=i*n,r=Math.floor(e);return n<0?o(a[0],a[1],e):n>1?o(a[i],a[i-1],i-e):o(a[r],a[r+1>i?i:r+1],e-r)};v.exports=p},32112:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(a,n){var i=1-a;return i*i*n}function t(a,n){return 2*(1-a)*a*n}function o(a,n){return a*a*n}var p=function(a,n,i,e){return y(a,n)+t(a,i)+o(a,e)};v.exports=p},47235:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7602),p=function(a,n,i){return n+(i-n)*o(a,0,1)};v.exports=p},50178:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(54261),p=function(a,n,i){return n+(i-n)*o(a,0,1)};v.exports=p},38289:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Bezier:t(89318),CatmullRom:t(77259),CubicBezier:t(36316),Linear:t(28392),QuadraticBezier:t(32112),SmoothStep:t(47235),SmootherStep:t(50178)}},98439:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var o=Math.log(t)/.6931471805599453;return 1<<Math.ceil(o)};v.exports=y},50030:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t>0&&(t&t-1)===0&&o>0&&(o&o-1)===0};v.exports=y},81230:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t>0&&(t&t-1)===0};v.exports=y},49001:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={GetNext:t(98439),IsSize:t(50030),IsValue:t(81230)}},28453:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=new o({initialize:function(n){n===void 0&&(n=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],n&&this.init(n)},rnd:function(){var a=2091639*this.s0+this.c*23283064365386963e-26;return this.c=a|0,this.s0=this.s1,this.s1=this.s2,this.s2=a-this.c,this.s2},hash:function(a){var n,i=this.n;a=a.toString();for(var e=0;e<a.length;e++)i+=a.charCodeAt(e),n=.02519603282416938*i,i=n>>>0,n-=i,n*=i,i=n>>>0,n-=i,i+=n*4294967296;return this.n=i,(i>>>0)*23283064365386963e-26},init:function(a){typeof a=="string"?this.state(a):this.sow(a)},sow:function(a){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!a)for(var n=0;n<a.length&&a[n]!=null;n++){var i=a[n];this.s0-=this.hash(i),this.s0+=~~(this.s0<0),this.s1-=this.hash(i),this.s1+=~~(this.s1<0),this.s2-=this.hash(i),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(a,n){return Math.floor(this.realInRange(0,n-a+1)+a)},between:function(a,n){return Math.floor(this.realInRange(0,n-a+1)+a)},realInRange:function(a,n){return this.frac()*(n-a)+a},normal:function(){return 1-2*this.frac()},uuid:function(){var a="",n="";for(n=a="";a++<36;n+=~a%5|a*3&4?(a^15?8^this.frac()*(a^20?16:4):4).toString(16):"-");return n},pick:function(a){return a[this.integerInRange(0,a.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(a){return a[~~(Math.pow(this.frac(),2)*(a.length-.5)+.5)]},timestamp:function(a,n){return this.realInRange(a||9466848e5,n||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(a){return typeof a=="string"&&a.match(/^!rnd/)&&(a=a.split(","),this.c=parseFloat(a[1]),this.s0=parseFloat(a[2]),this.s1=parseFloat(a[3]),this.s2=parseFloat(a[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(a){for(var n=a.length-1,i=n;i>0;i--){var e=Math.floor(this.frac()*(i+1)),r=a[e];a[e]=a[i],a[i]=r}return a}});v.exports=p},63448:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a){return p===void 0&&(p=0),o===0?t:(t-=p,t=o*Math.ceil(t/o),a?(p+t)/o:p+t)};v.exports=y},56583:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a){return p===void 0&&(p=0),o===0?t:(t-=p,t=o*Math.floor(t/o),a?(p+t)/o:p+t)};v.exports=y},77720:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a){return p===void 0&&(p=0),o===0?t:(t-=p,t=o*Math.round(t/o),a?(p+t)/o:p+t)};v.exports=y},73697:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Ceil:t(63448),Floor:t(56583),To:t(77720)}},85454:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */t(63595);var o=t(8054),p=t(79291),a={Actions:t(61061),Animations:t(60421),BlendModes:t(10312),Cache:t(83388),Cameras:t(26638),Core:t(42857),Class:t(83419),Create:t(15822),Curves:t(25410),Data:t(44965),Display:t(27460),DOM:t(84902),Events:t(93055),FX:t(66064),Game:t(50127),GameObjects:t(77856),Geom:t(55738),Input:t(14350),Loader:t(57777),Math:t(75508),Physics:t(44563),Plugins:t(18922),Renderer:t(36909),Scale:t(93364),ScaleModes:t(29795),Scene:t(97482),Scenes:t(62194),Structs:t(41392),Textures:t(27458),Tilemaps:t(62501),Time:t(90291),Tweens:t(43066),Utils:t(91799)};a.Sound=t(23717),a=p(!1,a,o),v.exports=a,t.g.Phaser=a},71289:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(92209),a=t(88571),n=new o({Extends:a,Mixins:[p.Acceleration,p.Angular,p.Bounce,p.Collision,p.Debug,p.Drag,p.Enable,p.Friction,p.Gravity,p.Immovable,p.Mass,p.Pushable,p.Size,p.Velocity],initialize:function(e,r,l,s,u){a.call(this,e,r,l,s,u),this.body=null}});v.exports=n},86689:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(39506),a=t(20339),n=t(89774),i=t(66022),e=t(95540),r=t(46975),l=t(72441),s=t(47956),u=t(37277),d=t(44594),f=t(26099),c=t(82248),m=new o({initialize:function(C){this.scene=C,this.systems=C.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,C.sys.events.once(d.BOOT,this.boot,this),C.sys.events.on(d.START,this.start,this)},boot:function(){this.world=new c(this.scene,this.config),this.add=new i(this.world),this.systems.events.once(d.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new c(this.scene,this.config),this.add=new i(this.world));var T=this.systems.events;e(this.config,"customUpdate",!1)||T.on(d.UPDATE,this.world.update,this.world),T.on(d.POST_UPDATE,this.world.postUpdate,this.world),T.once(d.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(d.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(d.UPDATE,this.world.update,this.world)},getConfig:function(){var T=this.systems.game.config.physics,C=this.systems.settings.physics,S=r(e(C,"arcade",{}),e(T,"arcade",{}));return S},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(T,C,S,A,P){return S===void 0&&(S=null),A===void 0&&(A=null),P===void 0&&(P=S),this.world.collideObjects(T,C,S,A,P,!0)},collide:function(T,C,S,A,P){return S===void 0&&(S=null),A===void 0&&(A=null),P===void 0&&(P=S),this.world.collideObjects(T,C,S,A,P,!1)},collideTiles:function(T,C,S,A,P){return this.world.collideTiles(T,C,S,A,P)},overlapTiles:function(T,C,S,A,P){return this.world.overlapTiles(T,C,S,A,P)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(T,C,S,A,P,R){A===void 0&&(A=60);var F=Math.atan2(S-T.y,C-T.x);return T.body.acceleration.setToPolar(F,A),P!==void 0&&R!==void 0&&T.body.maxVelocity.set(P,R),F},accelerateToObject:function(T,C,S,A,P){return this.accelerateTo(T,C.x,C.y,S,A,P)},closest:function(T,C){C||(C=this.world.bodies.entries);for(var S=Number.MAX_VALUE,A=null,P=T.x,R=T.y,F=C.length,D=0;D<F;D++){var L=C[D],O=L.body||L;if(!(T===L||T===O||T===O.gameObject||T===O.center)){var B=n(P,R,O.center.x,O.center.y);B<S&&(A=L,S=B)}}return A},furthest:function(T,C){C||(C=this.world.bodies.entries);for(var S=-1,A=null,P=T.x,R=T.y,F=C.length,D=0;D<F;D++){var L=C[D],O=L.body||L;if(!(T===L||T===O||T===O.gameObject||T===O.center)){var B=n(P,R,O.center.x,O.center.y);B>S&&(A=L,S=B)}}return A},moveTo:function(T,C,S,A,P){A===void 0&&(A=60),P===void 0&&(P=0);var R=Math.atan2(S-T.y,C-T.x);return P>0&&(A=a(T.x,T.y,C,S)/(P/1e3)),T.body.velocity.setToPolar(R,A),R},moveToObject:function(T,C,S,A){return this.moveTo(T,C.x,C.y,S,A)},velocityFromAngle:function(T,C,S){return C===void 0&&(C=60),S===void 0&&(S=new f),S.setToPolar(p(T),C)},velocityFromRotation:function(T,C,S){return C===void 0&&(C=60),S===void 0&&(S=new f),S.setToPolar(T,C)},overlapRect:function(T,C,S,A,P,R){return s(this.world,T,C,S,A,P,R)},overlapCirc:function(T,C,S,A,P){return l(this.world,T,C,S,A,P)},shutdown:function(){if(this.world){var T=this.systems.events;T.off(d.UPDATE,this.world.update,this.world),T.off(d.POST_UPDATE,this.world.postUpdate,this.world),T.off(d.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(d.START,this.start,this),this.scene=null,this.systems=null}});u.register("ArcadePhysics",m,"arcadePhysics"),v.exports=m},13759:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(92209),a=t(68287),n=new o({Extends:a,Mixins:[p.Acceleration,p.Angular,p.Bounce,p.Collision,p.Debug,p.Drag,p.Enable,p.Friction,p.Gravity,p.Immovable,p.Mass,p.Pushable,p.Size,p.Velocity],initialize:function(e,r,l,s,u){a.call(this,e,r,l,s,u),this.body=null}});v.exports=n},37742:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(78389),a=t(37747),n=t(63012),i=t(43396),e=t(87841),r=t(37303),l=t(95829),s=t(26099),u=new o({Mixins:[p],initialize:function(f,c){var m=64,T=64,C={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},S=c!==void 0;S&&c.displayWidth&&(m=c.displayWidth,T=c.displayHeight),S||(c=C),this.world=f,this.gameObject=S?c:void 0,this.isBody=!0,this.transform={x:c.x,y:c.y,rotation:c.angle,scaleX:c.scaleX,scaleY:c.scaleY,displayOriginX:c.displayOriginX,displayOriginY:c.displayOriginY},this.debugShowBody=f.defaults.debugShowBody,this.debugShowVelocity=f.defaults.debugShowVelocity,this.debugBodyColor=f.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new s,this.position=new s(c.x-c.scaleX*c.displayOriginX,c.y-c.scaleY*c.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=c.angle,this.preRotation=c.angle,this.width=m,this.height=T,this.sourceWidth=m,this.sourceHeight=T,c.frame&&(this.sourceWidth=c.frame.realWidth,this.sourceHeight=c.frame.realHeight),this.halfWidth=Math.abs(m/2),this.halfHeight=Math.abs(T/2),this.center=new s(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new s,this.newVelocity=new s,this.deltaMax=new s,this.acceleration=new s,this.allowDrag=!0,this.drag=new s,this.allowGravity=!0,this.gravity=new s,this.bounce=new s,this.worldBounce=null,this.customBoundsRectangle=f.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new s(1e4,1e4),this.maxSpeed=-1,this.friction=new s(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=a.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new s(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=l(!1),this.touching=l(!0),this.wasTouching=l(!0),this.blocked=l(!0),this.syncBounds=!1,this.physicsType=a.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=c.scaleX,this._sy=c.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new e,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var d=this.gameObject,f=this.transform;if(d.parentContainer){var c=d.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);f.x=c.tx,f.y=c.ty,f.rotation=i(c.rotation),f.scaleX=c.scaleX,f.scaleY=c.scaleY,f.displayOriginX=d.displayOriginX,f.displayOriginY=d.displayOriginY}else f.x=d.x,f.y=d.y,f.rotation=d.angle,f.scaleX=d.scaleX,f.scaleY=d.scaleY,f.displayOriginX=d.displayOriginX,f.displayOriginY=d.displayOriginY;var m=!1;if(this.syncBounds){var T=d.getBounds(this._bounds);this.width=T.width,this.height=T.height,m=!0}else{var C=Math.abs(f.scaleX),S=Math.abs(f.scaleY);(this._sx!==C||this._sy!==S)&&(this.width=this.sourceWidth*C,this.height=this.sourceHeight*S,this._sx=C,this._sy=S,m=!0)}m&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var d=this.transform;this.position.x=d.x+d.scaleX*(this.offset.x-d.displayOriginX),this.position.y=d.y+d.scaleY*(this.offset.y-d.displayOriginY),this.updateCenter()},resetFlags:function(d){d===void 0&&(d=!1);var f=this.wasTouching,c=this.touching,m=this.blocked;d?l(!0,f):(f.none=c.none,f.up=c.up,f.down=c.down,f.left=c.left,f.right=c.right),l(!0,c),l(!0,m),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(d,f){if(d&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var c=this.position;this.prev.x=c.x,this.prev.y=c.y,this.prevFrame.x=c.x,this.prevFrame.y=c.y}d&&this.update(f)},update:function(d){var f=this.prev,c=this.position,m=this.velocity;if(f.set(c.x,c.y),!this.moves){this._dx=c.x-f.x,this._dy=c.y-f.y;return}if(this.directControl){var T=this.autoFrame;m.set((c.x-T.x)/d,(c.y-T.y)/d),this.world.updateMotion(this,d),this._dx=c.x-T.x,this._dy=c.y-T.y}else this.world.updateMotion(this,d),this.newVelocity.set(m.x*d,m.y*d),c.add(this.newVelocity),this._dx=c.x-f.x,this._dy=c.y-f.y;var C=m.x,S=m.y;if(this.updateCenter(),this.angle=Math.atan2(S,C),this.speed=Math.sqrt(C*C+S*S),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var A=this.blocked;this.world.emit(n.WORLD_BOUNDS,this,A.up,A.down,A.left,A.right)}},postUpdate:function(){var d=this.position,f=d.x-this.prevFrame.x,c=d.y-this.prevFrame.y,m=this.gameObject;if(this.moves){var T=this.deltaMax.x,C=this.deltaMax.y;T!==0&&f!==0&&(f<0&&f<-T?f=-T:f>0&&f>T&&(f=T)),C!==0&&c!==0&&(c<0&&c<-C?c=-C:c>0&&c>C&&(c=C)),m&&(m.x+=f,m.y+=c)}f<0?this.facing=a.FACING_LEFT:f>0&&(this.facing=a.FACING_RIGHT),c<0?this.facing=a.FACING_UP:c>0&&(this.facing=a.FACING_DOWN),this.allowRotation&&m&&(m.angle+=this.deltaZ()),this._tx=f,this._ty=c,this.autoFrame.set(d.x,d.y)},setBoundsRectangle:function(d){return this.customBoundsRectangle=d||this.world.bounds,this},checkWorldBounds:function(){var d=this.position,f=this.velocity,c=this.blocked,m=this.customBoundsRectangle,T=this.world.checkCollision,C=this.worldBounce?-this.worldBounce.x:-this.bounce.x,S=this.worldBounce?-this.worldBounce.y:-this.bounce.y,A=!1;return d.x<m.x&&T.left?(d.x=m.x,f.x*=C,c.left=!0,A=!0):this.right>m.right&&T.right&&(d.x=m.right-this.width,f.x*=C,c.right=!0,A=!0),d.y<m.y&&T.up?(d.y=m.y,f.y*=S,c.up=!0,A=!0):this.bottom>m.bottom&&T.down&&(d.y=m.bottom-this.height,f.y*=S,c.down=!0,A=!0),A&&(this.blocked.none=!1,this.updateCenter()),A},setOffset:function(d,f){return f===void 0&&(f=d),this.offset.set(d,f),this},setGameObject:function(d,f){return f===void 0&&(f=!0),this.world.remove(this),this.gameObject&&this.gameObject.body&&(this.gameObject.body=null),this.gameObject=d,d.body&&(d.body=this),this.setSize(),this.world.add(this),this.enable=f,this},setSize:function(d,f,c){c===void 0&&(c=!0);var m=this.gameObject;if(m&&(!d&&m.frame&&(d=m.frame.realWidth),!f&&m.frame&&(f=m.frame.realHeight)),this.sourceWidth=d,this.sourceHeight=f,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),c&&m&&m.getCenter){var T=(m.width-d)/2,C=(m.height-f)/2;this.offset.set(T,C)}return this.isCircle=!1,this.radius=0,this},setCircle:function(d,f,c){return f===void 0&&(f=this.offset.x),c===void 0&&(c=this.offset.y),d>0?(this.isCircle=!0,this.radius=d,this.sourceWidth=d*2,this.sourceHeight=d*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(f,c),this.updateCenter()):this.isCircle=!1,this},reset:function(d,f){this.stop();var c=this.gameObject;c&&(c.setPosition(d,f),this.rotation=c.angle,this.preRotation=c.angle);var m=this.position;c&&c.getTopLeft?c.getTopLeft(m):m.set(d,f),this.prev.copy(m),this.prevFrame.copy(m),this.autoFrame.copy(m),c&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(d){return d.x=this.x,d.y=this.y,d.right=this.right,d.bottom=this.bottom,d},hitTest:function(d,f){if(!this.isCircle)return r(this,d,f);if(this.radius>0&&d>=this.left&&d<=this.right&&f>=this.top&&f<=this.bottom){var c=(this.center.x-d)*(this.center.x-d),m=(this.center.y-f)*(this.center.y-f);return c+m<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(d){var f=this.position,c=f.x+this.halfWidth,m=f.y+this.halfHeight;this.debugShowBody&&(d.lineStyle(d.defaultStrokeWidth,this.debugBodyColor),this.isCircle?d.strokeCircle(c,m,this.width/2):(this.checkCollision.up&&d.lineBetween(f.x,f.y,f.x+this.width,f.y),this.checkCollision.right&&d.lineBetween(f.x+this.width,f.y,f.x+this.width,f.y+this.height),this.checkCollision.down&&d.lineBetween(f.x,f.y+this.height,f.x+this.width,f.y+this.height),this.checkCollision.left&&d.lineBetween(f.x,f.y,f.x,f.y+this.height))),this.debugShowVelocity&&(d.lineStyle(d.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),d.lineBetween(c,m,c+this.velocity.x/2,m+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(d){return d===void 0&&(d=!0),this.directControl=d,this},setCollideWorldBounds:function(d,f,c,m){d===void 0&&(d=!0),this.collideWorldBounds=d;var T=f!==void 0,C=c!==void 0;return(T||C)&&(this.worldBounce||(this.worldBounce=new s),T&&(this.worldBounce.x=f),C&&(this.worldBounce.y=c)),m!==void 0&&(this.onWorldBounds=m),this},setVelocity:function(d,f){return this.velocity.set(d,f),d=this.velocity.x,f=this.velocity.y,this.speed=Math.sqrt(d*d+f*f),this},setVelocityX:function(d){return this.setVelocity(d,this.velocity.y)},setVelocityY:function(d){return this.setVelocity(this.velocity.x,d)},setMaxVelocity:function(d,f){return this.maxVelocity.set(d,f),this},setMaxVelocityX:function(d){return this.maxVelocity.x=d,this},setMaxVelocityY:function(d){return this.maxVelocity.y=d,this},setMaxSpeed:function(d){return this.maxSpeed=d,this},setSlideFactor:function(d,f){return this.slideFactor.set(d,f),this},setBounce:function(d,f){return this.bounce.set(d,f),this},setBounceX:function(d){return this.bounce.x=d,this},setBounceY:function(d){return this.bounce.y=d,this},setAcceleration:function(d,f){return this.acceleration.set(d,f),this},setAccelerationX:function(d){return this.acceleration.x=d,this},setAccelerationY:function(d){return this.acceleration.y=d,this},setAllowDrag:function(d){return d===void 0&&(d=!0),this.allowDrag=d,this},setAllowGravity:function(d){return d===void 0&&(d=!0),this.allowGravity=d,this},setAllowRotation:function(d){return d===void 0&&(d=!0),this.allowRotation=d,this},setDrag:function(d,f){return this.drag.set(d,f),this},setDamping:function(d){return this.useDamping=d,this},setDragX:function(d){return this.drag.x=d,this},setDragY:function(d){return this.drag.y=d,this},setGravity:function(d,f){return this.gravity.set(d,f),this},setGravityX:function(d){return this.gravity.x=d,this},setGravityY:function(d){return this.gravity.y=d,this},setFriction:function(d,f){return this.friction.set(d,f),this},setFrictionX:function(d){return this.friction.x=d,this},setFrictionY:function(d){return this.friction.y=d,this},setAngularVelocity:function(d){return this.angularVelocity=d,this},setAngularAcceleration:function(d){return this.angularAcceleration=d,this},setAngularDrag:function(d){return this.angularDrag=d,this},setMass:function(d){return this.mass=d,this},setImmovable:function(d){return d===void 0&&(d=!0),this.immovable=d,this},setEnable:function(d){return d===void 0&&(d=!0),this.enable=d,this},processX:function(d,f,c,m){this.x+=d,this.updateCenter(),f!==null&&(this.velocity.x=f*this.slideFactor.x);var T=this.blocked;c&&(T.left=!0,T.none=!1),m&&(T.right=!0,T.none=!1)},processY:function(d,f,c,m){this.y+=d,this.updateCenter(),f!==null&&(this.velocity.y=f*this.slideFactor.y);var T=this.blocked;c&&(T.up=!0,T.none=!1),m&&(T.down=!0,T.none=!1)},x:{get:function(){return this.position.x},set:function(d){this.position.x=d}},y:{get:function(){return this.position.y},set:function(d){this.position.y=d}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});v.exports=u},79342:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=new o({initialize:function(n,i,e,r,l,s,u){this.world=n,this.name="",this.active=!0,this.overlapOnly=i,this.object1=e,this.object2=r,this.collideCallback=l,this.processCallback=s,this.callbackContext=u},setName:function(a){return this.name=a,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});v.exports=p},66022:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(71289),p=t(13759),a=t(37742),n=t(83419),i=t(37747),e=t(60758),r=t(72624),l=t(71464),s=new n({initialize:function(d){this.world=d,this.scene=d.scene,this.sys=d.scene.sys},collider:function(u,d,f,c,m){return this.world.addCollider(u,d,f,c,m)},overlap:function(u,d,f,c,m){return this.world.addOverlap(u,d,f,c,m)},existing:function(u,d){var f=d?i.STATIC_BODY:i.DYNAMIC_BODY;return this.world.enableBody(u,f),u},staticImage:function(u,d,f,c){var m=new o(this.scene,u,d,f,c);return this.sys.displayList.add(m),this.world.enableBody(m,i.STATIC_BODY),m},image:function(u,d,f,c){var m=new o(this.scene,u,d,f,c);return this.sys.displayList.add(m),this.world.enableBody(m,i.DYNAMIC_BODY),m},staticSprite:function(u,d,f,c){var m=new p(this.scene,u,d,f,c);return this.sys.displayList.add(m),this.sys.updateList.add(m),this.world.enableBody(m,i.STATIC_BODY),m},sprite:function(u,d,f,c){var m=new p(this.scene,u,d,f,c);return this.sys.displayList.add(m),this.sys.updateList.add(m),this.world.enableBody(m,i.DYNAMIC_BODY),m},staticGroup:function(u,d){return this.sys.updateList.add(new l(this.world,this.world.scene,u,d))},group:function(u,d){return this.sys.updateList.add(new e(this.world,this.world.scene,u,d))},body:function(u,d,f,c){var m=new a(this.world);return m.position.set(u,d),f&&c&&m.setSize(f,c),this.world.add(m,i.DYNAMIC_BODY),m},staticBody:function(u,d,f,c){var m=new r(this.world);return m.position.set(u,d),f&&c&&m.setSize(f,c),this.world.add(m,i.STATIC_BODY),m},destroy:function(){this.world=null,this.scene=null,this.sys=null}});v.exports=s},79599:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var o=0;if(!Array.isArray(t))o=t;else for(var p=0;p<t.length;p++)o|=t[p];return o};v.exports=y},64897:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37747),p=function(a,n,i,e){var r=0,l=a.deltaAbsX()+n.deltaAbsX()+e;return a._dx===0&&n._dx===0?(a.embedded=!0,n.embedded=!0):a._dx>n._dx?(r=a.right-n.x,r>l&&!i||a.checkCollision.right===!1||n.checkCollision.left===!1?r=0:(a.touching.none=!1,a.touching.right=!0,n.touching.none=!1,n.touching.left=!0,n.physicsType===o.STATIC_BODY&&!i&&(a.blocked.none=!1,a.blocked.right=!0),a.physicsType===o.STATIC_BODY&&!i&&(n.blocked.none=!1,n.blocked.left=!0))):a._dx<n._dx&&(r=a.x-n.width-n.x,-r>l&&!i||a.checkCollision.left===!1||n.checkCollision.right===!1?r=0:(a.touching.none=!1,a.touching.left=!0,n.touching.none=!1,n.touching.right=!0,n.physicsType===o.STATIC_BODY&&!i&&(a.blocked.none=!1,a.blocked.left=!0),a.physicsType===o.STATIC_BODY&&!i&&(n.blocked.none=!1,n.blocked.right=!0))),a.overlapX=r,n.overlapX=r,r};v.exports=p},45170:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37747),p=function(a,n,i,e){var r=0,l=a.deltaAbsY()+n.deltaAbsY()+e;return a._dy===0&&n._dy===0?(a.embedded=!0,n.embedded=!0):a._dy>n._dy?(r=a.bottom-n.y,r>l&&!i||a.checkCollision.down===!1||n.checkCollision.up===!1?r=0:(a.touching.none=!1,a.touching.down=!0,n.touching.none=!1,n.touching.up=!0,n.physicsType===o.STATIC_BODY&&!i&&(a.blocked.none=!1,a.blocked.down=!0),a.physicsType===o.STATIC_BODY&&!i&&(n.blocked.none=!1,n.blocked.up=!0))):a._dy<n._dy&&(r=a.y-n.bottom,-r>l&&!i||a.checkCollision.up===!1||n.checkCollision.down===!1?r=0:(a.touching.none=!1,a.touching.up=!0,n.touching.none=!1,n.touching.down=!0,n.physicsType===o.STATIC_BODY&&!i&&(a.blocked.none=!1,a.blocked.up=!0),a.physicsType===o.STATIC_BODY&&!i&&(n.blocked.none=!1,n.blocked.down=!0))),a.overlapY=r,n.overlapY=r,r};v.exports=p},60758:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(13759),p=t(83419),a=t(78389),n=t(37747),i=t(95540),e=t(26479),r=t(41212),l=new p({Extends:e,Mixins:[a],initialize:function(u,d,f,c){if(!f&&!c)c={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(r(f))c=f,f=null,c.internalCreateCallback=this.createCallbackHandler,c.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(f)&&r(f[0])){var m=this;f.forEach(function(T){T.internalCreateCallback=m.createCallbackHandler,T.internalRemoveCallback=m.removeCallbackHandler,T.classType=i(T,"classType",o)}),c=null}else c={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=u,c&&(c.classType=i(c,"classType",o)),this.physicsType=n.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this.defaults={setCollideWorldBounds:i(c,"collideWorldBounds",!1),setBoundsRectangle:i(c,"customBoundsRectangle",null),setAccelerationX:i(c,"accelerationX",0),setAccelerationY:i(c,"accelerationY",0),setAllowDrag:i(c,"allowDrag",!0),setAllowGravity:i(c,"allowGravity",!0),setAllowRotation:i(c,"allowRotation",!0),setDamping:i(c,"useDamping",!1),setBounceX:i(c,"bounceX",0),setBounceY:i(c,"bounceY",0),setDragX:i(c,"dragX",0),setDragY:i(c,"dragY",0),setEnable:i(c,"enable",!0),setGravityX:i(c,"gravityX",0),setGravityY:i(c,"gravityY",0),setFrictionX:i(c,"frictionX",0),setFrictionY:i(c,"frictionY",0),setMaxSpeed:i(c,"maxSpeed",-1),setMaxVelocityX:i(c,"maxVelocityX",1e4),setMaxVelocityY:i(c,"maxVelocityY",1e4),setVelocityX:i(c,"velocityX",0),setVelocityY:i(c,"velocityY",0),setAngularVelocity:i(c,"angularVelocity",0),setAngularAcceleration:i(c,"angularAcceleration",0),setAngularDrag:i(c,"angularDrag",0),setMass:i(c,"mass",1),setImmovable:i(c,"immovable",!1)},e.call(this,d,f,c),this.type="PhysicsGroup"},createCallbackHandler:function(s){s.body||this.world.enableBody(s,n.DYNAMIC_BODY);var u=s.body;for(var d in this.defaults)u[d](this.defaults[d])},removeCallbackHandler:function(s){s.body&&this.world.disableBody(s)},setVelocity:function(s,u,d){d===void 0&&(d=0);for(var f=this.getChildren(),c=0;c<f.length;c++)f[c].body.velocity.set(s+c*d,u+c*d);return this},setVelocityX:function(s,u){u===void 0&&(u=0);for(var d=this.getChildren(),f=0;f<d.length;f++)d[f].body.velocity.x=s+f*u;return this},setVelocityY:function(s,u){u===void 0&&(u=0);for(var d=this.getChildren(),f=0;f<d.length;f++)d[f].body.velocity.y=s+f*u;return this}});v.exports=l},3017:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y,t,o,p,a,n,i,e,r,l,s,u,d,f,c,m,T,C=function(D,L,O){y=D,t=L;var B=y.velocity.x,b=t.velocity.x;return o=y.pushable,r=y._dx<0,l=y._dx>0,s=y._dx===0,c=Math.abs(y.right-t.x)<=Math.abs(t.right-y.x),i=b-B*y.bounce.x,p=t.pushable,u=t._dx<0,d=t._dx>0,f=t._dx===0,m=!c,e=B-b*t.bounce.x,T=Math.abs(O),S()},S=function(){return l&&c&&t.blocked.right?(y.processX(-T,i,!1,!0),1):r&&m&&t.blocked.left?(y.processX(T,i,!0),1):d&&m&&y.blocked.right?(t.processX(-T,e,!1,!0),2):u&&c&&y.blocked.left?(t.processX(T,e,!0),2):0},A=function(){var D=y.velocity.x,L=t.velocity.x,O=Math.sqrt(L*L*t.mass/y.mass)*(L>0?1:-1),B=Math.sqrt(D*D*y.mass/t.mass)*(D>0?1:-1),b=(O+B)*.5;return O-=b,B-=b,a=b+O*y.bounce.x,n=b+B*t.bounce.x,r&&m?P(0):u&&c?P(1):l&&c?P(2):d&&m?P(3):!1},P=function(D){if(o&&p)T*=.5,D===0||D===3?(y.processX(T,a),t.processX(-T,n)):(y.processX(-T,a),t.processX(T,n));else if(o&&!p)D===0||D===3?y.processX(T,i,!0):y.processX(-T,i,!1,!0);else if(!o&&p)D===0||D===3?t.processX(-T,e,!1,!0):t.processX(T,e,!0);else{var L=T*.5;D===0?f?(y.processX(T,0,!0),t.processX(0,null,!1,!0)):d?(y.processX(L,0,!0),t.processX(-L,0,!1,!0)):(y.processX(L,t.velocity.x,!0),t.processX(-L,null,!1,!0)):D===1?s?(y.processX(0,null,!1,!0),t.processX(T,0,!0)):l?(y.processX(-L,0,!1,!0),t.processX(L,0,!0)):(y.processX(-L,null,!1,!0),t.processX(L,y.velocity.x,!0)):D===2?f?(y.processX(-T,0,!1,!0),t.processX(0,null,!0)):u?(y.processX(-L,0,!1,!0),t.processX(L,0,!0)):(y.processX(-L,t.velocity.x,!1,!0),t.processX(L,null,!0)):D===3&&(s?(y.processX(0,null,!0),t.processX(-T,0,!1,!0)):r?(y.processX(L,0,!0),t.processX(-L,0,!1,!0)):(y.processX(L,t.velocity.y,!0),t.processX(-L,null,!1,!0)))}return!0},R=function(D){D===1?t.velocity.x=0:c?t.processX(T,e,!0):t.processX(-T,e,!1,!0),y.moves&&(t.y+=(y.y-y.prev.y)*y.friction.y,t._dy=t.y-t.prev.y)},F=function(D){D===2?y.velocity.x=0:m?y.processX(T,i,!0):y.processX(-T,i,!1,!0),t.moves&&(y.y+=(t.y-t.prev.y)*t.friction.y,y._dy=y.y-y.prev.y)};v.exports={BlockCheck:S,Check:A,Set:C,Run:P,RunImmovableBody1:R,RunImmovableBody2:F}},47962:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y,t,o,p,a,n,i,e,r,l,s,u,d,f,c,m,T,C=function(D,L,O){y=D,t=L;var B=y.velocity.y,b=t.velocity.y;return o=y.pushable,r=y._dy<0,l=y._dy>0,s=y._dy===0,c=Math.abs(y.bottom-t.y)<=Math.abs(t.bottom-y.y),i=b-B*y.bounce.y,p=t.pushable,u=t._dy<0,d=t._dy>0,f=t._dy===0,m=!c,e=B-b*t.bounce.y,T=Math.abs(O),S()},S=function(){return l&&c&&t.blocked.down?(y.processY(-T,i,!1,!0),1):r&&m&&t.blocked.up?(y.processY(T,i,!0),1):d&&m&&y.blocked.down?(t.processY(-T,e,!1,!0),2):u&&c&&y.blocked.up?(t.processY(T,e,!0),2):0},A=function(){var D=y.velocity.y,L=t.velocity.y,O=Math.sqrt(L*L*t.mass/y.mass)*(L>0?1:-1),B=Math.sqrt(D*D*y.mass/t.mass)*(D>0?1:-1),b=(O+B)*.5;return O-=b,B-=b,a=b+O*y.bounce.y,n=b+B*t.bounce.y,r&&m?P(0):u&&c?P(1):l&&c?P(2):d&&m?P(3):!1},P=function(D){if(o&&p)T*=.5,D===0||D===3?(y.processY(T,a),t.processY(-T,n)):(y.processY(-T,a),t.processY(T,n));else if(o&&!p)D===0||D===3?y.processY(T,i,!0):y.processY(-T,i,!1,!0);else if(!o&&p)D===0||D===3?t.processY(-T,e,!1,!0):t.processY(T,e,!0);else{var L=T*.5;D===0?f?(y.processY(T,0,!0),t.processY(0,null,!1,!0)):d?(y.processY(L,0,!0),t.processY(-L,0,!1,!0)):(y.processY(L,t.velocity.y,!0),t.processY(-L,null,!1,!0)):D===1?s?(y.processY(0,null,!1,!0),t.processY(T,0,!0)):l?(y.processY(-L,0,!1,!0),t.processY(L,0,!0)):(y.processY(-L,null,!1,!0),t.processY(L,y.velocity.y,!0)):D===2?f?(y.processY(-T,0,!1,!0),t.processY(0,null,!0)):u?(y.processY(-L,0,!1,!0),t.processY(L,0,!0)):(y.processY(-L,t.velocity.y,!1,!0),t.processY(L,null,!0)):D===3&&(s?(y.processY(0,null,!0),t.processY(-T,0,!1,!0)):r?(y.processY(L,0,!0),t.processY(-L,0,!1,!0)):(y.processY(L,t.velocity.y,!0),t.processY(-L,null,!1,!0)))}return!0},R=function(D){D===1?t.velocity.y=0:c?t.processY(T,e,!0):t.processY(-T,e,!1,!0),y.moves&&(t.x+=(y.x-y.prev.x)*y.friction.x,t._dx=t.x-t.prev.x)},F=function(D){D===2?y.velocity.y=0:m?y.processY(T,i,!0):y.processY(-T,i,!1,!0),t.moves&&(y.x+=(t.x-t.prev.x)*t.friction.x,y._dx=y.x-y.prev.x)};v.exports={BlockCheck:S,Check:A,Set:C,Run:P,RunImmovableBody1:R,RunImmovableBody2:F}},14087:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(64897),p=t(3017),a=function(n,i,e,r,l){l===void 0&&(l=o(n,i,e,r));var s=n.immovable,u=i.immovable;if(e||l===0||s&&u||n.customSeparateX||i.customSeparateX)return l!==0||n.embedded&&i.embedded;var d=p.Set(n,i,l);return!s&&!u?d>0?!0:p.Check():(s?p.RunImmovableBody1(d):u&&p.RunImmovableBody2(d),!0)};v.exports=a},89936:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45170),p=t(47962),a=function(n,i,e,r,l){l===void 0&&(l=o(n,i,e,r));var s=n.immovable,u=i.immovable;if(e||l===0||s&&u||n.customSeparateY||i.customSeparateY)return l!==0||n.embedded&&i.embedded;var d=p.Set(n,i,l);return!s&&!u?d>0?!0:p.Check():(s?p.RunImmovableBody1(d):u&&p.RunImmovableBody2(d),!0)};v.exports=a},95829:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o===void 0&&(o={}),o.none=t,o.up=!1,o.down=!1,o.left=!1,o.right=!1,t||(o.up=!0,o.down=!0,o.left=!0,o.right=!0),o};v.exports=y},72624:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87902),p=t(83419),a=t(78389),n=t(37747),i=t(37303),e=t(95829),r=t(26099),l=new p({Mixins:[a],initialize:function(u,d){var f=64,c=64,m={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},T=d!==void 0;T&&d.displayWidth&&(f=d.displayWidth,c=d.displayHeight),T||(d=m),this.world=u,this.gameObject=T?d:void 0,this.isBody=!0,this.debugShowBody=u.defaults.debugShowStaticBody,this.debugBodyColor=u.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new r,this.position=new r(d.x-f*d.originX,d.y-c*d.originY),this.width=f,this.height=c,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new r(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=r.ZERO,this.allowGravity=!1,this.gravity=r.ZERO,this.bounce=r.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=e(!1),this.touching=e(!0),this.wasTouching=e(!0),this.blocked=e(!0),this.physicsType=n.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(s,u){return s&&s!==this.gameObject&&(this.gameObject.body=null,s.body=this,this.gameObject=s),u&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var s=this.gameObject;return s.getTopLeft(this.position),this.width=s.displayWidth,this.height=s.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(s,u){return u===void 0&&(u=s),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(s,u),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(s,u,d){d===void 0&&(d=!0);var f=this.gameObject;if(f&&f.frame&&(s||(s=f.frame.realWidth),u||(u=f.frame.realHeight)),this.world.staticTree.remove(this),this.width=s,this.height=u,this.halfWidth=Math.floor(s/2),this.halfHeight=Math.floor(u/2),d&&f&&f.getCenter){var c=f.displayWidth/2,m=f.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(c-this.halfWidth,m-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(s,u,d){return u===void 0&&(u=this.offset.x),d===void 0&&(d=this.offset.y),s>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=s,this.width=s*2,this.height=s*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(u,d),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(s,u){var d=this.gameObject;s===void 0&&(s=d.x),u===void 0&&(u=d.y),this.world.staticTree.remove(this),d.setPosition(s,u),d.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(s){return s.x=this.x,s.y=this.y,s.right=this.right,s.bottom=this.bottom,s},hitTest:function(s,u){return this.isCircle?o(this,s,u):i(this,s,u)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(s){var u=this.position,d=u.x+this.halfWidth,f=u.y+this.halfHeight;this.debugShowBody&&(s.lineStyle(s.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?s.strokeCircle(d,f,this.width/2):s.strokeRect(u.x,u.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(s){return s<=0&&(s=.1),this.mass=s,this},x:{get:function(){return this.position.x},set:function(s){this.world.staticTree.remove(this),this.position.x=s,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(s){this.world.staticTree.remove(this),this.position.y=s,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});v.exports=l},71464:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(13759),p=t(83419),a=t(78389),n=t(37747),i=t(95540),e=t(26479),r=t(41212),l=new p({Extends:e,Mixins:[a],initialize:function(u,d,f,c){!f&&!c?c={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:o}:r(f)?(c=f,f=null,c.internalCreateCallback=this.createCallbackHandler,c.internalRemoveCallback=this.removeCallbackHandler,c.createMultipleCallback=this.createMultipleCallbackHandler,c.classType=i(c,"classType",o)):Array.isArray(f)&&r(f[0])?(c=f,f=null,c.forEach(function(m){m.internalCreateCallback=this.createCallbackHandler,m.internalRemoveCallback=this.removeCallbackHandler,m.createMultipleCallback=this.createMultipleCallbackHandler,m.classType=i(m,"classType",o)})):c={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=u,this.physicsType=n.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,e.call(this,d,f,c),this.type="StaticPhysicsGroup"},createCallbackHandler:function(s){s.body||this.world.enableBody(s,n.STATIC_BODY)},removeCallbackHandler:function(s){s.body&&this.world.disableBody(s)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var s=this.children.entries,u=0;u<s.length;u++)s[u].body.reset();return this}});v.exports=l},82248:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(55495),p=t(37742),a=t(45319),n=t(83419),i=t(79342),e=t(37747),r=t(20339),l=t(52816),s=t(50792),u=t(63012),d=t(43855),f=t(5470),c=t(94977),m=t(64897),T=t(45170),C=t(96523),S=t(35154),A=t(36383),P=t(25774),R=t(96602),F=t(87841),D=t(59542),L=t(40012),O=t(14087),B=t(89936),b=t(35072),z=t(72624),V=t(2483),W=t(61340),K=t(26099),U=t(15994),Y=new n({Extends:s,initialize:function(N,G){s.call(this),this.scene=N,this.bodies=new b,this.staticBodies=new b,this.pendingDestroy=new b,this.colliders=new P,this.gravity=new K(S(G,"gravity.x",0),S(G,"gravity.y",0)),this.bounds=new F(S(G,"x",0),S(G,"y",0),S(G,"width",N.sys.scale.width),S(G,"height",N.sys.scale.height)),this.checkCollision={up:S(G,"checkCollision.up",!0),down:S(G,"checkCollision.down",!0),left:S(G,"checkCollision.left",!0),right:S(G,"checkCollision.right",!0)},this.fps=S(G,"fps",60),this.fixedStep=S(G,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=S(G,"timeScale",1),this.OVERLAP_BIAS=S(G,"overlapBias",4),this.TILE_BIAS=S(G,"tileBias",16),this.forceX=S(G,"forceX",!1),this.isPaused=S(G,"isPaused",!1),this._total=0,this.drawDebug=S(G,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:S(G,"debugShowBody",!0),debugShowStaticBody:S(G,"debugShowStaticBody",!0),debugShowVelocity:S(G,"debugShowVelocity",!0),bodyDebugColor:S(G,"debugBodyColor",16711935),staticBodyDebugColor:S(G,"debugStaticBodyColor",255),velocityDebugColor:S(G,"debugVelocityColor",65280)},this.maxEntries=S(G,"maxEntries",16),this.useTree=S(G,"useTree",!0),this.tree=new D(this.maxEntries),this.staticTree=new D(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new W,this._tempMatrix2=new W,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(I,N){N===void 0&&(N=e.DYNAMIC_BODY),Array.isArray(I)||(I=[I]);for(var G=0;G<I.length;G++){var X=I[G];if(X.isParent)for(var H=X.getChildren(),Q=0;Q<H.length;Q++){var $=H[Q];$.isParent?this.enable($,N):this.enableBody($,N)}else this.enableBody(X,N)}},enableBody:function(I,N){return N===void 0&&(N=e.DYNAMIC_BODY),I.hasTransformComponent&&(I.body||(N===e.DYNAMIC_BODY?I.body=new p(this,I):N===e.STATIC_BODY&&(I.body=new z(this,I))),this.add(I.body)),I},add:function(I){return I.physicsType===e.DYNAMIC_BODY?this.bodies.set(I):I.physicsType===e.STATIC_BODY&&(this.staticBodies.set(I),this.staticTree.insert(I)),I.enable=!0,I},disable:function(I){Array.isArray(I)||(I=[I]);for(var N=0;N<I.length;N++){var G=I[N];if(G.isParent)for(var X=G.getChildren(),H=0;H<X.length;H++){var Q=X[H];Q.isParent?this.disable(Q):this.disableBody(Q.body)}else this.disableBody(G.body)}},disableBody:function(I){this.remove(I),I.enable=!1},remove:function(I){I.physicsType===e.DYNAMIC_BODY?(this.tree.remove(I),this.bodies.delete(I)):I.physicsType===e.STATIC_BODY&&(this.staticBodies.delete(I),this.staticTree.remove(I))},createDebugGraphic:function(){var I=this.scene.sys.add.graphics({x:0,y:0});return I.setDepth(Number.MAX_VALUE),this.debugGraphic=I,this.drawDebug=!0,I},setBounds:function(I,N,G,X,H,Q,$,Z){return this.bounds.setTo(I,N,G,X),H!==void 0&&this.setBoundsCollision(H,Q,$,Z),this},setBoundsCollision:function(I,N,G,X){return I===void 0&&(I=!0),N===void 0&&(N=!0),G===void 0&&(G=!0),X===void 0&&(X=!0),this.checkCollision.left=I,this.checkCollision.right=N,this.checkCollision.up=G,this.checkCollision.down=X,this},pause:function(){return this.isPaused=!0,this.emit(u.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(u.RESUME),this},addCollider:function(I,N,G,X,H){G===void 0&&(G=null),X===void 0&&(X=null),H===void 0&&(H=G);var Q=new i(this,!1,I,N,G,X,H);return this.colliders.add(Q),Q},addOverlap:function(I,N,G,X,H){G===void 0&&(G=null),X===void 0&&(X=null),H===void 0&&(H=G);var Q=new i(this,!0,I,N,G,X,H);return this.colliders.add(Q),Q},removeCollider:function(I){return this.colliders.remove(I),this},setFPS:function(I){return this.fps=I,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(I,N){if(!(this.isPaused||this.bodies.size===0)){var G,X=this._frameTime,H=this._frameTimeMS*this.timeScale;this._elapsed+=N;var Q,$=this.bodies.entries,Z=this._elapsed>=H;for(this.fixedStep||(X=N*.001,Z=!0,this._elapsed=0),G=0;G<$.length;G++)Q=$[G],Q.enable&&Q.preUpdate(Z,X);if(Z){this._elapsed-=H,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load($));var J=this.colliders.update();for(G=0;G<J.length;G++){var j=J[G];j.active&&j.update()}this.emit(u.WORLD_STEP,X)}for(;this._elapsed>=H;)this._elapsed-=H,this.step(X)}},step:function(I){var N,G,X=this.bodies.entries,H=X.length;for(N=0;N<H;N++)G=X[N],G.enable&&G.update(I);this.useTree&&(this.tree.clear(),this.tree.load(X));var Q=this.colliders.update();for(N=0;N<Q.length;N++){var $=Q[N];$.active&&$.update()}this.emit(u.WORLD_STEP,I),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var I,N,G=this.bodies.entries,X=G.length,H=this.bodies,Q=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,I=0;I<X;I++)N=G[I],N.enable&&N.postUpdate();if(this.drawDebug){var $=this.debugGraphic;for($.clear(),I=0;I<X;I++)N=G[I],N.willDrawDebug()&&N.drawDebug($);for(G=Q.entries,X=G.length,I=0;I<X;I++)N=G[I],N.willDrawDebug()&&N.drawDebug($)}var Z=this.pendingDestroy;if(Z.size>0){var J=this.tree,j=this.staticTree;for(G=Z.entries,X=G.length,I=0;I<X;I++)N=G[I],N.physicsType===e.DYNAMIC_BODY?(J.remove(N),H.delete(N)):N.physicsType===e.STATIC_BODY&&(j.remove(N),Q.delete(N)),N.world=void 0,N.gameObject=void 0;Z.clear()}},updateMotion:function(I,N){I.allowRotation&&this.computeAngularVelocity(I,N),this.computeVelocity(I,N)},computeAngularVelocity:function(I,N){var G=I.angularVelocity,X=I.angularAcceleration,H=I.angularDrag,Q=I.maxAngular;X?G+=X*N:I.allowDrag&&H&&(H*=N,f(G-H,0,.1)?G-=H:c(G+H,0,.1)?G+=H:G=0),G=a(G,-Q,Q);var $=G-I.angularVelocity;I.angularVelocity+=$,I.rotation+=I.angularVelocity*N},computeVelocity:function(I,N){var G=I.velocity.x,X=I.acceleration.x,H=I.drag.x,Q=I.maxVelocity.x,$=I.velocity.y,Z=I.acceleration.y,J=I.drag.y,j=I.maxVelocity.y,k=I.speed,_=I.maxSpeed,q=I.allowDrag,et=I.useDamping;I.allowGravity&&(G+=(this.gravity.x+I.gravity.x)*N,$+=(this.gravity.y+I.gravity.y)*N),X?G+=X*N:q&&H&&(et?(H=Math.pow(H,N),G*=H,k=Math.sqrt(G*G+$*$),d(k,0,.001)&&(G=0)):(H*=N,f(G-H,0,.01)?G-=H:c(G+H,0,.01)?G+=H:G=0)),Z?$+=Z*N:q&&J&&(et?(J=Math.pow(J,N),$*=J,k=Math.sqrt(G*G+$*$),d(k,0,.001)&&($=0)):(J*=N,f($-J,0,.01)?$-=J:c($+J,0,.01)?$+=J:$=0)),G=a(G,-Q,Q),$=a($,-j,j),I.velocity.set(G,$),_>-1&&I.velocity.length()>_&&(I.velocity.normalize().scale(_),k=_),I.speed=k},separate:function(I,N,G,X,H){var Q,$,Z=!1,J=!0;if(!I.enable||!N.enable||I.checkCollision.none||N.checkCollision.none||!this.intersects(I,N)||G&&G.call(X,I.gameObject,N.gameObject)===!1)return Z;if(I.isCircle||N.isCircle){var j=this.separateCircle(I,N,H);j.result?(Z=!0,J=!1):(Q=j.x,$=j.y,J=!0)}if(J){var k=!1,_=!1,q=this.OVERLAP_BIAS;H?(k=O(I,N,H,q,Q),_=B(I,N,H,q,$)):this.forceX||Math.abs(this.gravity.y+I.gravity.y)<Math.abs(this.gravity.x+I.gravity.x)?(k=O(I,N,H,q,Q),this.intersects(I,N)&&(_=B(I,N,H,q,$))):(_=B(I,N,H,q,$),this.intersects(I,N)&&(k=O(I,N,H,q,Q))),Z=k||_}return Z&&(H?(I.onOverlap||N.onOverlap)&&this.emit(u.OVERLAP,I.gameObject,N.gameObject,I,N):(I.onCollide||N.onCollide)&&this.emit(u.COLLIDE,I.gameObject,N.gameObject,I,N)),Z},separateCircle:function(I,N,G){m(I,N,!1,0),T(I,N,!1,0);var X=I.isCircle,H=N.isCircle,Q=I.center,$=N.center,Z=I.immovable,J=N.immovable,j=I.velocity,k=N.velocity,_=0,q=!0;if(X!==H){q=!1;var et=Q.x,st=Q.y,nt=I.halfWidth,it=N.position.x,tt=N.position.y,at=N.right,rt=N.bottom;H&&(et=$.x,st=$.y,nt=N.halfWidth,it=I.position.x,tt=I.position.y,at=I.right,rt=I.bottom),st<tt?et<it?_=r(et,st,it,tt)-nt:et>at&&(_=r(et,st,at,tt)-nt):st>rt&&(et<it?_=r(et,st,it,rt)-nt:et>at&&(_=r(et,st,at,rt)-nt)),_*=-1}else _=I.halfWidth+N.halfWidth-l(Q,$);I.overlapR=_,N.overlapR=_;var ot=o(Q,$),ht=(_+A.EPSILON)*Math.cos(ot),ft=(_+A.EPSILON)*Math.sin(ot),ct={overlap:_,result:!1,x:ht,y:ft};if(G&&(!q||q&&_!==0))return ct.result=!0,ct;if(!q&&_===0||Z&&J||I.customSeparateX||N.customSeparateX)return ct.x=void 0,ct.y=void 0,ct;var vt=!I.pushable&&!N.pushable;if(q){var dt=Q.x-$.x,Et=Q.y-$.y,St=Math.sqrt(Math.pow(dt,2)+Math.pow(Et,2)),Rt=($.x-Q.x)/St||0,Bt=($.y-Q.y)/St||0,At=2*(j.x*Rt+j.y*Bt-k.x*Rt-k.y*Bt)/(I.mass+N.mass);(Z||J)&&(At*=2),Z||(j.x=j.x-At/I.mass*Rt,j.y=j.y-At/I.mass*Bt,j.multiply(I.bounce)),J||(k.x=k.x+At/N.mass*Rt,k.y=k.y+At/N.mass*Bt,k.multiply(N.bounce)),!Z&&!J&&(ht*=.5,ft*=.5),Z||(I.x-=ht,I.y-=ft,I.updateCenter()),J||(N.x+=ht,N.y+=ft,N.updateCenter()),ct.result=!0}else!Z||I.pushable||vt?(I.x-=ht,I.y-=ft,I.updateCenter()):(!J||N.pushable||vt)&&(N.x+=ht,N.y+=ft,N.updateCenter()),ct.x=void 0,ct.y=void 0;return ct},intersects:function(I,N){return I===N?!1:!I.isCircle&&!N.isCircle?!(I.right<=N.left||I.bottom<=N.top||I.left>=N.right||I.top>=N.bottom):I.isCircle?N.isCircle?l(I.center,N.center)<=I.halfWidth+N.halfWidth:this.circleBodyIntersects(I,N):this.circleBodyIntersects(N,I)},circleBodyIntersects:function(I,N){var G=a(I.center.x,N.left,N.right),X=a(I.center.y,N.top,N.bottom),H=(I.center.x-G)*(I.center.x-G),Q=(I.center.y-X)*(I.center.y-X);return H+Q<=I.halfWidth*I.halfWidth},overlap:function(I,N,G,X,H){return G===void 0&&(G=null),X===void 0&&(X=null),H===void 0&&(H=G),this.collideObjects(I,N,G,X,H,!0)},collide:function(I,N,G,X,H){return G===void 0&&(G=null),X===void 0&&(X=null),H===void 0&&(H=G),this.collideObjects(I,N,G,X,H,!1)},collideObjects:function(I,N,G,X,H,Q){var $,Z;I.isParent&&(I.physicsType===void 0||N===void 0||I===N)&&(I=I.children.entries),N&&N.isParent&&N.physicsType===void 0&&(N=N.children.entries);var J=Array.isArray(I),j=Array.isArray(N);if(this._total=0,!J&&!j)this.collideHandler(I,N,G,X,H,Q);else if(!J&&j)for($=0;$<N.length;$++)this.collideHandler(I,N[$],G,X,H,Q);else if(J&&!j)if(N)for($=0;$<I.length;$++)this.collideHandler(I[$],N,G,X,H,Q);else for($=0;$<I.length;$++){var k=I[$];for(Z=$+1;Z<I.length;Z++)$!==Z&&this.collideHandler(k,I[Z],G,X,H,Q)}else for($=0;$<I.length;$++)for(Z=0;Z<N.length;Z++)this.collideHandler(I[$],N[Z],G,X,H,Q);return this._total>0},collideHandler:function(I,N,G,X,H,Q){if(N===void 0&&I.isParent)return this.collideGroupVsGroup(I,I,G,X,H,Q);if(!I||!N)return!1;if(I.body||I.isBody){if(N.body||N.isBody)return this.collideSpriteVsSprite(I,N,G,X,H,Q);if(N.isParent)return this.collideSpriteVsGroup(I,N,G,X,H,Q);if(N.isTilemap)return this.collideSpriteVsTilemapLayer(I,N,G,X,H,Q)}else if(I.isParent){if(N.body||N.isBody)return this.collideSpriteVsGroup(N,I,G,X,H,Q);if(N.isParent)return this.collideGroupVsGroup(I,N,G,X,H,Q);if(N.isTilemap)return this.collideGroupVsTilemapLayer(I,N,G,X,H,Q)}else if(I.isTilemap){if(N.body||N.isBody)return this.collideSpriteVsTilemapLayer(N,I,G,X,H,Q);if(N.isParent)return this.collideGroupVsTilemapLayer(N,I,G,X,H,Q)}},canCollide:function(I,N){return I&&N&&(I.collisionMask&N.collisionCategory)!==0&&(N.collisionMask&I.collisionCategory)!==0},collideSpriteVsSprite:function(I,N,G,X,H,Q){var $=I.isBody?I:I.body,Z=N.isBody?N:N.body;return this.canCollide($,Z)?(this.separate($,Z,X,H,Q)&&(G&&G.call(H,I,N),this._total++),!0):!1},collideSpriteVsGroup:function(I,N,G,X,H,Q){var $=I.isBody?I:I.body;if(!(N.length===0||!$||!$.enable||$.checkCollision.none||!this.canCollide($,N))){var Z,J,j;if(this.useTree||N.physicsType===e.STATIC_BODY){var k=this.treeMinMax;k.minX=$.left,k.minY=$.top,k.maxX=$.right,k.maxY=$.bottom;var _=N.physicsType===e.DYNAMIC_BODY?this.tree.search(k):this.staticTree.search(k);for(J=_.length,Z=0;Z<J;Z++)j=_[Z],!($===j||!j.enable||j.checkCollision.none||!N.contains(j.gameObject))&&this.separate($,j,X,H,Q)&&(G&&G.call(H,$.gameObject,j.gameObject),this._total++)}else{var q=N.getChildren(),et=N.children.entries.indexOf(I);for(J=q.length,Z=0;Z<J;Z++)j=q[Z].body,!(!j||Z===et||!j.enable)&&this.separate($,j,X,H,Q)&&(G&&G.call(H,$.gameObject,j.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(I,N,G,X,H,Q){if(!this.canCollide(I,N))return!1;var $=I.getChildren();if($.length===0)return!1;for(var Z=!1,J=0;J<$.length;J++)($[J].body||$[J].isBody)&&this.collideSpriteVsTilemapLayer($[J],N,G,X,H,Q)&&(Z=!0);return Z},collideTiles:function(I,N,G,X,H){return N.length===0||I.body&&!I.body.enable||I.isBody&&!I.enable?!1:this.collideSpriteVsTilesHandler(I,N,G,X,H,!1,!1)},overlapTiles:function(I,N,G,X,H){return N.length===0||I.body&&!I.body.enable||I.isBody&&!I.enable?!1:this.collideSpriteVsTilesHandler(I,N,G,X,H,!0,!1)},collideSpriteVsTilemapLayer:function(I,N,G,X,H,Q){var $=I.isBody?I:I.body;if(!$.enable||$.checkCollision.none||!this.canCollide($,N))return!1;var Z=N.layer,J=$.x-Z.tileWidth*N.scaleX,j=$.y-Z.tileHeight*N.scaleY,k=$.width+Z.tileWidth*N.scaleX,_=$.height+Z.tileHeight*N.scaleY,q=Q?null:this.tileFilterOptions,et=C(J,j,k,_,q,N.scene.cameras.main,N.layer);return et.length===0?!1:this.collideSpriteVsTilesHandler(I,et,G,X,H,Q,!0)},collideSpriteVsTilesHandler:function(I,N,G,X,H,Q,$){for(var Z=I.isBody?I:I.body,J,j={left:0,right:0,top:0,bottom:0},k,_=!1,q=0;q<N.length;q++){J=N[q],k=J.tilemapLayer;var et=k.tileToWorldXY(J.x,J.y);j.left=et.x,j.top=et.y,j.right=j.left+J.width*k.scaleX,j.bottom=j.top+J.height*k.scaleY,V(j,Z)&&(!X||X.call(H,I,J))&&R(J,I)&&(Q||L(q,Z,J,j,k,this.TILE_BIAS,$))&&(this._total++,_=!0,G&&G.call(H,I,J),Q&&Z.onOverlap?this.emit(u.TILE_OVERLAP,I,J,Z):Z.onCollide&&this.emit(u.TILE_COLLIDE,I,J,Z))}return _},collideGroupVsGroup:function(I,N,G,X,H,Q){if(!(I.length===0||N.length===0||!this.canCollide(I,N)))for(var $=I.getChildren(),Z=0;Z<$.length;Z++)this.collideSpriteVsGroup($[Z],N,G,X,H,Q)},wrap:function(I,N){I.body?this.wrapObject(I,N):I.getChildren?this.wrapArray(I.getChildren(),N):Array.isArray(I)?this.wrapArray(I,N):this.wrapObject(I,N)},wrapArray:function(I,N){for(var G=0;G<I.length;G++)this.wrapObject(I[G],N)},wrapObject:function(I,N){N===void 0&&(N=0),I.x=U(I.x,this.bounds.left-N,this.bounds.right+N),I.y=U(I.y,this.bounds.top-N,this.bounds.bottom+N)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});v.exports=Y},1093:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setAcceleration:function(t,o){return this.body.acceleration.set(t,o),this},setAccelerationX:function(t){return this.body.acceleration.x=t,this},setAccelerationY:function(t){return this.body.acceleration.y=t,this}};v.exports=y},59023:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setAngularVelocity:function(t){return this.body.angularVelocity=t,this},setAngularAcceleration:function(t){return this.body.angularAcceleration=t,this},setAngularDrag:function(t){return this.body.angularDrag=t,this}};v.exports=y},62069:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setBounce:function(t,o){return this.body.bounce.set(t,o),this},setBounceX:function(t){return this.body.bounce.x=t,this},setBounceY:function(t){return this.body.bounce.y=t,this},setCollideWorldBounds:function(t,o,p,a){return this.body.setCollideWorldBounds(t,o,p,a),this}};v.exports=y},78389:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(79599),p={setCollisionCategory:function(a){var n=this.body?this.body:this;return n.collisionCategory=a,this},willCollideWith:function(a){var n=this.body?this.body:this;return(n.collisionMask&a)!==0},addCollidesWith:function(a){var n=this.body?this.body:this;return n.collisionMask=n.collisionMask|a,this},removeCollidesWith:function(a){var n=this.body?this.body:this;return n.collisionMask=n.collisionMask&~a,this},setCollidesWith:function(a){var n=this.body?this.body:this;return n.collisionMask=o(a),this},resetCollisionCategory:function(){var a=this.body?this.body:this;return a.collisionCategory=1,a.collisionMask=1,this}};v.exports=p},87118:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setDebug:function(t,o,p){return this.debugShowBody=t,this.debugShowVelocity=o,this.debugBodyColor=p,this},setDebugBodyColor:function(t){return this.body.debugBodyColor=t,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(t){this.body.debugShowBody=t}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(t){this.body.debugShowVelocity=t}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(t){this.body.debugBodyColor=t}}};v.exports=y},52819:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setDrag:function(t,o){return this.body.drag.set(t,o),this},setDragX:function(t){return this.body.drag.x=t,this},setDragY:function(t){return this.body.drag.y=t,this},setDamping:function(t){return this.body.useDamping=t,this}};v.exports=y},4074:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setDirectControl:function(t){return this.body.setDirectControl(t),this},enableBody:function(t,o,p,a,n){return t&&this.body.reset(o,p),a&&(this.body.gameObject.active=!0),n&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(t,o){return t===void 0&&(t=!1),o===void 0&&(o=!1),this.body.stop(),this.body.enable=!1,t&&(this.body.gameObject.active=!1),o&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};v.exports=y},40831:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setFriction:function(t,o){return this.body.friction.set(t,o),this},setFrictionX:function(t){return this.body.friction.x=t,this},setFrictionY:function(t){return this.body.friction.y=t,this}};v.exports=y},26775:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setGravity:function(t,o){return this.body.gravity.set(t,o),this},setGravityX:function(t){return this.body.gravity.x=t,this},setGravityY:function(t){return this.body.gravity.y=t,this}};v.exports=y},9437:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setImmovable:function(t){return t===void 0&&(t=!0),this.body.immovable=t,this}};v.exports=y},30621:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setMass:function(t){return this.body.mass=t,this}};v.exports=y},72441:(v,y,t)=>{var o=t(47956),p=t(96503),a=t(2044),n=t(81491),i=function(e,r,l,s,u,d){var f=o(e,r-s,l-s,2*s,2*s,u,d);if(f.length===0)return f;for(var c=new p(r,l,s),m=new p,T=[],C=0;C<f.length;C++){var S=f[C];S.isCircle?(m.setTo(S.center.x,S.center.y,S.halfWidth),a(c,m)&&T.push(S)):n(c,S)&&T.push(S)}return T};v.exports=i},47956:v=>{var y=function(t,o,p,a,n,i,e){i===void 0&&(i=!0),e===void 0&&(e=!1);var r=[],l=[],s=t.treeMinMax;if(s.minX=o,s.minY=p,s.maxX=o+a,s.maxY=p+n,e&&(l=t.staticTree.search(s)),i&&t.useTree)r=t.tree.search(s);else if(i){var u=t.bodies,d={position:{x:o,y:p},left:o,top:p,right:o+a,bottom:p+n,isCircle:!1},f=t.intersects;u.iterate(function(c){f(c,d)&&r.push(c)})}return l.concat(r)};v.exports=y},62121:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setPushable:function(t){return t===void 0&&(t=!0),this.body.pushable=t,this}};v.exports=y},29384:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setOffset:function(t,o){return this.body.setOffset(t,o),this},setSize:function(t,o,p){return this.body.setSize(t,o,p),this},setBodySize:function(t,o,p){return this.body.setSize(t,o,p),this},setCircle:function(t,o,p){return this.body.setCircle(t,o,p),this}};v.exports=y},15098:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setVelocity:function(t,o){return this.body.setVelocity(t,o),this},setVelocityX:function(t){return this.body.setVelocityX(t),this},setVelocityY:function(t){return this.body.setVelocityY(t),this},setMaxVelocity:function(t,o){return this.body.maxVelocity.set(t,o),this}};v.exports=y},92209:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Acceleration:t(1093),Angular:t(59023),Bounce:t(62069),Collision:t(78389),Debug:t(87118),Drag:t(52819),Enable:t(4074),Friction:t(40831),Gravity:t(26775),Immovable:t(9437),Mass:t(30621),OverlapCirc:t(72441),OverlapRect:t(47956),Pushable:t(62121),Size:t(29384),Velocity:t(15098)}},37747:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};v.exports=y},20009:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="collide"},36768:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="overlap"},60473:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pause"},89954:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resume"},61804:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="tilecollide"},7161:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="tileoverlap"},34689:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="worldbounds"},16006:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="worldstep"},63012:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={COLLIDE:t(20009),OVERLAP:t(36768),PAUSE:t(60473),RESUME:t(89954),TILE_COLLIDE:t(61804),TILE_OVERLAP:t(7161),WORLD_BOUNDS:t(34689),WORLD_STEP:t(16006)}},27064:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37747),p=t(79291),a={ArcadePhysics:t(86689),Body:t(37742),Collider:t(79342),Components:t(92209),Events:t(63012),Factory:t(66022),GetCollidesWith:t(79599),GetOverlapX:t(64897),GetOverlapY:t(45170),SeparateX:t(14087),SeparateY:t(89936),Group:t(60758),Image:t(71289),Sprite:t(13759),StaticBody:t(72624),StaticGroup:t(71464),Tilemap:t(55173),World:t(82248)};a=p(!1,a,o),v.exports=a},96602:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.collisionCallback?!t.collisionCallback.call(t.collisionCallbackContext,o,t):t.layer.callbacks[t.index]?!t.layer.callbacks[t.index].callback.call(t.layer.callbacks[t.index].callbackContext,o,t):!0};v.exports=y},36294:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){o<0?(t.blocked.none=!1,t.blocked.left=!0):o>0&&(t.blocked.none=!1,t.blocked.right=!0),t.position.x-=o,t.updateCenter(),t.bounce.x===0?t.velocity.x=0:t.velocity.x=-t.velocity.x*t.bounce.x};v.exports=y},67013:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){o<0?(t.blocked.none=!1,t.blocked.up=!0):o>0&&(t.blocked.none=!1,t.blocked.down=!0),t.position.y-=o,t.updateCenter(),t.bounce.y===0?t.velocity.y=0:t.velocity.y=-t.velocity.y*t.bounce.y};v.exports=y},40012:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(21329),p=t(53442),a=t(2483),n=function(i,e,r,l,s,u,d){var f=l.left,c=l.top,m=l.right,T=l.bottom,C=r.faceLeft||r.faceRight,S=r.faceTop||r.faceBottom;if(d||(C=!0,S=!0),!C&&!S)return!1;var A=0,P=0,R=0,F=1;if(e.deltaAbsX()>e.deltaAbsY()?R=-1:e.deltaAbsX()<e.deltaAbsY()&&(F=-1),e.deltaX()!==0&&e.deltaY()!==0&&C&&S&&(R=Math.min(Math.abs(e.position.x-m),Math.abs(e.right-f)),F=Math.min(Math.abs(e.position.y-T),Math.abs(e.bottom-c))),R<F){if(C&&(A=o(e,r,f,m,u,d),A!==0&&!a(l,e)))return!0;S&&(P=p(e,r,c,T,u,d))}else{if(S&&(P=p(e,r,c,T,u,d),P!==0&&!a(l,e)))return!0;C&&(A=o(e,r,f,m,u,d))}return A!==0||P!==0};v.exports=n},21329:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36294),p=function(a,n,i,e,r,l){var s=0,u=n.faceLeft,d=n.faceRight,f=n.collideLeft,c=n.collideRight;return l||(u=!0,d=!0,f=!0,c=!0),a.deltaX()<0&&c&&a.checkCollision.left?d&&a.x<e&&(s=a.x-e,s<-r&&(s=0)):a.deltaX()>0&&f&&a.checkCollision.right&&u&&a.right>i&&(s=a.right-i,s>r&&(s=0)),s!==0&&(a.customSeparateX?a.overlapX=s:o(a,s)),s};v.exports=p},53442:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(67013),p=function(a,n,i,e,r,l){var s=0,u=n.faceTop,d=n.faceBottom,f=n.collideUp,c=n.collideDown;return l||(u=!0,d=!0,f=!0,c=!0),a.deltaY()<0&&c&&a.checkCollision.up?d&&a.y<e&&(s=a.y-e,s<-r&&(s=0)):a.deltaY()>0&&f&&a.checkCollision.down&&u&&a.bottom>i&&(s=a.bottom-i,s>r&&(s=0)),s!==0&&(a.customSeparateY?a.overlapY=s:o(a,s)),s};v.exports=p},2483:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return!(o.right<=t.left||o.bottom<=t.top||o.position.x>=t.right||o.position.y>=t.bottom)};v.exports=y},55173:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={ProcessTileCallbacks:t(96602),ProcessTileSeparationX:t(36294),ProcessTileSeparationY:t(67013),SeparateTile:t(40012),TileCheckX:t(21329),TileCheckY:t(53442),TileIntersectsBody:t(2483)};v.exports=o},44563:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Arcade:t(27064),Matter:t(3875)}},68174:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(26099),a=new o({initialize:function(){this.boundsCenter=new p,this.centerDiff=new p},parseBody:function(n){if(n=n.hasOwnProperty("body")?n.body:n,!n.hasOwnProperty("bounds")||!n.hasOwnProperty("centerOfMass"))return!1;var i=this.boundsCenter,e=this.centerDiff,r=n.bounds.max.x-n.bounds.min.x,l=n.bounds.max.y-n.bounds.min.y,s=r*n.centerOfMass.x,u=l*n.centerOfMass.y;return i.set(r/2,l/2),e.set(s-i.x,u-i.y),!0},getTopLeft:function(n,i,e){if(i===void 0&&(i=0),e===void 0&&(e=0),this.parseBody(n)){var r=this.boundsCenter,l=this.centerDiff;return new p(i+r.x+l.x,e+r.y+l.y)}return!1},getTopCenter:function(n,i,e){if(i===void 0&&(i=0),e===void 0&&(e=0),this.parseBody(n)){var r=this.boundsCenter,l=this.centerDiff;return new p(i+l.x,e+r.y+l.y)}return!1},getTopRight:function(n,i,e){if(i===void 0&&(i=0),e===void 0&&(e=0),this.parseBody(n)){var r=this.boundsCenter,l=this.centerDiff;return new p(i-(r.x-l.x),e+r.y+l.y)}return!1},getLeftCenter:function(n,i,e){if(i===void 0&&(i=0),e===void 0&&(e=0),this.parseBody(n)){var r=this.boundsCenter,l=this.centerDiff;return new p(i+r.x+l.x,e+l.y)}return!1},getCenter:function(n,i,e){if(i===void 0&&(i=0),e===void 0&&(e=0),this.parseBody(n)){var r=this.centerDiff;return new p(i+r.x,e+r.y)}return!1},getRightCenter:function(n,i,e){if(i===void 0&&(i=0),e===void 0&&(e=0),this.parseBody(n)){var r=this.boundsCenter,l=this.centerDiff;return new p(i-(r.x-l.x),e+l.y)}return!1},getBottomLeft:function(n,i,e){if(i===void 0&&(i=0),e===void 0&&(e=0),this.parseBody(n)){var r=this.boundsCenter,l=this.centerDiff;return new p(i+r.x+l.x,e-(r.y-l.y))}return!1},getBottomCenter:function(n,i,e){if(i===void 0&&(i=0),e===void 0&&(e=0),this.parseBody(n)){var r=this.boundsCenter,l=this.centerDiff;return new p(i+l.x,e-(r.y-l.y))}return!1},getBottomRight:function(n,i,e){if(i===void 0&&(i=0),e===void 0&&(e=0),this.parseBody(n)){var r=this.boundsCenter,l=this.centerDiff;return new p(i-(r.x-l.x),e-(r.y-l.y))}return!1}});v.exports=a},19933:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(6790);o.Body=t(22562),o.Composite=t(69351),o.World=t(4372),o.Collision=t(52284),o.Detector=t(81388),o.Pairs=t(99561),o.Pair=t(4506),o.Query=t(73296),o.Resolver=t(66272),o.Constraint=t(48140),o.Common=t(53402),o.Engine=t(48413),o.Events=t(35810),o.Sleeping=t(53614),o.Plugin=t(73832),o.Bodies=t(66280),o.Composites=t(74116),o.Axes=t(66615),o.Bounds=t(15647),o.Svg=t(74058),o.Vector=t(31725),o.Vertices=t(41598),o.World.add=o.Composite.add,o.World.remove=o.Composite.remove,o.World.addComposite=o.Composite.addComposite,o.World.addBody=o.Composite.addBody,o.World.addConstraint=o.Composite.addConstraint,o.World.clear=o.Composite.clear,v.exports=o},28137:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66280),p=t(83419),a=t(74116),n=t(48140),i=t(74058),e=t(75803),r=t(23181),l=t(34803),s=t(73834),u=t(19496),d=t(85791),f=t(98713),c=t(41598),m=new p({initialize:function(C){this.world=C,this.scene=C.scene,this.sys=C.scene.sys},rectangle:function(T,C,S,A,P){var R=o.rectangle(T,C,S,A,P);return this.world.add(R),R},trapezoid:function(T,C,S,A,P,R){var F=o.trapezoid(T,C,S,A,P,R);return this.world.add(F),F},circle:function(T,C,S,A,P){var R=o.circle(T,C,S,A,P);return this.world.add(R),R},polygon:function(T,C,S,A,P){var R=o.polygon(T,C,S,A,P);return this.world.add(R),R},fromVertices:function(T,C,S,A,P,R,F){typeof S=="string"&&(S=c.fromPath(S));var D=o.fromVertices(T,C,S,A,P,R,F);return this.world.add(D),D},fromPhysicsEditor:function(T,C,S,A,P){P===void 0&&(P=!0);var R=u.parseBody(T,C,S,A);return P&&!this.world.has(R)&&this.world.add(R),R},fromSVG:function(T,C,S,A,P,R){A===void 0&&(A=1),P===void 0&&(P={}),R===void 0&&(R=!0);for(var F=S.getElementsByTagName("path"),D=[],L=0;L<F.length;L++){var O=i.pathToVertices(F[L],30);A!==1&&c.scale(O,A,A),D.push(O)}var B=o.fromVertices(T,C,D,P);return R&&this.world.add(B),B},fromJSON:function(T,C,S,A,P){A===void 0&&(A={}),P===void 0&&(P=!0);var R=d.parseBody(T,C,S,A);return R&&P&&this.world.add(R),R},imageStack:function(T,C,S,A,P,R,F,D,L){F===void 0&&(F=0),D===void 0&&(D=0),L===void 0&&(L={});var O=this.world,B=this.sys.displayList;L.addToWorld=!1;var b=a.stack(S,A,P,R,F,D,function(z,V){var W=new r(O,z,V,T,C,L);return B.add(W),W.body});return O.add(b),b},stack:function(T,C,S,A,P,R,F){var D=a.stack(T,C,S,A,P,R,F);return this.world.add(D),D},pyramid:function(T,C,S,A,P,R,F){var D=a.pyramid(T,C,S,A,P,R,F);return this.world.add(D),D},chain:function(T,C,S,A,P,R){return a.chain(T,C,S,A,P,R)},mesh:function(T,C,S,A,P){return a.mesh(T,C,S,A,P)},newtonsCradle:function(T,C,S,A,P){var R=a.newtonsCradle(T,C,S,A,P);return this.world.add(R),R},car:function(T,C,S,A,P){var R=a.car(T,C,S,A,P);return this.world.add(R),R},softBody:function(T,C,S,A,P,R,F,D,L,O){var B=a.softBody(T,C,S,A,P,R,F,D,L,O);return this.world.add(B),B},joint:function(T,C,S,A,P){return this.constraint(T,C,S,A,P)},spring:function(T,C,S,A,P){return this.constraint(T,C,S,A,P)},constraint:function(T,C,S,A,P){A===void 0&&(A=1),P===void 0&&(P={}),P.bodyA=T.type==="body"?T:T.body,P.bodyB=C.type==="body"?C:C.body,isNaN(S)||(P.length=S),P.stiffness=A;var R=n.create(P);return this.world.add(R),R},worldConstraint:function(T,C,S,A){S===void 0&&(S=1),A===void 0&&(A={}),A.bodyB=T.type==="body"?T:T.body,isNaN(C)||(A.length=C),A.stiffness=S;var P=n.create(A);return this.world.add(P),P},mouseSpring:function(T){return this.pointerConstraint(T)},pointerConstraint:function(T){T===void 0&&(T={}),T.hasOwnProperty("render")||(T.render={visible:!1});var C=new f(this.scene,this.world,T);return this.world.add(C.constraint),C},image:function(T,C,S,A,P){var R=new r(this.world,T,C,S,A,P);return this.sys.displayList.add(R),R},tileBody:function(T,C){return new s(this.world,T,C)},sprite:function(T,C,S,A,P){var R=new l(this.world,T,C,S,A,P);return this.sys.displayList.add(R),this.sys.updateList.add(R),R},gameObject:function(T,C,S){return e(this.world,T,C,S)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});v.exports=m},75803:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(31884),p=t(95540),a=t(26099);function n(e){return!!e.get&&typeof e.get=="function"||!!e.set&&typeof e.set=="function"}var i=function(e,r,l,s){l===void 0&&(l={}),s===void 0&&(s=!0);var u=r.x,d=r.y;r.body={temp:!0,position:{x:u,y:d}};var f=[o.Bounce,o.Collision,o.Force,o.Friction,o.Gravity,o.Mass,o.Sensor,o.SetBody,o.Sleep,o.Static,o.Transform,o.Velocity];if(f.forEach(function(m){for(var T in m)n(m[T])?Object.defineProperty(r,T,{get:m[T].get,set:m[T].set}):Object.defineProperty(r,T,{value:m[T]})}),r.world=e,r._tempVec2=new a(u,d),l.hasOwnProperty("type")&&l.type==="body")r.setExistingBody(l,s);else{var c=p(l,"shape",null);c||(c="rectangle"),l.addToWorld=s,r.setBody(c,l)}return r};v.exports=i},23181:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(31884),a=t(95643),n=t(95540),i=t(88571),e=t(72699),r=t(26099),l=new o({Extends:i,Mixins:[p.Bounce,p.Collision,p.Force,p.Friction,p.Gravity,p.Mass,p.Sensor,p.SetBody,p.Sleep,p.Static,p.Transform,p.Velocity,e],initialize:function(u,d,f,c,m,T){a.call(this,u.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(c,m),this.setSizeToFrame(),this.setOrigin(),this.world=u,this._tempVec2=new r(d,f);var C=n(T,"shape",null);C?this.setBody(C,T):this.setRectangle(this.width,this.height,T),this.setPosition(d,f),this.initPipeline(),this.initPostPipeline(!0)}});v.exports=l},42045:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(60461),p=t(66615),a=t(66280),n=t(22562),i=t(68174),e=t(15647),r=t(83419),l=t(52284),s=t(53402),u=t(69351),d=t(74116),f=t(48140),c=t(81388),m=t(20339),T=t(28137),C=t(95540),S=t(35154),A=t(18210),P=t(40178),R=t(6790),F=t(74507),D=t(46975),L=t(4506),O=t(99561),B=t(73832),b=t(37277),z=t(73296),V=t(66272),W=t(44594),K=t(74058),U=t(31725),Y=t(41598),I=t(68243);s.setDecomp(t(55973));var N=new r({initialize:function(X){this.scene=X,this.systems=X.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=n,this.composite=u,this.collision=l,this.detector=c,this.pair=L,this.pairs=O,this.query=z,this.resolver=V,this.constraint=f,this.bodies=a,this.composites=d,this.axes=p,this.bounds=e,this.svg=K,this.vector=U,this.vertices=Y,this.verts=Y,this._tempVec2=U.create(),S(this.config,"plugins.collisionevents",!0)&&this.enableCollisionEventsPlugin(),S(this.config,"plugins.attractors",!1)&&this.enableAttractorPlugin(),S(this.config,"plugins.wrap",!1)&&this.enableWrapPlugin(),V._restingThresh=S(this.config,"restingThresh",4),V._restingThreshTangent=S(this.config,"restingThreshTangent",6),V._positionDampen=S(this.config,"positionDampen",.9),V._positionWarming=S(this.config,"positionWarming",.8),V._frictionNormalMultiplier=S(this.config,"frictionNormalMultiplier",5),X.sys.events.once(W.BOOT,this.boot,this),X.sys.events.on(W.START,this.start,this)},boot:function(){this.world=new I(this.scene,this.config),this.add=new T(this.world),this.bodyBounds=new i,this.systems.events.once(W.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new I(this.scene,this.config),this.add=new T(this.world));var G=this.systems.events;G.on(W.UPDATE,this.world.update,this.world),G.on(W.POST_UPDATE,this.world.postUpdate,this.world),G.once(W.SHUTDOWN,this.shutdown,this)},getConfig:function(){var G=this.systems.game.config.physics,X=this.systems.settings.physics,H=D(C(X,"matter",{}),C(G,"matter",{}));return H},enableAttractorPlugin:function(){return B.register(A),B.use(R,A),this},enableWrapPlugin:function(){return B.register(F),B.use(R,F),this},enableCollisionEventsPlugin:function(){return B.register(P),B.use(R,P),this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(G,X){this.world.step(G,X)},containsPoint:function(G,X,H){G=this.getMatterBodies(G);var Q=U.create(X,H),$=z.point(G,Q);return $.length>0},intersectPoint:function(G,X,H){H=this.getMatterBodies(H);var Q=U.create(G,X),$=[],Z=z.point(H,Q);return Z.forEach(function(J){$.indexOf(J)===-1&&$.push(J)}),$},intersectRect:function(G,X,H,Q,$,Z){$===void 0&&($=!1),Z=this.getMatterBodies(Z);var J={min:{x:G,y:X},max:{x:G+H,y:X+Q}},j=[],k=z.region(Z,J,$);return k.forEach(function(_){j.indexOf(_)===-1&&j.push(_)}),j},intersectRay:function(G,X,H,Q,$,Z){$===void 0&&($=1),Z=this.getMatterBodies(Z);for(var J=[],j=z.ray(Z,U.create(G,X),U.create(H,Q),$),k=0;k<j.length;k++)J.push(j[k].body);return J},intersectBody:function(G,X){X=this.getMatterBodies(X);for(var H=[],Q=z.collides(G,X),$=0;$<Q.length;$++){var Z=Q[$];Z.bodyA===G?H.push(Z.bodyB):H.push(Z.bodyA)}return H},overlap:function(G,X,H,Q,$){H===void 0&&(H=null),Q===void 0&&(Q=null),$===void 0&&($=H),Array.isArray(G)||(G=[G]),G=this.getMatterBodies(G),X=this.getMatterBodies(X);for(var Z=!1,J=0;J<G.length;J++)for(var j=G[J],k=z.collides(j,X),_=0;_<k.length;_++){var q=k[_],et=q.bodyA.id===j.id?q.bodyB:q.bodyA;if(!Q||Q.call($,j,et,q)){if(Z=!0,H)H.call($,j,et,q);else if(!Q)return!0}}return Z},setCollisionCategory:function(G,X){return G=this.getMatterBodies(G),G.forEach(function(H){H.collisionFilter.category=X}),this},setCollisionGroup:function(G,X){return G=this.getMatterBodies(G),G.forEach(function(H){H.collisionFilter.group=X}),this},setCollidesWith:function(G,X){G=this.getMatterBodies(G);var H=0;if(!Array.isArray(X))H=X;else for(var Q=0;Q<X.length;Q++)H|=X[Q];return G.forEach(function($){$.collisionFilter.mask=H}),this},getMatterBodies:function(G){if(!G)return this.world.getAllBodies();Array.isArray(G)||(G=[G]);for(var X=[],H=0;H<G.length;H++){var Q=G[H].hasOwnProperty("body")?G[H].body:G[H];X.push(Q)}return X},setVelocity:function(G,X,H){G=this.getMatterBodies(G);var Q=this._tempVec2;return Q.x=X,Q.y=H,G.forEach(function($){n.setVelocity($,Q)}),this},setVelocityX:function(G,X){G=this.getMatterBodies(G);var H=this._tempVec2;return H.x=X,G.forEach(function(Q){H.y=Q.velocity.y,n.setVelocity(Q,H)}),this},setVelocityY:function(G,X){G=this.getMatterBodies(G);var H=this._tempVec2;return H.y=X,G.forEach(function(Q){H.x=Q.velocity.x,n.setVelocity(Q,H)}),this},setAngularVelocity:function(G,X){return G=this.getMatterBodies(G),G.forEach(function(H){n.setAngularVelocity(H,X)}),this},applyForce:function(G,X){G=this.getMatterBodies(G);var H=this._tempVec2;return G.forEach(function(Q){H.x=Q.position.x,H.y=Q.position.y,n.applyForce(Q,H,X)}),this},applyForceFromPosition:function(G,X,H,Q){G=this.getMatterBodies(G);var $=this._tempVec2;return G.forEach(function(Z){Q===void 0&&(Q=Z.angle),$.x=H*Math.cos(Q),$.y=H*Math.sin(Q),n.applyForce(Z,X,$)}),this},applyForceFromAngle:function(G,X,H){G=this.getMatterBodies(G);var Q=this._tempVec2;return G.forEach(function($){H===void 0&&(H=$.angle),Q.x=X*Math.cos(H),Q.y=X*Math.sin(H),n.applyForce($,{x:$.position.x,y:$.position.y},Q)}),this},getConstraintLength:function(G){var X=G.pointA.x,H=G.pointA.y,Q=G.pointB.x,$=G.pointB.y;return G.bodyA&&(X+=G.bodyA.position.x,H+=G.bodyA.position.y),G.bodyB&&(Q+=G.bodyB.position.x,$+=G.bodyB.position.y),m(X,H,Q,$)},alignBody:function(G,X,H,Q){G=G.hasOwnProperty("body")?G.body:G;var $;switch(Q){case o.TOP_LEFT:case o.LEFT_TOP:$=this.bodyBounds.getTopLeft(G,X,H);break;case o.TOP_CENTER:$=this.bodyBounds.getTopCenter(G,X,H);break;case o.TOP_RIGHT:case o.RIGHT_TOP:$=this.bodyBounds.getTopRight(G,X,H);break;case o.LEFT_CENTER:$=this.bodyBounds.getLeftCenter(G,X,H);break;case o.CENTER:$=this.bodyBounds.getCenter(G,X,H);break;case o.RIGHT_CENTER:$=this.bodyBounds.getRightCenter(G,X,H);break;case o.LEFT_BOTTOM:case o.BOTTOM_LEFT:$=this.bodyBounds.getBottomLeft(G,X,H);break;case o.BOTTOM_CENTER:$=this.bodyBounds.getBottomCenter(G,X,H);break;case o.BOTTOM_RIGHT:case o.RIGHT_BOTTOM:$=this.bodyBounds.getBottomRight(G,X,H);break}return $&&n.setPosition(G,$),this},shutdown:function(){var G=this.systems.events;this.world&&(G.off(W.UPDATE,this.world.update,this.world),G.off(W.POST_UPDATE,this.world.postUpdate,this.world)),G.off(W.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(W.START,this.start,this),this.scene=null,this.systems=null}});b.register("MatterPhysics",N,"matterPhysics"),v.exports=N},34803:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(9674),p=t(83419),a=t(31884),n=t(95643),i=t(95540),e=t(72699),r=t(68287),l=t(26099),s=new p({Extends:r,Mixins:[a.Bounce,a.Collision,a.Force,a.Friction,a.Gravity,a.Mass,a.Sensor,a.SetBody,a.Sleep,a.Static,a.Transform,a.Velocity,e],initialize:function(d,f,c,m,T,C){n.call(this,d.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new o(this),this.setTexture(m,T),this.setSizeToFrame(),this.setOrigin(),this.world=d,this._tempVec2=new l(f,c);var S=i(C,"shape",null);S?this.setBody(S,C):this.setRectangle(this.width,this.height,C),this.setPosition(f,c),this.initPipeline(),this.initPostPipeline(!0)}});v.exports=s},73834:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66280),p=t(22562),a=t(83419),n=t(31884),i=t(62644),e=t(50792),r=t(95540),l=t(97022),s=t(41598),u=new a({Extends:e,Mixins:[n.Bounce,n.Collision,n.Friction,n.Gravity,n.Mass,n.Sensor,n.Sleep,n.Static],initialize:function(f,c,m){e.call(this),this.tile=c,this.world=f,c.physics.matterBody&&c.physics.matterBody.destroy(),c.physics.matterBody=this;var T=r(m,"body",null),C=r(m,"addToWorld",!0);if(T)this.setBody(T,C);else{var S=c.getCollisionGroup(),A=r(S,"objects",[]);A.length>0?this.setFromTileCollision(m):this.setFromTileRectangle(m)}if(c.flipX||c.flipY){var P={x:c.getCenterX(),y:c.getCenterY()},R=c.flipX?-1:1,F=c.flipY?-1:1;p.scale(T,R,F,P)}},setFromTileRectangle:function(d){d===void 0&&(d={}),l(d,"isStatic")||(d.isStatic=!0),l(d,"addToWorld")||(d.addToWorld=!0);var f=this.tile.getBounds(),c=f.x+f.width/2,m=f.y+f.height/2,T=o.rectangle(c,m,f.width,f.height,d);return this.setBody(T,d.addToWorld),this},setFromTileCollision:function(d){d===void 0&&(d={}),l(d,"isStatic")||(d.isStatic=!0),l(d,"addToWorld")||(d.addToWorld=!0);for(var f=this.tile.tilemapLayer.scaleX,c=this.tile.tilemapLayer.scaleY,m=this.tile.getLeft(),T=this.tile.getTop(),C=this.tile.getCollisionGroup(),S=r(C,"objects",[]),A=[],P=0;P<S.length;P++){var R=S[P],F=m+R.x*f,D=T+R.y*c,L=R.width*f,O=R.height*c,B=null;if(R.rectangle)B=o.rectangle(F+L/2,D+O/2,L,O,d);else if(R.ellipse)B=o.circle(F+L/2,D+O/2,L/2,d);else if(R.polygon||R.polyline){var b=R.polygon?R.polygon:R.polyline,z=b.map(function(U){return{x:U.x*f,y:U.y*c}}),V=s.create(z),W=s.centre(V);F+=W.x,D+=W.y,B=o.fromVertices(F,D,V,d)}B&&A.push(B)}if(A.length===1)this.setBody(A[0],d.addToWorld);else if(A.length>1){var K=i(d);K.parts=A,this.setBody(p.create(K),K.addToWorld)}return this},setBody:function(d,f){return f===void 0&&(f=!0),this.body&&this.removeBody(),this.body=d,this.body.gameObject=this,f&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});v.exports=u},19496:(v,y,t)=>{/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66280),p=t(22562),a=t(53402),n=t(95540),i=t(41598),e={parseBody:function(r,l,s,u){u===void 0&&(u={});for(var d=n(s,"fixtures",[]),f=[],c=0;c<d.length;c++)for(var m=this.parseFixture(d[c]),T=0;T<m.length;T++)f.push(m[T]);var C=a.clone(s,!0);a.extend(C,u,!0),delete C.fixtures,delete C.type;var S=p.create(C);return p.setParts(S,f),p.setPosition(S,{x:r,y:l}),S},parseFixture:function(r){var l=a.extend({},!1,r);delete l.circle,delete l.vertices;var s;if(r.circle){var u=n(r.circle,"x"),d=n(r.circle,"y"),f=n(r.circle,"radius");s=[o.circle(u,d,f,l)]}else r.vertices&&(s=this.parseVertices(r.vertices,l));return s},parseVertices:function(r,l){l===void 0&&(l={});for(var s=[],u=0;u<r.length;u++)i.clockwiseSort(r[u]),s.push(p.create(a.extend({position:i.centre(r[u]),vertices:r[u]},l)));return o.flagCoincidentParts(s)}};v.exports=e},85791:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66280),p=t(22562),a={parseBody:function(n,i,e,r){r===void 0&&(r={});var l,s=e.vertices;if(s.length===1)r.vertices=s[0],l=p.create(r),o.flagCoincidentParts(l.parts);else{for(var u=[],d=0;d<s.length;d++){var f=p.create({vertices:s[d]});u.push(f)}o.flagCoincidentParts(u),r.parts=u,l=p.create(r)}return l.label=e.label,p.setPosition(l,{x:n,y:i}),l}};v.exports=a},98713:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(15647),p=t(83419),a=t(69351),n=t(48140),i=t(81388),e=t(1121),r=t(8214),l=t(46975),s=t(53614),u=t(26099),d=t(41598),f=new p({initialize:function(m,T,C){C===void 0&&(C={});var S={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=m,this.world=T,this.camera=null,this.pointer=null,this.active=!0,this.position=new u,this.body=null,this.part=null,this.constraint=n.create(l(C,S)),this.world.on(e.BEFORE_UPDATE,this.update,this),m.sys.input.on(r.POINTER_DOWN,this.onDown,this),m.sys.input.on(r.POINTER_UP,this.onUp,this)},onDown:function(c){this.pointer||(this.pointer=c,this.camera=c.camera)},onUp:function(c){c===this.pointer&&(this.pointer=null)},getBody:function(c){var m=this.position,T=this.constraint;this.camera.getWorldPoint(c.x,c.y,m);for(var C=a.allBodies(this.world.localWorld),S=0;S<C.length;S++){var A=C[S];if(!A.ignorePointer&&o.contains(A.bounds,m)&&i.canCollide(A.collisionFilter,T.collisionFilter)&&this.hitTestBody(A,m))return this.world.emit(e.DRAG_START,A,this.part,this),!0}return!1},hitTestBody:function(c,m){for(var T=this.constraint,C=c.parts.length,S=C>1?1:0,A=S;A<C;A++){var P=c.parts[A];if(d.contains(P.vertices,m))return T.pointA=m,T.pointB={x:m.x-c.position.x,y:m.y-c.position.y},T.bodyB=c,T.angleB=c.angle,s.set(c,!1),this.part=P,this.body=c,!0}return!1},update:function(){var c=this.pointer,m=this.body;if(!this.active||!c){m&&this.stopDrag();return}if(!c.isDown&&m){this.stopDrag();return}else if(c.isDown){if(!this.camera||!m&&!this.getBody(c))return;m=this.body;var T=this.position,C=this.constraint;this.camera.getWorldPoint(c.x,c.y,T),C.pointA.x=T.x,C.pointA.y=T.y,s.set(m,!1),this.world.emit(e.DRAG,m,this)}},stopDrag:function(){var c=this.body,m=this.constraint;m.bodyB=null,m.pointB=null,this.pointer=null,this.body=null,this.part=null,c&&this.world.emit(e.DRAG_END,c,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(e.BEFORE_UPDATE,this.update),this.scene.sys.input.off(r.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(r.POINTER_UP,this.onUp,this)}});v.exports=f},68243:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66280),p=t(22562),a=t(83419),n=t(53402),i=t(69351),e=t(48413),r=t(50792),l=t(1121),s=t(95540),u=t(35154),d=t(22562),f=t(35810),c=t(73834),m=t(4372),T=t(31725),C=new a({Extends:r,initialize:function(A,P){r.call(this),this.scene=A,this.engine=e.create(P),this.localWorld=this.engine.world;var R=u(P,"gravity",null);R?this.setGravity(R.x,R.y,R.scale):R===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=u(P,"enabled",!0),this.getDelta=u(P,"getDelta",this.update60Hz);var F=s(P,"runner",{}),D=s(F,"fps",!1),L=s(F,"fps",60),O=s(F,"delta",1e3/L),B=s(F,"deltaMin",1e3/L),b=s(F,"deltaMax",1e3/(L*.5));D||(L=1e3/O),this.runner={fps:L,deltaSampleSize:s(F,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:s(F,"isFixed",!1),delta:O,deltaMin:B,deltaMax:b},this.autoUpdate=u(P,"autoUpdate",!0);var z=u(P,"debug",!1);if(this.drawDebug=typeof z=="object"?!0:z,this.debugGraphic,this.debugConfig={showAxes:s(z,"showAxes",!1),showAngleIndicator:s(z,"showAngleIndicator",!1),angleColor:s(z,"angleColor",15208787),showBroadphase:s(z,"showBroadphase",!1),broadphaseColor:s(z,"broadphaseColor",16757760),showBounds:s(z,"showBounds",!1),boundsColor:s(z,"boundsColor",16777215),showVelocity:s(z,"showVelocity",!1),velocityColor:s(z,"velocityColor",44783),showCollisions:s(z,"showCollisions",!1),collisionColor:s(z,"collisionColor",16094476),showSeparations:s(z,"showSeparations",!1),separationColor:s(z,"separationColor",16753920),showBody:s(z,"showBody",!0),showStaticBody:s(z,"showStaticBody",!0),showInternalEdges:s(z,"showInternalEdges",!1),renderFill:s(z,"renderFill",!1),renderLine:s(z,"renderLine",!0),fillColor:s(z,"fillColor",1075465),fillOpacity:s(z,"fillOpacity",1),lineColor:s(z,"lineColor",2678297),lineOpacity:s(z,"lineOpacity",1),lineThickness:s(z,"lineThickness",1),staticFillColor:s(z,"staticFillColor",857979),staticLineColor:s(z,"staticLineColor",1255396),showSleeping:s(z,"showSleeping",!1),staticBodySleepOpacity:s(z,"staticBodySleepOpacity",.7),sleepFillColor:s(z,"sleepFillColor",4605510),sleepLineColor:s(z,"sleepLineColor",10066585),showSensors:s(z,"showSensors",!0),sensorFillColor:s(z,"sensorFillColor",857979),sensorLineColor:s(z,"sensorLineColor",1255396),showPositions:s(z,"showPositions",!0),positionSize:s(z,"positionSize",4),positionColor:s(z,"positionColor",14697178),showJoint:s(z,"showJoint",!0),jointColor:s(z,"jointColor",14737474),jointLineOpacity:s(z,"jointLineOpacity",1),jointLineThickness:s(z,"jointLineThickness",2),pinSize:s(z,"pinSize",4),pinColor:s(z,"pinColor",4382944),springColor:s(z,"springColor",14697184),anchorColor:s(z,"anchorColor",15724527),anchorSize:s(z,"anchorSize",4),showConvexHulls:s(z,"showConvexHulls",!1),hullColor:s(z,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),s(P,"setBounds",!1)){var V=P.setBounds;if(typeof V=="boolean")this.setBounds();else{var W=s(V,"x",0),K=s(V,"y",0),U=s(V,"width",A.sys.scale.width),Y=s(V,"height",A.sys.scale.height),I=s(V,"thickness",64),N=s(V,"left",!0),G=s(V,"right",!0),X=s(V,"top",!0),H=s(V,"bottom",!0);this.setBounds(W,K,U,Y,I,N,G,X,H)}}},setCompositeRenderStyle:function(S){var A=S.bodies,P=S.constraints,R=S.composites,F,D,L;for(F=0;F<A.length;F++)D=A[F],L=D.render,this.setBodyRenderStyle(D,L.lineColor,L.lineOpacity,L.lineThickness,L.fillColor,L.fillOpacity);for(F=0;F<P.length;F++)D=P[F],L=D.render,this.setConstraintRenderStyle(D,L.lineColor,L.lineOpacity,L.lineThickness,L.pinSize,L.anchorColor,L.anchorSize);for(F=0;F<R.length;F++)D=R[F],this.setCompositeRenderStyle(D);return this},setBodyRenderStyle:function(S,A,P,R,F,D){var L=S.render,O=this.debugConfig;return L?(A==null&&(A=S.isStatic?O.staticLineColor:O.lineColor),P==null&&(P=O.lineOpacity),R==null&&(R=O.lineThickness),F==null&&(F=S.isStatic?O.staticFillColor:O.fillColor),D==null&&(D=O.fillOpacity),A!==!1&&(L.lineColor=A),P!==!1&&(L.lineOpacity=P),R!==!1&&(L.lineThickness=R),F!==!1&&(L.fillColor=F),D!==!1&&(L.fillOpacity=D),this):this},setConstraintRenderStyle:function(S,A,P,R,F,D,L){var O=S.render,B=this.debugConfig;if(!O)return this;if(A==null){var b=O.type;b==="line"?A=B.jointColor:b==="pin"?A=B.pinColor:b==="spring"&&(A=B.springColor)}return P==null&&(P=B.jointLineOpacity),R==null&&(R=B.jointLineThickness),F==null&&(F=B.pinSize),D==null&&(D=B.anchorColor),L==null&&(L=B.anchorSize),A!==!1&&(O.lineColor=A),P!==!1&&(O.lineOpacity=P),R!==!1&&(O.lineThickness=R),F!==!1&&(O.pinSize=F),D!==!1&&(O.anchorColor=D),L!==!1&&(O.anchorSize=L),this},setEventsProxy:function(){var S=this,A=this.engine,P=this.localWorld;this.drawDebug&&(f.on(P,"compositeModified",function(R){S.setCompositeRenderStyle(R)}),f.on(P,"beforeAdd",function(R){for(var F=[].concat(R.object),D=0;D<F.length;D++){var L=F[D],O=L.render;L.type==="body"?S.setBodyRenderStyle(L,O.lineColor,O.lineOpacity,O.lineThickness,O.fillColor,O.fillOpacity):L.type==="composite"?S.setCompositeRenderStyle(L):L.type==="constraint"&&S.setConstraintRenderStyle(L,O.lineColor,O.lineOpacity,O.lineThickness,O.pinSize,O.anchorColor,O.anchorSize)}})),f.on(P,"beforeAdd",function(R){S.emit(l.BEFORE_ADD,R)}),f.on(P,"afterAdd",function(R){S.emit(l.AFTER_ADD,R)}),f.on(P,"beforeRemove",function(R){S.emit(l.BEFORE_REMOVE,R)}),f.on(P,"afterRemove",function(R){S.emit(l.AFTER_REMOVE,R)}),f.on(A,"beforeUpdate",function(R){S.emit(l.BEFORE_UPDATE,R)}),f.on(A,"afterUpdate",function(R){S.emit(l.AFTER_UPDATE,R)}),f.on(A,"collisionStart",function(R){var F=R.pairs,D,L;F.length>0&&(D=F[0].bodyA,L=F[0].bodyB),S.emit(l.COLLISION_START,R,D,L)}),f.on(A,"collisionActive",function(R){var F=R.pairs,D,L;F.length>0&&(D=F[0].bodyA,L=F[0].bodyB),S.emit(l.COLLISION_ACTIVE,R,D,L)}),f.on(A,"collisionEnd",function(R){var F=R.pairs,D,L;F.length>0&&(D=F[0].bodyA,L=F[0].bodyB),S.emit(l.COLLISION_END,R,D,L)})},setBounds:function(S,A,P,R,F,D,L,O,B){return S===void 0&&(S=0),A===void 0&&(A=0),P===void 0&&(P=this.scene.sys.scale.width),R===void 0&&(R=this.scene.sys.scale.height),F===void 0&&(F=64),D===void 0&&(D=!0),L===void 0&&(L=!0),O===void 0&&(O=!0),B===void 0&&(B=!0),this.updateWall(D,"left",S-F,A-F,F,R+F*2),this.updateWall(L,"right",S+P,A-F,F,R+F*2),this.updateWall(O,"top",S,A-F,P,F),this.updateWall(B,"bottom",S,A+R,P,F),this},updateWall:function(S,A,P,R,F,D){var L=this.walls[A];S?(L&&m.remove(this.localWorld,L),P+=F/2,R+=D/2,this.walls[A]=this.create(P,R,F,D,{isStatic:!0,friction:0,frictionStatic:0})):(L&&m.remove(this.localWorld,L),this.walls[A]=null)},createDebugGraphic:function(){var S=this.scene.sys.add.graphics({x:0,y:0});return S.setDepth(Number.MAX_VALUE),this.debugGraphic=S,this.drawDebug=!0,S},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(S,A,P){return S===void 0&&(S=0),A===void 0&&(A=1),P===void 0&&(P=.001),this.localWorld.gravity.x=S,this.localWorld.gravity.y=A,this.localWorld.gravity.scale=P,this},create:function(S,A,P,R,F){var D=o.rectangle(S,A,P,R,F);return m.add(this.localWorld,D),D},add:function(S){return m.add(this.localWorld,S),this},remove:function(S,A){Array.isArray(S)||(S=[S]);for(var P=0;P<S.length;P++){var R=S[P],F=R.body?R.body:R;i.remove(this.localWorld,F,A)}return this},removeConstraint:function(S,A){return i.remove(this.localWorld,S,A),this},convertTilemapLayer:function(S,A){var P=S.layer,R=S.getTilesWithin(0,0,P.width,P.height,{isColliding:!0});return this.convertTiles(R,A),this},convertTiles:function(S,A){if(S.length===0)return this;for(var P=0;P<S.length;P++)new c(this,S[P],A);return this},nextGroup:function(S){return d.nextGroup(S)},nextCategory:function(){return d.nextCategory()},pause:function(){return this.enabled=!1,this.emit(l.PAUSE),this},resume:function(){return this.enabled=!0,this.emit(l.RESUME),this},update:function(S,A){if(!(!this.enabled||!this.autoUpdate)){var P=this.engine,R=this.runner,F=P.timing;R.isFixed?A=this.getDelta(S,A):(A=S-R.timePrev||R.delta,R.timePrev=S,R.deltaHistory.push(A),R.deltaHistory=R.deltaHistory.slice(-R.deltaSampleSize),A=Math.min.apply(null,R.deltaHistory),A=A<R.deltaMin?R.deltaMin:A,A=A>R.deltaMax?R.deltaMax:A,R.delta=A),R.timeScalePrev=F.timeScale,R.frameCounter+=1,S-R.counterTimestamp>=1e3&&(R.fps=R.frameCounter*((S-R.counterTimestamp)/1e3),R.counterTimestamp=S,R.frameCounter=0),e.update(P,A)}},step:function(S){e.update(this.engine,S)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(S){var A=S.hasOwnProperty("body")?S.body:S;return i.get(this.localWorld,A.id,A.type)!==null},getAllBodies:function(){return i.allBodies(this.localWorld)},getAllConstraints:function(){return i.allConstraints(this.localWorld)},getAllComposites:function(){return i.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var S=this.debugConfig,A=this.engine,P=this.debugGraphic,R=i.allBodies(this.localWorld);this.debugGraphic.clear(),S.showBroadphase&&A.broadphase.controller&&this.renderGrid(A.broadphase,P,S.broadphaseColor,.5),S.showBounds&&this.renderBodyBounds(R,P,S.boundsColor,.5),(S.showBody||S.showStaticBody)&&this.renderBodies(R),S.showJoint&&this.renderJoints(),(S.showAxes||S.showAngleIndicator)&&this.renderBodyAxes(R,P,S.showAxes,S.angleColor,.5),S.showVelocity&&this.renderBodyVelocity(R,P,S.velocityColor,1,2),S.showSeparations&&this.renderSeparations(A.pairs.list,P,S.separationColor),S.showCollisions&&this.renderCollisions(A.pairs.list,P,S.collisionColor)}},renderGrid:function(S,A,P,R){A.lineStyle(1,P,R);for(var F=n.keys(S.buckets),D=0;D<F.length;D++){var L=F[D];if(!(S.buckets[L].length<2)){var O=L.split(/C|R/);A.strokeRect(parseInt(O[1],10)*S.bucketWidth,parseInt(O[2],10)*S.bucketHeight,S.bucketWidth,S.bucketHeight)}}return this},renderSeparations:function(S,A,P){A.lineStyle(1,P,1);for(var R=0;R<S.length;R++){var F=S[R];if(F.isActive){var D=F.collision,L=D.bodyA,O=D.bodyB,B=L.position,b=O.position,z=D.penetration,V=!L.isStatic&&!O.isStatic?4:1;O.isStatic&&(V=0),A.lineBetween(b.x,b.y,b.x-z.x*V,b.y-z.y*V),V=!L.isStatic&&!O.isStatic?4:1,L.isStatic&&(V=0),A.lineBetween(B.x,B.y,B.x-z.x*V,B.y-z.y*V)}}return this},renderCollisions:function(S,A,P){A.lineStyle(1,P,.5),A.fillStyle(P,1);var R,F;for(R=0;R<S.length;R++)if(F=S[R],!!F.isActive)for(var D=0;D<F.activeContacts.length;D++){var L=F.activeContacts[D],O=L.vertex;A.fillRect(O.x-2,O.y-2,5,5)}for(R=0;R<S.length;R++)if(F=S[R],!!F.isActive){var B=F.collision,b=F.activeContacts;if(b.length>0){var z=b[0].vertex.x,V=b[0].vertex.y;b.length===2&&(z=(b[0].vertex.x+b[1].vertex.x)/2,V=(b[0].vertex.y+b[1].vertex.y)/2),B.bodyB===B.supports[0].body||B.bodyA.isStatic?A.lineBetween(z-B.normal.x*8,V-B.normal.y*8,z,V):A.lineBetween(z+B.normal.x*8,V+B.normal.y*8,z,V)}}return this},renderBodyBounds:function(S,A,P,R){A.lineStyle(1,P,R);for(var F=0;F<S.length;F++){var D=S[F];if(D.render.visible){var L=D.bounds;if(L)A.strokeRect(L.min.x,L.min.y,L.max.x-L.min.x,L.max.y-L.min.y);else for(var O=D.parts,B=O.length>1?1:0;B<O.length;B++){var b=O[B];A.strokeRect(b.bounds.min.x,b.bounds.min.y,b.bounds.max.x-b.bounds.min.x,b.bounds.max.y-b.bounds.min.y)}}}return this},renderBodyAxes:function(S,A,P,R,F){A.lineStyle(1,R,F);for(var D=0;D<S.length;D++){var L=S[D],O=L.parts;if(L.render.visible){var B,b,z;if(P)for(b=O.length>1?1:0;b<O.length;b++)for(B=O[b],z=0;z<B.axes.length;z++){var V=B.axes[z];A.lineBetween(B.position.x,B.position.y,B.position.x+V.x*20,B.position.y+V.y*20)}else for(b=O.length>1?1:0;b<O.length;b++)for(B=O[b],z=0;z<B.axes.length;z++)A.lineBetween(B.position.x,B.position.y,(B.vertices[0].x+B.vertices[B.vertices.length-1].x)/2,(B.vertices[0].y+B.vertices[B.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(S,A,P,R,F){A.lineStyle(F,P,R);for(var D=0;D<S.length;D++){var L=S[D];L.render.visible&&A.lineBetween(L.position.x,L.position.y,L.position.x+(L.position.x-L.positionPrev.x)*2,L.position.y+(L.position.y-L.positionPrev.y)*2)}return this},renderBodies:function(S){for(var A=this.debugGraphic,P=this.debugConfig,R=P.showBody,F=P.showStaticBody,D=P.showSleeping,L=P.showInternalEdges,O=P.showConvexHulls,B=P.renderFill,b=P.renderLine,z=P.staticBodySleepOpacity,V=P.sleepFillColor,W=P.sleepLineColor,K=P.hullColor,U=0;U<S.length;U++){var Y=S[U];if(Y.render.visible&&!(!F&&Y.isStatic||!R&&!Y.isStatic)){var I=Y.render.lineColor,N=Y.render.lineOpacity,G=Y.render.lineThickness,X=Y.render.fillColor,H=Y.render.fillOpacity;D&&Y.isSleeping&&(Y.isStatic?(N*=z,H*=z):(I=W,X=V)),B||(X=null),b||(I=null),this.renderBody(Y,A,L,I,N,G,X,H);var Q=Y.parts.length;O&&Q>1&&this.renderConvexHull(Y,A,K,G)}}},renderBody:function(S,A,P,R,F,D,L,O){R===void 0&&(R=null),F===void 0&&(F=null),D===void 0&&(D=1),L===void 0&&(L=null),O===void 0&&(O=null);for(var B=this.debugConfig,b=B.sensorFillColor,z=B.sensorLineColor,V=S.parts,W=V.length,K=W>1?1:0;K<W;K++){var U=V[K],Y=U.render,I=Y.opacity;if(!(!Y.visible||I===0||U.isSensor&&!B.showSensors)){var N=U.circleRadius;if(A.beginPath(),U.isSensor?(L!==null&&A.fillStyle(b,O*I),R!==null&&A.lineStyle(D,z,F*I)):(L!==null&&A.fillStyle(L,O*I),R!==null&&A.lineStyle(D,R,F*I)),N)A.arc(U.position.x,U.position.y,N,0,2*Math.PI);else{var G=U.vertices,X=G.length;A.moveTo(G[0].x,G[0].y);for(var H=1;H<X;H++){var Q=G[H];if(!G[H-1].isInternal||P?A.lineTo(Q.x,Q.y):A.moveTo(Q.x,Q.y),H<X&&Q.isInternal&&!P){var $=(H+1)%X;A.moveTo(G[$].x,G[$].y)}}A.closePath()}L!==null&&A.fillPath(),R!==null&&A.strokePath()}}if(B.showPositions&&!S.isStatic){var Z=S.position.x,J=S.position.y,j=Math.ceil(B.positionSize/2);A.fillStyle(B.positionColor,1),A.fillRect(Z-j,J-j,B.positionSize,B.positionSize)}return this},renderConvexHull:function(S,A,P,R){R===void 0&&(R=1);var F=S.parts,D=F.length;if(D>1){var L=S.vertices;A.lineStyle(R,P),A.beginPath(),A.moveTo(L[0].x,L[0].y);for(var O=1;O<L.length;O++)A.lineTo(L[O].x,L[O].y);A.lineTo(L[0].x,L[0].y),A.strokePath()}return this},renderJoints:function(){for(var S=this.debugGraphic,A=i.allConstraints(this.localWorld),P=0;P<A.length;P++){var R=A[P].render,F=R.lineColor,D=R.lineOpacity,L=R.lineThickness,O=R.pinSize,B=R.anchorColor,b=R.anchorSize;this.renderConstraint(A[P],S,F,D,L,O,B,b)}},renderConstraint:function(S,A,P,R,F,D,L,O){var B=S.render;if(!B.visible||!S.pointA||!S.pointB)return this;A.lineStyle(F,P,R);var b=S.bodyA,z=S.bodyB,V,W;if(b?V=T.add(b.position,S.pointA):V=S.pointA,B.type==="pin")A.strokeCircle(V.x,V.y,D);else{if(z?W=T.add(z.position,S.pointB):W=S.pointB,A.beginPath(),A.moveTo(V.x,V.y),B.type==="spring")for(var K=T.sub(W,V),U=T.perp(T.normalise(K)),Y=Math.ceil(n.clamp(S.length/5,12,20)),I,N=1;N<Y;N+=1)I=N%2===0?1:-1,A.lineTo(V.x+K.x*(N/Y)+U.x*I*4,V.y+K.y*(N/Y)+U.y*I*4);A.lineTo(W.x,W.y)}return A.strokePath(),B.anchors&&O>0&&(A.fillStyle(L),A.fillCircle(V.x,V.y,O),A.fillCircle(W.x,W.y,O)),this},resetCollisionIDs:function(){return p._nextCollidingGroupId=1,p._nextNonCollidingGroupId=-1,p._nextCategory=1,this},shutdown:function(){f.off(this.engine),this.removeAllListeners(),m.clear(this.localWorld,!1),e.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});v.exports=C},70410:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setBounce:function(t){return this.body.restitution=t,this}};v.exports=y},66968:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setCollisionCategory:function(t){return this.body.collisionFilter.category=t,this},setCollisionGroup:function(t){return this.body.collisionFilter.group=t,this},setCollidesWith:function(t){var o=0;if(!Array.isArray(t))o=t;else for(var p=0;p<t.length;p++)o|=t[p];return this.body.collisionFilter.mask=o,this},setOnCollide:function(t){return this.body.onCollideCallback=t,this},setOnCollideEnd:function(t){return this.body.onCollideEndCallback=t,this},setOnCollideActive:function(t){return this.body.onCollideActiveCallback=t,this},setOnCollideWith:function(t,o){Array.isArray(t)||(t=[t]);for(var p=0;p<t.length;p++){var a=t[p].hasOwnProperty("body")?t[p].body:t[p];this.body.setOnCollideWith(a,o)}return this}};v.exports=y},51607:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(22562),p={applyForce:function(a){return this._tempVec2.set(this.body.position.x,this.body.position.y),o.applyForce(this.body,this._tempVec2,a),this},applyForceFrom:function(a,n){return o.applyForce(this.body,a,n),this},thrust:function(a){var n=this.body.angle;return this._tempVec2.set(a*Math.cos(n),a*Math.sin(n)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(a){var n=this.body.angle-Math.PI/2;return this._tempVec2.set(a*Math.cos(n),a*Math.sin(n)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(a){var n=this.body.angle+Math.PI/2;return this._tempVec2.set(a*Math.cos(n),a*Math.sin(n)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(a){var n=this.body.angle-Math.PI;return this._tempVec2.set(a*Math.cos(n),a*Math.sin(n)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};v.exports=p},5436:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setFriction:function(t,o,p){return this.body.friction=t,o!==void 0&&(this.body.frictionAir=o),p!==void 0&&(this.body.frictionStatic=p),this},setFrictionAir:function(t){return this.body.frictionAir=t,this},setFrictionStatic:function(t){return this.body.frictionStatic=t,this}};v.exports=y},39858:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setIgnoreGravity:function(t){return this.body.ignoreGravity=t,this}};v.exports=y},37302:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(22562),p=t(26099),a={setMass:function(n){return o.setMass(this.body,n),this},setDensity:function(n){return o.setDensity(this.body,n),this},centerOfMass:{get:function(){return new p(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};v.exports=a},39132:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setSensor:function(t){return this.body.isSensor=t,this},isSensor:function(){return this.body.isSensor}};v.exports=y},57772:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66280),p=t(22562),a=t(43855),n=t(95540),i=t(19496),e=t(85791),r=t(41598),l={setRectangle:function(s,u,d){return this.setBody({type:"rectangle",width:s,height:u},d)},setCircle:function(s,u){return this.setBody({type:"circle",radius:s},u)},setPolygon:function(s,u,d){return this.setBody({type:"polygon",sides:u,radius:s},d)},setTrapezoid:function(s,u,d,f){return this.setBody({type:"trapezoid",width:s,height:u,slope:d},f)},setExistingBody:function(s,u){u===void 0&&(u=!0),this.body&&this.world.remove(this.body,!0),this.body=s;for(var d=0;d<s.parts.length;d++)s.parts[d].gameObject=this;var f=this;if(s.destroy=function(){f.world.remove(f.body,!0),f.body.gameObject=null},u&&(this.world.has(s)&&this.world.remove(s,!0),this.world.add(s)),this._originComponent){var c=s.render.sprite.xOffset,m=s.render.sprite.yOffset,T=s.centerOfMass.x,C=s.centerOfMass.y;if(a(T,.5)&&a(C,.5))this.setOrigin(c+.5,m+.5);else{var S=s.centerOffset.x,A=s.centerOffset.y;this.setOrigin(c+S/this.displayWidth,m+A/this.displayHeight)}}return this},setBody:function(s,u){if(!s)return this;var d;typeof s=="string"&&(s={type:s});var f=n(s,"type","rectangle"),c=n(s,"x",this._tempVec2.x),m=n(s,"y",this._tempVec2.y),T=n(s,"width",this.width),C=n(s,"height",this.height);switch(f){case"rectangle":d=o.rectangle(c,m,T,C,u);break;case"circle":var S=n(s,"radius",Math.max(T,C)/2),A=n(s,"maxSides",25);d=o.circle(c,m,S,u,A);break;case"trapezoid":var P=n(s,"slope",.5);d=o.trapezoid(c,m,T,C,P,u);break;case"polygon":var R=n(s,"sides",5),F=n(s,"radius",Math.max(T,C)/2);d=o.polygon(c,m,R,F,u);break;case"fromVertices":case"fromVerts":var D=n(s,"verts",null);if(D)if(typeof D=="string"&&(D=r.fromPath(D)),this.body&&!this.body.hasOwnProperty("temp"))p.setVertices(this.body,D),d=this.body;else{var L=n(s,"flagInternal",!1),O=n(s,"removeCollinear",.01),B=n(s,"minimumArea",10);d=o.fromVertices(c,m,D,u,L,O,B)}break;case"fromPhysicsEditor":d=i.parseBody(c,m,s,u);break;case"fromPhysicsTracer":d=e.parseBody(c,m,s,u);break}return d&&this.setExistingBody(d,s.addToWorld),this}};v.exports=l},38083:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(1121),p=t(53614),a=t(35810),n={setToSleep:function(){return p.set(this.body,!0),this},setAwake:function(){return p.set(this.body,!1),this},setSleepThreshold:function(i){return i===void 0&&(i=60),this.body.sleepThreshold=i,this},setSleepEvents:function(i,e){return this.setSleepStartEvent(i),this.setSleepEndEvent(e),this},setSleepStartEvent:function(i){if(i){var e=this.world;a.on(this.body,"sleepStart",function(r){e.emit(o.SLEEP_START,r,this)})}else a.off(this.body,"sleepStart");return this},setSleepEndEvent:function(i){if(i){var e=this.world;a.on(this.body,"sleepEnd",function(r){e.emit(o.SLEEP_END,r,this)})}else a.off(this.body,"sleepEnd");return this}};v.exports=n},90556:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(22562),p={setStatic:function(a){return o.setStatic(this.body,a),this},isStatic:function(){return this.body.isStatic}};v.exports=p},85436:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(22562),p=t(36383),a=t(86554),n=t(30954),i=4,e={x:{get:function(){return this.body.position.x},set:function(r){this._tempVec2.set(r,this.y),o.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(r){this._tempVec2.set(this.x,r),o.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(r){var l=1/this._scaleX,s=1/this._scaleY;this._scaleX=r,this._scaleX===0?this.renderFlags&=-5:this.renderFlags|=i,o.scale(this.body,l,s),o.scale(this.body,r,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(r){var l=1/this._scaleX,s=1/this._scaleY;this._scaleY=r,this._scaleY===0?this.renderFlags&=-5:this.renderFlags|=i,o.scale(this.body,l,s),o.scale(this.body,this._scaleX,r)}},angle:{get:function(){return n(this.body.angle*p.RAD_TO_DEG)},set:function(r){this.rotation=n(r)*p.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(r){this._rotation=a(r),o.setAngle(this.body,this._rotation)}},setPosition:function(r,l){return r===void 0&&(r=0),l===void 0&&(l=r),this._tempVec2.set(r,l),o.setPosition(this.body,this._tempVec2),this},setRotation:function(r){return r===void 0&&(r=0),this._rotation=a(r),o.setAngle(this.body,r),this},setFixedRotation:function(){return o.setInertia(this.body,1/0),this},setAngle:function(r){return r===void 0&&(r=0),this.angle=r,o.setAngle(this.body,this.rotation),this},setScale:function(r,l,s){r===void 0&&(r=1),l===void 0&&(l=r);var u=1/this._scaleX,d=1/this._scaleY;return this._scaleX=r,this._scaleY=l,o.scale(this.body,u,d,s),o.scale(this.body,r,l,s),this}};v.exports=e},42081:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(22562),p={setVelocityX:function(a){return this._tempVec2.set(a,this.body.velocity.y),o.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(a){return this._tempVec2.set(this.body.velocity.x,a),o.setVelocity(this.body,this._tempVec2),this},setVelocity:function(a,n){return this._tempVec2.set(a,n),o.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return o.getVelocity(this.body)},setAngularVelocity:function(a){return o.setAngularVelocity(this.body,a),this},getAngularVelocity:function(){return o.getAngularVelocity(this.body)},setAngularSpeed:function(a){return o.setAngularSpeed(this.body,a),this},getAngularSpeed:function(){return o.getAngularSpeed(this.body)}};v.exports=p},31884:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Bounce:t(70410),Collision:t(66968),Force:t(51607),Friction:t(5436),Gravity:t(39858),Mass:t(37302),Sensor:t(39132),SetBody:t(57772),Sleep:t(38083),Static:t(90556),Transform:t(85436),Velocity:t(42081)}},85608:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="afteradd"},1213:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="afterremove"},25968:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="afterupdate"},67205:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="beforeadd"},39438:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="beforeremove"},44823:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="beforeupdate"},92593:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="collisionactive"},60128:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="collisionend"},76861:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="collisionstart"},92362:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragend"},76408:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="drag"},93971:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragstart"},5656:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pause"},47861:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resume"},79099:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="sleepend"},35906:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="sleepstart"},1121:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={AFTER_ADD:t(85608),AFTER_REMOVE:t(1213),AFTER_UPDATE:t(25968),BEFORE_ADD:t(67205),BEFORE_REMOVE:t(39438),BEFORE_UPDATE:t(44823),COLLISION_ACTIVE:t(92593),COLLISION_END:t(60128),COLLISION_START:t(76861),DRAG_END:t(92362),DRAG:t(76408),DRAG_START:t(93971),PAUSE:t(5656),RESUME:t(47861),SLEEP_END:t(79099),SLEEP_START:t(35906)}},3875:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={BodyBounds:t(68174),Components:t(31884),Events:t(1121),Factory:t(28137),MatterGameObject:t(75803),Image:t(23181),Matter:t(19933),MatterPhysics:t(42045),PolyDecomp:t(55973),Sprite:t(34803),TileBody:t(73834),PhysicsEditorParser:t(19496),PhysicsJSONParser:t(85791),PointerConstraint:t(98713),World:t(68243)}},22562:(v,y,t)=>{var o={};v.exports=o;var p=t(41598),a=t(31725),n=t(53614),i=t(53402),e=t(15647),r=t(66615);(function(){o._timeCorrection=!0,o._inertiaScale=4,o._nextCollidingGroupId=1,o._nextNonCollidingGroupId=-1,o._nextCategory=1,o._baseDelta=16.666666666666668,o.create=function(s){var u={id:i.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!s.hasOwnProperty("position")&&s.hasOwnProperty("vertices")?s.position=p.centre(s.vertices):s.hasOwnProperty("vertices")||(u.vertices=p.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var d=i.extend(u,s);return l(d,s),d.setOnCollideWith=function(f,c){return c?this.onCollideWith[f.id]=c:delete this.onCollideWith[f.id],this},d},o.nextGroup=function(s){return s?o._nextNonCollidingGroupId--:o._nextCollidingGroupId++},o.nextCategory=function(){return o._nextCategory=o._nextCategory<<1,o._nextCategory};var l=function(s,u){if(u=u||{},o.set(s,{bounds:s.bounds||e.create(s.vertices),positionPrev:s.positionPrev||a.clone(s.position),anglePrev:s.anglePrev||s.angle,vertices:s.vertices,parts:s.parts||[s],isStatic:s.isStatic,isSleeping:s.isSleeping,parent:s.parent||s}),p.rotate(s.vertices,s.angle,s.position),r.rotate(s.axes,s.angle),e.update(s.bounds,s.vertices,s.velocity),o.set(s,{axes:u.axes||s.axes,area:u.area||s.area,mass:u.mass||s.mass,inertia:u.inertia||s.inertia}),s.parts.length===1){var d=s.bounds,f=s.centerOfMass,c=s.centerOffset,m=d.max.x-d.min.x,T=d.max.y-d.min.y;f.x=-(d.min.x-s.position.x)/m,f.y=-(d.min.y-s.position.y)/T,c.x=m*f.x,c.y=T*f.y}};o.set=function(s,u,d){var f;typeof u=="string"&&(f=u,u={},u[f]=d);for(f in u)if(Object.prototype.hasOwnProperty.call(u,f))switch(d=u[f],f){case"isStatic":o.setStatic(s,d);break;case"isSleeping":n.set(s,d);break;case"mass":o.setMass(s,d);break;case"density":o.setDensity(s,d);break;case"inertia":o.setInertia(s,d);break;case"vertices":o.setVertices(s,d);break;case"position":o.setPosition(s,d);break;case"angle":o.setAngle(s,d);break;case"velocity":o.setVelocity(s,d);break;case"angularVelocity":o.setAngularVelocity(s,d);break;case"speed":o.setSpeed(s,d);break;case"angularSpeed":o.setAngularSpeed(s,d);break;case"parts":o.setParts(s,d);break;case"centre":o.setCentre(s,d);break;default:s[f]=d}},o.setStatic=function(s,u){for(var d=0;d<s.parts.length;d++){var f=s.parts[d];u?(f.isStatic||(f._original={restitution:f.restitution,friction:f.friction,mass:f.mass,inertia:f.inertia,density:f.density,inverseMass:f.inverseMass,inverseInertia:f.inverseInertia}),f.restitution=0,f.friction=1,f.mass=f.inertia=f.density=1/0,f.inverseMass=f.inverseInertia=0,f.positionPrev.x=f.position.x,f.positionPrev.y=f.position.y,f.anglePrev=f.angle,f.angularVelocity=0,f.speed=0,f.angularSpeed=0,f.motion=0):f._original&&(f.restitution=f._original.restitution,f.friction=f._original.friction,f.mass=f._original.mass,f.inertia=f._original.inertia,f.density=f._original.density,f.inverseMass=f._original.inverseMass,f.inverseInertia=f._original.inverseInertia,f._original=null),f.isStatic=u}},o.setMass=function(s,u){var d=s.inertia/(s.mass/6);s.inertia=d*(u/6),s.inverseInertia=1/s.inertia,s.mass=u,s.inverseMass=1/s.mass,s.density=s.mass/s.area},o.setDensity=function(s,u){o.setMass(s,u*s.area),s.density=u},o.setInertia=function(s,u){s.inertia=u,s.inverseInertia=1/s.inertia},o.setVertices=function(s,u){u[0].body===s?s.vertices=u:s.vertices=p.create(u,s),s.axes=r.fromVertices(s.vertices),s.area=p.area(s.vertices),o.setMass(s,s.density*s.area);var d=p.centre(s.vertices);p.translate(s.vertices,d,-1),o.setInertia(s,o._inertiaScale*p.inertia(s.vertices,s.mass)),p.translate(s.vertices,s.position),e.update(s.bounds,s.vertices,s.velocity)},o.setParts=function(s,u,d){var f;for(u=u.slice(0),s.parts.length=0,s.parts.push(s),s.parent=s,f=0;f<u.length;f++){var c=u[f];c!==s&&(c.parent=s,s.parts.push(c))}if(s.parts.length!==1){if(d=typeof d<"u"?d:!0,d){var m=[];for(f=0;f<u.length;f++)m=m.concat(u[f].vertices);p.clockwiseSort(m);var T=p.hull(m),C=p.centre(T);o.setVertices(s,T),p.translate(s.vertices,C)}var S=o._totalProperties(s),A=S.centre.x,P=S.centre.y,R=s.bounds,F=s.centerOfMass,D=s.centerOffset;e.update(R,s.vertices,s.velocity),F.x=-(R.min.x-A)/(R.max.x-R.min.x),F.y=-(R.min.y-P)/(R.max.y-R.min.y),D.x=A,D.y=P,s.area=S.area,s.parent=s,s.position.x=A,s.position.y=P,s.positionPrev.x=A,s.positionPrev.y=P,o.setMass(s,S.mass),o.setInertia(s,S.inertia),o.setPosition(s,S.centre)}},o.setCentre=function(s,u,d){d?(s.positionPrev.x+=u.x,s.positionPrev.y+=u.y,s.position.x+=u.x,s.position.y+=u.y):(s.positionPrev.x=u.x-(s.position.x-s.positionPrev.x),s.positionPrev.y=u.y-(s.position.y-s.positionPrev.y),s.position.x=u.x,s.position.y=u.y)},o.setPosition=function(s,u,d){var f=a.sub(u,s.position);d?(s.positionPrev.x=s.position.x,s.positionPrev.y=s.position.y,s.velocity.x=f.x,s.velocity.y=f.y,s.speed=a.magnitude(f)):(s.positionPrev.x+=f.x,s.positionPrev.y+=f.y);for(var c=0;c<s.parts.length;c++){var m=s.parts[c];m.position.x+=f.x,m.position.y+=f.y,p.translate(m.vertices,f),e.update(m.bounds,m.vertices,s.velocity)}},o.setAngle=function(s,u,d){var f=u-s.angle;d?(s.anglePrev=s.angle,s.angularVelocity=f,s.angularSpeed=Math.abs(f)):s.anglePrev+=f;for(var c=0;c<s.parts.length;c++){var m=s.parts[c];m.angle+=f,p.rotate(m.vertices,f,s.position),r.rotate(m.axes,f),e.update(m.bounds,m.vertices,s.velocity),c>0&&a.rotateAbout(m.position,f,s.position,m.position)}},o.setVelocity=function(s,u){var d=s.deltaTime/o._baseDelta;s.positionPrev.x=s.position.x-u.x*d,s.positionPrev.y=s.position.y-u.y*d,s.velocity.x=(s.position.x-s.positionPrev.x)/d,s.velocity.y=(s.position.y-s.positionPrev.y)/d,s.speed=a.magnitude(s.velocity)},o.getVelocity=function(s){var u=o._baseDelta/s.deltaTime;return{x:(s.position.x-s.positionPrev.x)*u,y:(s.position.y-s.positionPrev.y)*u}},o.getSpeed=function(s){return a.magnitude(o.getVelocity(s))},o.setSpeed=function(s,u){o.setVelocity(s,a.mult(a.normalise(o.getVelocity(s)),u))},o.setAngularVelocity=function(s,u){var d=s.deltaTime/o._baseDelta;s.anglePrev=s.angle-u*d,s.angularVelocity=(s.angle-s.anglePrev)/d,s.angularSpeed=Math.abs(s.angularVelocity)},o.getAngularVelocity=function(s){return(s.angle-s.anglePrev)*o._baseDelta/s.deltaTime},o.getAngularSpeed=function(s){return Math.abs(o.getAngularVelocity(s))},o.setAngularSpeed=function(s,u){o.setAngularVelocity(s,i.sign(o.getAngularVelocity(s))*u)},o.translate=function(s,u,d){o.setPosition(s,a.add(s.position,u),d)},o.rotate=function(s,u,d,f){if(!d)o.setAngle(s,s.angle+u,f);else{var c=Math.cos(u),m=Math.sin(u),T=s.position.x-d.x,C=s.position.y-d.y;o.setPosition(s,{x:d.x+(T*c-C*m),y:d.y+(T*m+C*c)},f),o.setAngle(s,s.angle+u,f)}},o.scale=function(s,u,d,f){var c=0,m=0;f=f||s.position;for(var T=s.inertia===1/0,C=0;C<s.parts.length;C++){var S=s.parts[C];S.scale.x=u,S.scale.y=d,p.scale(S.vertices,u,d,f),S.axes=r.fromVertices(S.vertices),S.area=p.area(S.vertices),o.setMass(S,s.density*S.area),p.translate(S.vertices,{x:-S.position.x,y:-S.position.y}),o.setInertia(S,o._inertiaScale*p.inertia(S.vertices,S.mass)),p.translate(S.vertices,{x:S.position.x,y:S.position.y}),C>0&&(c+=S.area,m+=S.inertia),S.position.x=f.x+(S.position.x-f.x)*u,S.position.y=f.y+(S.position.y-f.y)*d,e.update(S.bounds,S.vertices,s.velocity)}s.parts.length>1&&(s.area=c,s.isStatic||(o.setMass(s,s.density*c),o.setInertia(s,m))),s.circleRadius&&(u===d?s.circleRadius*=u:s.circleRadius=null),T&&o.setInertia(s,1/0)},o.update=function(s,u){u=(typeof u<"u"?u:16.666666666666668)*s.timeScale;var d=u*u,f=o._timeCorrection?u/(s.deltaTime||u):1,c=1-s.frictionAir*(u/i._baseDelta),m=(s.position.x-s.positionPrev.x)*f,T=(s.position.y-s.positionPrev.y)*f;s.velocity.x=m*c+s.force.x/s.mass*d,s.velocity.y=T*c+s.force.y/s.mass*d,s.positionPrev.x=s.position.x,s.positionPrev.y=s.position.y,s.position.x+=s.velocity.x,s.position.y+=s.velocity.y,s.deltaTime=u,s.angularVelocity=(s.angle-s.anglePrev)*c*f+s.torque/s.inertia*d,s.anglePrev=s.angle,s.angle+=s.angularVelocity,s.speed=a.magnitude(s.velocity),s.angularSpeed=Math.abs(s.angularVelocity);for(var C=0;C<s.parts.length;C++){var S=s.parts[C];p.translate(S.vertices,s.velocity),C>0&&(S.position.x+=s.velocity.x,S.position.y+=s.velocity.y),s.angularVelocity!==0&&(p.rotate(S.vertices,s.angularVelocity,s.position),r.rotate(S.axes,s.angularVelocity),C>0&&a.rotateAbout(S.position,s.angularVelocity,s.position,S.position)),e.update(S.bounds,S.vertices,s.velocity)}},o.updateVelocities=function(s){var u=o._baseDelta/s.deltaTime,d=s.velocity;d.x=(s.position.x-s.positionPrev.x)*u,d.y=(s.position.y-s.positionPrev.y)*u,s.speed=Math.sqrt(d.x*d.x+d.y*d.y),s.angularVelocity=(s.angle-s.anglePrev)*u,s.angularSpeed=Math.abs(s.angularVelocity)},o.applyForce=function(s,u,d){var f={x:u.x-s.position.x,y:u.y-s.position.y};s.force.x+=d.x,s.force.y+=d.y,s.torque+=f.x*d.y-f.y*d.x},o._totalProperties=function(s){for(var u={mass:0,area:0,inertia:0,centre:{x:0,y:0}},d=s.parts.length===1?0:1;d<s.parts.length;d++){var f=s.parts[d],c=f.mass!==1/0?f.mass:1;u.mass+=c,u.area+=f.area,u.inertia+=f.inertia,u.centre=a.add(u.centre,a.mult(f.position,c))}return u.centre=a.div(u.centre,u.mass),u}})()},69351:(v,y,t)=>{var o={};v.exports=o;var p=t(35810),a=t(53402),n=t(15647),i=t(22562);(function(){o.create=function(e){return a.extend({id:a.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},e)},o.setModified=function(e,r,l,s){if(p.trigger(e,"compositeModified",e),e.isModified=r,r&&e.cache&&(e.cache.allBodies=null,e.cache.allConstraints=null,e.cache.allComposites=null),l&&e.parent&&o.setModified(e.parent,r,l,s),s)for(var u=0;u<e.composites.length;u++){var d=e.composites[u];o.setModified(d,r,l,s)}},o.add=function(e,r){var l=[].concat(r);p.trigger(e,"beforeAdd",{object:r});for(var s=0;s<l.length;s++){var u=l[s];switch(u.type){case"body":if(u.parent!==u){a.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}o.addBody(e,u);break;case"constraint":o.addConstraint(e,u);break;case"composite":o.addComposite(e,u);break;case"mouseConstraint":o.addConstraint(e,u.constraint);break}}return p.trigger(e,"afterAdd",{object:r}),e},o.remove=function(e,r,l){var s=[].concat(r);p.trigger(e,"beforeRemove",{object:r});for(var u=0;u<s.length;u++){var d=s[u];switch(d.type){case"body":o.removeBody(e,d,l);break;case"constraint":o.removeConstraint(e,d,l);break;case"composite":o.removeComposite(e,d,l);break;case"mouseConstraint":o.removeConstraint(e,d.constraint);break}}return p.trigger(e,"afterRemove",{object:r}),e},o.addComposite=function(e,r){return e.composites.push(r),r.parent=e,o.setModified(e,!0,!0,!1),e},o.removeComposite=function(e,r,l){var s=a.indexOf(e.composites,r);if(s!==-1&&o.removeCompositeAt(e,s),l)for(var u=0;u<e.composites.length;u++)o.removeComposite(e.composites[u],r,!0);return e},o.removeCompositeAt=function(e,r){return e.composites.splice(r,1),o.setModified(e,!0,!0,!1),e},o.addBody=function(e,r){return e.bodies.push(r),o.setModified(e,!0,!0,!1),e},o.removeBody=function(e,r,l){var s=a.indexOf(e.bodies,r);if(s!==-1&&o.removeBodyAt(e,s),l)for(var u=0;u<e.composites.length;u++)o.removeBody(e.composites[u],r,!0);return e},o.removeBodyAt=function(e,r){return e.bodies.splice(r,1),o.setModified(e,!0,!0,!1),e},o.addConstraint=function(e,r){return e.constraints.push(r),o.setModified(e,!0,!0,!1),e},o.removeConstraint=function(e,r,l){var s=a.indexOf(e.constraints,r);if(s!==-1&&o.removeConstraintAt(e,s),l)for(var u=0;u<e.composites.length;u++)o.removeConstraint(e.composites[u],r,!0);return e},o.removeConstraintAt=function(e,r){return e.constraints.splice(r,1),o.setModified(e,!0,!0,!1),e},o.clear=function(e,r,l){if(l)for(var s=0;s<e.composites.length;s++)o.clear(e.composites[s],r,!0);return r?e.bodies=e.bodies.filter(function(u){return u.isStatic}):e.bodies.length=0,e.constraints.length=0,e.composites.length=0,o.setModified(e,!0,!0,!1),e},o.allBodies=function(e){if(e.cache&&e.cache.allBodies)return e.cache.allBodies;for(var r=[].concat(e.bodies),l=0;l<e.composites.length;l++)r=r.concat(o.allBodies(e.composites[l]));return e.cache&&(e.cache.allBodies=r),r},o.allConstraints=function(e){if(e.cache&&e.cache.allConstraints)return e.cache.allConstraints;for(var r=[].concat(e.constraints),l=0;l<e.composites.length;l++)r=r.concat(o.allConstraints(e.composites[l]));return e.cache&&(e.cache.allConstraints=r),r},o.allComposites=function(e){if(e.cache&&e.cache.allComposites)return e.cache.allComposites;for(var r=[].concat(e.composites),l=0;l<e.composites.length;l++)r=r.concat(o.allComposites(e.composites[l]));return e.cache&&(e.cache.allComposites=r),r},o.get=function(e,r,l){var s,u;switch(l){case"body":s=o.allBodies(e);break;case"constraint":s=o.allConstraints(e);break;case"composite":s=o.allComposites(e).concat(e);break}return s?(u=s.filter(function(d){return d.id.toString()===r.toString()}),u.length===0?null:u[0]):null},o.move=function(e,r,l){return o.remove(e,r),o.add(l,r),e},o.rebase=function(e){for(var r=o.allBodies(e).concat(o.allConstraints(e)).concat(o.allComposites(e)),l=0;l<r.length;l++)r[l].id=a.nextId();return e},o.translate=function(e,r,l){for(var s=l?o.allBodies(e):e.bodies,u=0;u<s.length;u++)i.translate(s[u],r);return e},o.rotate=function(e,r,l,s){for(var u=Math.cos(r),d=Math.sin(r),f=s?o.allBodies(e):e.bodies,c=0;c<f.length;c++){var m=f[c],T=m.position.x-l.x,C=m.position.y-l.y;i.setPosition(m,{x:l.x+(T*u-C*d),y:l.y+(T*d+C*u)}),i.rotate(m,r)}return e},o.scale=function(e,r,l,s,u){for(var d=u?o.allBodies(e):e.bodies,f=0;f<d.length;f++){var c=d[f],m=c.position.x-s.x,T=c.position.y-s.y;i.setPosition(c,{x:s.x+m*r,y:s.y+T*l}),i.scale(c,r,l)}return e},o.bounds=function(e){for(var r=o.allBodies(e),l=[],s=0;s<r.length;s+=1){var u=r[s];l.push(u.bounds.min,u.bounds.max)}return n.create(l)}})()},4372:(v,y,t)=>{var o={};v.exports=o;var p=t(69351);(function(){o.create=p.create,o.add=p.add,o.remove=p.remove,o.clear=p.clear,o.addComposite=p.addComposite,o.addBody=p.addBody,o.addConstraint=p.addConstraint})()},52284:(v,y,t)=>{var o={};v.exports=o;var p=t(41598),a=t(4506);(function(){var n=[],i={overlap:0,axis:null},e={overlap:0,axis:null};o.create=function(r,l){return{pair:null,collided:!1,bodyA:r,bodyB:l,parentA:r.parent,parentB:l.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[]}},o.collides=function(r,l,s){if(o._overlapAxes(i,r.vertices,l.vertices,r.axes),i.overlap<=0||(o._overlapAxes(e,l.vertices,r.vertices,l.axes),e.overlap<=0))return null;var u=s&&s.table[a.id(r,l)],d;u?d=u.collision:(d=o.create(r,l),d.collided=!0,d.bodyA=r.id<l.id?r:l,d.bodyB=r.id<l.id?l:r,d.parentA=d.bodyA.parent,d.parentB=d.bodyB.parent),r=d.bodyA,l=d.bodyB;var f;i.overlap<e.overlap?f=i:f=e;var c=d.normal,m=d.supports,T=f.axis,C=T.x,S=T.y;C*(l.position.x-r.position.x)+S*(l.position.y-r.position.y)<0?(c.x=C,c.y=S):(c.x=-C,c.y=-S),d.tangent.x=-c.y,d.tangent.y=c.x,d.depth=f.overlap,d.penetration.x=c.x*d.depth,d.penetration.y=c.y*d.depth;var A=o._findSupports(r,l,c,1),P=0;if(p.contains(r.vertices,A[0])&&(m[P++]=A[0]),p.contains(r.vertices,A[1])&&(m[P++]=A[1]),P<2){var R=o._findSupports(l,r,c,-1);p.contains(l.vertices,R[0])&&(m[P++]=R[0]),P<2&&p.contains(l.vertices,R[1])&&(m[P++]=R[1])}return P===0&&(m[P++]=A[0]),m.length=P,d},o._overlapAxes=function(r,l,s,u){var d=l.length,f=s.length,c=l[0].x,m=l[0].y,T=s[0].x,C=s[0].y,S=u.length,A=Number.MAX_VALUE,P=0,R,F,D,L,O,B;for(O=0;O<S;O++){var b=u[O],z=b.x,V=b.y,W=c*z+m*V,K=T*z+C*V,U=W,Y=K;for(B=1;B<d;B+=1)L=l[B].x*z+l[B].y*V,L>U?U=L:L<W&&(W=L);for(B=1;B<f;B+=1)L=s[B].x*z+s[B].y*V,L>Y?Y=L:L<K&&(K=L);if(F=U-K,D=Y-W,R=F<D?F:D,R<A&&(A=R,P=O,R<=0))break}r.axis=u[P],r.overlap=A},o._projectToAxis=function(r,l,s){for(var u=l[0].x*s.x+l[0].y*s.y,d=u,f=1;f<l.length;f+=1){var c=l[f].x*s.x+l[f].y*s.y;c>d?d=c:c<u&&(u=c)}r.min=u,r.max=d},o._findSupports=function(r,l,s,u){var d=l.vertices,f=d.length,c=r.position.x,m=r.position.y,T=s.x*u,C=s.y*u,S=Number.MAX_VALUE,A,P,R,F,D;for(D=0;D<f;D+=1)P=d[D],F=T*(c-P.x)+C*(m-P.y),F<S&&(S=F,A=P);return R=d[(f+A.index-1)%f],S=T*(c-R.x)+C*(m-R.y),P=d[(A.index+1)%f],T*(c-P.x)+C*(m-P.y)<S?(n[0]=A,n[1]=P,n):(n[0]=A,n[1]=R,n)}})()},43424:v=>{var y={};v.exports=y,function(){y.create=function(t){return{vertex:t,normalImpulse:0,tangentImpulse:0}}}()},81388:(v,y,t)=>{var o={};v.exports=o;var p=t(53402),a=t(52284);(function(){o.create=function(n){var i={bodies:[],pairs:null};return p.extend(i,n)},o.setBodies=function(n,i){n.bodies=i.slice(0)},o.clear=function(n){n.bodies=[]},o.collisions=function(n){var i=[],e=n.pairs,r=n.bodies,l=r.length,s=o.canCollide,u=a.collides,d,f;for(r.sort(o._compareBoundsX),d=0;d<l;d++){var c=r[d],m=c.bounds,T=c.bounds.max.x,C=c.bounds.max.y,S=c.bounds.min.y,A=c.isStatic||c.isSleeping,P=c.parts.length,R=P===1;for(f=d+1;f<l;f++){var F=r[f],D=F.bounds;if(D.min.x>T)break;if(!(C<D.min.y||S>D.max.y)&&!(A&&(F.isStatic||F.isSleeping))&&s(c.collisionFilter,F.collisionFilter)){var L=F.parts.length;if(R&&L===1){var O=u(c,F,e);O&&i.push(O)}else for(var B=P>1?1:0,b=L>1?1:0,z=B;z<P;z++)for(var V=c.parts[z],m=V.bounds,W=b;W<L;W++){var K=F.parts[W],D=K.bounds;if(!(m.min.x>D.max.x||m.max.x<D.min.x||m.max.y<D.min.y||m.min.y>D.max.y)){var O=u(V,K,e);O&&i.push(O)}}}}}return i},o.canCollide=function(n,i){return n.group===i.group&&n.group!==0?n.group>0:(n.mask&i.category)!==0&&(i.mask&n.category)!==0},o._compareBoundsX=function(n,i){return n.bounds.min.x-i.bounds.min.x}})()},4506:(v,y,t)=>{var o={};v.exports=o;var p=t(43424);(function(){o.create=function(a,n){var i=a.bodyA,e=a.bodyB,r={id:o.id(i,e),bodyA:i,bodyB:e,collision:a,contacts:[],activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:i.isSensor||e.isSensor,timeCreated:n,timeUpdated:n,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return o.update(r,a,n),r},o.update=function(a,n,i){var e=a.contacts,r=n.supports,l=a.activeContacts,s=n.parentA,u=n.parentB,d=s.vertices.length;a.isActive=!0,a.timeUpdated=i,a.collision=n,a.separation=n.depth,a.inverseMass=s.inverseMass+u.inverseMass,a.friction=s.friction<u.friction?s.friction:u.friction,a.frictionStatic=s.frictionStatic>u.frictionStatic?s.frictionStatic:u.frictionStatic,a.restitution=s.restitution>u.restitution?s.restitution:u.restitution,a.slop=s.slop>u.slop?s.slop:u.slop,n.pair=a,l.length=0;for(var f=0;f<r.length;f++){var c=r[f],m=c.body===s?c.index:d+c.index,T=e[m];T?l.push(T):l.push(e[m]=p.create(c))}},o.setActive=function(a,n,i){n?(a.isActive=!0,a.timeUpdated=i):(a.isActive=!1,a.activeContacts.length=0)},o.id=function(a,n){return a.id<n.id?"A"+a.id+"B"+n.id:"A"+n.id+"B"+a.id}})()},99561:(v,y,t)=>{var o={};v.exports=o;var p=t(4506),a=t(53402);(function(){o.create=function(n){return a.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},n)},o.update=function(n,i,e){var r=n.list,l=r.length,s=n.table,u=i.length,d=n.collisionStart,f=n.collisionEnd,c=n.collisionActive,m,T,C,S;for(d.length=0,f.length=0,c.length=0,S=0;S<l;S++)r[S].confirmedActive=!1;for(S=0;S<u;S++)m=i[S],C=m.pair,C?(C.isActive?c.push(C):d.push(C),p.update(C,m,e),C.confirmedActive=!0):(C=p.create(m,e),s[C.id]=C,d.push(C),r.push(C));var A=[];for(l=r.length,S=0;S<l;S++)C=r[S],C.confirmedActive||(p.setActive(C,!1,e),f.push(C),!C.collision.bodyA.isSleeping&&!C.collision.bodyB.isSleeping&&A.push(S));for(S=0;S<A.length;S++)T=A[S]-S,C=r[T],r.splice(T,1),delete s[C.id]},o.clear=function(n){return n.table={},n.list.length=0,n.collisionStart.length=0,n.collisionActive.length=0,n.collisionEnd.length=0,n}})()},73296:(v,y,t)=>{var o={};v.exports=o;var p=t(31725),a=t(52284),n=t(15647),i=t(66280),e=t(41598);(function(){o.collides=function(r,l){for(var s=[],u=l.length,d=r.bounds,f=a.collides,c=n.overlaps,m=0;m<u;m++){var T=l[m],C=T.parts.length,S=C===1?0:1;if(r!==T&&c(T.bounds,d))for(var A=S;A<C;A++){var P=T.parts[A];if(c(P.bounds,d)){var R=f(P,r);if(R){s.push(R);break}}}}return s},o.ray=function(r,l,s,u){u=u||1e-100;for(var d=p.angle(l,s),f=p.magnitude(p.sub(l,s)),c=(s.x+l.x)*.5,m=(s.y+l.y)*.5,T=i.rectangle(c,m,f,u,{angle:d}),C=o.collides(T,r),S=0;S<C.length;S+=1){var A=C[S];A.body=A.bodyB=A.bodyA}return C},o.region=function(r,l,s){for(var u=[],d=0;d<r.length;d++){var f=r[d],c=n.overlaps(f.bounds,l);(c&&!s||!c&&s)&&u.push(f)}return u},o.point=function(r,l){for(var s=[],u=0;u<r.length;u++){var d=r[u];if(n.contains(d.bounds,l))for(var f=d.parts.length===1?0:1;f<d.parts.length;f++){var c=d.parts[f];if(n.contains(c.bounds,l)&&e.contains(c.vertices,l)){s.push(d);break}}}return s}})()},66272:(v,y,t)=>{var o={};v.exports=o;var p=t(41598),a=t(53402),n=t(15647);(function(){o._restingThresh=2,o._restingThreshTangent=Math.sqrt(6),o._positionDampen=.9,o._positionWarming=.8,o._frictionNormalMultiplier=5,o._frictionMaxStatic=Number.MAX_VALUE,o.preSolvePosition=function(i){var e,r,l,s=i.length;for(e=0;e<s;e++)r=i[e],r.isActive&&(l=r.activeContacts.length,r.collision.parentA.totalContacts+=l,r.collision.parentB.totalContacts+=l)},o.solvePosition=function(i,e,r){var l,s,u,d,f,c,m,T,C=o._positionDampen*(r||1),S=a.clamp(e/a._baseDelta,0,1),A=i.length;for(l=0;l<A;l++)s=i[l],!(!s.isActive||s.isSensor)&&(u=s.collision,d=u.parentA,f=u.parentB,c=u.normal,s.separation=c.x*(f.positionImpulse.x+u.penetration.x-d.positionImpulse.x)+c.y*(f.positionImpulse.y+u.penetration.y-d.positionImpulse.y));for(l=0;l<A;l++)s=i[l],!(!s.isActive||s.isSensor)&&(u=s.collision,d=u.parentA,f=u.parentB,c=u.normal,T=s.separation-s.slop*S,(d.isStatic||f.isStatic)&&(T*=2),d.isStatic||d.isSleeping||(m=C/d.totalContacts,d.positionImpulse.x+=c.x*T*m,d.positionImpulse.y+=c.y*T*m),f.isStatic||f.isSleeping||(m=C/f.totalContacts,f.positionImpulse.x-=c.x*T*m,f.positionImpulse.y-=c.y*T*m))},o.postSolvePosition=function(i){for(var e=o._positionWarming,r=i.length,l=p.translate,s=n.update,u=0;u<r;u++){var d=i[u],f=d.positionImpulse,c=f.x,m=f.y,T=d.velocity;if(d.totalContacts=0,c!==0||m!==0){for(var C=0;C<d.parts.length;C++){var S=d.parts[C];l(S.vertices,f),s(S.bounds,S.vertices,T),S.position.x+=c,S.position.y+=m}d.positionPrev.x+=c,d.positionPrev.y+=m,c*T.x+m*T.y<0?(f.x=0,f.y=0):(f.x*=e,f.y*=e)}}},o.preSolveVelocity=function(i){var e=i.length,r,l;for(r=0;r<e;r++){var s=i[r];if(!(!s.isActive||s.isSensor)){var u=s.activeContacts,d=u.length,f=s.collision,c=f.parentA,m=f.parentB,T=f.normal,C=f.tangent;for(l=0;l<d;l++){var S=u[l],A=S.vertex,P=S.normalImpulse,R=S.tangentImpulse;if(P!==0||R!==0){var F=T.x*P+C.x*R,D=T.y*P+C.y*R;c.isStatic||c.isSleeping||(c.positionPrev.x+=F*c.inverseMass,c.positionPrev.y+=D*c.inverseMass,c.anglePrev+=c.inverseInertia*((A.x-c.position.x)*D-(A.y-c.position.y)*F)),m.isStatic||m.isSleeping||(m.positionPrev.x-=F*m.inverseMass,m.positionPrev.y-=D*m.inverseMass,m.anglePrev-=m.inverseInertia*((A.x-m.position.x)*D-(A.y-m.position.y)*F))}}}}},o.solveVelocity=function(i,e){var r=e/a._baseDelta,l=r*r,s=l*r,u=-o._restingThresh*r,d=o._restingThreshTangent,f=o._frictionNormalMultiplier*r,c=o._frictionMaxStatic,m=i.length,T,C,S,A;for(S=0;S<m;S++){var P=i[S];if(!(!P.isActive||P.isSensor)){var R=P.collision,F=R.parentA,D=R.parentB,L=F.velocity,O=D.velocity,B=R.normal.x,b=R.normal.y,z=R.tangent.x,V=R.tangent.y,W=P.activeContacts,K=W.length,U=1/K,Y=F.inverseMass+D.inverseMass,I=P.friction*P.frictionStatic*f;for(L.x=F.position.x-F.positionPrev.x,L.y=F.position.y-F.positionPrev.y,O.x=D.position.x-D.positionPrev.x,O.y=D.position.y-D.positionPrev.y,F.angularVelocity=F.angle-F.anglePrev,D.angularVelocity=D.angle-D.anglePrev,A=0;A<K;A++){var N=W[A],G=N.vertex,X=G.x-F.position.x,H=G.y-F.position.y,Q=G.x-D.position.x,$=G.y-D.position.y,Z=L.x-H*F.angularVelocity,J=L.y+X*F.angularVelocity,j=O.x-$*D.angularVelocity,k=O.y+Q*D.angularVelocity,_=Z-j,q=J-k,et=B*_+b*q,st=z*_+V*q,nt=P.separation+et,it=Math.min(nt,1);it=nt<0?0:it;var tt=it*I;st<-tt||st>tt?(C=st>0?st:-st,T=P.friction*(st>0?1:-1)*s,T<-C?T=-C:T>C&&(T=C)):(T=st,C=c);var at=X*b-H*B,rt=Q*b-$*B,ot=U/(Y+F.inverseInertia*at*at+D.inverseInertia*rt*rt),ht=(1+P.restitution)*et*ot;if(T*=ot,et<u)N.normalImpulse=0;else{var ft=N.normalImpulse;N.normalImpulse+=ht,N.normalImpulse>0&&(N.normalImpulse=0),ht=N.normalImpulse-ft}if(st<-d||st>d)N.tangentImpulse=0;else{var ct=N.tangentImpulse;N.tangentImpulse+=T,N.tangentImpulse<-C&&(N.tangentImpulse=-C),N.tangentImpulse>C&&(N.tangentImpulse=C),T=N.tangentImpulse-ct}var vt=B*ht+z*T,dt=b*ht+V*T;F.isStatic||F.isSleeping||(F.positionPrev.x+=vt*F.inverseMass,F.positionPrev.y+=dt*F.inverseMass,F.anglePrev+=(X*dt-H*vt)*F.inverseInertia),D.isStatic||D.isSleeping||(D.positionPrev.x-=vt*D.inverseMass,D.positionPrev.y-=dt*D.inverseMass,D.anglePrev-=(Q*dt-$*vt)*D.inverseInertia)}}}}})()},48140:(v,y,t)=>{var o={};v.exports=o;var p=t(41598),a=t(31725),n=t(53614),i=t(15647),e=t(66615),r=t(53402);(function(){o._warming=.4,o._torqueDampen=1,o._minLength=1e-6,o.create=function(l){var s=l;s.bodyA&&!s.pointA&&(s.pointA={x:0,y:0}),s.bodyB&&!s.pointB&&(s.pointB={x:0,y:0});var u=s.bodyA?a.add(s.bodyA.position,s.pointA):s.pointA,d=s.bodyB?a.add(s.bodyB.position,s.pointB):s.pointB,f=a.magnitude(a.sub(u,d));s.length=typeof s.length<"u"?s.length:f,s.id=s.id||r.nextId(),s.label=s.label||"Constraint",s.type="constraint",s.stiffness=s.stiffness||(s.length>0?1:.7),s.damping=s.damping||0,s.angularStiffness=s.angularStiffness||0,s.angleA=s.bodyA?s.bodyA.angle:s.angleA,s.angleB=s.bodyB?s.bodyB.angle:s.angleB,s.plugin={};var c={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return s.length===0&&s.stiffness>.1?(c.type="pin",c.anchors=!1):s.stiffness<.9&&(c.type="spring"),s.render=r.extend(c,s.render),s},o.preSolveAll=function(l){for(var s=0;s<l.length;s+=1){var u=l[s],d=u.constraintImpulse;u.isStatic||d.x===0&&d.y===0&&d.angle===0||(u.position.x+=d.x,u.position.y+=d.y,u.angle+=d.angle)}},o.solveAll=function(l,s){for(var u=r.clamp(s/r._baseDelta,0,1),d=0;d<l.length;d+=1){var f=l[d],c=!f.bodyA||f.bodyA&&f.bodyA.isStatic,m=!f.bodyB||f.bodyB&&f.bodyB.isStatic;(c||m)&&o.solve(l[d],u)}for(d=0;d<l.length;d+=1)f=l[d],c=!f.bodyA||f.bodyA&&f.bodyA.isStatic,m=!f.bodyB||f.bodyB&&f.bodyB.isStatic,!c&&!m&&o.solve(l[d],u)},o.solve=function(l,s){var u=l.bodyA,d=l.bodyB,f=l.pointA,c=l.pointB;if(!(!u&&!d)){u&&!u.isStatic&&(a.rotate(f,u.angle-l.angleA,f),l.angleA=u.angle),d&&!d.isStatic&&(a.rotate(c,d.angle-l.angleB,c),l.angleB=d.angle);var m=f,T=c;if(u&&(m=a.add(u.position,f)),d&&(T=a.add(d.position,c)),!(!m||!T)){var C=a.sub(m,T),S=a.magnitude(C);S<o._minLength&&(S=o._minLength);var A=(S-l.length)/S,P=l.stiffness>=1||l.length===0,R=P?l.stiffness*s:l.stiffness*s*s,F=l.damping*s,D=a.mult(C,A*R),L=(u?u.inverseMass:0)+(d?d.inverseMass:0),O=(u?u.inverseInertia:0)+(d?d.inverseInertia:0),B=L+O,b,z,V,W,K;if(F>0){var U=a.create();V=a.div(C,S),K=a.sub(d&&a.sub(d.position,d.positionPrev)||U,u&&a.sub(u.position,u.positionPrev)||U),W=a.dot(V,K)}u&&!u.isStatic&&(z=u.inverseMass/L,u.constraintImpulse.x-=D.x*z,u.constraintImpulse.y-=D.y*z,u.position.x-=D.x*z,u.position.y-=D.y*z,F>0&&(u.positionPrev.x-=F*V.x*W*z,u.positionPrev.y-=F*V.y*W*z),b=a.cross(f,D)/B*o._torqueDampen*u.inverseInertia*(1-l.angularStiffness),u.constraintImpulse.angle-=b,u.angle-=b),d&&!d.isStatic&&(z=d.inverseMass/L,d.constraintImpulse.x+=D.x*z,d.constraintImpulse.y+=D.y*z,d.position.x+=D.x*z,d.position.y+=D.y*z,F>0&&(d.positionPrev.x+=F*V.x*W*z,d.positionPrev.y+=F*V.y*W*z),b=a.cross(c,D)/B*o._torqueDampen*d.inverseInertia*(1-l.angularStiffness),d.constraintImpulse.angle+=b,d.angle+=b)}}},o.postSolveAll=function(l){for(var s=0;s<l.length;s++){var u=l[s],d=u.constraintImpulse;if(!(u.isStatic||d.x===0&&d.y===0&&d.angle===0)){n.set(u,!1);for(var f=0;f<u.parts.length;f++){var c=u.parts[f];p.translate(c.vertices,d),f>0&&(c.position.x+=d.x,c.position.y+=d.y),d.angle!==0&&(p.rotate(c.vertices,d.angle,u.position),e.rotate(c.axes,d.angle),f>0&&a.rotateAbout(c.position,d.angle,u.position,c.position)),i.update(c.bounds,c.vertices,u.velocity)}d.angle*=o._warming,d.x*=o._warming,d.y*=o._warming}}},o.pointAWorld=function(l){return{x:(l.bodyA?l.bodyA.position.x:0)+(l.pointA?l.pointA.x:0),y:(l.bodyA?l.bodyA.position.y:0)+(l.pointA?l.pointA.y:0)}},o.pointBWorld=function(l){return{x:(l.bodyB?l.bodyB.position.x:0)+(l.pointB?l.pointB.x:0),y:(l.bodyB?l.bodyB.position.y:0)+(l.pointB?l.pointB.y:0)}},o.currentLength=function(l){var s=(l.bodyA?l.bodyA.position.x:0)+(l.pointA?l.pointA.x:0),u=(l.bodyA?l.bodyA.position.y:0)+(l.pointA?l.pointA.y:0),d=(l.bodyB?l.bodyB.position.x:0)+(l.pointB?l.pointB.x:0),f=(l.bodyB?l.bodyB.position.y:0)+(l.pointB?l.pointB.y:0),c=s-d,m=u-f;return Math.sqrt(c*c+m*m)}})()},53402:(v,y,t)=>{var o={};v.exports=o,function(){o._baseDelta=16.666666666666668,o._nextId=0,o._seed=0,o._nowStartTime=+new Date,o._warnedOnce={},o._decomp=null,o.extend=function(a,n){var i,e;typeof n=="boolean"?(i=2,e=n):(i=1,e=!0);for(var r=i;r<arguments.length;r++){var l=arguments[r];if(l)for(var s in l)e&&l[s]&&l[s].constructor===Object&&(!a[s]||a[s].constructor===Object)?(a[s]=a[s]||{},o.extend(a[s],e,l[s])):a[s]=l[s]}return a},o.clone=function(a,n){return o.extend({},n,a)},o.keys=function(a){if(Object.keys)return Object.keys(a);var n=[];for(var i in a)n.push(i);return n},o.values=function(a){var n=[];if(Object.keys){for(var i=Object.keys(a),e=0;e<i.length;e++)n.push(a[i[e]]);return n}for(var r in a)n.push(a[r]);return n},o.get=function(a,n,i,e){n=n.split(".").slice(i,e);for(var r=0;r<n.length;r+=1)a=a[n[r]];return a},o.set=function(a,n,i,e,r){var l=n.split(".").slice(e,r);return o.get(a,n,0,-1)[l[l.length-1]]=i,i},o.shuffle=function(a){for(var n=a.length-1;n>0;n--){var i=Math.floor(o.random()*(n+1)),e=a[n];a[n]=a[i],a[i]=e}return a},o.choose=function(a){return a[Math.floor(o.random()*a.length)]},o.isElement=function(a){return typeof HTMLElement<"u"?a instanceof HTMLElement:!!(a&&a.nodeType&&a.nodeName)},o.isArray=function(a){return Object.prototype.toString.call(a)==="[object Array]"},o.isFunction=function(a){return typeof a=="function"},o.isPlainObject=function(a){return typeof a=="object"&&a.constructor===Object},o.isString=function(a){return toString.call(a)==="[object String]"},o.clamp=function(a,n,i){return a<n?n:a>i?i:a},o.sign=function(a){return a<0?-1:1},o.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-o._nowStartTime},o.random=function(a,n){return a=typeof a<"u"?a:0,n=typeof n<"u"?n:1,a+p()*(n-a)};var p=function(){return o._seed=(o._seed*9301+49297)%233280,o._seed/233280};o.colorToNumber=function(a){return a=a.replace("#",""),a.length==3&&(a=a.charAt(0)+a.charAt(0)+a.charAt(1)+a.charAt(1)+a.charAt(2)+a.charAt(2)),parseInt(a,16)},o.logLevel=1,o.log=function(){console&&o.logLevel>0&&o.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.info=function(){console&&o.logLevel>0&&o.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.warn=function(){console&&o.logLevel>0&&o.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.warnOnce=function(){var a=Array.prototype.slice.call(arguments).join(" ");o._warnedOnce[a]||(o.warn(a),o._warnedOnce[a]=!0)},o.deprecated=function(a,n,i){a[n]=o.chain(function(){o.warnOnce("🔅 deprecated 🔅",i)},a[n])},o.nextId=function(){return o._nextId++},o.indexOf=function(a,n){if(a.indexOf)return a.indexOf(n);for(var i=0;i<a.length;i++)if(a[i]===n)return i;return-1},o.map=function(a,n){if(a.map)return a.map(n);for(var i=[],e=0;e<a.length;e+=1)i.push(n(a[e]));return i},o.topologicalSort=function(a){var n=[],i=[],e=[];for(var r in a)!i[r]&&!e[r]&&o._topologicalSort(r,i,e,a,n);return n},o._topologicalSort=function(a,n,i,e,r){var l=e[a]||[];i[a]=!0;for(var s=0;s<l.length;s+=1){var u=l[s];i[u]||n[u]||o._topologicalSort(u,n,i,e,r)}i[a]=!1,n[a]=!0,r.push(a)},o.chain=function(){for(var a=[],n=0;n<arguments.length;n+=1){var i=arguments[n];i._chained?a.push.apply(a,i._chained):a.push(i)}var e=function(){for(var r,l=new Array(arguments.length),s=0,u=arguments.length;s<u;s++)l[s]=arguments[s];for(s=0;s<a.length;s+=1){var d=a[s].apply(r,l);typeof d<"u"&&(r=d)}return r};return e._chained=a,e},o.chainPathBefore=function(a,n,i){return o.set(a,n,o.chain(i,o.get(a,n)))},o.chainPathAfter=function(a,n,i){return o.set(a,n,o.chain(o.get(a,n),i))},o.setDecomp=function(a){o._decomp=a},o.getDecomp=function(){var a=o._decomp;try{!a&&typeof window<"u"&&(a=window.decomp),!a&&typeof t.g<"u"&&(a=t.g.decomp)}catch{a=null}return a}}()},48413:(v,y,t)=>{var o={};v.exports=o;var p=t(53614),a=t(66272),n=t(81388),i=t(99561),e=t(35810),r=t(69351),l=t(48140),s=t(53402),u=t(22562);(function(){o.create=function(d){d=d||{};var f={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0}},c=s.extend(f,d);return c.world=d.world||r.create({label:"World"}),c.pairs=d.pairs||i.create(),c.detector=d.detector||n.create(),c.grid={buckets:[]},c.world.gravity=c.gravity,c.broadphase=c.grid,c.metrics={},c},o.update=function(d,f){var c=s.now(),m=d.world,T=d.detector,C=d.pairs,S=d.timing,A=S.timestamp,P;f=typeof f<"u"?f:s._baseDelta,f*=S.timeScale,S.timestamp+=f,S.lastDelta=f;var R={timestamp:S.timestamp,delta:f};e.trigger(d,"beforeUpdate",R);var F=r.allBodies(m),D=r.allConstraints(m);for(m.isModified&&(n.setBodies(T,F),r.setModified(m,!1,!1,!0)),d.enableSleeping&&p.update(F,f),o._bodiesApplyGravity(F,d.gravity),f>0&&o._bodiesUpdate(F,f),e.trigger(d,"beforeSolve",R),l.preSolveAll(F),P=0;P<d.constraintIterations;P++)l.solveAll(D,f);l.postSolveAll(F),T.pairs=d.pairs;var L=n.collisions(T);i.update(C,L,A),d.enableSleeping&&p.afterCollisions(C.list),C.collisionStart.length>0&&e.trigger(d,"collisionStart",{pairs:C.collisionStart,timestamp:S.timestamp,delta:f});var O=s.clamp(20/d.positionIterations,0,1);for(a.preSolvePosition(C.list),P=0;P<d.positionIterations;P++)a.solvePosition(C.list,f,O);for(a.postSolvePosition(F),l.preSolveAll(F),P=0;P<d.constraintIterations;P++)l.solveAll(D,f);for(l.postSolveAll(F),a.preSolveVelocity(C.list),P=0;P<d.velocityIterations;P++)a.solveVelocity(C.list,f);return o._bodiesUpdateVelocities(F),C.collisionActive.length>0&&e.trigger(d,"collisionActive",{pairs:C.collisionActive,timestamp:S.timestamp,delta:f}),C.collisionEnd.length>0&&e.trigger(d,"collisionEnd",{pairs:C.collisionEnd,timestamp:S.timestamp,delta:f}),o._bodiesClearForces(F),e.trigger(d,"afterUpdate",R),d.timing.lastElapsed=s.now()-c,d},o.merge=function(d,f){if(s.extend(d,f),f.world){d.world=f.world,o.clear(d);for(var c=r.allBodies(d.world),m=0;m<c.length;m++){var T=c[m];p.set(T,!1),T.id=s.nextId()}}},o.clear=function(d){i.clear(d.pairs),n.clear(d.detector)},o._bodiesClearForces=function(d){for(var f=d.length,c=0;c<f;c++){var m=d[c];m.force.x=0,m.force.y=0,m.torque=0}},o._bodiesApplyGravity=function(d,f){var c=typeof f.scale<"u"?f.scale:.001,m=d.length;if(!(f.x===0&&f.y===0||c===0))for(var T=0;T<m;T++){var C=d[T];C.ignoreGravity||C.isStatic||C.isSleeping||(C.force.y+=C.mass*f.y*c,C.force.x+=C.mass*f.x*c)}},o._bodiesUpdate=function(d,f){for(var c=d.length,m=0;m<c;m++){var T=d[m];T.isStatic||T.isSleeping||u.update(T,f)}},o._bodiesUpdateVelocities=function(d){for(var f=d.length,c=0;c<f;c++)u.updateVelocities(d[c])}})()},35810:(v,y,t)=>{var o={};v.exports=o;var p=t(53402);(function(){o.on=function(a,n,i){for(var e=n.split(" "),r,l=0;l<e.length;l++)r=e[l],a.events=a.events||{},a.events[r]=a.events[r]||[],a.events[r].push(i);return i},o.off=function(a,n,i){if(!n){a.events={};return}typeof n=="function"&&(i=n,n=p.keys(a.events).join(" "));for(var e=n.split(" "),r=0;r<e.length;r++){var l=a.events[e[r]],s=[];if(i&&l)for(var u=0;u<l.length;u++)l[u]!==i&&s.push(l[u]);a.events[e[r]]=s}},o.trigger=function(a,n,i){var e,r,l,s,u=a.events;if(u&&p.keys(u).length>0){i||(i={}),e=n.split(" ");for(var d=0;d<e.length;d++)if(r=e[d],l=u[r],l){s=p.clone(i,!1),s.name=r,s.source=a;for(var f=0;f<l.length;f++)l[f].apply(a,[s])}}}})()},6790:(v,y,t)=>{var o={};v.exports=o;var p=t(73832),a=t(53402);(function(){o.name="matter-js",o.version="0.19.0",o.uses=[],o.used=[],o.use=function(){p.use(o,Array.prototype.slice.call(arguments))},o.before=function(n,i){return n=n.replace(/^Matter./,""),a.chainPathBefore(o,n,i)},o.after=function(n,i){return n=n.replace(/^Matter./,""),a.chainPathAfter(o,n,i)}})()},73832:(v,y,t)=>{var o={};v.exports=o;var p=t(53402);(function(){o._registry={},o.register=function(a){if(o.isPlugin(a)||p.warn("Plugin.register:",o.toString(a),"does not implement all required fields."),a.name in o._registry){var n=o._registry[a.name],i=o.versionParse(a.version).number,e=o.versionParse(n.version).number;i>e?(p.warn("Plugin.register:",o.toString(n),"was upgraded to",o.toString(a)),o._registry[a.name]=a):i<e?p.warn("Plugin.register:",o.toString(n),"can not be downgraded to",o.toString(a)):a!==n&&p.warn("Plugin.register:",o.toString(a),"is already registered to different plugin object")}else o._registry[a.name]=a;return a},o.resolve=function(a){return o._registry[o.dependencyParse(a).name]},o.toString=function(a){return typeof a=="string"?a:(a.name||"anonymous")+"@"+(a.version||a.range||"0.0.0")},o.isPlugin=function(a){return a&&a.name&&a.version&&a.install},o.isUsed=function(a,n){return a.used.indexOf(n)>-1},o.isFor=function(a,n){var i=a.for&&o.dependencyParse(a.for);return!a.for||n.name===i.name&&o.versionSatisfies(n.version,i.range)},o.use=function(a,n){if(a.uses=(a.uses||[]).concat(n||[]),a.uses.length===0){p.warn("Plugin.use:",o.toString(a),"does not specify any dependencies to install.");return}for(var i=o.dependencies(a),e=p.topologicalSort(i),r=[],l=0;l<e.length;l+=1)if(e[l]!==a.name){var s=o.resolve(e[l]);if(!s){r.push("❌ "+e[l]);continue}o.isUsed(a,s.name)||(o.isFor(s,a)||(p.warn("Plugin.use:",o.toString(s),"is for",s.for,"but installed on",o.toString(a)+"."),s._warned=!0),s.install?s.install(a):(p.warn("Plugin.use:",o.toString(s),"does not specify an install function."),s._warned=!0),s._warned?(r.push("🔶 "+o.toString(s)),delete s._warned):r.push("✅ "+o.toString(s)),a.used.push(s.name))}r.length>0&&!s.silent&&p.info(r.join("  "))},o.dependencies=function(a,n){var i=o.dependencyParse(a),e=i.name;if(n=n||{},!(e in n)){a=o.resolve(a)||a,n[e]=p.map(a.uses||[],function(l){o.isPlugin(l)&&o.register(l);var s=o.dependencyParse(l),u=o.resolve(l);return u&&!o.versionSatisfies(u.version,s.range)?(p.warn("Plugin.dependencies:",o.toString(u),"does not satisfy",o.toString(s),"used by",o.toString(i)+"."),u._warned=!0,a._warned=!0):u||(p.warn("Plugin.dependencies:",o.toString(l),"used by",o.toString(i),"could not be resolved."),a._warned=!0),s.name});for(var r=0;r<n[e].length;r+=1)o.dependencies(n[e][r],n);return n}},o.dependencyParse=function(a){if(p.isString(a)){var n=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return n.test(a)||p.warn("Plugin.dependencyParse:",a,"is not a valid dependency string."),{name:a.split("@")[0],range:a.split("@")[1]||"*"}}return{name:a.name,range:a.range||a.version}},o.versionParse=function(a){var n=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;n.test(a)||p.warn("Plugin.versionParse:",a,"is not a valid version or range.");var i=n.exec(a),e=Number(i[4]),r=Number(i[5]),l=Number(i[6]);return{isRange:!!(i[1]||i[2]),version:i[3],range:a,operator:i[1]||i[2]||"",major:e,minor:r,patch:l,parts:[e,r,l],prerelease:i[7],number:e*1e8+r*1e4+l}},o.versionSatisfies=function(a,n){n=n||"*";var i=o.versionParse(n),e=o.versionParse(a);if(i.isRange){if(i.operator==="*"||a==="*")return!0;if(i.operator===">")return e.number>i.number;if(i.operator===">=")return e.number>=i.number;if(i.operator==="~")return e.major===i.major&&e.minor===i.minor&&e.patch>=i.patch;if(i.operator==="^")return i.major>0?e.major===i.major&&e.number>=i.number:i.minor>0?e.minor===i.minor&&e.patch>=i.patch:e.patch===i.patch}return a===n||a==="*"}})()},53614:(v,y,t)=>{var o={};v.exports=o;var p=t(22562),a=t(35810),n=t(53402);(function(){o._motionWakeThreshold=.18,o._motionSleepThreshold=.08,o._minBias=.9,o.update=function(i,e){for(var r=e/n._baseDelta,l=o._motionSleepThreshold,s=0;s<i.length;s++){var u=i[s],d=p.getSpeed(u),f=p.getAngularSpeed(u),c=d*d+f*f;if(u.force.x!==0||u.force.y!==0){o.set(u,!1);continue}var m=Math.min(u.motion,c),T=Math.max(u.motion,c);u.motion=o._minBias*m+(1-o._minBias)*T,u.sleepThreshold>0&&u.motion<l?(u.sleepCounter+=1,u.sleepCounter>=u.sleepThreshold/r&&o.set(u,!0)):u.sleepCounter>0&&(u.sleepCounter-=1)}},o.afterCollisions=function(i){for(var e=o._motionSleepThreshold,r=0;r<i.length;r++){var l=i[r];if(l.isActive){var s=l.collision,u=s.bodyA.parent,d=s.bodyB.parent;if(!(u.isSleeping&&d.isSleeping||u.isStatic||d.isStatic)&&(u.isSleeping||d.isSleeping)){var f=u.isSleeping&&!u.isStatic?u:d,c=f===u?d:u;!f.isStatic&&c.motion>e&&o.set(f,!1)}}}},o.set=function(i,e){var r=i.isSleeping;e?(i.isSleeping=!0,i.sleepCounter=i.sleepThreshold,i.positionImpulse.x=0,i.positionImpulse.y=0,i.positionPrev.x=i.position.x,i.positionPrev.y=i.position.y,i.anglePrev=i.angle,i.speed=0,i.angularSpeed=0,i.motion=0,r||a.trigger(i,"sleepStart")):(i.isSleeping=!1,i.sleepCounter=0,r&&a.trigger(i,"sleepEnd"))}})()},66280:(v,y,t)=>{var o={};v.exports=o;var p=t(41598),a=t(53402),n=t(22562),i=t(15647),e=t(31725);(function(){o.rectangle=function(r,l,s,u,d){d=d||{};var f={label:"Rectangle Body",position:{x:r,y:l},vertices:p.fromPath("L 0 0 L "+s+" 0 L "+s+" "+u+" L 0 "+u)};if(d.chamfer){var c=d.chamfer;f.vertices=p.chamfer(f.vertices,c.radius,c.quality,c.qualityMin,c.qualityMax),delete d.chamfer}return n.create(a.extend({},f,d))},o.trapezoid=function(r,l,s,u,d,f){f=f||{},d*=.5;var c=(1-d*2)*s,m=s*d,T=m+c,C=T+m,S;d<.5?S="L 0 0 L "+m+" "+-u+" L "+T+" "+-u+" L "+C+" 0":S="L 0 0 L "+T+" "+-u+" L "+C+" 0";var A={label:"Trapezoid Body",position:{x:r,y:l},vertices:p.fromPath(S)};if(f.chamfer){var P=f.chamfer;A.vertices=p.chamfer(A.vertices,P.radius,P.quality,P.qualityMin,P.qualityMax),delete f.chamfer}return n.create(a.extend({},A,f))},o.circle=function(r,l,s,u,d){u=u||{};var f={label:"Circle Body",circleRadius:s};d=d||25;var c=Math.ceil(Math.max(10,Math.min(d,s)));return c%2===1&&(c+=1),o.polygon(r,l,c,s,a.extend({},f,u))},o.polygon=function(r,l,s,u,d){if(d=d||{},s<3)return o.circle(r,l,u,d);for(var f=2*Math.PI/s,c="",m=f*.5,T=0;T<s;T+=1){var C=m+T*f,S=Math.cos(C)*u,A=Math.sin(C)*u;c+="L "+S.toFixed(3)+" "+A.toFixed(3)+" "}var P={label:"Polygon Body",position:{x:r,y:l},vertices:p.fromPath(c)};if(d.chamfer){var R=d.chamfer;P.vertices=p.chamfer(P.vertices,R.radius,R.quality,R.qualityMin,R.qualityMax),delete d.chamfer}return n.create(a.extend({},P,d))},o.fromVertices=function(r,l,s,u,d,f,c,m){var T=a.getDecomp(),C,S,A,P,R,F,D,L,O,B,b;for(C=!!(T&&T.quickDecomp),u=u||{},A=[],d=typeof d<"u"?d:!1,f=typeof f<"u"?f:.01,c=typeof c<"u"?c:10,m=typeof m<"u"?m:.01,a.isArray(s[0])||(s=[s]),B=0;B<s.length;B+=1)if(F=s[B],P=p.isConvex(F),R=!P,R&&!C&&a.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),P||!C)P?F=p.clockwiseSort(F):F=p.hull(F),A.push({position:{x:r,y:l},vertices:F});else{var z=F.map(function(Q){return[Q.x,Q.y]});T.makeCCW(z),f!==!1&&T.removeCollinearPoints(z,f),m!==!1&&T.removeDuplicatePoints&&T.removeDuplicatePoints(z,m);var V=T.quickDecomp(z);for(D=0;D<V.length;D++){var W=V[D],K=W.map(function(Q){return{x:Q[0],y:Q[1]}});c>0&&p.area(K)<c||A.push({position:p.centre(K),vertices:K})}}for(D=0;D<A.length;D++)A[D]=n.create(a.extend(A[D],u));if(d){var U=5;for(D=0;D<A.length;D++){var Y=A[D];for(L=D+1;L<A.length;L++){var I=A[L];if(i.overlaps(Y.bounds,I.bounds)){var N=Y.vertices,G=I.vertices;for(O=0;O<Y.vertices.length;O++)for(b=0;b<I.vertices.length;b++){var X=e.magnitudeSquared(e.sub(N[(O+1)%N.length],G[b])),H=e.magnitudeSquared(e.sub(N[O],G[(b+1)%G.length]));X<U&&H<U&&(N[O].isInternal=!0,G[b].isInternal=!0)}}}}}return A.length>1?(S=n.create(a.extend({parts:A.slice(0)},u)),n.setPosition(S,{x:r,y:l}),S):A[0]},o.flagCoincidentParts=function(r,l){l===void 0&&(l=5);for(var s=0;s<r.length;s++)for(var u=r[s],d=s+1;d<r.length;d++){var f=r[d];if(i.overlaps(u.bounds,f.bounds))for(var c=u.vertices,m=f.vertices,T=0;T<u.vertices.length;T++)for(var C=0;C<f.vertices.length;C++){var S=e.magnitudeSquared(e.sub(c[(T+1)%c.length],m[C])),A=e.magnitudeSquared(e.sub(c[T],m[(C+1)%m.length]));S<l&&A<l&&(c[T].isInternal=!0,m[C].isInternal=!0)}}return r}})()},74116:(v,y,t)=>{var o={};v.exports=o;var p=t(69351),a=t(48140),n=t(53402),i=t(22562),e=t(66280);(function(){o.stack=function(r,l,s,u,d,f,c){for(var m=p.create({label:"Stack"}),T=r,C=l,S,A=0,P=0;P<u;P++){for(var R=0,F=0;F<s;F++){var D=c(T,C,F,P,S,A);if(D){var L=D.bounds.max.y-D.bounds.min.y,O=D.bounds.max.x-D.bounds.min.x;L>R&&(R=L),i.translate(D,{x:O*.5,y:L*.5}),T=D.bounds.max.x+d,p.addBody(m,D),S=D,A+=1}else T+=d}C+=R+f,T=r}return m},o.chain=function(r,l,s,u,d,f){for(var c=r.bodies,m=1;m<c.length;m++){var T=c[m-1],C=c[m],S=T.bounds.max.y-T.bounds.min.y,A=T.bounds.max.x-T.bounds.min.x,P=C.bounds.max.y-C.bounds.min.y,R=C.bounds.max.x-C.bounds.min.x,F={bodyA:T,pointA:{x:A*l,y:S*s},bodyB:C,pointB:{x:R*u,y:P*d}},D=n.extend(F,f);p.addConstraint(r,a.create(D))}return r.label+=" Chain",r},o.mesh=function(r,l,s,u,d){var f=r.bodies,c,m,T,C,S;for(c=0;c<s;c++){for(m=1;m<l;m++)T=f[m-1+c*l],C=f[m+c*l],p.addConstraint(r,a.create(n.extend({bodyA:T,bodyB:C},d)));if(c>0)for(m=0;m<l;m++)T=f[m+(c-1)*l],C=f[m+c*l],p.addConstraint(r,a.create(n.extend({bodyA:T,bodyB:C},d))),u&&m>0&&(S=f[m-1+(c-1)*l],p.addConstraint(r,a.create(n.extend({bodyA:S,bodyB:C},d)))),u&&m<l-1&&(S=f[m+1+(c-1)*l],p.addConstraint(r,a.create(n.extend({bodyA:S,bodyB:C},d))))}return r.label+=" Mesh",r},o.pyramid=function(r,l,s,u,d,f,c){return o.stack(r,l,s,u,d,f,function(m,T,C,S,A,P){var R=Math.min(u,Math.ceil(s/2)),F=A?A.bounds.max.x-A.bounds.min.x:0;if(!(S>R)){S=R-S;var D=S,L=s-1-S;if(!(C<D||C>L)){P===1&&i.translate(A,{x:(C+(s%2===1?1:-1))*F,y:0});var O=A?C*F:0;return c(r+O+C*d,T,C,S,A,P)}}})},o.newtonsCradle=function(r,l,s,u,d){for(var f=p.create({label:"Newtons Cradle"}),c=0;c<s;c++){var m=1.9,T=e.circle(r+c*(u*m),l+d,u,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),C=a.create({pointA:{x:r+c*(u*m),y:l},bodyB:T});p.addBody(f,T),p.addConstraint(f,C)}return f},o.car=function(r,l,s,u,d){var f=i.nextGroup(!0),c=20,m=-s*.5+c,T=s*.5-c,C=0,S=p.create({label:"Car"}),A=e.rectangle(r,l,s,u,{collisionFilter:{group:f},chamfer:{radius:u*.5},density:2e-4}),P=e.circle(r+m,l+C,d,{collisionFilter:{group:f},friction:.8}),R=e.circle(r+T,l+C,d,{collisionFilter:{group:f},friction:.8}),F=a.create({bodyB:A,pointB:{x:m,y:C},bodyA:P,stiffness:1,length:0}),D=a.create({bodyB:A,pointB:{x:T,y:C},bodyA:R,stiffness:1,length:0});return p.addBody(S,A),p.addBody(S,P),p.addBody(S,R),p.addConstraint(S,F),p.addConstraint(S,D),S},o.softBody=function(r,l,s,u,d,f,c,m,T,C){T=n.extend({inertia:1/0},T),C=n.extend({stiffness:.2,render:{type:"line",anchors:!1}},C);var S=o.stack(r,l,s,u,d,f,function(A,P){return e.circle(A,P,m,T)});return o.mesh(S,s,u,c,C),S.label="Soft Body",S}})()},66615:(v,y,t)=>{var o={};v.exports=o;var p=t(31725),a=t(53402);(function(){o.fromVertices=function(n){for(var i={},e=0;e<n.length;e++){var r=(e+1)%n.length,l=p.normalise({x:n[r].y-n[e].y,y:n[e].x-n[r].x}),s=l.y===0?1/0:l.x/l.y;s=s.toFixed(3).toString(),i[s]=l}return a.values(i)},o.rotate=function(n,i){if(i!==0)for(var e=Math.cos(i),r=Math.sin(i),l=0;l<n.length;l++){var s=n[l],u;u=s.x*e-s.y*r,s.y=s.x*r+s.y*e,s.x=u}}})()},15647:v=>{var y={};v.exports=y,function(){y.create=function(t){var o={min:{x:0,y:0},max:{x:0,y:0}};return t&&y.update(o,t),o},y.update=function(t,o,p){t.min.x=1/0,t.max.x=-1/0,t.min.y=1/0,t.max.y=-1/0;for(var a=0;a<o.length;a++){var n=o[a];n.x>t.max.x&&(t.max.x=n.x),n.x<t.min.x&&(t.min.x=n.x),n.y>t.max.y&&(t.max.y=n.y),n.y<t.min.y&&(t.min.y=n.y)}p&&(p.x>0?t.max.x+=p.x:t.min.x+=p.x,p.y>0?t.max.y+=p.y:t.min.y+=p.y)},y.contains=function(t,o){return o.x>=t.min.x&&o.x<=t.max.x&&o.y>=t.min.y&&o.y<=t.max.y},y.overlaps=function(t,o){return t.min.x<=o.max.x&&t.max.x>=o.min.x&&t.max.y>=o.min.y&&t.min.y<=o.max.y},y.translate=function(t,o){t.min.x+=o.x,t.max.x+=o.x,t.min.y+=o.y,t.max.y+=o.y},y.shift=function(t,o){var p=t.max.x-t.min.x,a=t.max.y-t.min.y;t.min.x=o.x,t.max.x=o.x+p,t.min.y=o.y,t.max.y=o.y+a}}()},74058:(v,y,t)=>{var o={};v.exports=o,t(15647);var p=t(53402);(function(){o.pathToVertices=function(a,n){typeof window<"u"&&!("SVGPathSeg"in window)&&p.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var i,e,r,l,s,u,d,f,c,m,T=[],C,S,A=0,P=0,R=0;n=n||15;var F=function(L,O,B){var b=B%2===1&&B>1;if(!c||L!=c.x||O!=c.y){c&&b?(C=c.x,S=c.y):(C=0,S=0);var z={x:C+L,y:S+O};(b||!c)&&(c=z),T.push(z),P=C+L,R=S+O}},D=function(L){var O=L.pathSegTypeAsLetter.toUpperCase();if(O!=="Z"){switch(O){case"M":case"L":case"T":case"C":case"S":case"Q":P=L.x,R=L.y;break;case"H":P=L.x;break;case"V":R=L.y;break}F(P,R,L.pathSegType)}};for(o._svgPathToAbsolute(a),r=a.getTotalLength(),u=[],i=0;i<a.pathSegList.numberOfItems;i+=1)u.push(a.pathSegList.getItem(i));for(d=u.concat();A<r;){if(m=a.getPathSegAtLength(A),s=u[m],s!=f){for(;d.length&&d[0]!=s;)D(d.shift());f=s}switch(s.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":l=a.getPointAtLength(A),F(l.x,l.y,0);break}A+=n}for(i=0,e=d.length;i<e;++i)D(d[i]);return T},o._svgPathToAbsolute=function(a){for(var n,i,e,r,l,s,u=a.pathSegList,d=0,f=0,c=u.numberOfItems,m=0;m<c;++m){var T=u.getItem(m),C=T.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(C))"x"in T&&(d=T.x),"y"in T&&(f=T.y);else switch("x1"in T&&(e=d+T.x1),"x2"in T&&(l=d+T.x2),"y1"in T&&(r=f+T.y1),"y2"in T&&(s=f+T.y2),"x"in T&&(d+=T.x),"y"in T&&(f+=T.y),C){case"m":u.replaceItem(a.createSVGPathSegMovetoAbs(d,f),m);break;case"l":u.replaceItem(a.createSVGPathSegLinetoAbs(d,f),m);break;case"h":u.replaceItem(a.createSVGPathSegLinetoHorizontalAbs(d),m);break;case"v":u.replaceItem(a.createSVGPathSegLinetoVerticalAbs(f),m);break;case"c":u.replaceItem(a.createSVGPathSegCurvetoCubicAbs(d,f,e,r,l,s),m);break;case"s":u.replaceItem(a.createSVGPathSegCurvetoCubicSmoothAbs(d,f,l,s),m);break;case"q":u.replaceItem(a.createSVGPathSegCurvetoQuadraticAbs(d,f,e,r),m);break;case"t":u.replaceItem(a.createSVGPathSegCurvetoQuadraticSmoothAbs(d,f),m);break;case"a":u.replaceItem(a.createSVGPathSegArcAbs(d,f,T.r1,T.r2,T.angle,T.largeArcFlag,T.sweepFlag),m);break;case"z":case"Z":d=n,f=i;break}(C=="M"||C=="m")&&(n=d,i=f)}}})()},31725:v=>{var y={};v.exports=y,function(){y.create=function(t,o){return{x:t||0,y:o||0}},y.clone=function(t){return{x:t.x,y:t.y}},y.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},y.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y},y.rotate=function(t,o,p){var a=Math.cos(o),n=Math.sin(o);p||(p={});var i=t.x*a-t.y*n;return p.y=t.x*n+t.y*a,p.x=i,p},y.rotateAbout=function(t,o,p,a){var n=Math.cos(o),i=Math.sin(o);a||(a={});var e=p.x+((t.x-p.x)*n-(t.y-p.y)*i);return a.y=p.y+((t.x-p.x)*i+(t.y-p.y)*n),a.x=e,a},y.normalise=function(t){var o=y.magnitude(t);return o===0?{x:0,y:0}:{x:t.x/o,y:t.y/o}},y.dot=function(t,o){return t.x*o.x+t.y*o.y},y.cross=function(t,o){return t.x*o.y-t.y*o.x},y.cross3=function(t,o,p){return(o.x-t.x)*(p.y-t.y)-(o.y-t.y)*(p.x-t.x)},y.add=function(t,o,p){return p||(p={}),p.x=t.x+o.x,p.y=t.y+o.y,p},y.sub=function(t,o,p){return p||(p={}),p.x=t.x-o.x,p.y=t.y-o.y,p},y.mult=function(t,o){return{x:t.x*o,y:t.y*o}},y.div=function(t,o){return{x:t.x/o,y:t.y/o}},y.perp=function(t,o){return o=o===!0?-1:1,{x:o*-t.y,y:o*t.x}},y.neg=function(t){return{x:-t.x,y:-t.y}},y.angle=function(t,o){return Math.atan2(o.y-t.y,o.x-t.x)},y._temp=[y.create(),y.create(),y.create(),y.create(),y.create(),y.create()]}()},41598:(v,y,t)=>{var o={};v.exports=o;var p=t(31725),a=t(53402);(function(){o.create=function(n,i){for(var e=[],r=0;r<n.length;r++){var l=n[r],s={x:l.x,y:l.y,index:r,body:i,isInternal:!1};e.push(s)}return e},o.fromPath=function(n,i){var e=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,r=[];return n.replace(e,function(l,s,u){r.push({x:parseFloat(s),y:parseFloat(u)})}),o.create(r,i)},o.centre=function(n){for(var i=o.area(n,!0),e={x:0,y:0},r,l,s,u=0;u<n.length;u++)s=(u+1)%n.length,r=p.cross(n[u],n[s]),l=p.mult(p.add(n[u],n[s]),r),e=p.add(e,l);return p.div(e,6*i)},o.mean=function(n){for(var i={x:0,y:0},e=0;e<n.length;e++)i.x+=n[e].x,i.y+=n[e].y;return p.div(i,n.length)},o.area=function(n,i){for(var e=0,r=n.length-1,l=0;l<n.length;l++)e+=(n[r].x-n[l].x)*(n[r].y+n[l].y),r=l;return i?e/2:Math.abs(e)/2},o.inertia=function(n,i){for(var e=0,r=0,l=n,s,u,d=0;d<l.length;d++)u=(d+1)%l.length,s=Math.abs(p.cross(l[u],l[d])),e+=s*(p.dot(l[u],l[u])+p.dot(l[u],l[d])+p.dot(l[d],l[d])),r+=s;return i/6*(e/r)},o.translate=function(n,i,e){e=typeof e<"u"?e:1;var r=n.length,l=i.x*e,s=i.y*e,u;for(u=0;u<r;u++)n[u].x+=l,n[u].y+=s;return n},o.rotate=function(n,i,e){if(i!==0){var r=Math.cos(i),l=Math.sin(i),s=e.x,u=e.y,d=n.length,f,c,m,T;for(T=0;T<d;T++)f=n[T],c=f.x-s,m=f.y-u,f.x=s+(c*r-m*l),f.y=u+(c*l+m*r);return n}},o.contains=function(n,i){for(var e=i.x,r=i.y,l=n.length,s=n[l-1],u,d=0;d<l;d++){if(u=n[d],(e-s.x)*(u.y-s.y)+(r-s.y)*(s.x-u.x)>0)return!1;s=u}return!0},o.scale=function(n,i,e,r){if(i===1&&e===1)return n;r=r||o.centre(n);for(var l,s,u=0;u<n.length;u++)l=n[u],s=p.sub(l,r),n[u].x=r.x+s.x*i,n[u].y=r.y+s.y*e;return n},o.chamfer=function(n,i,e,r,l){typeof i=="number"?i=[i]:i=i||[8],e=typeof e<"u"?e:-1,r=r||2,l=l||14;for(var s=[],u=0;u<n.length;u++){var d=n[u-1>=0?u-1:n.length-1],f=n[u],c=n[(u+1)%n.length],m=i[u<i.length?u:i.length-1];if(m===0){s.push(f);continue}var T=p.normalise({x:f.y-d.y,y:d.x-f.x}),C=p.normalise({x:c.y-f.y,y:f.x-c.x}),S=Math.sqrt(2*Math.pow(m,2)),A=p.mult(a.clone(T),m),P=p.normalise(p.mult(p.add(T,C),.5)),R=p.sub(f,p.mult(P,S)),F=e;e===-1&&(F=Math.pow(m,.32)*1.75),F=a.clamp(F,r,l),F%2===1&&(F+=1);for(var D=Math.acos(p.dot(T,C)),L=D/F,O=0;O<F;O++)s.push(p.add(p.rotate(A,L*O),R))}return s},o.clockwiseSort=function(n){var i=o.mean(n);return n.sort(function(e,r){return p.angle(i,e)-p.angle(i,r)}),n},o.isConvex=function(n){var i=0,e=n.length,r,l,s,u;if(e<3)return null;for(r=0;r<e;r++)if(l=(r+1)%e,s=(r+2)%e,u=(n[l].x-n[r].x)*(n[s].y-n[l].y),u-=(n[l].y-n[r].y)*(n[s].x-n[l].x),u<0?i|=1:u>0&&(i|=2),i===3)return!1;return i!==0?!0:null},o.hull=function(n){var i=[],e=[],r,l;for(n=n.slice(0),n.sort(function(s,u){var d=s.x-u.x;return d!==0?d:s.y-u.y}),l=0;l<n.length;l+=1){for(r=n[l];e.length>=2&&p.cross3(e[e.length-2],e[e.length-1],r)<=0;)e.pop();e.push(r)}for(l=n.length-1;l>=0;l-=1){for(r=n[l];i.length>=2&&p.cross3(i[i.length-2],i[i.length-1],r)<=0;)i.pop();i.push(r)}return i.pop(),e.pop(),i.concat(e)}})()},18210:(v,y,t)=>{var o=t(19933),p={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.19.0",silent:!0,install:function(a){a.after("Body.create",function(){p.Body.init(this)}),a.before("Engine.update",function(n){p.Engine.update(n)})},Body:{init:function(a){a.plugin.attractors=a.plugin.attractors||[]}},Engine:{update:function(a){for(var n=o.Composite.allBodies(a.world),i=0;i<n.length;i++){var e=n[i],r=e.plugin.attractors;if(r&&r.length>0)for(var l=0;l<n.length;l++){var s=n[l];if(i!==l)for(var u=0;u<r.length;u++){var d=r[u],f=d;o.Common.isFunction(d)&&(f=d(e,s)),f&&o.Body.applyForce(s,s.position,f)}}}}},Attractors:{gravityConstant:.001,gravity:function(a,n){var i=o.Vector.sub(n.position,a.position),e=o.Vector.magnitudeSquared(i)||1e-4,r=o.Vector.normalise(i),l=-p.Attractors.gravityConstant*(a.mass*n.mass/e),s=o.Vector.mult(r,l);o.Body.applyForce(a,a.position,o.Vector.neg(s)),o.Body.applyForce(n,n.position,s)}}};v.exports=p},40178:v=>{/**
 * @author       @dxu https://github.com/dxu/matter-collision-events
 * @author       Richard Davey <rich@phaser.io>
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={name:"matter-collision-events",version:"0.1.6",for:"matter-js@^0.19.0",silent:!0,install:function(t){t.after("Engine.create",function(){t.Events.on(this,"collisionStart",function(o){o.pairs.map(function(p){var a=p.bodyA,n=p.bodyB;a.gameObject&&a.gameObject.emit("collide",a,n,p),n.gameObject&&n.gameObject.emit("collide",n,a,p),t.Events.trigger(a,"onCollide",{pair:p}),t.Events.trigger(n,"onCollide",{pair:p}),a.onCollideCallback&&a.onCollideCallback(p),n.onCollideCallback&&n.onCollideCallback(p),a.onCollideWith[n.id]&&a.onCollideWith[n.id](n,p),n.onCollideWith[a.id]&&n.onCollideWith[a.id](a,p)})}),t.Events.on(this,"collisionActive",function(o){o.pairs.map(function(p){var a=p.bodyA,n=p.bodyB;a.gameObject&&a.gameObject.emit("collideActive",a,n,p),n.gameObject&&n.gameObject.emit("collideActive",n,a,p),t.Events.trigger(a,"onCollideActive",{pair:p}),t.Events.trigger(n,"onCollideActive",{pair:p}),a.onCollideActiveCallback&&a.onCollideActiveCallback(p),n.onCollideActiveCallback&&n.onCollideActiveCallback(p)})}),t.Events.on(this,"collisionEnd",function(o){o.pairs.map(function(p){var a=p.bodyA,n=p.bodyB;a.gameObject&&a.gameObject.emit("collideEnd",a,n,p),n.gameObject&&n.gameObject.emit("collideEnd",n,a,p),t.Events.trigger(a,"onCollideEnd",{pair:p}),t.Events.trigger(n,"onCollideEnd",{pair:p}),a.onCollideEndCallback&&a.onCollideEndCallback(p),n.onCollideEndCallback&&n.onCollideEndCallback(p)})})})}};v.exports=y},74507:(v,y,t)=>{var o=t(19933),p={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.19.0",silent:!0,install:function(a){a.after("Engine.update",function(){p.Engine.update(this)})},Engine:{update:function(a){for(var n=a.world,i=o.Composite.allBodies(n),e=o.Composite.allComposites(n),r=0;r<i.length;r+=1){var l=i[r];l.plugin.wrap&&p.Body.wrap(l,l.plugin.wrap)}for(r=0;r<e.length;r+=1){var s=e[r];s.plugin.wrap&&p.Composite.wrap(s,s.plugin.wrap)}}},Bounds:{wrap:function(a,n){var i=null,e=null;if(typeof n.min.x<"u"&&typeof n.max.x<"u"&&(a.min.x>n.max.x?i=n.min.x-a.max.x:a.max.x<n.min.x&&(i=n.max.x-a.min.x)),typeof n.min.y<"u"&&typeof n.max.y<"u"&&(a.min.y>n.max.y?e=n.min.y-a.max.y:a.max.y<n.min.y&&(e=n.max.y-a.min.y)),i!==null||e!==null)return{x:i||0,y:e||0}}},Body:{wrap:function(a,n){var i=p.Bounds.wrap(a.bounds,n);return i&&o.Body.translate(a,i),i}},Composite:{bounds:function(a){for(var n=o.Composite.allBodies(a),i=[],e=0;e<n.length;e+=1){var r=n[e];i.push(r.bounds.min,r.bounds.max)}return o.Bounds.create(i)},wrap:function(a,n){var i=p.Bounds.wrap(p.Composite.bounds(a),n);return i&&o.Composite.translate(a,i),i}}};v.exports=p},55973:v=>{/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={decomp:D,quickDecomp:b,isSimple:O,removeCollinearPoints:z,removeDuplicatePoints:V,makeCCW:c};function y(U,Y,I){I=I||0;var N=[0,0],G,X,H,Q,$,Z,J;return G=U[1][1]-U[0][1],X=U[0][0]-U[1][0],H=G*U[0][0]+X*U[0][1],Q=Y[1][1]-Y[0][1],$=Y[0][0]-Y[1][0],Z=Q*Y[0][0]+$*Y[0][1],J=G*$-Q*X,W(J,0,I)||(N[0]=($*H-X*Z)/J,N[1]=(G*Z-Q*H)/J),N}function t(U,Y,I,N){var G=Y[0]-U[0],X=Y[1]-U[1],H=N[0]-I[0],Q=N[1]-I[1];if(H*X-Q*G===0)return!1;var $=(G*(I[1]-U[1])+X*(U[0]-I[0]))/(H*X-Q*G),Z=(H*(U[1]-I[1])+Q*(I[0]-U[0]))/(Q*G-H*X);return $>=0&&$<=1&&Z>=0&&Z<=1}function o(U,Y,I){return(Y[0]-U[0])*(I[1]-U[1])-(I[0]-U[0])*(Y[1]-U[1])}function p(U,Y,I){return o(U,Y,I)>0}function a(U,Y,I){return o(U,Y,I)>=0}function n(U,Y,I){return o(U,Y,I)<0}function i(U,Y,I){return o(U,Y,I)<=0}var e=[],r=[];function l(U,Y,I,N){if(N){var G=e,X=r;G[0]=Y[0]-U[0],G[1]=Y[1]-U[1],X[0]=I[0]-Y[0],X[1]=I[1]-Y[1];var H=G[0]*X[0]+G[1]*X[1],Q=Math.sqrt(G[0]*G[0]+G[1]*G[1]),$=Math.sqrt(X[0]*X[0]+X[1]*X[1]),Z=Math.acos(H/(Q*$));return Z<N}else return o(U,Y,I)===0}function s(U,Y){var I=Y[0]-U[0],N=Y[1]-U[1];return I*I+N*N}function u(U,Y){var I=U.length;return U[Y<0?Y%I+I:Y%I]}function d(U){U.length=0}function f(U,Y,I,N){for(var G=I;G<N;G++)U.push(Y[G])}function c(U){for(var Y=0,I=U,N=1;N<U.length;++N)(I[N][1]<I[Y][1]||I[N][1]===I[Y][1]&&I[N][0]>I[Y][0])&&(Y=N);return p(u(U,Y-1),u(U,Y),u(U,Y+1))?!1:(m(U),!0)}function m(U){for(var Y=[],I=U.length,N=0;N!==I;N++)Y.push(U.pop());for(var N=0;N!==I;N++)U[N]=Y[N]}function T(U,Y){return n(u(U,Y-1),u(U,Y),u(U,Y+1))}var C=[],S=[];function A(U,Y,I){var N,G,X=C,H=S;if(a(u(U,Y+1),u(U,Y),u(U,I))&&i(u(U,Y-1),u(U,Y),u(U,I)))return!1;G=s(u(U,Y),u(U,I));for(var Q=0;Q!==U.length;++Q)if(!((Q+1)%U.length===Y||Q===Y)&&a(u(U,Y),u(U,I),u(U,Q+1))&&i(u(U,Y),u(U,I),u(U,Q))&&(X[0]=u(U,Y),X[1]=u(U,I),H[0]=u(U,Q),H[1]=u(U,Q+1),N=y(X,H),s(u(U,Y),N)<G))return!1;return!0}function P(U,Y,I){for(var N=0;N!==U.length;++N)if(!(N===Y||N===I||(N+1)%U.length===Y||(N+1)%U.length===I)&&t(u(U,Y),u(U,I),u(U,N),u(U,N+1)))return!1;return!0}function R(U,Y,I,N){var G=N||[];if(d(G),Y<I)for(var X=Y;X<=I;X++)G.push(U[X]);else{for(var X=0;X<=I;X++)G.push(U[X]);for(var X=Y;X<U.length;X++)G.push(U[X])}return G}function F(U){for(var Y=[],I=[],N=[],G=[],X=Number.MAX_VALUE,H=0;H<U.length;++H)if(T(U,H)){for(var Q=0;Q<U.length;++Q)if(A(U,H,Q)){I=F(R(U,H,Q,G)),N=F(R(U,Q,H,G));for(var $=0;$<N.length;$++)I.push(N[$]);I.length<X&&(Y=I,X=I.length,Y.push([u(U,H),u(U,Q)]))}}return Y}function D(U){var Y=F(U);return Y.length>0?L(U,Y):[U]}function L(U,Y){if(Y.length===0)return[U];if(Y instanceof Array&&Y.length&&Y[0]instanceof Array&&Y[0].length===2&&Y[0][0]instanceof Array){for(var I=[U],N=0;N<Y.length;N++)for(var G=Y[N],X=0;X<I.length;X++){var H=I[X],Q=L(H,G);if(Q){I.splice(X,1),I.push(Q[0],Q[1]);break}}return I}else{var G=Y,N=U.indexOf(G[0]),X=U.indexOf(G[1]);return N!==-1&&X!==-1?[R(U,N,X),R(U,X,N)]:!1}}function O(U){var Y=U,I;for(I=0;I<Y.length-1;I++)for(var N=0;N<I-1;N++)if(t(Y[I],Y[I+1],Y[N],Y[N+1]))return!1;for(I=1;I<Y.length-2;I++)if(t(Y[0],Y[Y.length-1],Y[I],Y[I+1]))return!1;return!0}function B(U,Y,I,N,G){G=G||0;var X=Y[1]-U[1],H=U[0]-Y[0],Q=X*U[0]+H*U[1],$=N[1]-I[1],Z=I[0]-N[0],J=$*I[0]+Z*I[1],j=X*Z-$*H;return W(j,0,G)?[0,0]:[(Z*Q-H*J)/j,(X*J-$*Q)/j]}function b(U,Y,I,N,G,X,H){X=X||100,H=H||0,G=G||25,Y=typeof Y<"u"?Y:[],I=I||[],N=N||[];var Q=[0,0],$=[0,0],Z=[0,0],J=0,j=0,k=0,_=0,q=0,et=0,st=0,nt=[],it=[],tt=U,at=U;if(at.length<3)return Y;if(H++,H>X)return console.warn("quickDecomp: max level ("+X+") reached."),Y;for(var rt=0;rt<U.length;++rt)if(T(tt,rt)){I.push(tt[rt]),J=j=Number.MAX_VALUE;for(var ot=0;ot<U.length;++ot)p(u(tt,rt-1),u(tt,rt),u(tt,ot))&&i(u(tt,rt-1),u(tt,rt),u(tt,ot-1))&&(Z=B(u(tt,rt-1),u(tt,rt),u(tt,ot),u(tt,ot-1)),n(u(tt,rt+1),u(tt,rt),Z)&&(k=s(tt[rt],Z),k<j&&(j=k,$=Z,et=ot))),p(u(tt,rt+1),u(tt,rt),u(tt,ot+1))&&i(u(tt,rt+1),u(tt,rt),u(tt,ot))&&(Z=B(u(tt,rt+1),u(tt,rt),u(tt,ot),u(tt,ot+1)),p(u(tt,rt-1),u(tt,rt),Z)&&(k=s(tt[rt],Z),k<J&&(J=k,Q=Z,q=ot)));if(et===(q+1)%U.length)Z[0]=($[0]+Q[0])/2,Z[1]=($[1]+Q[1])/2,N.push(Z),rt<q?(f(nt,tt,rt,q+1),nt.push(Z),it.push(Z),et!==0&&f(it,tt,et,tt.length),f(it,tt,0,rt+1)):(rt!==0&&f(nt,tt,rt,tt.length),f(nt,tt,0,q+1),nt.push(Z),it.push(Z),f(it,tt,et,rt+1));else{if(et>q&&(q+=U.length),_=Number.MAX_VALUE,q<et)return Y;for(var ot=et;ot<=q;++ot)a(u(tt,rt-1),u(tt,rt),u(tt,ot))&&i(u(tt,rt+1),u(tt,rt),u(tt,ot))&&(k=s(u(tt,rt),u(tt,ot)),k<_&&P(tt,rt,ot)&&(_=k,st=ot%U.length));rt<st?(f(nt,tt,rt,st+1),st!==0&&f(it,tt,st,at.length),f(it,tt,0,rt+1)):(rt!==0&&f(nt,tt,rt,at.length),f(nt,tt,0,st+1),f(it,tt,st,rt+1))}return nt.length<it.length?(b(nt,Y,I,N,G,X,H),b(it,Y,I,N,G,X,H)):(b(it,Y,I,N,G,X,H),b(nt,Y,I,N,G,X,H)),Y}return Y.push(U),Y}function z(U,Y){for(var I=0,N=U.length-1;U.length>3&&N>=0;--N)l(u(U,N-1),u(U,N),u(U,N+1),Y)&&(U.splice(N%U.length,1),I++);return I}function V(U,Y){for(var I=U.length-1;I>=1;--I)for(var N=U[I],G=I-1;G>=0;--G)if(K(N,U[G],Y)){U.splice(I,1);continue}}function W(U,Y,I){return I=I||0,Math.abs(U-Y)<=I}function K(U,Y,I){return W(U[0],Y[0],I)&&W(U[1],Y[1],I)}},52018:(v,y,t)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2024 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var o=t(83419),p=new o({initialize:function(n){this.pluginManager=n,this.game=n.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});v.exports=p},42363:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};v.exports=y},37277:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={},t={},o={};o.register=function(p,a,n,i){i===void 0&&(i=!1),y[p]={plugin:a,mapping:n,custom:i}},o.registerCustom=function(p,a,n,i){t[p]={plugin:a,mapping:n,data:i}},o.hasCore=function(p){return y.hasOwnProperty(p)},o.hasCustom=function(p){return t.hasOwnProperty(p)},o.getCore=function(p){return y[p]},o.getCustom=function(p){return t[p]},o.getCustomClass=function(p){return t.hasOwnProperty(p)?t[p].plugin:null},o.remove=function(p){y.hasOwnProperty(p)&&delete y[p]},o.removeCustom=function(p){t.hasOwnProperty(p)&&delete t[p]},o.destroyCorePlugins=function(){for(var p in y)y.hasOwnProperty(p)&&delete y[p]},o.destroyCustomPlugins=function(){for(var p in t)t.hasOwnProperty(p)&&delete t[p]},v.exports=o},77332:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(8443),a=t(50792),n=t(74099),i=t(44603),e=t(39429),r=t(95540),l=t(37277),s=t(72905),u=new o({Extends:a,initialize:function(f){a.call(this),this.game=f,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],f.isBooted?this.boot():f.events.once(p.BOOT,this.boot,this)},boot:function(){var d,f,c,m,T,C,S,A=this.game.config,P=A.installGlobalPlugins;for(P=P.concat(this._pendingGlobal),d=0;d<P.length;d++)f=P[d],c=r(f,"key",null),m=r(f,"plugin",null),T=r(f,"start",!1),C=r(f,"mapping",null),S=r(f,"data",null),c&&(m?this.install(c,m,T,C,S):console.warn("Missing `plugin` for key: "+c));for(P=A.installScenePlugins,P=P.concat(this._pendingScene),d=0;d<P.length;d++)f=P[d],c=r(f,"key",null),m=r(f,"plugin",null),C=r(f,"mapping",null),c&&(m?this.installScenePlugin(c,m,C):console.warn("Missing `plugin` for key: "+c));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(p.DESTROY,this.destroy,this)},addToScene:function(d,f,c){var m,T,C,S=this.game,A=d.scene,P=d.settings.map,R=d.settings.isBooted;for(m=0;m<f.length;m++)T=f[m],S[T]?(d[T]=S[T],P.hasOwnProperty(T)&&(A[P[T]]=d[T])):T==="game"&&P.hasOwnProperty(T)&&(A[P[T]]=S);for(var F=0;F<c.length;F++)for(C=c[F],m=0;m<C.length;m++)if(T=C[m],!!l.hasCore(T)){var D=l.getCore(T),L=D.mapping,O=new D.plugin(A,this,L);d[L]=O,D.custom?A[L]=O:P.hasOwnProperty(L)&&(A[P[L]]=O),R&&O.boot()}for(C=this.plugins,m=0;m<C.length;m++){var B=C[m];B.mapping&&(A[B.mapping]=B.plugin)}},getDefaultScenePlugins:function(){var d=this.game.config.defaultPlugins;return d=d.concat(this.scenePlugins),d},installScenePlugin:function(d,f,c,m,T){if(T===void 0&&(T=!1),typeof f!="function"){console.warn("Invalid Scene Plugin: "+d);return}if(l.hasCore(d)||l.register(d,f,c,!0),this.scenePlugins.indexOf(d)===-1)this.scenePlugins.push(d);else if(!T&&l.hasCore(d)){console.warn("Scene Plugin key in use: "+d);return}if(m){var C=new f(m,this,d);m.sys[d]=C,c&&c!==""&&(m[c]=C),C.boot()}},install:function(d,f,c,m,T){if(c===void 0&&(c=!1),m===void 0&&(m=null),T===void 0&&(T=null),typeof f!="function")return console.warn("Invalid Plugin: "+d),null;if(l.hasCustom(d))return console.warn("Plugin key in use: "+d),null;if(m!==null&&(c=!0),!this.game.isBooted)this._pendingGlobal.push({key:d,plugin:f,start:c,mapping:m,data:T});else if(l.registerCustom(d,f,m,T),c)return this.start(d);return null},getIndex:function(d){for(var f=this.plugins,c=0;c<f.length;c++){var m=f[c];if(m.key===d)return c}return-1},getEntry:function(d){var f=this.getIndex(d);if(f!==-1)return this.plugins[f]},isActive:function(d){var f=this.getEntry(d);return f&&f.active},start:function(d,f){f===void 0&&(f=d);var c=this.getEntry(f);return c&&!c.active?(c.active=!0,c.plugin.start()):c||(c=this.createEntry(d,f)),c?c.plugin:null},createEntry:function(d,f){var c=l.getCustom(d);if(c){var m=new c.plugin(this);c={key:f,plugin:m,active:!0,mapping:c.mapping,data:c.data},this.plugins.push(c),m.init(c.data),m.start()}return c},stop:function(d){var f=this.getEntry(d);return f&&f.active&&(f.active=!1,f.plugin.stop()),this},get:function(d,f){f===void 0&&(f=!0);var c=this.getEntry(d);if(c)return c.plugin;var m=this.getClass(d);return m&&f?(c=this.createEntry(d,d),c?c.plugin:null):m||null},getClass:function(d){return l.getCustomClass(d)},removeGlobalPlugin:function(d){var f=this.getEntry(d);f&&s(this.plugins,f),l.removeCustom(d)},removeScenePlugin:function(d){s(this.scenePlugins,d),l.remove(d)},registerGameObject:function(d,f,c){return f&&e.register(d,f),c&&i.register(d,c),this},removeGameObject:function(d,f,c){return f===void 0&&(f=!0),c===void 0&&(c=!0),f&&e.remove(d),c&&i.remove(d),this},registerFileType:function(d,f,c){n.register(d,f),c&&c.sys.load&&(c.sys.load[d]=f)},destroy:function(){for(var d=0;d<this.plugins.length;d++)this.plugins[d].plugin.destroy();l.destroyCustomPlugins(),this.game.noReturn&&l.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});v.exports=u},45145:(v,y,t)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2024 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var o=t(52018),p=t(83419),a=t(44594),n=new p({Extends:o,initialize:function(e,r,l){o.call(this,r),this.scene=e,this.systems=e.sys,this.pluginKey=l,e.sys.events.once(a.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});v.exports=n},18922:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={BasePlugin:t(52018),DefaultPlugins:t(42363),PluginCache:t(37277),PluginManager:t(77332),ScenePlugin:t(45145)}},63595:()=>{HTMLVideoElement&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(v){const y=performance.now(),t=this.getVideoPlaybackQuality(),o=this.mozPresentedFrames||this.mozPaintedFrames||t.totalVideoFrames-t.droppedVideoFrames,p=(a,n)=>{const i=this.getVideoPlaybackQuality(),e=this.mozPresentedFrames||this.mozPaintedFrames||i.totalVideoFrames-i.droppedVideoFrames;if(e>o){const r=this.mozFrameDelay||i.totalFrameDelay-t.totalFrameDelay||0,l=n-a;v(n,{presentationTime:n+r*1e3,expectedDisplayTime:n+l,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+l/1e3,presentedFrames:e,processingDuration:r}),delete this._rvfcpolyfillmap[y]}else this._rvfcpolyfillmap[y]=requestAnimationFrame(r=>p(n,r))};return this._rvfcpolyfillmap[y]=requestAnimationFrame(a=>p(y,a)),y},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(v){cancelAnimationFrame(this._rvfcpolyfillmap[v]),delete this._rvfcpolyfillmap[v]})},10312:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={DEFAULT:0,LINEAR:0,NEAREST:1};v.exports=y},68627:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(19715),p=t(32880),a=t(83419),n=t(8054),i=t(50792),e=t(92503),r=t(56373),l=t(97480),s=t(69442),u=t(61340),d=new a({Extends:i,initialize:function(c){i.call(this);var m=c.config;this.config={clearBeforeRender:m.clearBeforeRender,backgroundColor:m.backgroundColor,antialias:m.antialias,roundPixels:m.roundPixels},this.game=c,this.type=n.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=c.canvas;var T={alpha:c.config.transparent,desynchronized:c.config.desynchronized,willReadFrequently:!1};this.gameContext=m.context?m.context:this.gameCanvas.getContext("2d",T),this.currentContext=this.gameContext,this.antialias=c.config.antialias,this.blendModes=r(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new u,this._tempMatrix2=new u,this._tempMatrix3=new u,this.isBooted=!1,this.init()},init:function(){this.game.textures.once(s.READY,this.boot,this)},boot:function(){var f=this.game,c=f.scale.baseSize;this.width=c.width,this.height=c.height,this.isBooted=!0,f.scale.on(l.RESIZE,this.onResize,this),this.resize(c.width,c.height)},onResize:function(f,c){(c.width!==this.width||c.height!==this.height)&&this.resize(c.width,c.height)},resize:function(f,c){this.width=f,this.height=c,this.emit(e.RESIZE,f,c)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(f){return this.currentContext.globalCompositeOperation=f,this},setContext:function(f){return this.currentContext=f||this.gameContext,this},setAlpha:function(f){return this.currentContext.globalAlpha=f,this},preRender:function(){var f=this.gameContext,c=this.config,m=this.width,T=this.height;f.globalAlpha=1,f.globalCompositeOperation="source-over",f.setTransform(1,0,0,1,0,0),c.clearBeforeRender&&(f.clearRect(0,0,m,T),c.transparent||(f.fillStyle=c.backgroundColor.rgba,f.fillRect(0,0,m,T))),f.save(),this.drawCount=0,this.emit(e.PRE_RENDER)},render:function(f,c,m){var T=c.length;this.emit(e.RENDER,f,m);var C=m.x,S=m.y,A=m.width,P=m.height,R=m.renderToTexture?m.context:f.sys.context;R.save(),this.game.scene.customViewports&&(R.beginPath(),R.rect(C,S,A,P),R.clip()),m.emit(o.PRE_RENDER,m),this.currentContext=R;var F=m.mask;F&&F.preRenderCanvas(this,null,m._maskCamera),m.transparent||(R.fillStyle=m.backgroundColor.rgba,R.fillRect(C,S,A,P)),R.globalAlpha=m.alpha,R.globalCompositeOperation="source-over",this.drawCount+=T,m.renderToTexture&&m.emit(o.PRE_RENDER,m),m.matrix.copyToContext(R);for(var D=0;D<T;D++){var L=c[D];L.mask&&L.mask.preRenderCanvas(this,L,m),L.renderCanvas(this,L,m),L.mask&&L.mask.postRenderCanvas(this,L,m)}R.setTransform(1,0,0,1,0,0),R.globalCompositeOperation="source-over",R.globalAlpha=1,m.flashEffect.postRenderCanvas(R),m.fadeEffect.postRenderCanvas(R),m.dirty=!1,F&&F.postRenderCanvas(this),R.restore(),m.renderToTexture&&(m.emit(o.POST_RENDER,m),m.renderToGame&&f.sys.context.drawImage(m.canvas,C,S)),m.emit(o.POST_RENDER,m)},postRender:function(){var f=this.gameContext;f.restore(),this.emit(e.POST_RENDER);var c=this.snapshotState;c.callback&&(p(this.gameCanvas,c),c.callback=null)},snapshotCanvas:function(f,c,m,T,C,S,A,P,R){m===void 0&&(m=!1),this.snapshotArea(T,C,S,A,c,P,R);var F=this.snapshotState;return F.getPixel=m,p(f,F),F.callback=null,this},snapshot:function(f,c,m){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,f,c,m)},snapshotArea:function(f,c,m,T,C,S,A){var P=this.snapshotState;return P.callback=C,P.type=S,P.encoder=A,P.getPixel=!1,P.x=f,P.y=c,P.width=Math.min(m,this.gameCanvas.width),P.height=Math.min(T,this.gameCanvas.height),this},snapshotPixel:function(f,c,m){return this.snapshotArea(f,c,1,1,m),this.snapshotState.getPixel=!0,this},batchSprite:function(f,c,m,T){var C=m.alpha*f.alpha;if(C!==0){var S=this.currentContext,A=this._tempMatrix1,P=this._tempMatrix2,R=c.canvasData,F=R.x,D=R.y,L=c.cutWidth,O=c.cutHeight,B=c.customPivot,b=c.source.resolution,z=f.displayOriginX,V=f.displayOriginY,W=-z+c.x,K=-V+c.y;if(f.isCropped){var U=f._crop;(U.flipX!==f.flipX||U.flipY!==f.flipY)&&c.updateCropUVs(U,f.flipX,f.flipY),L=U.cw,O=U.ch,F=U.cx,D=U.cy,W=-z+U.x,K=-V+U.y,f.flipX&&(W>=0?W=-(W+L):W<0&&(W=Math.abs(W)-L)),f.flipY&&(K>=0?K=-(K+O):K<0&&(K=Math.abs(K)-O))}var Y=1,I=1;f.flipX&&(B||(W+=-c.realWidth+z*2),Y=-1),f.flipY&&(B||(K+=-c.realHeight+V*2),I=-1);var N=f.x,G=f.y;P.applyITRS(N,G,f.rotation,f.scaleX*Y,f.scaleY*I),A.copyFrom(m.matrix),T?(A.multiplyWithOffset(T,-m.scrollX*f.scrollFactorX,-m.scrollY*f.scrollFactorY),P.e=N,P.f=G):(P.e-=m.scrollX*f.scrollFactorX,P.f-=m.scrollY*f.scrollFactorY),A.multiply(P),m.roundPixels&&(A.e=Math.round(A.e),A.f=Math.round(A.f)),S.save(),A.setToContext(S),S.globalCompositeOperation=this.blendModes[f.blendMode],S.globalAlpha=C,S.imageSmoothingEnabled=!c.source.scaleMode,f.mask&&f.mask.preRenderCanvas(this,f,m),L>0&&O>0&&(m.roundPixels?S.drawImage(c.source.image,F,D,L,O,Math.round(W),Math.round(K),Math.round(L/b),Math.round(O/b)):S.drawImage(c.source.image,F,D,L,O,W,K,L/b,O/b)),f.mask&&f.mask.postRenderCanvas(this,f,m),S.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});v.exports=d},55830:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={CanvasRenderer:t(68627),GetBlendModes:t(56373),SetTransform:t(20926)}},56373:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10312),p=t(89289),a=function(){var n=[],i=p.supportNewBlendModes,e="source-over";return n[o.NORMAL]=e,n[o.ADD]="lighter",n[o.MULTIPLY]=i?"multiply":e,n[o.SCREEN]=i?"screen":e,n[o.OVERLAY]=i?"overlay":e,n[o.DARKEN]=i?"darken":e,n[o.LIGHTEN]=i?"lighten":e,n[o.COLOR_DODGE]=i?"color-dodge":e,n[o.COLOR_BURN]=i?"color-burn":e,n[o.HARD_LIGHT]=i?"hard-light":e,n[o.SOFT_LIGHT]=i?"soft-light":e,n[o.DIFFERENCE]=i?"difference":e,n[o.EXCLUSION]=i?"exclusion":e,n[o.HUE]=i?"hue":e,n[o.SATURATION]=i?"saturation":e,n[o.COLOR]=i?"color":e,n[o.LUMINOSITY]=i?"luminosity":e,n[o.ERASE]="destination-out",n[o.SOURCE_IN]="source-in",n[o.SOURCE_OUT]="source-out",n[o.SOURCE_ATOP]="source-atop",n[o.DESTINATION_OVER]="destination-over",n[o.DESTINATION_IN]="destination-in",n[o.DESTINATION_OUT]="destination-out",n[o.DESTINATION_ATOP]="destination-atop",n[o.LIGHTER]="lighter",n[o.COPY]="copy",n[o.XOR]="xor",n};v.exports=a},20926:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),p=function(a,n,i,e,r){var l=e.alpha*i.alpha;if(l<=0)return!1;var s=o(i,e,r).calc;return n.globalCompositeOperation=a.blendModes[i.blendMode],n.globalAlpha=l,n.save(),s.setToContext(n),n.imageSmoothingEnabled=i.frame?!i.frame.source.scaleMode:a.antialias,!0};v.exports=p},63899:v=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="losewebgl"},6119:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="postrender"},48070:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="prerender"},15640:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="render"},8912:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resize"},87124:v=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="restorewebgl"},92503:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={LOSE_WEBGL:t(63899),POST_RENDER:t(6119),PRE_RENDER:t(48070),RENDER:t(15640),RESIZE:t(8912),RESTORE_WEBGL:t(87124)}},36909:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Events:t(92503),Snapshot:t(89966)},v.exports.Canvas=t(55830),v.exports.WebGL=t(4159)},32880:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(27919),p=t(40987),a=t(95540),n=function(i,e){var r=a(e,"callback"),l=a(e,"type","image/png"),s=a(e,"encoder",.92),u=Math.abs(Math.round(a(e,"x",0))),d=Math.abs(Math.round(a(e,"y",0))),f=Math.floor(a(e,"width",i.width)),c=Math.floor(a(e,"height",i.height)),m=a(e,"getPixel",!1);if(m){var T=i.getContext("2d",{willReadFrequently:!1}),C=T.getImageData(u,d,1,1),S=C.data;r.call(null,new p(S[0],S[1],S[2],S[3]))}else if(u!==0||d!==0||f!==i.width||c!==i.height){var A=o.createWebGL(this,f,c),P=A.getContext("2d",{willReadFrequently:!0});f>0&&c>0&&P.drawImage(i,u,d,f,c,0,0,f,c);var R=new Image;R.onerror=function(){r.call(null),o.remove(A)},R.onload=function(){r.call(null,R),o.remove(A)},R.src=A.toDataURL(l,s)}else{var F=new Image;F.onerror=function(){r.call(null)},F.onload=function(){r.call(null,F)},F.src=i.toDataURL(l,s)}};v.exports=n},88815:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(27919),p=t(40987),a=t(95540),n=function(i,e){var r=i,l=a(e,"callback"),s=a(e,"type","image/png"),u=a(e,"encoder",.92),d=Math.abs(Math.round(a(e,"x",0))),f=Math.abs(Math.round(a(e,"y",0))),c=a(e,"getPixel",!1),m=a(e,"isFramebuffer",!1),T=m?a(e,"bufferWidth",1):r.drawingBufferWidth,C=m?a(e,"bufferHeight",1):r.drawingBufferHeight;if(c){var S=new Uint8Array(4),A=m?f:C-f;r.readPixels(d,A,1,1,r.RGBA,r.UNSIGNED_BYTE,S),l.call(null,new p(S[0],S[1],S[2],S[3]))}else{var P=Math.floor(a(e,"width",T)),R=Math.floor(a(e,"height",C)),F=P*R*4,D=new Uint8Array(F);r.readPixels(d,C-f-R,P,R,r.RGBA,r.UNSIGNED_BYTE,D);for(var L=o.createWebGL(this,P,R),O=L.getContext("2d",{willReadFrequently:!0}),B=O.getImageData(0,0,P,R),b=B.data,z=0;z<R;z++)for(var V=0;V<P;V++){var W=((R-z-1)*P+V)*4,K=m?F-(z*P+(P-V))*4:(z*P+V)*4;b[K+0]=D[W+0],b[K+1]=D[W+1],b[K+2]=D[W+2],b[K+3]=D[W+3]}O.putImageData(B,0,0);var U=new Image;U.onerror=function(){l.call(null),o.remove(L)},U.onload=function(){l.call(null,U),o.remove(L)},U.src=L.toDataURL(s,u)}};v.exports=n},89966:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Canvas:t(32880),WebGL:t(88815)}},7530:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(36060),a=t(90330),n=t(82264),i=t(95540),e=t(32302),r=t(63448),l=t(31302),s=t(58918),u=t(14811),d=t(92651),f=t(96569),c=t(56527),m=t(57516),T=t(43439),C=t(81041),S=t(12385),A=t(7589),P=t(95428),R=t(72905),F=new o({initialize:function(L){this.game=L.game,this.renderer=L,this.classes=new a([[p.UTILITY_PIPELINE,A],[p.MULTI_PIPELINE,m],[p.BITMAPMASK_PIPELINE,l],[p.SINGLE_PIPELINE,S],[p.ROPE_PIPELINE,C],[p.LIGHT_PIPELINE,f],[p.POINTLIGHT_PIPELINE,T],[p.MOBILE_PIPELINE,c]]),this.postPipelineClasses=new a,this.pipelines=new a,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(D,L,O){var B=this.renderer,b=this.renderTargets;this.frameInc=Math.floor(i(D,"frameInc",32));var z=B.width,V=B.height,W=this.game.config.disablePreFX,K=this.game.config.disablePostFX;if(K||this.postPipelineClasses.setAll([[String(u.BARREL),s.Barrel],[String(u.BLOOM),s.Bloom],[String(u.BLUR),s.Blur],[String(u.BOKEH),s.Bokeh],[String(u.CIRCLE),s.Circle],[String(u.COLOR_MATRIX),s.ColorMatrix],[String(u.DISPLACEMENT),s.Displacement],[String(u.GLOW),s.Glow],[String(u.GRADIENT),s.Gradient],[String(u.PIXELATE),s.Pixelate],[String(u.SHADOW),s.Shadow],[String(u.SHINE),s.Shine],[String(u.VIGNETTE),s.Vignette],[String(u.WIPE),s.Wipe]]),!W){this.classes.set(p.FX_PIPELINE,d);for(var U=Math.min(z,V),Y=Math.ceil(U/this.frameInc),I=1;I<Y;I++){var N=I*this.frameInc;b.push(new e(B,N,N)),b.push(new e(B,N,N)),b.push(new e(B,N,N)),this.maxDimension=N}b.push(new e(B,z,V,1,0,!0,!0)),b.push(new e(B,z,V,1,0,!0,!0)),b.push(new e(B,z,V,1,0,!0,!0))}var G,X,H=this,Q=this.game;if(this.classes.each(function(Z,J){G=H.add(Z,new J({game:Q})),Z===p.UTILITY_PIPELINE&&(H.UTILITY_PIPELINE=G,H.fullFrame1=G.fullFrame1,H.fullFrame2=G.fullFrame2,H.halfFrame1=G.halfFrame1,H.halfFrame2=G.halfFrame2)}),this.MULTI_PIPELINE=this.get(p.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(p.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(p.MOBILE_PIPELINE),W||(this.FX_PIPELINE=this.get(p.FX_PIPELINE)),D)for(X in D){var $=D[X];G=new $(Q),G.name=X,G.isPostFX?this.postPipelineClasses.set(X,$):this.has(X)||(this.classes.set(X,$),this.add(X,G))}this.default=this.get(L),O&&!n.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(D){var L=this.get(D);return L&&(this.default=L),L},add:function(D,L){if(L.isPostFX){console.warn(D+" is a Post Pipeline. Use `addPostPipeline` instead");return}var O=this.pipelines,B=this.renderer;return O.has(D)?console.warn("Pipeline exists: "+D):(L.name=D,L.manager=this,O.set(D,L)),L.hasBooted||L.boot(),B.width!==0&&B.height!==0&&!L.isPreFX&&L.resize(B.width,B.height),L},addPostPipeline:function(D,L){this.postPipelineClasses.has(D)||this.postPipelineClasses.set(D,L)},flush:function(){this.current&&this.current.flush()},has:function(D){var L=this.pipelines;return typeof D=="string"?L.has(D):!!L.contains(D)},get:function(D){var L=this.pipelines;if(typeof D=="string")return L.get(D);if(L.contains(D))return D},getPostPipeline:function(D,L,O){var B=this.postPipelineClasses,b,z="",V=typeof D;if(V==="string"||V==="number"?(b=B.get(D),z=D):V==="function"?(B.contains(D)&&(b=D),z=D.name):V==="object"&&(b=B.get(D.name),z=D.name),b){var W=new b(this.game,O);return W.name=z,L&&(W.gameObject=L),this.postPipelineInstances.push(W),W}},removePostPipeline:function(D){R(this.postPipelineInstances,D)},remove:function(D,L,O){L===void 0&&(L=!0),O===void 0&&(O=!0),this.pipelines.delete(D),L&&this.classes.delete(D),O&&this.postPipelineClasses.delete(D)},set:function(D,L,O){if(!D.isPostFX)return this.isCurrent(D,O)||(this.flush(),this.current&&this.current.unbind(),this.current=D,D.bind(O)),D.updateProjectionMatrix(),D.onBind(L),D},preBatch:function(D){if(D.hasPostPipeline){this.flush();for(var L=D.postPipelines,O=L.length-1;O>=0;O--){var B=L[O];B.active&&B.preBatch(D)}}},postBatch:function(D){if(D.hasPostPipeline){this.flush();for(var L=D.postPipelines,O=0;O<L.length;O++){var B=L[O];B.active&&B.postBatch(D)}}},preBatchCamera:function(D){if(D.hasPostPipeline){this.flush();for(var L=D.postPipelines,O=L.length-1;O>=0;O--){var B=L[O];B.active&&B.preBatch(D)}}},postBatchCamera:function(D){if(D.hasPostPipeline){this.flush();for(var L=D.postPipelines,O=0;O<L.length;O++){var B=L[O];B.active&&B.postBatch(D)}}},isCurrent:function(D,L){var O=this.renderer,B=this.current;return B&&!L&&(L=B.currentShader),!(B!==D||L.program!==O.currentProgram)},copyFrame:function(D,L,O,B,b){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(D,L,O,B,b),this},copyToGame:function(D){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(D),this},drawFrame:function(D,L,O,B){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(D,L,O,B),this},blendFrames:function(D,L,O,B,b){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(D,L,O,B,b),this},blendFramesAdditive:function(D,L,O,B,b){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(D,L,O,B,b),this},clearFrame:function(D,L){return this.UTILITY_PIPELINE.clearFrame(D,L),this},blitFrame:function(D,L,O,B,b,z){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(D,L,O,B,b,z),this},copyFrameRect:function(D,L,O,B,b,z,V,W){return this.UTILITY_PIPELINE.copyFrameRect(D,L,O,B,b,z,V,W),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(D){return this.UTILITY_PIPELINE.bind(D)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(D,L){L.restoreContext()}),P(this.postPipelineInstances,function(D){D.restoreContext()})},rebind:function(D){D===void 0&&this.previous&&(D=this.previous);var L=this.renderer,O=L.gl;O.disable(O.DEPTH_TEST),O.disable(O.CULL_FACE),L.hasActiveStencilMask()?O.clear(O.DEPTH_BUFFER_BIT):(O.disable(O.STENCIL_TEST),O.clear(O.DEPTH_BUFFER_BIT|O.STENCIL_BUFFER_BIT)),O.viewport(0,0,L.width,L.height),L.currentProgram=null,L.setBlendMode(0,!0);var B=L.vaoExtension;B&&B.bindVertexArrayOES(null);var b=this.pipelines.entries;for(var z in b)b[z].glReset=!0;D&&(this.current=D,D.rebind())},clear:function(){var D=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,D.currentProgram=null,D.setBlendMode(0,!0);var L=D.vaoExtension;L&&L.bindVertexArrayOES(null)},getRenderTarget:function(D){var L=this.renderTargets,O=3;if(D>this.maxDimension)return this.targetIndex=L.length-O,L[this.targetIndex];var B=(r(D,this.frameInc,0,!0)-1)*O;return this.targetIndex=B,L[B]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});v.exports=F},32302:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(92503),a=new o({initialize:function(i,e,r,l,s,u,d,f,c){l===void 0&&(l=1),s===void 0&&(s=0),u===void 0&&(u=!0),d===void 0&&(d=!1),f===void 0&&(f=!0),c===void 0&&(c=!0),this.renderer=i,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=l,this.minFilter=s,this.autoClear=u,this.autoResize=!0,this.hasDepthBuffer=f,this.forceClamp=c,this.resize(e,r),d?this.setAutoResize(!0):this.autoResize=!1},setAutoResize:function(n){return n&&!this.autoResize?(this.renderer.on(p.RESIZE,this.resize,this),this.autoResize=!0):!n&&this.autoResize&&(this.renderer.off(p.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(n,i){if(n=Math.round(n*this.scale),i=Math.round(i*this.scale),n<=0&&(n=1),i<=0&&(i=1),this.autoResize&&(n!==this.width||i!==this.height)){var e=this.renderer;e.deleteFramebuffer(this.framebuffer),e.deleteTexture(this.texture),this.texture=e.createTextureFromSource(null,n,i,this.minFilter,this.forceClamp),this.framebuffer=e.createFramebuffer(n,i,this.texture,this.hasDepthBuffer),this.width=n,this.height=i}return this},willResize:function(n,i){return n=Math.round(n*this.scale),i=Math.round(i*this.scale),n<=0&&(n=1),i<=0&&(i=1),n!==this.width||i!==this.height},bind:function(n,i,e){n===void 0&&(n=!1);var r=this.renderer;if(n&&r.flush(),i&&e&&this.resize(i,e),r.pushFramebuffer(this.framebuffer,!1,!1),n&&this.adjustViewport(),this.autoClear){var l=this.renderer.gl;l.clearColor(0,0,0,0),l.clear(l.COLOR_BUFFER_BIT)}r.clearStencilMask()},adjustViewport:function(){var n=this.renderer.gl;n.viewport(0,0,this.width,this.height),n.disable(n.SCISSOR_TEST)},clear:function(){var n=this.renderer,i=n.gl;n.pushFramebuffer(this.framebuffer),i.disable(i.SCISSOR_TEST),i.clearColor(0,0,0,0),i.clear(i.COLOR_BUFFER_BIT),n.popFramebuffer(),n.resetScissor()},unbind:function(n){n===void 0&&(n=!1);var i=this.renderer;return n&&i.flush(),i.popFramebuffer()},destroy:function(){var n=this.renderer;n.off(p.RESIZE,this.resize,this),n.deleteFramebuffer(this.framebuffer),n.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});v.exports=a},70554:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={getTintFromFloats:function(y,t,o,p){var a=(y*255|0)&255,n=(t*255|0)&255,i=(o*255|0)&255,e=(p*255|0)&255;return(e<<24|a<<16|n<<8|i)>>>0},getTintAppendFloatAlpha:function(y,t){var o=(t*255|0)&255;return(o<<24|y)>>>0},getTintAppendFloatAlphaAndSwap:function(y,t){var o=(y>>16|0)&255,p=(y>>8|0)&255,a=(y|0)&255,n=(t*255|0)&255;return(n<<24|a<<16|p<<8|o)>>>0},getFloatsFromUintRGB:function(y){var t=(y>>16|0)&255,o=(y>>8|0)&255,p=(y|0)&255;return[t/255,o/255,p/255]},checkShaderMax:function(y,t){var o=Math.min(16,y.getParameter(y.MAX_TEXTURE_IMAGE_UNITS));return!t||t===-1?o:Math.min(o,t)},parseFragmentShaderMaxTextures:function(y,t){if(!y)return"";for(var o="",p=0;p<t;p++)p>0&&(o+=`
	else `),p<t-1&&(o+="if (outTexId < "+p+".5)"),o+=`
	{`,o+=`
		texture = texture2D(uMainSampler[`+p+"], outTexCoord);",o+=`
	}`;return y=y.replace(/%count%/gi,t.toString()),y.replace(/%forloop%/gi,o)},setGlowQuality:function(y,t,o,p){return o===void 0&&(o=t.config.glowFXQuality),p===void 0&&(p=t.config.glowFXDistance),y=y.replace(/__SIZE__/gi,(1/o/p).toFixed(7)),y=y.replace(/__DIST__/gi,p.toFixed(0)+".0"),y}}},29100:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(62644),a=t(50792),n=t(77085),i=t(95540),e=t(37867),r=t(92503),l=t(32302),s=t(70554),u=t(38683),d=new o({Extends:a,initialize:function(c){a.call(this);var m=c.game,T=m.renderer,C=T.gl;this.name=i(c,"name","WebGLPipeline"),this.game=m,this.renderer=T,this.manager,this.gl=C,this.view=m.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=i(c,"topology",C.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=i(c,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=c,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=i(c,"resizeUniform","")},boot:function(){var f,c=this.gl,m=this.config,T=this.renderer;this.isPostFX||(this.projectionMatrix=new e().identity());var C=this.renderTargets,S=i(m,"renderTarget",!1);typeof S=="boolean"&&S&&(S=1);var A=T.width,P=T.height;if(typeof S=="number")for(f=0;f<S;f++)C.push(new l(T,A,P,1,0,!0));else if(Array.isArray(S))for(f=0;f<S.length;f++){var R=i(S[f],"scale",1),F=i(S[f],"minFilter",0),D=i(S[f],"autoClear",1),L=i(S[f],"autoResize",!1),O=i(S[f],"width",null),B=i(S[f],"height",O);O?C.push(new l(T,O,B,1,F,D,L)):C.push(new l(T,A,P,R,F,D,L))}C.length&&(this.currentRenderTarget=C[0]),this.setShadersFromConfig(m);var b=this.shaders,z=0;for(f=0;f<b.length;f++)b[f].vertexSize>z&&(z=b[f].vertexSize);var V=i(m,"batchSize",T.config.batchSize);this.vertexCapacity=V*6;var W=new ArrayBuffer(this.vertexCapacity*z);this.vertexData=W,this.bytes=new Uint8Array(W),this.vertexViewF32=new Float32Array(W),this.vertexViewU32=new Uint32Array(W);var K=i(m,"vertices",null);for(K?(this.vertexViewF32.set(K),this.vertexBuffer=T.createVertexBuffer(W,c.STATIC_DRAW)):this.vertexBuffer=T.createVertexBuffer(W.byteLength,c.DYNAMIC_DRAW),this.setVertexBuffer(),f=b.length-1;f>=0;f--)b[f].rebind();this.hasBooted=!0,T.on(r.RESIZE,this.resize,this),T.on(r.PRE_RENDER,this.onPreRender,this),T.on(r.RENDER,this.onRender,this),T.on(r.POST_RENDER,this.onPostRender,this),this.emit(n.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(f,c,m){var T=this.renderer;if(f!==this.currentShader||T.currentProgram!==this.currentShader.program){this.flush();var C=this.setVertexBuffer(m);C&&!c&&(c=!0),f.bind(c,!1),this.currentShader=f}return this},getShaderByName:function(f){for(var c=this.shaders,m=0;m<c.length;m++)if(c[m].name===f)return c[m]},setShadersFromConfig:function(f){var c,m=this.shaders,T=this.renderer;for(c=0;c<m.length;c++)m[c].destroy();var C="vertShader",S="fragShader",A="attributes",P=i(f,C,null),R=s.parseFragmentShaderMaxTextures(i(f,S,null),T.maxTextures),F=i(f,A,null),D=i(f,"shaders",[]),L=D.length;if(L===0)P&&R&&(this.shaders=[new u(this,"default",P,R,p(F))]);else{var O=[];for(c=0;c<L;c++){var B=D[c],b,z,V,W;if(typeof B=="string"?(b="default",z=P,V=s.parseFragmentShaderMaxTextures(B,T.maxTextures),W=F):(b=i(B,"name","default"),z=i(B,C,P),V=s.parseFragmentShaderMaxTextures(i(B,S,R),T.maxTextures),W=i(B,A,F)),b==="default"){var K=V.split(`
`),U=K[0].trim();U.indexOf("#define SHADER_NAME")>-1&&(b=U.substring(20))}z&&V&&O.push(new u(this,b,z,V,p(W)))}this.shaders=O}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(f){return this.currentBatch={start:this.vertexCount,count:0,texture:[f],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=f,this.batch.push(this.currentBatch),0},addTextureToBatch:function(f){var c=this.currentBatch;c&&(c.texture.push(f),c.unit++,c.maxUnit++)},pushBatch:function(f){if(!this.currentBatch||this.forceZero&&f!==this.currentTexture)return this.createBatch(f);if(f===this.currentTexture)return this.currentUnit;var c=this.currentBatch,m=c.texture.indexOf(f);return m===-1?c.texture.length===this.renderer.maxTextures?this.createBatch(f):(c.unit++,c.maxUnit++,c.texture.push(f),this.currentUnit=c.unit,this.currentTexture=f,c.unit):(this.currentUnit=m,this.currentTexture=f,m)},setGameObject:function(f,c){return c===void 0&&(c=f.frame),this.pushBatch(c.source.glTexture)},shouldFlush:function(f){return f===void 0&&(f=0),this.vertexCount+f>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(f,c){(f!==this.width||c!==this.height)&&this.flush(),this.width=f,this.height=c;for(var m=this.renderTargets,T=0;T<m.length;T++)m[T].resize(f,c);return this.setProjectionMatrix(f,c),this.resizeUniform&&this.set2f(this.resizeUniform,f,c),this.emit(n.RESIZE,f,c,this),this.onResize(f,c),this},setProjectionMatrix:function(f,c){var m=this.projectionMatrix;if(!m)return this;this.projectionWidth=f,this.projectionHeight=c,m.ortho(0,f,c,0,-1e3,1e3);for(var T=this.shaders,C="uProjectionMatrix",S=0;S<T.length;S++){var A=T[S];A.hasUniform(C)&&(A.resetUniform(C),A.setMatrix4fv(C,!1,m.val,A))}return this},flipProjectionMatrix:function(f){f===void 0&&(f=!0);var c=this.projectionMatrix;if(!c)return this;var m=this.projectionWidth,T=this.projectionHeight;f?c.ortho(0,m,0,T,-1e3,1e3):c.ortho(0,m,T,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,c.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var f=this.renderer.projectionWidth,c=this.renderer.projectionHeight;(this.projectionWidth!==f||this.projectionHeight!==c)&&this.setProjectionMatrix(f,c)}},bind:function(f){if(f===void 0&&(f=this.currentShader),this.glReset)return this.rebind(f);var c=!1,m=this.gl;return m.getParameter(m.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(m.bindBuffer(m.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,c=!0),f.bind(c),this.currentShader=f,this.activeTextures.length=0,this.emit(n.BIND,this,f),this.onActive(f),this},rebind:function(f){this.activeBuffer=null,this.setVertexBuffer();for(var c=this.shaders,m=c.length-1;m>=0;m--){var T=c[m].rebind();(!f||T===f)&&(this.currentShader=T)}return this.activeTextures.length=0,this.emit(n.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var f=this.shaders,c=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,c&&this.setVertexBuffer();for(var m=0;m<f.length;m++){var T=f[m];T.syncUniforms(),c&&T.rebind()}},setVertexBuffer:function(f){if(f===void 0&&(f=this.vertexBuffer),f!==this.activeBuffer){var c=this.gl;return this.gl.bindBuffer(c.ARRAY_BUFFER,f.webGLBuffer),this.activeBuffer=f,!0}return!1},preBatch:function(f){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(f),this},postBatch:function(f){return this.onDraw(this.currentRenderTarget),this.onPostBatch(f),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(f){if(f===void 0&&(f=!1),this.vertexCount>0){this.emit(n.BEFORE_FLUSH,this,f),this.onBeforeFlush(f);var c=this.gl,m=this.vertexCount,T=this.currentShader.vertexSize,C=this.topology;if(this.active){this.setVertexBuffer(),m===this.vertexCapacity?c.bufferData(c.ARRAY_BUFFER,this.vertexData,c.DYNAMIC_DRAW):c.bufferSubData(c.ARRAY_BUFFER,0,this.bytes.subarray(0,m*T));var S,A,P,R=this.batch,F=this.activeTextures;if(this.forceZero)for(F[0]||c.activeTexture(c.TEXTURE0),S=0;S<R.length;S++)A=R[S],P=A.texture[0],F[0]!==P&&(c.bindTexture(c.TEXTURE_2D,P.webGLTexture),F[0]=P),c.drawArrays(C,A.start,A.count);else for(S=0;S<R.length;S++){A=R[S];for(var D=0;D<=A.maxUnit;D++)P=A.texture[D],F[D]!==P&&(c.activeTexture(c.TEXTURE0+D),c.bindTexture(c.TEXTURE_2D,P.webGLTexture),F[D]=P);c.drawArrays(C,A.start,A.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(n.AFTER_FLUSH,this,f),this.onAfterFlush(f)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(f,c,m,T,C,S,A){var P=this.vertexViewF32,R=this.vertexViewU32,F=this.vertexCount*this.currentShader.vertexComponentCount-1;P[++F]=f,P[++F]=c,P[++F]=m,P[++F]=T,P[++F]=C,P[++F]=S,R[++F]=A,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(f,c,m,T,C,S,A,P,R,F,D,L,O,B,b,z,V,W,K,U){U===void 0&&(U=this.currentUnit);var Y=!1;this.shouldFlush(6)&&(this.flush(),Y=!0),this.currentBatch||(U=this.setTexture2D(K));var I=this.vertexViewF32,N=this.vertexViewU32,G=this.vertexCount*this.currentShader.vertexComponentCount-1;return I[++G]=c,I[++G]=m,I[++G]=F,I[++G]=D,I[++G]=U,I[++G]=W,N[++G]=B,I[++G]=T,I[++G]=C,I[++G]=F,I[++G]=O,I[++G]=U,I[++G]=W,N[++G]=z,I[++G]=S,I[++G]=A,I[++G]=L,I[++G]=O,I[++G]=U,I[++G]=W,N[++G]=V,I[++G]=c,I[++G]=m,I[++G]=F,I[++G]=D,I[++G]=U,I[++G]=W,N[++G]=B,I[++G]=S,I[++G]=A,I[++G]=L,I[++G]=O,I[++G]=U,I[++G]=W,N[++G]=V,I[++G]=P,I[++G]=R,I[++G]=L,I[++G]=D,I[++G]=U,I[++G]=W,N[++G]=b,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(f),Y},batchTri:function(f,c,m,T,C,S,A,P,R,F,D,L,O,B,b,z,V){V===void 0&&(V=this.currentUnit);var W=!1;this.shouldFlush(3)&&(this.flush(),W=!0),this.currentBatch||(V=this.setTexture2D(z));var K=this.vertexViewF32,U=this.vertexViewU32,Y=this.vertexCount*this.currentShader.vertexComponentCount-1;return K[++Y]=c,K[++Y]=m,K[++Y]=P,K[++Y]=R,K[++Y]=V,K[++Y]=b,U[++Y]=L,K[++Y]=T,K[++Y]=C,K[++Y]=P,K[++Y]=D,K[++Y]=V,K[++Y]=b,U[++Y]=O,K[++Y]=S,K[++Y]=A,K[++Y]=F,K[++Y]=D,K[++Y]=V,K[++Y]=b,U[++Y]=B,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(f),W},drawFillRect:function(f,c,m,T,C,S,A,P){A===void 0&&(A=this.renderer.whiteTexture),P===void 0&&(P=!0),f=Math.floor(f),c=Math.floor(c);var R=Math.floor(f+m),F=Math.floor(c+T),D=this.setTexture2D(A),L=s.getTintAppendFloatAlphaAndSwap(C,S),O=0,B=0,b=1,z=1;P&&(B=1,z=0),this.batchQuad(null,f,c,f,F,R,F,R,c,O,B,b,z,L,L,L,L,0,A,D)},setTexture2D:function(f){return f===void 0&&(f=this.renderer.whiteTexture),this.pushBatch(f)},bindTexture:function(f,c){c===void 0&&(c=0);var m=this.gl;return m.activeTexture(m.TEXTURE0+c),m.bindTexture(m.TEXTURE_2D,f.webGLTexture),this},bindRenderTarget:function(f,c){return this.bindTexture(f.texture,c)},setTime:function(f,c){return this.set1f(f,this.game.loop.getDuration(),c),this},setBoolean:function(f,c,m){return m===void 0&&(m=this.currentShader),m.setBoolean(f,c),this},set1f:function(f,c,m){return m===void 0&&(m=this.currentShader),m.set1f(f,c),this},set2f:function(f,c,m,T){return T===void 0&&(T=this.currentShader),T.set2f(f,c,m),this},set3f:function(f,c,m,T,C){return C===void 0&&(C=this.currentShader),C.set3f(f,c,m,T),this},set4f:function(f,c,m,T,C,S){return S===void 0&&(S=this.currentShader),S.set4f(f,c,m,T,C),this},set1fv:function(f,c,m){return m===void 0&&(m=this.currentShader),m.set1fv(f,c),this},set2fv:function(f,c,m){return m===void 0&&(m=this.currentShader),m.set2fv(f,c),this},set3fv:function(f,c,m){return m===void 0&&(m=this.currentShader),m.set3fv(f,c),this},set4fv:function(f,c,m){return m===void 0&&(m=this.currentShader),m.set4fv(f,c),this},set1iv:function(f,c,m){return m===void 0&&(m=this.currentShader),m.set1iv(f,c),this},set2iv:function(f,c,m){return m===void 0&&(m=this.currentShader),m.set2iv(f,c),this},set3iv:function(f,c,m){return m===void 0&&(m=this.currentShader),m.set3iv(f,c),this},set4iv:function(f,c,m){return m===void 0&&(m=this.currentShader),m.set4iv(f,c),this},set1i:function(f,c,m){return m===void 0&&(m=this.currentShader),m.set1i(f,c),this},set2i:function(f,c,m,T){return T===void 0&&(T=this.currentShader),T.set2i(f,c,m),this},set3i:function(f,c,m,T,C){return C===void 0&&(C=this.currentShader),C.set3i(f,c,m,T),this},set4i:function(f,c,m,T,C,S){return S===void 0&&(S=this.currentShader),S.set4i(f,c,m,T,C),this},setMatrix2fv:function(f,c,m,T){return T===void 0&&(T=this.currentShader),T.setMatrix2fv(f,c,m),this},setMatrix3fv:function(f,c,m,T){return T===void 0&&(T=this.currentShader),T.setMatrix3fv(f,c,m),this},setMatrix4fv:function(f,c,m,T){return T===void 0&&(T=this.currentShader),T.setMatrix4fv(f,c,m),this},destroy:function(){this.emit(n.DESTROY,this);var f,c=this.shaders;for(f=0;f<c.length;f++)c[f].destroy();var m=this.renderTargets;for(f=0;f<m.length;f++)m[f].destroy();var T=this.renderer;return T.deleteBuffer(this.vertexBuffer),T.off(r.RESIZE,this.resize,this),T.off(r.PRE_RENDER,this.onPreRender,this),T.off(r.RENDER,this.onRender,this),T.off(r.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});v.exports=d},74797:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95428),p=t(72905),a=t(19715),n=t(83419),i=t(8054),e=t(50792),r=t(92503),l=t(50030),s=t(37867),u=t(29747),d=t(7530),f=t(32302),c=t(97480),m=t(69442),T=t(70554),C=t(88815),S=t(26128),A=t(1482),P=t(82751),R=t(84387),F=t(93567),D=t(57183),L=new n({Extends:e,initialize:function(B){e.call(this);var b=B.config,z={alpha:b.transparent,desynchronized:b.desynchronized,depth:!0,antialias:b.antialiasGL,premultipliedAlpha:b.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:b.failIfMajorPerformanceCaveat,powerPreference:b.powerPreference,preserveDrawingBuffer:b.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:b.clearBeforeRender,antialias:b.antialias,backgroundColor:b.backgroundColor,contextCreation:z,roundPixels:b.roundPixels,maxTextures:b.maxTextures,maxTextureSize:b.maxTextureSize,batchSize:b.batchSize,maxLights:b.maxLights,mipmapFilter:b.mipmapFilter},this.game=B,this.type=i.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=B.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=u,this.contextRestoredHandler=u,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(O){var B,b=this.game,z=this.canvas,V=O.backgroundColor;if(b.config.context?B=b.config.context:B=z.getContext("webgl",O.contextCreation)||z.getContext("experimental-webgl",O.contextCreation),!B||B.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=B;var W=this,K=function(){var I=B.getSupportedExtensions();W.supportedExtensions=I;var N="ANGLE_instanced_arrays";W.instancedArraysExtension=I.indexOf(N)>-1?B.getExtension(N):null;var G="OES_vertex_array_object";W.vaoExtension=I.indexOf(G)>-1?B.getExtension(G):null};K(),this.contextLostHandler=function(I){W.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),W.emit(r.LOSE_WEBGL,W),I.preventDefault()},z.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.contextRestoredHandler=function(I){if(B.isContextLost()){console&&console.log("WebGL Context restored, but context is still lost");return}W.currentProgram=null,W.currentFramebuffer=null,W.setBlendMode(i.BlendModes.NORMAL),B.disable(B.BLEND),B.disable(B.DEPTH_TEST),B.enable(B.CULL_FACE),W.compression=W.getCompressedTextures();var N=function(G){G.createResource()};o(W.glTextureWrappers,N),o(W.glBufferWrappers,N),o(W.glFramebufferWrappers,N),o(W.glProgramWrappers,N),o(W.glAttribLocationWrappers,N),o(W.glUniformLocationWrappers,N),W.createTemporaryTextures(),W.pipelines.restoreContext(),W.resize(W.game.scale.baseSize.width,W.game.scale.baseSize.height),K(),W.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),W.emit(r.RESTORE_WEBGL,W),I.preventDefault()},z.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),b.context=B;for(var U=0;U<=27;U++)this.blendModes.push({func:[B.ONE,B.ONE_MINUS_SRC_ALPHA],equation:B.FUNC_ADD});this.blendModes[1].func=[B.ONE,B.DST_ALPHA],this.blendModes[2].func=[B.DST_COLOR,B.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[B.ONE,B.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[B.ZERO,B.ONE_MINUS_SRC_ALPHA],equation:B.FUNC_REVERSE_SUBTRACT},this.glFormats=[B.BYTE,B.SHORT,B.UNSIGNED_BYTE,B.UNSIGNED_SHORT,B.FLOAT],this.glFuncMap={mat2:{func:B.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:B.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:B.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:B.uniform1f,length:1},"1fv":{func:B.uniform1fv,length:1},"1i":{func:B.uniform1i,length:1},"1iv":{func:B.uniform1iv,length:1},"2f":{func:B.uniform2f,length:2},"2fv":{func:B.uniform2fv,length:1},"2i":{func:B.uniform2i,length:2},"2iv":{func:B.uniform2iv,length:1},"3f":{func:B.uniform3f,length:3},"3fv":{func:B.uniform3fv,length:1},"3i":{func:B.uniform3i,length:3},"3iv":{func:B.uniform3iv,length:1},"4f":{func:B.uniform4f,length:4},"4fv":{func:B.uniform4fv,length:1},"4i":{func:B.uniform4i,length:4},"4iv":{func:B.uniform4iv,length:1}},(!O.maxTextures||O.maxTextures===-1)&&(O.maxTextures=B.getParameter(B.MAX_TEXTURE_IMAGE_UNITS)),O.maxTextureSize||(O.maxTextureSize=B.getParameter(B.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),B.disable(B.DEPTH_TEST),B.disable(B.CULL_FACE),B.enable(B.BLEND),B.clearColor(V.redGL,V.greenGL,V.blueGL,V.alphaGL);var Y=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];return Y.indexOf(O.mipmapFilter)!==-1&&(this.mipmapFilter=B[O.mipmapFilter]),this.maxTextures=T.checkShaderMax(B,O.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new d(this),this.setBlendMode(i.BlendModes.NORMAL),this.projectionMatrix=new s().identity(),b.textures.once(m.READY,this.boot,this),this},boot:function(){var O=this.game,B=this.pipelines,b=O.scale.baseSize,z=b.width,V=b.height;this.width=z,this.height=V,this.isBooted=!0,this.renderTarget=new f(this,z,V,1,0,!0,!0),this.maskTarget=new f(this,z,V,1,0,!0,!0),this.maskSource=new f(this,z,V,1,0,!0,!0);var W=O.config;B.boot(W.pipeline,W.defaultPipeline,W.autoMobilePipeline),this.blankTexture=O.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=O.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=O.textures.getFrame("__WHITE").glTexture;var K=this.gl;K.bindFramebuffer(K.FRAMEBUFFER,null),K.enable(K.SCISSOR_TEST),O.scale.on(c.RESIZE,this.onResize,this),this.resize(z,V)},createTemporaryTextures:function(){for(var O=this.gl,B=0;B<this.maxTextures;B++){var b=O.createTexture();O.activeTexture(O.TEXTURE0+B),O.bindTexture(O.TEXTURE_2D,b),O.texImage2D(O.TEXTURE_2D,0,O.RGBA,1,1,0,O.RGBA,O.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(B)}},captureFrame:function(O,B){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(O,B,b){},stopCapture:function(){},onCapture:function(O){},onResize:function(O,B){(B.width!==this.width||B.height!==this.height)&&this.resize(B.width,B.height)},beginCapture:function(O,B){O===void 0&&(O=this.width),B===void 0&&(B=this.height),this.renderTarget.bind(!0,O,B),this.setProjectionMatrix(O,B)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(O,B){var b=this.gl;return this.width=O,this.height=B,this.setProjectionMatrix(O,B),b.viewport(0,0,O,B),this.drawingBufferHeight=b.drawingBufferHeight,b.scissor(0,b.drawingBufferHeight-B,O,B),this.defaultScissor[2]=O,this.defaultScissor[3]=B,this.emit(r.RESIZE,O,B),this},getCompressedTextures:function(){var O="WEBGL_compressed_texture_",B="WEBKIT_"+O,b="EXT_texture_compression_",z=function(W,K){var U=W.getExtension(O+K)||W.getExtension(B+K)||W.getExtension(b+K);if(U){var Y={};for(var I in U)Y[U[I]]=I;return Y}},V=this.gl;return{ETC:z(V,"etc"),ETC1:z(V,"etc1"),ATC:z(V,"atc"),ASTC:z(V,"astc"),BPTC:z(V,"bptc"),RGTC:z(V,"rgtc"),PVRTC:z(V,"pvrtc"),S3TC:z(V,"s3tc"),S3TCSRGB:z(V,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(O,B){var b=this.compression[O.toUpperCase()];if(B in b)return b[B]},supportsCompressedTexture:function(O,B){var b=this.compression[O.toUpperCase()];return b?B?B in b:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(O,B){return(O!==this.projectionWidth||B!==this.projectionHeight)&&(this.projectionWidth=O,this.projectionHeight=B,this.projectionMatrix.ortho(0,O,B,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(O){return this.supportedExtensions?this.supportedExtensions.indexOf(O):!1},getExtension:function(O){return this.hasExtension(O)?(O in this.extensions||(this.extensions[O]=this.gl.getExtension(O)),this.extensions[O]):null},flush:function(){this.pipelines.flush()},pushScissor:function(O,B,b,z,V){V===void 0&&(V=this.drawingBufferHeight);var W=this.scissorStack,K=[O,B,b,z];return W.push(K),this.setScissor(O,B,b,z,V),this.currentScissor=K,K},setScissor:function(O,B,b,z,V){V===void 0&&(V=this.drawingBufferHeight);var W=this.gl,K=this.currentScissor,U=b>0&&z>0;if(K&&U){var Y=K[0],I=K[1],N=K[2],G=K[3];U=Y!==O||I!==B||N!==b||G!==z}U&&(this.flush(),W.scissor(O,V-B-z,b,z))},resetScissor:function(){var O=this.gl;O.enable(O.SCISSOR_TEST);var B=this.currentScissor;if(B){var b=B[0],z=B[1],V=B[2],W=B[3];V>0&&W>0&&O.scissor(b,this.drawingBufferHeight-z-W,V,W)}},popScissor:function(){var O=this.scissorStack;O.pop();var B=O[O.length-1];B&&this.setScissor(B[0],B[1],B[2],B[3]),this.currentScissor=B},hasActiveStencilMask:function(){var O=this.currentMask.mask,B=this.currentCameraMask.mask;return O&&O.isStencil||B&&B.isStencil},resetViewport:function(){var O=this.gl;O.viewport(0,0,this.width,this.height),this.drawingBufferHeight=O.drawingBufferHeight},setBlendMode:function(O,B){B===void 0&&(B=!1);var b=this.gl,z=this.blendModes[O];return B||O!==i.BlendModes.SKIP_CHECK&&this.currentBlendMode!==O?(this.flush(),b.enable(b.BLEND),b.blendEquation(z.equation),z.func.length>2?b.blendFuncSeparate(z.func[0],z.func[1],z.func[2],z.func[3]):b.blendFunc(z.func[0],z.func[1]),this.currentBlendMode=O,!0):!1},addBlendMode:function(O,B){var b=this.blendModes.push({func:O,equation:B});return b-1},updateBlendMode:function(O,B,b){return this.blendModes[O]&&(this.blendModes[O].func=B,b&&(this.blendModes[O].equation=b)),this},removeBlendMode:function(O){return O>17&&this.blendModes[O]&&this.blendModes.splice(O,1),this},pushFramebuffer:function(O,B,b,z,V){return O===this.currentFramebuffer?this:(this.fboStack.push(O),this.setFramebuffer(O,B,b,z,V))},setFramebuffer:function(O,B,b,z,V){if(B===void 0&&(B=!1),b===void 0&&(b=!0),z===void 0&&(z=null),V===void 0&&(V=!1),O===this.currentFramebuffer)return this;var W=this.gl,K=this.width,U=this.height;return O&&O.renderTexture&&b?(K=O.renderTexture.width,U=O.renderTexture.height):this.flush(),O?W.bindFramebuffer(W.FRAMEBUFFER,O.webGLFramebuffer):W.bindFramebuffer(W.FRAMEBUFFER,null),b&&W.viewport(0,0,K,U),z&&W.framebufferTexture2D(W.FRAMEBUFFER,W.COLOR_ATTACHMENT0,W.TEXTURE_2D,z.webGLTexture,0),V&&(W.clearColor(0,0,0,0),W.clear(W.COLOR_BUFFER_BIT)),B&&(O?(this.drawingBufferHeight=U,this.pushScissor(0,0,K,U)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=O,this},popFramebuffer:function(O,B){O===void 0&&(O=!1),B===void 0&&(B=!0);var b=this.fboStack;b.pop();var z=b[b.length-1];return z||(z=null),this.setFramebuffer(z,O,B),z},restoreFramebuffer:function(O,B){O===void 0&&(O=!1),B===void 0&&(B=!0);var b=this.fboStack,z=b[b.length-1];z||(z=null),this.currentFramebuffer=null,this.setFramebuffer(z,O,B)},setProgram:function(O){return O!==this.currentProgram?(this.flush(),this.gl.useProgram(O.webGLProgram),this.currentProgram=O,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(O,B,b,z,V){V===void 0&&(V=!1);var W=this.gl,K=W.NEAREST,U=W.NEAREST,Y=W.CLAMP_TO_EDGE,I=null;B=O?O.width:B,b=O?O.height:b;var N=l(B,b);if(N&&!V&&(Y=W.REPEAT),z===i.ScaleModes.LINEAR&&this.config.antialias){var G=O&&O.compressed,X=!G&&N||G&&O.mipmaps.length>1;K=this.mipmapFilter&&X?this.mipmapFilter:W.LINEAR,U=W.LINEAR}return!O&&typeof B=="number"&&typeof b=="number"?I=this.createTexture2D(0,K,U,Y,Y,W.RGBA,null,B,b):I=this.createTexture2D(0,K,U,Y,Y,W.RGBA,O),I},createTexture2D:function(O,B,b,z,V,W,K,U,Y,I,N,G){typeof U!="number"&&(U=K?K.width:1),typeof Y!="number"&&(Y=K?K.height:1);var X=new P(this.gl,O,B,b,z,V,W,K,U,Y,I,N,G);return this.glTextureWrappers.push(X),X},createFramebuffer:function(O,B,b,z){this.currentFramebuffer=null;var V=new R(this.gl,O,B,b,z);return this.glFramebufferWrappers.push(V),V},beginBitmapMask:function(O,B){var b=this.gl;b&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==O&&(this.currentMask.mask=O,this.currentMask.camera=B))},drawBitmapMask:function(O,B,b){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),O.renderWebGL(this,O,B),this.maskSource.unbind(!0),this.maskTarget.unbind();var z=this.gl,V=this.getCurrentStencilMask();V?(z.enable(z.STENCIL_TEST),V.mask.applyStencil(this,V.camera,!0)):this.currentMask.mask=null,this.pipelines.set(b),z.activeTexture(z.TEXTURE0),z.bindTexture(z.TEXTURE_2D,this.maskTarget.texture.webGLTexture),z.activeTexture(z.TEXTURE1),z.bindTexture(z.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(O,B){var b=new A(this.gl,O,B);return this.glProgramWrappers.push(b),b},createVertexBuffer:function(O,B){var b=this.gl,z=new S(b,O,b.ARRAY_BUFFER,B);return this.glBufferWrappers.push(z),z},createAttribLocation:function(O,B){var b=new F(this.gl,O,B);return this.glAttribLocationWrappers.push(b),b},createUniformLocation:function(O,B){var b=new D(this.gl,O,B);return this.glUniformLocationWrappers.push(b),b},createIndexBuffer:function(O,B){var b=this.gl,z=new S(b,O,b.ELEMENT_ARRAY_BUFFER,B);return this.glBufferWrappers.push(z),z},deleteTexture:function(O){if(O)return p(this.glTextureWrappers,O),O.destroy(),this},deleteFramebuffer:function(O){return O?(p(this.fboStack,O),p(this.glFramebufferWrappers,O),O.destroy(),this):this},deleteProgram:function(O){return O&&(p(this.glProgramWrappers,O),O.destroy()),this},deleteAttribLocation:function(O){return O&&(p(this.glAttribLocationWrappers,O),O.destroy()),this},deleteUniformLocation:function(O){return O&&(p(this.glUniformLocationWrappers,O),O.destroy()),this},deleteBuffer:function(O){return O?(p(this.glBufferWrappers,O),O.destroy(),this):this},preRenderCamera:function(O){var B=O.x,b=O.y,z=O.width,V=O.height,W=O.backgroundColor;if(O.emit(a.PRE_RENDER,O),this.pipelines.preBatchCamera(O),this.pushScissor(B,b,z,V),O.mask&&(this.currentCameraMask.mask=O.mask,this.currentCameraMask.camera=O._maskCamera,O.mask.preRenderWebGL(this,O,O._maskCamera)),W.alphaGL>0){var K=this.pipelines.setMulti();K.drawFillRect(B,b,z,V,T.getTintFromFloats(W.blueGL,W.greenGL,W.redGL,1),W.alphaGL)}},getCurrentStencilMask:function(){var O=null,B=this.maskStack,b=this.currentCameraMask;return B.length>0?O=B[B.length-1]:b.mask&&b.mask.isStencil&&(O=b),O},postRenderCamera:function(O){var B=O.flashEffect,b=O.fadeEffect;if(B.isRunning||b.isRunning||b.isComplete){var z=this.pipelines.setMulti();B.postRenderWebGL(z,T.getTintFromFloats),b.postRenderWebGL(z,T.getTintFromFloats)}O.dirty=!1,this.popScissor(),O.mask&&(this.currentCameraMask.mask=null,O.mask.postRenderWebGL(this,O._maskCamera)),this.pipelines.postBatchCamera(O),O.emit(a.POST_RENDER,O)},preRender:function(){if(!this.contextLost){var O=this.gl;if(O.bindFramebuffer(O.FRAMEBUFFER,null),this.config.clearBeforeRender){var B=this.config.backgroundColor;O.clearColor(B.redGL,B.greenGL,B.blueGL,B.alphaGL),O.clear(O.COLOR_BUFFER_BIT|O.DEPTH_BUFFER_BIT|O.STENCIL_BUFFER_BIT)}O.enable(O.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&O.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(r.PRE_RENDER)}},render:function(O,B,b){if(!this.contextLost){var z=B.length;if(this.emit(r.RENDER,O,b),this.preRenderCamera(b),z===0){this.setBlendMode(i.BlendModes.NORMAL),this.postRenderCamera(b);return}this.currentType="";for(var V=this.currentMask,W=0;W<z;W++){this.finalType=W===z-1;var K=B[W],U=K.mask;V=this.currentMask,V.mask&&V.mask!==U&&V.mask.postRenderWebGL(this,V.camera),U&&V.mask!==U&&U.preRenderWebGL(this,K,b),K.blendMode!==this.currentBlendMode&&this.setBlendMode(K.blendMode);var Y=K.type;Y!==this.currentType&&(this.newType=!0,this.currentType=Y),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=B[W+1].type===this.currentType,K.renderWebGL(this,K,b),this.newType=!1}V=this.currentMask,V.mask&&V.mask.postRenderWebGL(this,V.camera),this.setBlendMode(i.BlendModes.NORMAL),this.postRenderCamera(b)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(r.POST_RENDER);var O=this.snapshotState;O.callback&&(C(this.gl,O),O.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var O=this.gl,B=this.getCurrentStencilMask();if(B){var b=B.mask;O.enable(O.STENCIL_TEST),b.invertAlpha?O.stencilFunc(O.NOTEQUAL,b.level,255):O.stencilFunc(O.EQUAL,b.level,255)}},snapshot:function(O,B,b){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,O,B,b)},snapshotArea:function(O,B,b,z,V,W,K){var U=this.snapshotState;return U.callback=V,U.type=W,U.encoder=K,U.getPixel=!1,U.x=O,U.y=B,U.width=b,U.height=z,this},snapshotPixel:function(O,B,b){return this.snapshotArea(O,B,1,1,b),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(O,B,b,z,V,W,K,U,Y,I,N){V===void 0&&(V=!1),W===void 0&&(W=0),K===void 0&&(K=0),U===void 0&&(U=B),Y===void 0&&(Y=b),I==="pixel"&&(V=!0,I="image/png");var G=this.currentFramebuffer;this.snapshotArea(W,K,U,Y,z,I,N);var X=this.snapshotState;return X.getPixel=V,X.isFramebuffer=!0,X.bufferWidth=B,X.bufferHeight=b,X.width=Math.min(X.width,B),X.height=Math.min(X.height,b),this.setFramebuffer(O),C(this.gl,X),this.setFramebuffer(G),X.callback=null,X.isFramebuffer=!1,this},canvasToTexture:function(O,B,b,z){b===void 0&&(b=!1),z===void 0&&(z=!1);var V=this.gl,W=V.NEAREST,K=V.NEAREST,U=O.width,Y=O.height,I=V.CLAMP_TO_EDGE,N=l(U,Y);return!b&&N&&(I=V.REPEAT),this.config.antialias&&(W=N&&this.mipmapFilter?this.mipmapFilter:V.LINEAR,K=V.LINEAR),B?(B.update(O,U,Y,z,I,I,W,K,B.format),B):this.createTexture2D(0,W,K,I,I,V.RGBA,O,U,Y,!0,!1,z)},createCanvasTexture:function(O,B,b){return B===void 0&&(B=!1),b===void 0&&(b=!1),this.canvasToTexture(O,null,B,b)},updateCanvasTexture:function(O,B,b,z){return b===void 0&&(b=!1),z===void 0&&(z=!1),this.canvasToTexture(O,B,z,b)},videoToTexture:function(O,B,b,z){b===void 0&&(b=!1),z===void 0&&(z=!1);var V=this.gl,W=V.NEAREST,K=V.NEAREST,U=O.videoWidth,Y=O.videoHeight,I=V.CLAMP_TO_EDGE,N=l(U,Y);return!b&&N&&(I=V.REPEAT),this.config.antialias&&(W=N&&this.mipmapFilter?this.mipmapFilter:V.LINEAR,K=V.LINEAR),B?(B.update(O,U,Y,z,I,I,W,K,B.format),B):this.createTexture2D(0,W,K,I,I,V.RGBA,O,U,Y,!0,!0,z)},createVideoTexture:function(O,B,b){return B===void 0&&(B=!1),b===void 0&&(b=!1),this.videoToTexture(O,null,B,b)},updateVideoTexture:function(O,B,b,z){return b===void 0&&(b=!1),z===void 0&&(z=!1),this.videoToTexture(O,B,z,b)},createUint8ArrayTexture:function(O,B,b){var z=this.gl,V=z.NEAREST,W=z.NEAREST,K=z.CLAMP_TO_EDGE,U=l(B,b);return U&&(K=z.REPEAT),this.createTexture2D(0,V,W,K,K,z.RGBA,O,B,b)},setTextureFilter:function(O,B){var b=this.gl,z=B===0?b.LINEAR:b.NEAREST;b.activeTexture(b.TEXTURE0);var V=b.getParameter(b.TEXTURE_BINDING_2D);return b.bindTexture(b.TEXTURE_2D,O.webGLTexture),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,z),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,z),O.minFilter=z,O.magFilter=z,V&&b.bindTexture(b.TEXTURE_2D,V),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var O=function(B){B.destroy()};o(this.glAttribLocationWrappers,O),o(this.glBufferWrappers,O),o(this.glFramebufferWrappers,O),o(this.glProgramWrappers,O),o(this.glTextureWrappers,O),o(this.glUniformLocationWrappers,O),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});v.exports=L},38683:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(95428),a=t(95540),n=t(14500),i=new o({initialize:function(r,l,s,u,d){this.pipeline=r,this.name=l,this.renderer=r.renderer,this.gl=this.renderer.gl,this.fragSrc=u,this.vertSrc=s,this.program=this.renderer.createProgram(s,u),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(d),this.createUniforms()},createAttributes:function(e){var r=0,l=0,s=[];this.vertexComponentCount=0;for(var u=0;u<e.length;u++){var d=e[u],f=d.name,c=a(d,"size",1),m=a(d,"type",n.FLOAT),T=m.enum,C=m.size,S=!!d.normalized;s.push({name:f,size:c,type:T,normalized:S,offset:l,enabled:!1,location:-1}),C===4?r+=c:r++,l+=c*C}this.vertexSize=l,this.vertexComponentCount=r,this.attributes=s},bind:function(e,r){return e===void 0&&(e=!1),r===void 0&&(r=!1),r&&this.pipeline.flush(),this.renderer.setProgram(this.program),e&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(e){e===void 0&&(e=!1);for(var r=this.gl,l=this.renderer,s=this.vertexSize,u=this.attributes,d=this.program,f=0;f<u.length;f++){var c=u[f],m=c.size,T=c.type,C=c.offset,S=c.enabled,A=c.location,P=!!c.normalized;if(e){A!==-1&&l.deleteAttribLocation(A);var R=this.renderer.createAttribLocation(d,c.name);R.webGLAttribLocation>=0?(r.enableVertexAttribArray(R.webGLAttribLocation),r.vertexAttribPointer(R.webGLAttribLocation,m,T,P,s,C),c.enabled=!0,c.location=R):R.webGLAttribLocation!==-1&&r.disableVertexAttribArray(R.webGLAttribLocation)}else S?r.vertexAttribPointer(A.webGLAttribLocation,m,T,P,s,C):!S&&A!==-1&&A.webGLAttribLocation>-1&&(r.disableVertexAttribArray(A.webGLAttribLocation),c.location=-1)}return this},createUniforms:function(){var e=this.gl,r=this.program,l=this.uniforms,s,u,d,f=e.getProgramParameter(r.webGLProgram,e.ACTIVE_UNIFORMS);for(s=0;s<f;s++){var c=e.getActiveUniform(r.webGLProgram,s);if(c){u=c.name,d=this.renderer.createUniformLocation(r,u),d!==null&&(l[u]={name:u,location:d,setter:null,value1:null,value2:null,value3:null,value4:null});var m=u.indexOf("[");m>0&&(u=u.substr(0,m),l.hasOwnProperty(u)||(d=this.renderer.createUniformLocation(r,u),d!==null&&(l[u]={name:u,location:d,setter:null,value1:null,value2:null,value3:null,value4:null})))}}return this},syncUniforms:function(){var e=this.gl;this.renderer.setProgram(this.program);for(var r in this.uniforms){var l=this.uniforms[r];l.setter&&l.setter.call(e,l.location.webGLUniformLocation,l.value1,l.value2,l.value3,l.value4)}},hasUniform:function(e){return this.uniforms.hasOwnProperty(e)},resetUniform:function(e){var r=this.uniforms[e];return r&&(r.value1=null,r.value2=null,r.value3=null,r.value4=null),this},setUniform1:function(e,r,l,s){var u=this.uniforms[r];return u?((s||u.value1!==l)&&(u.setter||(u.setter=e),u.value1=l,this.renderer.setProgram(this.program),e.call(this.gl,u.location.webGLUniformLocation,l),this.pipeline.currentShader=this),this):this},setUniform2:function(e,r,l,s,u){var d=this.uniforms[r];return d?((u||d.value1!==l||d.value2!==s)&&(d.setter||(d.setter=e),d.value1=l,d.value2=s,this.renderer.setProgram(this.program),e.call(this.gl,d.location.webGLUniformLocation,l,s),this.pipeline.currentShader=this),this):this},setUniform3:function(e,r,l,s,u,d){var f=this.uniforms[r];return f?((d||f.value1!==l||f.value2!==s||f.value3!==u)&&(f.setter||(f.setter=e),f.value1=l,f.value2=s,f.value3=u,this.renderer.setProgram(this.program),e.call(this.gl,f.location.webGLUniformLocation,l,s,u),this.pipeline.currentShader=this),this):this},setUniform4:function(e,r,l,s,u,d,f){var c=this.uniforms[r];return c?((f||c.value1!==l||c.value2!==s||c.value3!==u||c.value4!==d)&&(c.setter||(c.setter=e),c.value1=l,c.value2=s,c.value3=u,c.value4=d,this.renderer.setProgram(this.program),e.call(this.gl,c.location.webGLUniformLocation,l,s,u,d),this.pipeline.currentShader=this),this):this},setBoolean:function(e,r){return this.setUniform1(this.gl.uniform1i,e,Number(r))},set1f:function(e,r){return this.setUniform1(this.gl.uniform1f,e,r)},set2f:function(e,r,l){return this.setUniform2(this.gl.uniform2f,e,r,l)},set3f:function(e,r,l,s){return this.setUniform3(this.gl.uniform3f,e,r,l,s)},set4f:function(e,r,l,s,u){return this.setUniform4(this.gl.uniform4f,e,r,l,s,u)},set1fv:function(e,r){return this.setUniform1(this.gl.uniform1fv,e,r,!0)},set2fv:function(e,r){return this.setUniform1(this.gl.uniform2fv,e,r,!0)},set3fv:function(e,r){return this.setUniform1(this.gl.uniform3fv,e,r,!0)},set4fv:function(e,r){return this.setUniform1(this.gl.uniform4fv,e,r,!0)},set1iv:function(e,r){return this.setUniform1(this.gl.uniform1iv,e,r,!0)},set2iv:function(e,r){return this.setUniform1(this.gl.uniform2iv,e,r,!0)},set3iv:function(e,r){return this.setUniform1(this.gl.uniform3iv,e,r,!0)},set4iv:function(e,r){return this.setUniform1(this.gl.uniform4iv,e,r,!0)},set1i:function(e,r){return this.setUniform1(this.gl.uniform1i,e,r)},set2i:function(e,r,l){return this.setUniform2(this.gl.uniform2i,e,r,l)},set3i:function(e,r,l,s){return this.setUniform3(this.gl.uniform3i,e,r,l,s)},set4i:function(e,r,l,s,u){return this.setUniform4(this.gl.uniform4i,e,r,l,s,u)},setMatrix2fv:function(e,r,l){return this.setUniform2(this.gl.uniformMatrix2fv,e,r,l,!0)},setMatrix3fv:function(e,r,l){return this.setUniform2(this.gl.uniformMatrix3fv,e,r,l,!0)},setMatrix4fv:function(e,r,l){return this.setUniform2(this.gl.uniformMatrix4fv,e,r,l,!0)},createProgram:function(e,r){return e===void 0&&(e=this.vertSrc),r===void 0&&(r=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=e,this.fragSrc=r,this.program=this.renderer.createProgram(e,r),this.createUniforms(),this.rebind()},destroy:function(){var e=this.renderer;p(this.uniforms,function(r){e.deleteUniformLocation(r.location)}),this.uniforms=null,p(this.attributes,function(r){e.deleteAttribLocation(r.location)}),this.attributes=null,e.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});v.exports=i},14500:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};v.exports=y},4159:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(14500),p=t(79291),a={PipelineManager:t(7530),Pipelines:t(96615),RenderTarget:t(32302),Utils:t(70554),WebGLPipeline:t(29100),WebGLRenderer:t(74797),WebGLShader:t(38683),Wrappers:t(9503)};a=p(!1,a,o),v.exports=a},31302:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(95540),a=t(78908),n=t(85191),i=t(14500),e=t(29100),r=new o({Extends:e,initialize:function(s){s.fragShader=p(s,"fragShader",a),s.vertShader=p(s,"vertShader",n),s.batchSize=p(s,"batchSize",1),s.vertices=p(s,"vertices",[-1,1,-1,-7,7,1]),s.attributes=p(s,"attributes",[{name:"inPosition",size:2,type:i.FLOAT}]),e.call(this,s)},boot:function(){e.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(l,s){e.prototype.resize.call(this,l,s),this.set2f("uResolution",l,s)},beginMask:function(l,s,u){this.renderer.beginBitmapMask(l,u)},endMask:function(l,s,u){var d=this.gl,f=this.renderer,c=l.bitmapMask;c&&d&&(f.drawBitmapMask(c,s,this),u&&this.set2f("uResolution",u.width,u.height),this.set1i("uInvertMaskAlpha",l.invertAlpha),d.drawArrays(this.topology,0,3),u&&this.set2f("uResolution",this.width,this.height),d.bindTexture(d.TEXTURE_2D,null))}});v.exports=r},92651:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(58918),a=t(14811),n=t(95540),i=t(43558),e=t(89350),r=t(70554),l=new o({Extends:i,initialize:function(u){u.shaders=[r.setGlowQuality(e.FXGlowFrag,u.game),e.FXShadowFrag,e.FXPixelateFrag,e.FXVignetteFrag,e.FXShineFrag,e.FXBlurLowFrag,e.FXBlurMedFrag,e.FXBlurHighFrag,e.FXGradientFrag,e.FXBloomFrag,e.ColorMatrixFrag,e.FXCircleFrag,e.FXBarrelFrag,e.FXDisplacementFrag,e.FXWipeFrag,e.FXBokehFrag],i.call(this,u);var d=this.game;this.glow=new p.Glow(d),this.shadow=new p.Shadow(d),this.pixelate=new p.Pixelate(d),this.vignette=new p.Vignette(d),this.shine=new p.Shine(d),this.gradient=new p.Gradient(d),this.circle=new p.Circle(d),this.barrel=new p.Barrel(d),this.wipe=new p.Wipe(d),this.bokeh=new p.Bokeh(d);var f=[];f[a.GLOW]=this.onGlow,f[a.SHADOW]=this.onShadow,f[a.PIXELATE]=this.onPixelate,f[a.VIGNETTE]=this.onVignette,f[a.SHINE]=this.onShine,f[a.BLUR]=this.onBlur,f[a.GRADIENT]=this.onGradient,f[a.BLOOM]=this.onBloom,f[a.COLOR_MATRIX]=this.onColorMatrix,f[a.CIRCLE]=this.onCircle,f[a.BARREL]=this.onBarrel,f[a.DISPLACEMENT]=this.onDisplacement,f[a.WIPE]=this.onWipe,f[a.BOKEH]=this.onBokeh,this.fxHandlers=f,this.source,this.target,this.swap},onDraw:function(s,u,d){this.source=s,this.target=u,this.swap=d;var f=s.width,c=s.height,m=this.tempSprite,T=this.fxHandlers;if(m&&m.preFX)for(var C=m.preFX.list,S=0;S<C.length;S++){var A=C[S];A.active&&T[A.type].call(this,A,f,c)}this.drawToGame(this.source)},runDraw:function(){var s=this.source,u=this.target;this.copy(s,u),this.source=u,this.target=s},onGlow:function(s,u,d){var f=this.shaders[a.GLOW];this.setShader(f),this.glow.onPreRender(s,f,u,d),this.runDraw()},onShadow:function(s){var u=this.shaders[a.SHADOW];this.setShader(u),this.shadow.onPreRender(s,u),this.runDraw()},onPixelate:function(s,u,d){var f=this.shaders[a.PIXELATE];this.setShader(f),this.pixelate.onPreRender(s,f,u,d),this.runDraw()},onVignette:function(s){var u=this.shaders[a.VIGNETTE];this.setShader(u),this.vignette.onPreRender(s,u),this.runDraw()},onShine:function(s,u,d){var f=this.shaders[a.SHINE];this.setShader(f),this.shine.onPreRender(s,f,u,d),this.runDraw()},onBlur:function(s,u,d){var f=n(s,"quality"),c=this.shaders[a.BLUR+f];this.setShader(c),this.set1i("uMainSampler",0),this.set2f("resolution",u,d),this.set1f("strength",n(s,"strength")),this.set3fv("color",n(s,"glcolor"));for(var m=n(s,"x"),T=n(s,"y"),C=n(s,"steps"),S=0;S<C;S++)this.set2f("offset",m,0),this.runDraw(),this.set2f("offset",0,T),this.runDraw()},onGradient:function(s){var u=this.shaders[a.GRADIENT];this.setShader(u),this.gradient.onPreRender(s,u),this.runDraw()},onBloom:function(s,u,d){var f=this.shaders[a.BLOOM];this.copySprite(this.source,this.swap),this.setShader(f),this.set1i("uMainSampler",0),this.set1f("strength",n(s,"blurStrength")),this.set3fv("color",n(s,"glcolor"));for(var c=2/u*n(s,"offsetX"),m=2/d*n(s,"offsetY"),T=n(s,"steps"),C=0;C<T;C++)this.set2f("offset",c,0),this.runDraw(),this.set2f("offset",0,m),this.runDraw();this.blendFrames(this.swap,this.source,this.target,n(s,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(s){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",s.getData()),this.set1f("uAlpha",s.alpha),this.runDraw()},onCircle:function(s,u,d){var f=this.shaders[a.CIRCLE];this.setShader(f),this.circle.onPreRender(s,f,u,d),this.runDraw()},onBarrel:function(s){var u=this.shaders[a.BARREL];this.setShader(u),this.barrel.onPreRender(s,u),this.runDraw()},onDisplacement:function(s){this.setShader(this.shaders[a.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",s.x,s.y),this.bindTexture(s.glTexture,1),this.runDraw()},onWipe:function(s){var u=this.shaders[a.WIPE];this.setShader(u),this.wipe.onPreRender(s,u),this.runDraw()},onBokeh:function(s,u,d){var f=this.shaders[a.BOKEH];this.setShader(f),this.bokeh.onPreRender(s,f,u,d),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,i.prototype.destroy.call(this),this}});v.exports=l},96569:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(95540),a=t(31063),n=t(57516),i=t(61340),e=t(26099),r=t(29100),l=new o({Extends:n,initialize:function(u){var d=p(u,"fragShader",a);u.fragShader=d.replace("%LIGHT_COUNT%",u.game.renderer.config.maxLights),n.call(this,u),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new e,this._tempMatrix=new i,this._tempMatrix2=new i},boot:function(){r.prototype.boot.call(this)},onRender:function(s,u){var d=s.sys.lights;if(this.lightsActive=!1,!(!d||!d.active)){var f=d.getLights(u),c=f.length;this.lightsActive=!0;var m,T=this.renderer,C=T.height,S=u.matrix,A=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",u.x,u.y,u.rotation,u.zoom),this.set3f("uAmbientLightColor",d.ambientColor.r,d.ambientColor.g,d.ambientColor.b),this.set1i("uLightCount",c),m=0;m<c;m++){var P=f[m].light,R=P.color,F="uLights["+m+"].";S.transformPoint(P.x,P.y,A),this.set2f(F+"position",A.x-u.scrollX*P.scrollFactorX*u.zoom,C-(A.y-u.scrollY*P.scrollFactorY*u.zoom)),this.set3f(F+"color",R.r,R.g,R.b),this.set1f(F+"intensity",P.intensity),this.set1f(F+"radius",P.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(s){if(s!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var u=this.inverseRotationMatrix;if(s){var d=-s,f=Math.cos(d),c=Math.sin(d);u[1]=c,u[3]=-c,u[0]=u[4]=f}else u[0]=u[4]=1,u[1]=u[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,u),this.currentNormalMapRotation=s}},setTexture2D:function(s,u){var d=this.renderer;s===void 0&&(s=d.whiteTexture);var f=this.getNormalMap(u);this.isNewNormalMap(s,f)&&(this.flush(),this.createBatch(s),this.addTextureToBatch(f),this.currentNormalMap=f);var c=0;if(u&&u.parentContainer){var m=u.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);c=m.rotationNormalized}else u&&(c=u.rotation);return this.setNormalMapRotation(c),0},setGameObject:function(s,u){u===void 0&&(u=s.frame);var d=u.glTexture,f=this.getNormalMap(s);if(this.isNewNormalMap(d,f)&&(this.flush(),this.createBatch(d),this.addTextureToBatch(f),this.currentNormalMap=f),s.parentContainer){var c=s.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(c.rotationNormalized)}else this.setNormalMapRotation(s.rotation);return 0},isNewNormalMap:function(s,u){return this.currentTexture!==s||this.currentNormalMap!==u},getNormalMap:function(s){var u;if(s)s.displayTexture?u=s.displayTexture.dataSource[s.displayFrame.sourceIndex]:s.texture?u=s.texture.dataSource[s.frame.sourceIndex]:s.tileset&&(Array.isArray(s.tileset)?u=s.tileset[0].image.dataSource[0]:u=s.tileset.image.dataSource[0]);else return this.renderer.normalTexture;return u?u.glTexture:this.renderer.normalTexture},batchSprite:function(s,u,d){this.lightsActive&&n.prototype.batchSprite.call(this,s,u,d)},batchTexture:function(s,u,d,f,c,m,T,C,S,A,P,R,F,D,L,O,B,b,z,V,W,K,U,Y,I,N,G,X,H,Q,$,Z){this.lightsActive&&n.prototype.batchTexture.call(this,s,u,d,f,c,m,T,C,S,A,P,R,F,D,L,O,B,b,z,V,W,K,U,Y,I,N,G,X,H,Q,$,Z)},batchTextureFrame:function(s,u,d,f,c,m,T){this.lightsActive&&n.prototype.batchTextureFrame.call(this,s,u,d,f,c,m,T)}});v.exports=l},56527:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(95540),a=t(57516),n=t(45561),i=t(60722),e=t(14500),r=t(29100),l=new o({Extends:a,initialize:function(u){u.fragShader=p(u,"fragShader",n),u.vertShader=p(u,"vertShader",i),u.attributes=p(u,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:e.UNSIGNED_BYTE,normalized:!0}]),u.forceZero=!0,u.resizeUniform="uResolution",a.call(this,u)},boot:function(){r.prototype.boot.call(this);var s=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",s.width,s.height),this.set1i("uRoundPixels",s.config.roundPixels)}});v.exports=l},57516:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(94811),a=t(95540),n=t(98840),i=t(44667),e=t(61340),r=t(70554),l=t(14500),s=t(29100),u=new o({Extends:s,initialize:function(f){var c=f.game.renderer,m=a(f,"fragShader",n);f.fragShader=r.parseFragmentShaderMaxTextures(m,c.maxTextures),f.vertShader=a(f,"vertShader",i),f.attributes=a(f,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:l.UNSIGNED_BYTE,normalized:!0}]),f.resizeUniform="uResolution",s.call(this,f),this._tempMatrix1=new e,this._tempMatrix2=new e,this._tempMatrix3=new e,this.calcMatrix=new e,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){s.prototype.boot.call(this);var d=this.renderer;this.set1iv("uMainSampler",d.textureIndexes),this.set2f("uResolution",d.width,d.height),this.set1i("uRoundPixels",d.config.roundPixels)},batchSprite:function(d,f,c){this.manager.set(this,d);var m=this._tempMatrix1,T=this._tempMatrix2,C=this._tempMatrix3,S=d.frame,A=S.glTexture,P=S.u0,R=S.v0,F=S.u1,D=S.v1,L=S.x,O=S.y,B=S.cutWidth,b=S.cutHeight,z=S.customPivot,V=d.displayOriginX,W=d.displayOriginY,K=-V+L,U=-W+O;if(d.isCropped){var Y=d._crop;(Y.flipX!==d.flipX||Y.flipY!==d.flipY)&&S.updateCropUVs(Y,d.flipX,d.flipY),P=Y.u0,R=Y.v0,F=Y.u1,D=Y.v1,B=Y.width,b=Y.height,L=Y.x,O=Y.y,K=-V+L,U=-W+O}var I=1,N=1;d.flipX&&(z||(K+=-S.realWidth+V*2),I=-1),d.flipY&&(z||(U+=-S.realHeight+W*2),N=-1);var G=d.x,X=d.y;T.applyITRS(G,X,d.rotation,d.scaleX*I,d.scaleY*N),m.copyFrom(f.matrix),c?(m.multiplyWithOffset(c,-f.scrollX*d.scrollFactorX,-f.scrollY*d.scrollFactorY),T.e=G,T.f=X):(T.e-=f.scrollX*d.scrollFactorX,T.f-=f.scrollY*d.scrollFactorY),m.multiply(T,C);var H=C.setQuad(K,U,K+B,U+b),Q=r.getTintAppendFloatAlpha,$=f.alpha,Z=Q(d.tintTopLeft,$*d._alphaTL),J=Q(d.tintTopRight,$*d._alphaTR),j=Q(d.tintBottomLeft,$*d._alphaBL),k=Q(d.tintBottomRight,$*d._alphaBR);this.shouldFlush(6)&&this.flush();var _=this.setGameObject(d,S);this.manager.preBatch(d),this.currentShader.set1i("uRoundPixels",f.roundPixels),this.batchQuad(d,H[0],H[1],H[2],H[3],H[4],H[5],H[6],H[7],P,R,F,D,Z,J,j,k,d.tintFill,A,_),this.manager.postBatch(d)},batchTexture:function(d,f,c,m,T,C,S,A,P,R,F,D,L,O,B,b,z,V,W,K,U,Y,I,N,G,X,H,Q,$,Z,J,j,k){k===void 0&&(k=!1),this.manager.set(this,d);var _=this._tempMatrix1,q=this._tempMatrix2,et=this._tempMatrix3,st=V/c+H,nt=W/m+Q,it=(V+K)/c+H,tt=(W+U)/m+Q,at=S,rt=A,ot=-b,ht=-z;if(d.isCropped){var ft=d._crop,ct=ft.width,vt=ft.height;at=ct,rt=vt,S=ct,A=vt,V=ft.x,W=ft.y;var dt=V,Et=W;D&&(dt=K-ft.x-ct),L&&(Et=U-ft.y-vt),st=dt/c+H,nt=Et/m+Q,it=(dt+ct)/c+H,tt=(Et+vt)/m+Q,ot=-b+V,ht=-z+W}L=L^(!J&&f.isRenderTexture?1:0),D&&(at*=-1,ot+=S),L&&(rt*=-1,ht+=A),q.applyITRS(T,C,F,P,R),_.copyFrom($.matrix),Z?(_.multiplyWithOffset(Z,-$.scrollX*O,-$.scrollY*B),q.e=T,q.f=C):(q.e-=$.scrollX*O,q.f-=$.scrollY*B),_.multiply(q,et);var St=et.setQuad(ot,ht,ot+at,ht+rt);j==null&&(j=this.setTexture2D(f)),d&&!k&&this.manager.preBatch(d),this.currentShader.set1i("uRoundPixels",$.roundPixels),this.batchQuad(d,St[0],St[1],St[2],St[3],St[4],St[5],St[6],St[7],st,nt,it,tt,Y,I,N,G,X,f,j),d&&!k&&this.manager.postBatch(d)},batchTextureFrame:function(d,f,c,m,T,C,S){this.manager.set(this);var A=this._tempMatrix1.copyFrom(C),P=this._tempMatrix2;S?A.multiply(S,P):P=A;var R=P.setQuad(f,c,f+d.width,c+d.height),F=this.setTexture2D(d.source.glTexture);m=r.getTintAppendFloatAlpha(m,T),this.batchQuad(null,R[0],R[1],R[2],R[3],R[4],R[5],R[6],R[7],d.u0,d.v0,d.u1,d.v1,m,m,m,m,0,d.glTexture,F)},batchFillRect:function(d,f,c,m,T,C){this.renderer.pipelines.set(this);var S=this.calcMatrix;C&&C.multiply(T,S);var A=S.setQuad(d,f,d+c,f+m),P=this.fillTint;this.batchQuad(null,A[0],A[1],A[2],A[3],A[4],A[5],A[6],A[7],0,0,1,1,P.TL,P.TR,P.BL,P.BR,2)},batchFillTriangle:function(d,f,c,m,T,C,S,A){this.renderer.pipelines.set(this);var P=this.calcMatrix;A&&A.multiply(S,P);var R=P.getX(d,f),F=P.getY(d,f),D=P.getX(c,m),L=P.getY(c,m),O=P.getX(T,C),B=P.getY(T,C),b=this.fillTint;this.currentShader.set1i("uRoundPixels",!1),this.batchTri(null,R,F,D,L,O,B,0,0,1,1,b.TL,b.TR,b.BL,2)},batchStrokeTriangle:function(d,f,c,m,T,C,S,A,P){var R=this.tempTriangle;R[0].x=d,R[0].y=f,R[0].width=S,R[1].x=c,R[1].y=m,R[1].width=S,R[2].x=T,R[2].y=C,R[2].width=S,R[3].x=d,R[3].y=f,R[3].width=S,this.batchStrokePath(R,S,!1,A,P)},batchFillPath:function(d,f,c){this.renderer.pipelines.set(this);var m=this.calcMatrix;c&&c.multiply(f,m);for(var T=d.length,C=this.polygonCache,S,A,P=this.fillTint.TL,R=this.fillTint.TR,F=this.fillTint.BL,D=0;D<T;++D)A=d[D],C.push(A.x,A.y);S=p(C),T=S.length,this.currentShader.set1i("uRoundPixels",!1);for(var L=0;L<T;L+=3){var O=S[L+0]*2,B=S[L+1]*2,b=S[L+2]*2,z=C[O+0],V=C[O+1],W=C[B+0],K=C[B+1],U=C[b+0],Y=C[b+1],I=m.getX(z,V),N=m.getY(z,V),G=m.getX(W,K),X=m.getY(W,K),H=m.getX(U,Y),Q=m.getY(U,Y);this.batchTri(null,I,N,G,X,H,Q,0,0,1,1,P,R,F,2)}C.length=0},batchStrokePath:function(d,f,c,m,T){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var C=d.length-1,S=0;S<C;S++){var A=d[S],P=d[S+1];this.batchLine(A.x,A.y,P.x,P.y,A.width/2,P.width/2,f,S,!c&&S===C-1,m,T)}},batchLine:function(d,f,c,m,T,C,S,A,P,R,F){this.renderer.pipelines.set(this);var D=this.calcMatrix;F&&F.multiply(R,D);var L=c-d,O=m-f,B=Math.sqrt(L*L+O*O);if(B!==0){var b=T*(m-f)/B,z=T*(d-c)/B,V=C*(m-f)/B,W=C*(d-c)/B,K=c-V,U=m-W,Y=d-b,I=f-z,N=c+V,G=m+W,X=d+b,H=f+z,Q=D.getX(K,U),$=D.getY(K,U),Z=D.getX(Y,I),J=D.getY(Y,I),j=D.getX(N,G),k=D.getY(N,G),_=D.getX(X,H),q=D.getY(X,H),et=this.strokeTint,st=et.TL,nt=et.TR,it=et.BL,tt=et.BR;if(this.currentShader.set1i("uRoundPixels",!1),this.batchQuad(null,_,q,Z,J,Q,$,j,k,0,0,1,1,st,nt,it,tt,2),!(S<=2)){var at=this.prevQuad,rt=this.firstQuad;A>0&&at[4]?this.batchQuad(null,_,q,Z,J,at[0],at[1],at[2],at[3],0,0,1,1,st,nt,it,tt,2):(rt[0]=_,rt[1]=q,rt[2]=Z,rt[3]=J,rt[4]=1),P&&rt[4]?this.batchQuad(null,Q,$,j,k,rt[0],rt[1],rt[2],rt[3],0,0,1,1,st,nt,it,tt,2):(at[0]=Q,at[1]=$,at[2]=j,at[3]=k,at[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,s.prototype.destroy.call(this),this}});v.exports=u},43439:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(95540),a=t(4127),n=t(89924),i=t(29100),e=new o({Extends:i,initialize:function(l){l.vertShader=p(l,"vertShader",n),l.fragShader=p(l,"fragShader",a),l.attributes=p(l,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),i.call(this,l)},onRender:function(r,l){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",l.zoom)},batchPointLight:function(r,l,s,u,d,f,c,m,T,C,S,A){var P=r.color,R=r.intensity,F=r.radius,D=r.attenuation,L=P.r*R,O=P.g*R,B=P.b*R,b=l.alpha*r.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(s,u,S,A,F,D,L,O,B,b),this.batchLightVert(d,f,S,A,F,D,L,O,B,b),this.batchLightVert(c,m,S,A,F,D,L,O,B,b),this.batchLightVert(s,u,S,A,F,D,L,O,B,b),this.batchLightVert(c,m,S,A,F,D,L,O,B,b),this.batchLightVert(T,C,S,A,F,D,L,O,B,b),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(r,l,s,u,d,f,c,m,T,C){var S=this.vertexViewF32,A=this.vertexCount*this.currentShader.vertexComponentCount-1;S[++A]=r,S[++A]=l,S[++A]=s,S[++A]=u,S[++A]=d,S[++A]=f,S[++A]=c,S[++A]=m,S[++A]=T,S[++A]=C,this.vertexCount++}});v.exports=e},84057:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(89422),a=t(95540),n=t(27681),i=t(49627),e=t(29100),r=new o({Extends:e,initialize:function(s){s.renderTarget=a(s,"renderTarget",1),s.fragShader=a(s,"fragShader",n),s.vertShader=a(s,"vertShader",i),s.attributes=a(s,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),s.batchSize=1,s.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],e.call(this,s),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new p,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){e.prototype.boot.call(this);var l=this.manager.UTILITY_PIPELINE;this.fullFrame1=l.fullFrame1,this.fullFrame2=l.fullFrame2,this.halfFrame1=l.halfFrame1,this.halfFrame2=l.halfFrame2;var s=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",s.width,s.height),this.set1i("uRoundPixels",s.config.roundPixels);for(var u=this.renderTargets,d=0;d<u.length;d++)u[d].autoResize=!0},postBatch:function(l){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(l),this},onDraw:function(l){this.bindAndDraw(l)},getController:function(l){return l!==void 0?l:this.controller?this.controller:this},copySprite:function(l,s,u){u===void 0&&(u=!1);var d=this.gl;d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,l.texture.webGLTexture);var f=d.getParameter(d.FRAMEBUFFER_BINDING);d.bindFramebuffer(d.FRAMEBUFFER,s.framebuffer.webGLFramebuffer),d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,s.texture.webGLTexture,0),d.clearColor(0,0,0,0),d.clear(d.COLOR_BUFFER_BIT),d.bufferData(d.ARRAY_BUFFER,this.vertexData,d.STATIC_DRAW),d.drawArrays(d.TRIANGLES,0,6),u&&(d.bindTexture(d.TEXTURE_2D,null),d.bindFramebuffer(d.FRAMEBUFFER,f))},copyFrame:function(l,s,u,d,f){this.manager.copyFrame(l,s,u,d,f)},copyToGame:function(l){this.manager.copyToGame(l)},drawFrame:function(l,s,u){this.manager.drawFrame(l,s,u,this.colorMatrix)},blendFrames:function(l,s,u,d,f){this.manager.blendFrames(l,s,u,d,f)},blendFramesAdditive:function(l,s,u,d,f){this.manager.blendFramesAdditive(l,s,u,d,f)},clearFrame:function(l,s){this.manager.clearFrame(l,s)},blitFrame:function(l,s,u,d,f,c){this.manager.blitFrame(l,s,u,d,f,c)},copyFrameRect:function(l,s,u,d,f,c,m,T){this.manager.copyFrameRect(l,s,u,d,f,c,m,T)},bindAndDraw:function(l,s,u,d,f){u===void 0&&(u=!0),d===void 0&&(d=!0);var c=this.gl,m=this.renderer;this.bind(f),this.set1i("uMainSampler",0),s?(c.viewport(0,0,s.width,s.height),c.bindFramebuffer(c.FRAMEBUFFER,s.framebuffer.webGLFramebuffer),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,s.texture.webGLTexture,0),u&&(d?c.clearColor(0,0,0,0):c.clearColor(0,0,0,1),c.clear(c.COLOR_BUFFER_BIT))):(m.popFramebuffer(!1,!1),m.currentFramebuffer||c.viewport(0,0,m.width,m.height)),m.restoreStencilMask(),c.activeTexture(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,l.texture.webGLTexture),c.bufferData(c.ARRAY_BUFFER,this.vertexData,c.STATIC_DRAW),c.drawArrays(c.TRIANGLES,0,6),s&&(c.bindTexture(c.TEXTURE_2D,null),c.bindFramebuffer(c.FRAMEBUFFER,m.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),e.prototype.destroy.call(this),this}});v.exports=r},43558:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10312),p=t(67502),a=t(83419),n=t(96293),i=t(95540),e=t(57516),r=t(27681),l=t(87841),s=t(32302),u=t(45561),d=t(60722),f=t(29100),c=new a({Extends:e,initialize:function(T){var C=i(T,"fragShader",r),S=i(T,"vertShader",d),A=i(T,"drawShader",r),P=[{name:"DrawSprite",fragShader:u,vertShader:d},{name:"CopySprite",fragShader:C,vertShader:S},{name:"DrawGame",fragShader:A,vertShader:d},{name:"ColorMatrix",fragShader:n}],R=i(T,"shaders",[]);T.shaders=P.concat(R),T.vertShader||(T.vertShader=S),T.batchSize=1,e.call(this,T),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new l,this.targetBounds=new l,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){f.prototype.boot.call(this);var m=this.shaders,T=this.renderer;this.drawSpriteShader=m[0],this.copyShader=m[1],this.gameShader=m[2],this.colorMatrixShader=m[3],this.fsTarget=new s(T,T.width,T.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var C=new ArrayBuffer(168);this.quadVertexData=C,this.quadVertexViewF32=new Float32Array(C),this.quadVertexBuffer=T.createVertexBuffer(C,this.gl.STATIC_DRAW),this.onResize(T.width,T.height),this.currentShader=this.copyShader,this.set2f("uResolution",T.width,T.height),this.set1i("uRoundPixels",T.config.roundPixels)},onResize:function(m,T){var C=this.quadVertexViewF32;C[1]=T,C[22]=T,C[14]=m,C[28]=m,C[35]=m,C[36]=T},batchQuad:function(m,T,C,S,A,P,R,F,D,L,O,B,b,z,V,W,K,U,Y){var I=Math.min(T,S,P,F),N=Math.min(C,A,R,D),G=Math.max(T,S,P,F),X=Math.max(C,A,R,D),H=G-I,Q=X-N,$=this.spriteBounds.setTo(I,N,H,Q),Z=m?m.preFX.padding:0,J=H+Z*2,j=Q+Z*2,k=Math.abs(Math.max(J,j)),_=this.manager.getRenderTarget(k),q=this.targetBounds.setTo(0,0,_.width,_.height);p(q,$.centerX,$.centerY),this.tempSprite=m;var et=this.gl,st=this.renderer;st.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",st.width,st.height),this.set1i("uRoundPixels",st.config.roundPixels),this.flipProjectionMatrix(!0),m&&(this.onDrawSprite(m,_),m.preFX.onFX(this));var nt=this.fsTarget;return this.flush(),et.viewport(0,0,st.width,st.height),et.bindFramebuffer(et.FRAMEBUFFER,nt.framebuffer.webGLFramebuffer),et.framebufferTexture2D(et.FRAMEBUFFER,et.COLOR_ATTACHMENT0,et.TEXTURE_2D,nt.texture.webGLTexture,0),et.clearColor(0,0,0,0),et.clear(et.COLOR_BUFFER_BIT),this.setTexture2D(Y),this.batchVert(T,C,L,O,0,U,z),this.batchVert(S,A,L,b,0,U,W),this.batchVert(P,R,B,b,0,U,K),this.batchVert(T,C,L,O,0,U,z),this.batchVert(P,R,B,b,0,U,K),this.batchVert(F,D,B,O,0,U,V),this.flush(),this.flipProjectionMatrix(!1),et.activeTexture(et.TEXTURE0),et.bindTexture(et.TEXTURE_2D,_.texture.webGLTexture),et.copyTexSubImage2D(et.TEXTURE_2D,0,0,0,q.x,q.y,q.width,q.height),et.bindFramebuffer(et.FRAMEBUFFER,null),et.bindTexture(et.TEXTURE_2D,null),this.onBatch(m),this.currentShader=this.copyShader,this.onDraw(_,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(m,T,C,S,A,P,R){C===void 0&&(C=!0),S===void 0&&(S=!0),A===void 0&&(A=!1),R===void 0&&(R=this.copyShader);var F=this.gl,D=this.tempSprite;P&&(R=this.colorMatrixShader),this.currentShader=R;var L=this.setVertexBuffer(this.quadVertexBuffer);R.bind(L,!1);var O=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",O.width,O.height),this.set1i("uRoundPixels",O.config.roundPixels),D.preFX.onFXCopy(this),this.onCopySprite(m,T,D),P&&(this.set1fv("uColorMatrix",P.getData()),this.set1f("uAlpha",P.alpha)),F.activeTexture(F.TEXTURE0),F.bindTexture(F.TEXTURE_2D,m.texture.webGLTexture),m.height>T.height)F.viewport(0,0,m.width,m.height),this.setTargetUVs(m,T);else{var B=T.height-m.height;F.viewport(0,B,m.width,m.height),this.resetUVs()}if(F.bindFramebuffer(F.FRAMEBUFFER,T.framebuffer.webGLFramebuffer),F.framebufferTexture2D(F.FRAMEBUFFER,F.COLOR_ATTACHMENT0,F.TEXTURE_2D,T.texture.webGLTexture,0),C&&(F.clearColor(0,0,0,+!S),F.clear(F.COLOR_BUFFER_BIT)),A){var b=this.renderer.currentBlendMode;this.renderer.setBlendMode(o.ERASE)}F.bufferData(F.ARRAY_BUFFER,this.quadVertexData,F.STATIC_DRAW),F.drawArrays(F.TRIANGLES,0,6),A&&this.renderer.setBlendMode(b),F.bindFramebuffer(F.FRAMEBUFFER,null)},copy:function(m,T){var C=this.gl;this.set1i("uMainSampler",0),C.activeTexture(C.TEXTURE0),C.bindTexture(C.TEXTURE_2D,m.texture.webGLTexture),C.viewport(0,0,m.width,m.height),this.setUVs(0,0,0,1,1,1,1,0),C.bindFramebuffer(C.FRAMEBUFFER,T.framebuffer.webGLFramebuffer),C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,T.texture.webGLTexture,0),C.clearColor(0,0,0,0),C.clear(C.COLOR_BUFFER_BIT),C.bufferData(C.ARRAY_BUFFER,this.quadVertexData,C.STATIC_DRAW),C.drawArrays(C.TRIANGLES,0,6),C.bindFramebuffer(C.FRAMEBUFFER,null)},blendFrames:function(m,T,C,S,A){this.manager.blendFrames(m,T,C,S,A)},blendFramesAdditive:function(m,T,C,S,A){this.manager.blendFramesAdditive(m,T,C,S,A)},drawToGame:function(m){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(m)},copyToGame:function(m){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(m)},bindAndDraw:function(m){var T=this.gl,C=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(m.texture);var S=this._tempMatrix1.loadIdentity(),A=this.targetBounds.x,P=this.targetBounds.y,R=A+m.width,F=P+m.height,D=S.getX(A,P),L=S.getX(A,F),O=S.getX(R,F),B=S.getX(R,P),b=S.getY(A,P),z=S.getY(A,F),V=S.getY(R,F),W=S.getY(R,P),K=16777215;this.batchVert(D,b,0,0,0,0,K),this.batchVert(L,z,0,1,0,0,K),this.batchVert(O,V,1,1,0,0,K),this.batchVert(D,b,0,0,0,0,K),this.batchVert(O,V,1,1,0,0,K),this.batchVert(B,W,1,0,0,0,K),C.restoreFramebuffer(!1,!0),C.currentFramebuffer||T.viewport(0,0,C.width,C.height),C.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(m){this.drawToGame(m)},setUVs:function(m,T,C,S,A,P,R,F){var D=this.quadVertexViewF32;D[2]=m,D[3]=T,D[9]=C,D[10]=S,D[16]=A,D[17]=P,D[23]=m,D[24]=T,D[30]=A,D[31]=P,D[37]=R,D[38]=F},setTargetUVs:function(m,T){var C=T.height/m.height;C>.5?C=.5-(C-.5):C=.5+(.5-C),this.setUVs(0,C,0,1+C,1,1+C,1,C)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,e.prototype.destroy.call(this),this}});v.exports=c},81041:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(95540),a=t(57516),n=new o({Extends:a,initialize:function(e){e.topology=5,e.batchSize=p(e,"batchSize",256),a.call(this,e)}});v.exports=n},12385:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(95540),a=t(57516),n=t(45561),i=t(60722),e=t(29100),r=new o({Extends:a,initialize:function(s){s.fragShader=p(s,"fragShader",n),s.vertShader=p(s,"vertShader",i),s.forceZero=!0,a.call(this,s)},boot:function(){e.prototype.boot.call(this);var l=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",l.width,l.height),this.set1i("uRoundPixels",l.config.roundPixels)}});v.exports=r},7589:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35407),p=t(10312),a=t(83419),n=t(89422),i=t(96293),e=t(36682),r=t(95540),l=t(48247),s=t(49627),u=t(29100),d=new a({Extends:u,initialize:function(c){c.renderTarget=r(c,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),c.vertShader=r(c,"vertShader",s),c.shaders=r(c,"shaders",[{name:"Copy",fragShader:e},{name:"AddBlend",fragShader:o},{name:"LinearBlend",fragShader:l},{name:"ColorMatrix",fragShader:i}]),c.attributes=r(c,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),c.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],c.batchSize=1,u.call(this,c),this.colorMatrix=new n,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){u.prototype.boot.call(this);var f=this.shaders,c=this.renderTargets;this.copyShader=f[0],this.addShader=f[1],this.linearShader=f[2],this.colorMatrixShader=f[3],this.fullFrame1=c[0],this.fullFrame2=c[1],this.halfFrame1=c[2],this.halfFrame2=c[3]},copyFrame:function(f,c,m,T,C){m===void 0&&(m=1),T===void 0&&(T=!0),C===void 0&&(C=!0);var S=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",m),S.activeTexture(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,f.texture.webGLTexture),c?(S.viewport(0,0,c.width,c.height),S.bindFramebuffer(S.FRAMEBUFFER,c.framebuffer.webGLFramebuffer),S.framebufferTexture2D(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0,S.TEXTURE_2D,c.texture.webGLTexture,0)):S.viewport(0,0,f.width,f.height),T&&(C?S.clearColor(0,0,0,0):S.clearColor(0,0,0,1),S.clear(S.COLOR_BUFFER_BIT)),S.bufferData(S.ARRAY_BUFFER,this.vertexData,S.STATIC_DRAW),S.drawArrays(S.TRIANGLES,0,6),S.bindFramebuffer(S.FRAMEBUFFER,null),S.bindTexture(S.TEXTURE_2D,null)},blitFrame:function(f,c,m,T,C,S,A){m===void 0&&(m=1),T===void 0&&(T=!0),C===void 0&&(C=!0),S===void 0&&(S=!1),A===void 0&&(A=!1);var P=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",m),P.activeTexture(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,f.texture.webGLTexture),f.height>c.height)P.viewport(0,0,f.width,f.height),this.setTargetUVs(f,c);else{var R=c.height-f.height;P.viewport(0,R,f.width,f.height)}if(P.bindFramebuffer(P.FRAMEBUFFER,c.framebuffer.webGLFramebuffer),P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,c.texture.webGLTexture,0),T&&(C?P.clearColor(0,0,0,0):P.clearColor(0,0,0,1),P.clear(P.COLOR_BUFFER_BIT)),S){var F=this.renderer.currentBlendMode;this.renderer.setBlendMode(p.ERASE)}A&&this.flipY(),P.bufferData(P.ARRAY_BUFFER,this.vertexData,P.STATIC_DRAW),P.drawArrays(P.TRIANGLES,0,6),S&&this.renderer.setBlendMode(F),P.bindFramebuffer(P.FRAMEBUFFER,null),P.bindTexture(P.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(f,c,m,T,C,S,A,P){A===void 0&&(A=!0),P===void 0&&(P=!0);var R=this.gl;R.bindFramebuffer(R.FRAMEBUFFER,f.framebuffer.webGLFramebuffer),R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,f.texture.webGLTexture,0),A&&(P?R.clearColor(0,0,0,0):R.clearColor(0,0,0,1),R.clear(R.COLOR_BUFFER_BIT)),R.activeTexture(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,c.texture.webGLTexture),R.copyTexSubImage2D(R.TEXTURE_2D,0,0,0,m,T,C,S),R.bindFramebuffer(R.FRAMEBUFFER,null),R.bindTexture(R.TEXTURE_2D,null)},copyToGame:function(f){var c=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),c.activeTexture(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,f.texture.webGLTexture),c.bufferData(c.ARRAY_BUFFER,this.vertexData,c.STATIC_DRAW),c.drawArrays(c.TRIANGLES,0,6)},drawFrame:function(f,c,m,T){m===void 0&&(m=!0),T===void 0&&(T=this.colorMatrix);var C=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",T.getData()),this.set1f("uAlpha",T.alpha),C.activeTexture(C.TEXTURE0),C.bindTexture(C.TEXTURE_2D,f.texture.webGLTexture),c?(C.viewport(0,0,c.width,c.height),C.bindFramebuffer(C.FRAMEBUFFER,c.framebuffer.webGLFramebuffer),C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,c.texture.webGLTexture,0)):C.viewport(0,0,f.width,f.height),m?C.clearColor(0,0,0,0):C.clearColor(0,0,0,1),C.clear(C.COLOR_BUFFER_BIT),C.bufferData(C.ARRAY_BUFFER,this.vertexData,C.STATIC_DRAW),C.drawArrays(C.TRIANGLES,0,6),C.bindFramebuffer(C.FRAMEBUFFER,null),C.bindTexture(C.TEXTURE_2D,null)},blendFrames:function(f,c,m,T,C,S){T===void 0&&(T=1),C===void 0&&(C=!0),S===void 0&&(S=this.linearShader);var A=this.gl;this.setShader(S),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",T),A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,f.texture.webGLTexture),A.activeTexture(A.TEXTURE1),A.bindTexture(A.TEXTURE_2D,c.texture.webGLTexture),m?(A.bindFramebuffer(A.FRAMEBUFFER,m.framebuffer.webGLFramebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,m.texture.webGLTexture,0),A.viewport(0,0,m.width,m.height)):A.viewport(0,0,f.width,f.height),C?A.clearColor(0,0,0,0):A.clearColor(0,0,0,1),A.clear(A.COLOR_BUFFER_BIT),A.bufferData(A.ARRAY_BUFFER,this.vertexData,A.STATIC_DRAW),A.drawArrays(A.TRIANGLES,0,6),A.bindFramebuffer(A.FRAMEBUFFER,null),A.bindTexture(A.TEXTURE_2D,null)},blendFramesAdditive:function(f,c,m,T,C){this.blendFrames(f,c,m,T,C,this.addShader)},clearFrame:function(f,c){c===void 0&&(c=!0);var m=this.gl;m.viewport(0,0,f.width,f.height),m.bindFramebuffer(m.FRAMEBUFFER,f.framebuffer.webGLFramebuffer),c?m.clearColor(0,0,0,0):m.clearColor(0,0,0,1),m.clear(m.COLOR_BUFFER_BIT);var T=this.renderer.currentFramebuffer;m.bindFramebuffer(m.FRAMEBUFFER,T.webGLFramebuffer)},setUVs:function(f,c,m,T,C,S,A,P){var R=this.vertexViewF32;R[2]=f,R[3]=c,R[6]=m,R[7]=T,R[10]=C,R[11]=S,R[14]=f,R[15]=c,R[18]=C,R[19]=S,R[22]=A,R[23]=P},setTargetUVs:function(f,c){var m=c.height/f.height;m>.5?m=.5-(m-.5):m=.5+(.5-m),this.setUVs(0,m,0,1+m,1,1+m,1,m)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});v.exports=d},36060:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};v.exports=y},84817:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pipelineafterflush"},36712:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pipelinebeforeflush"},40285:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pipelinebind"},65918:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pipelineboot"},92852:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pipelinedestroy"},56072:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pipelinerebind"},57566:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pipelineresize"},77085:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={AFTER_FLUSH:t(84817),BEFORE_FLUSH:t(36712),BIND:t(40285),BOOT:t(65918),DESTROY:t(92852),REBIND:t(56072),RESIZE:t(57566)}},54812:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(99155),a=t(84057),n=new o({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:p}),this.amount=1},onPreRender:function(i,e){i=this.getController(i),this.set1f("amount",i.amount,e)}});v.exports=n},67329:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(24400),a=t(84057),n=new o({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:p}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(i){i=this.getController(i),this.set1f("strength",i.blurStrength),this.set3fv("color",i.glcolor)},onDraw:function(i){var e=this.getController(),r=this.fullFrame1,l=this.fullFrame2;this.copyFrame(i,l);for(var s=2/i.width*e.offsetX,u=2/i.height*e.offsetY,d=0;d<e.steps;d++)this.set2f("offset",s,0),this.copySprite(i,r),this.set2f("offset",0,u),this.copySprite(r,i);this.blendFrames(l,i,r,e.strength),this.copyToGame(r)}});v.exports=n},8861:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(41514),a=t(51078),n=t(94328),i=t(84057),e=new o({Extends:i,initialize:function(l){i.call(this,{game:l,shaders:[{name:"Gaussian5",fragShader:p},{name:"Gaussian9",fragShader:a},{name:"Gaussian13",fragShader:n}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(r){var l=this.getController(),s=this.gl,u=this.fullFrame1,d=s.getParameter(s.FRAMEBUFFER_BINDING);this.bind(this.shaders[l.quality]),s.activeTexture(s.TEXTURE0),s.viewport(0,0,r.width,r.height),this.set1i("uMainSampler",0),this.set2f("resolution",r.width,r.height),this.set1f("strength",l.strength),this.set3fv("color",l.glcolor);for(var f=0;f<l.steps;f++)this.set2f("offset",l.x,0),this.copySprite(r,u),this.set2f("offset",0,l.y),this.copySprite(u,r);s.bindFramebuffer(s.FRAMEBUFFER,d),s.bindTexture(s.TEXTURE_2D,null),this.copyToGame(r)}});v.exports=e},51051:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(90610),a=t(84057),n=new o({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:p}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(i,e,r,l){i=this.getController(i),this.set1f("radius",i.radius,e),this.set1f("amount",i.amount,e),this.set1f("contrast",i.contrast,e),this.set1f("strength",i.strength,e),this.set2f("blur",i.blurX,i.blurY,e),this.setBoolean("isTiltShift",i.isTiltShift,e),r&&l&&this.set2f("resolution",r,l,e)},onDraw:function(i){this.set2f("resolution",i.width,i.height),this.bindAndDraw(i)}});v.exports=n},89428:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(91899),a=t(84057),n=new o({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:p}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(i,e,r,l){i=this.getController(i),this.set1f("scale",i.scale,e),this.set1f("feather",i.feather,e),this.set1f("thickness",i.thickness,e),this.set3fv("color",i.glcolor,e),this.set4fv("backgroundColor",i.glcolor2,e),r&&l&&this.set2f("resolution",r,l,e)},onDraw:function(i){this.set2f("resolution",i.width,i.height),this.bindAndDraw(i)}});v.exports=n},88904:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(84057),a=new o({Extends:p,initialize:function(i){p.call(this,{game:i})},onDraw:function(n){var i=this.fullFrame1;this.controller?this.manager.drawFrame(n,i,!0,this.controller):this.drawFrame(n,i),this.copyToGame(i)}});v.exports=a},63563:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(47838),a=t(84057),n=new o({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:p}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(i){var e=this.game.textures.getFrame(i);e&&(this.glTexture=e.glTexture)},onDraw:function(i){var e=this.getController(),r=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",e.x,e.y),this.bindTexture(e.glTexture,1),this.copySprite(i,r),this.copyToGame(r)}});v.exports=n},94045:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(95540),a=t(98656),n=t(84057),i=t(70554),e=new o({Extends:n,initialize:function(l,s){var u=p(s,"quality",.1),d=p(s,"distance",10);n.call(this,{game:l,fragShader:i.setGlowQuality(a,l,u,d)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(r,l,s,u){r=this.getController(r),this.set1f("outerStrength",r.outerStrength,l),this.set1f("innerStrength",r.innerStrength,l),this.set4fv("glowColor",r.glcolor,l),this.setBoolean("knockout",r.knockout,l),s&&u&&this.set2f("resolution",s,u,l)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});v.exports=e},74088:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(70463),a=t(84057),n=new o({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:p}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(i,e){i=this.getController(i),this.set1f("alpha",i.alpha,e),this.set1i("size",i.size,e),this.set3fv("color1",i.glcolor1,e),this.set3fv("color2",i.glcolor2,e),this.set2f("positionFrom",i.fromX,i.fromY,e),this.set2f("positionTo",i.toX,i.toY,e)}});v.exports=n},99636:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(50831),a=t(84057),n=new o({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:p}),this.amount=1},onPreRender:function(i,e,r,l){i=this.getController(i),this.set1f("amount",i.amount,e),r&&l&&this.set2f("resolution",r,l,e)},onDraw:function(i){this.set2f("resolution",i.width,i.height),this.bindAndDraw(i)}});v.exports=n},34700:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(92595),a=t(84057),n=new o({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:p}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(i,e){i=this.getController(i);var r=i.samples;this.set1i("samples",r,e),this.set1f("intensity",i.intensity,e),this.set1f("decay",i.decay,e),this.set1f("power",i.power/r,e),this.set2f("lightPosition",i.x,i.y,e),this.set4fv("color",i.glcolor,e)}});v.exports=n},91157:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(72464),a=t(84057),n=new o({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:p}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(i,e,r,l){i=this.getController(i),this.setTime("time",e),this.set1f("speed",i.speed,e),this.set1f("lineWidth",i.lineWidth,e),this.set1f("gradient",i.gradient,e),this.setBoolean("reveal",i.reveal,e),r&&l&&this.set2f("resolution",r,l,e)},onDraw:function(i){this.set2f("resolution",i.width,i.height),this.bindAndDraw(i)}});v.exports=n},27797:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(39249),a=t(84057),n=new o({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:p}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(i,e){i=this.getController(i),this.set1f("radius",i.radius,e),this.set1f("strength",i.strength,e),this.set2f("position",i.x,i.y,e)}});v.exports=n},67603:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(2878),a=t(84057),n=new o({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:p}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(i,e){i=this.getController(i);var r=i.progress,l=i.wipeWidth,s=i.direction,u=i.axis;this.set4f("config",r,l,s,u,e),this.setBoolean("reveal",i.reveal,e)}});v.exports=n},58918:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={Barrel:t(54812),Bloom:t(67329),Blur:t(8861),Bokeh:t(51051),Circle:t(89428),ColorMatrix:t(88904),Displacement:t(63563),Glow:t(94045),Gradient:t(74088),Pixelate:t(99636),Shadow:t(34700),Shine:t(91157),Vignette:t(27797),Wipe:t(67603)};v.exports=o},96615:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36060),p=t(79291),a={FX:t(58918),BitmapMaskPipeline:t(31302),Events:t(77085),FXPipeline:t(92651),LightPipeline:t(96569),MobilePipeline:t(56527),MultiPipeline:t(57516),PointLightPipeline:t(43439),PostFXPipeline:t(84057),PreFXPipeline:t(43558),RopePipeline:t(81041),SinglePipeline:t(12385),UtilityPipeline:t(7589)};a=p(!1,a,o),v.exports=a},35407:v=>{v.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},78908:v=>{v.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},85191:v=>{v.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},96293:v=>{v.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},36682:v=>{v.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},99155:v=>{v.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},24400:v=>{v.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},94328:v=>{v.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},41514:v=>{v.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},51078:v=>{v.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},90610:v=>{v.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},91899:v=>{v.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},47838:v=>{v.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},98656:v=>{v.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},70463:v=>{v.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},50831:v=>{v.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},92595:v=>{v.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},72464:v=>{v.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},39249:v=>{v.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},2878:v=>{v.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},31063:v=>{v.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},48247:v=>{v.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},41214:v=>{v.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},39653:v=>{v.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},62143:v=>{v.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},47940:v=>{v.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},98840:v=>{v.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},44667:v=>{v.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},4127:v=>{v.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},89924:v=>{v.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},27681:v=>{v.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},49627:v=>{v.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},45561:v=>{v.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},60722:v=>{v.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},89350:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={AddBlendFrag:t(35407),BitmapMaskFrag:t(78908),BitmapMaskVert:t(85191),ColorMatrixFrag:t(96293),CopyFrag:t(36682),FXBarrelFrag:t(99155),FXBloomFrag:t(24400),FXBlurHighFrag:t(94328),FXBlurLowFrag:t(41514),FXBlurMedFrag:t(51078),FXBokehFrag:t(90610),FXCircleFrag:t(91899),FXDisplacementFrag:t(47838),FXGlowFrag:t(98656),FXGradientFrag:t(70463),FXPixelateFrag:t(50831),FXShadowFrag:t(92595),FXShineFrag:t(72464),FXVignetteFrag:t(39249),FXWipeFrag:t(2878),LightFrag:t(31063),LinearBlendFrag:t(48247),MeshFrag:t(41214),MeshVert:t(39653),MobileFrag:t(62143),MobileVert:t(47940),MultiFrag:t(98840),MultiVert:t(44667),PointLightFrag:t(4127),PointLightVert:t(89924),PostFXFrag:t(27681),QuadVert:t(49627),SingleFrag:t(45561),SingleVert:t(60722)}},93567:(v,y,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=new o({initialize:function(n,i,e){this.webGLAttribLocation=-1,this.gl=n,this.program=i,this.name=e,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLAttribLocation=-1;return}var a=this.gl;a.isContextLost()||(this.webGLAttribLocation=a.getAttribLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});v.exports=p},26128:(v,y,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=new o({initialize:function(n,i,e,r){this.webGLBuffer=null,this.gl=n,this.initialDataOrSize=i,this.bufferType=e,this.bufferUsage=r,this.createResource()},createResource:function(){if(this.initialDataOrSize!==null){var a=this.gl;if(!a.isContextLost()){var n=this.bufferType,i=a.createBuffer();this.webGLBuffer=i,a.bindBuffer(n,this.webGLBuffer),a.bufferData(n,this.initialDataOrSize,this.bufferUsage),a.bindBuffer(n,null)}}},destroy:function(){var a=this.gl;a.isContextLost()||a.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});v.exports=p},84387:(v,y,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},a=new o({initialize:function(i,e,r,l,s){this.webGLFramebuffer=null,this.gl=i,this.width=e,this.height=r,this.renderTexture=l,this.addDepthStencilBuffer=!!s,this.createResource()},createResource:function(){var n=this.gl;if(!n.isContextLost()){var i=this.renderTexture,e=0,r=n.createFramebuffer();if(this.webGLFramebuffer=r,n.bindFramebuffer(n.FRAMEBUFFER,r),i.isRenderTexture=!0,i.isAlphaPremultiplied=!1,n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,i.webGLTexture,0),e=n.checkFramebufferStatus(n.FRAMEBUFFER),e!==n.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(p[e]||e));if(this.addDepthStencilBuffer){var l=n.createRenderbuffer();n.bindRenderbuffer(n.RENDERBUFFER,l),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,this.width,this.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,l)}n.bindFramebuffer(n.FRAMEBUFFER,null)}},destroy:function(){if(this.webGLFramebuffer!==null){var n=this.gl;if(!n.isContextLost()){n.bindFramebuffer(n.FRAMEBUFFER,this.webGLFramebuffer);var i=n.getFramebufferAttachmentParameter(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);i!==null&&(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,null,0),n.deleteTexture(i));var e=n.getFramebufferAttachmentParameter(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);e!==null&&n.deleteRenderbuffer(e),n.bindFramebuffer(n.FRAMEBUFFER,null),n.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});v.exports=a},1482:(v,y,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=new o({initialize:function(n,i,e){this.webGLProgram=null,this.gl=n,this.vertexSource=i,this.fragmentSource=e,this.createResource()},createResource:function(){var a=this.gl;if(!a.isContextLost()){var n=a.createProgram(),i=a.createShader(a.VERTEX_SHADER),e=a.createShader(a.FRAGMENT_SHADER);a.shaderSource(i,this.vertexSource),a.shaderSource(e,this.fragmentSource),a.compileShader(i),a.compileShader(e);var r=`Shader failed:
`;if(!a.getShaderParameter(i,a.COMPILE_STATUS))throw new Error("Vertex "+r+a.getShaderInfoLog(i));if(!a.getShaderParameter(e,a.COMPILE_STATUS))throw new Error("Fragment "+r+a.getShaderInfoLog(e));if(a.attachShader(n,i),a.attachShader(n,e),a.linkProgram(n),!a.getProgramParameter(n,a.LINK_STATUS))throw new Error("Link "+r+a.getProgramInfoLog(n));a.useProgram(n),this.webGLProgram=n}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});v.exports=p},82751:(v,y,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(50030),a=new o({initialize:function(i,e,r,l,s,u,d,f,c,m,T,C,S){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=i,this.mipLevel=e,this.minFilter=r,this.magFilter=l,this.wrapT=s,this.wrapS=u,this.format=d,this.pixels=f,this.width=c,this.height=m,this.pma=T??!0,this.forceSize=!!C,this.flipY=!!S,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var n=this.gl;if(!n.isContextLost()){if(this.pixels instanceof a){this.webGLTexture=this.pixels.webGLTexture;return}var i=n.createTexture();i.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=i,this._processTexture()}},update:function(n,i,e,r,l,s,u,d,f){if(!(i===0||e===0)){this.pixels=n,this.width=i,this.height=e,this.flipY=r,this.wrapS=l,this.wrapT=s,this.minFilter=u,this.magFilter=d,this.format=f;var c=this.gl;c.isContextLost()||this._processTexture()}},_processTexture:function(){var n=this.gl;n.activeTexture(n.TEXTURE0);var i=n.getParameter(n.TEXTURE_BINDING_2D);n.bindTexture(n.TEXTURE_2D,this.webGLTexture),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,this.minFilter),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,this.magFilter),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,this.wrapS),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,this.wrapT),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,this.flipY);var e=this.pixels,r=this.mipLevel,l=this.width,s=this.height,u=this.format,d=!1;if(e==null)n.texImage2D(n.TEXTURE_2D,r,u,l,s,0,u,n.UNSIGNED_BYTE,null),d=p(l,s);else if(e.compressed){l=e.width,s=e.height,d=e.generateMipmap;for(var f=0;f<e.mipmaps.length;f++)n.compressedTexImage2D(n.TEXTURE_2D,f,e.internalFormat,e.mipmaps[f].width,e.mipmaps[f].height,0,e.mipmaps[f].data)}else e instanceof Uint8Array?(n.texImage2D(n.TEXTURE_2D,r,u,l,s,0,u,n.UNSIGNED_BYTE,e),d=p(l,s)):(this.forceSize||(l=e.width,s=e.height),n.texImage2D(n.TEXTURE_2D,r,u,u,n.UNSIGNED_BYTE,e),d=p(l,s));d&&n.generateMipmap(n.TEXTURE_2D),i?n.bindTexture(n.TEXTURE_2D,i):n.bindTexture(n.TEXTURE_2D,null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(n){this.__SPECTOR_Metadata=n,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=n)}},destroy:function(){this.webGLTexture!==null&&(this.gl.isContextLost()||this.pixels instanceof a||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});v.exports=a},57183:(v,y,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=new o({initialize:function(n,i,e){this.webGLUniformLocation=null,this.gl=n,this.program=i,this.name=e,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLUniformLocation=null;return}var a=this.gl;a.isContextLost()||(this.webGLUniformLocation=a.getUniformLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});v.exports=p},9503:(v,y,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={WebGLAttribLocationWrapper:t(93567),WebGLBufferWrapper:t(26128),WebGLProgramWrapper:t(1482),WebGLTextureWrapper:t(82751),WebGLFramebufferWrapper:t(84387),WebGLUniformLocationWrapper:t(57183)};v.exports=o},76531:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(13560),p=t(83419),a=t(50792),n=t(97480),i=t(8443),e=t(57811),r=t(74403),l=t(45818),s=t(29747),u=t(87841),d=t(86555),f=t(56583),c=t(26099),m=t(38058),T=new p({Extends:a,initialize:function(S){a.call(this),this.game=S,this.canvas,this.canvasBounds=new u,this.parent=null,this.parentIsWindow=!1,this.parentSize=new d,this.gameSize=new d,this.baseSize=new d,this.displaySize=new d,this.scaleMode=o.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new c(1,1),this.autoRound=!1,this.autoCenter=o.CENTER.NO_CENTER,this.orientation=o.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:s,windowResize:s,fullScreenChange:s,fullScreenError:s}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(i.BOOT,this.boot,this)},boot:function(){var C=this.game;this.canvas=C.canvas,this.fullscreen=C.device.fullscreen,this.scaleMode!==o.SCALE_MODE.RESIZE&&this.scaleMode!==o.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(this.scaleMode),this.scaleMode===o.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),C.events.on(i.PRE_STEP,this.step,this),C.events.once(i.READY,this.refresh,this),C.events.once(i.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(C){this.getParent(C),this.getParentBounds();var S=C.width,A=C.height,P=C.scaleMode,R=C.zoom,F=C.autoRound;if(typeof S=="string")if(S.substr(-1)!=="%")S=parseInt(S,10);else{var D=this.parentSize.width;D===0&&(D=window.innerWidth);var L=parseInt(S,10)/100;S=Math.floor(D*L)}if(typeof A=="string")if(A.substr(-1)!=="%")A=parseInt(A,10);else{var O=this.parentSize.height;O===0&&(O=window.innerHeight);var B=parseInt(A,10)/100;A=Math.floor(O*B)}this.scaleMode=P,this.autoRound=F,this.autoCenter=C.autoCenter,this.resizeInterval=C.resizeInterval,F&&(S=Math.floor(S),A=Math.floor(A)),this.gameSize.setSize(S,A),R===o.ZOOM.MAX_ZOOM&&(R=this.getMaxZoom()),this.zoom=R,R!==1&&(this._resetZoom=!0),this.baseSize.setSize(S,A),F&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),C.minWidth>0&&this.displaySize.setMin(C.minWidth*R,C.minHeight*R),C.maxWidth>0&&this.displaySize.setMax(C.maxWidth*R,C.maxHeight*R),this.displaySize.setSize(S,A),(C.snapWidth>0||C.snapHeight>0)&&this.displaySize.setSnap(C.snapWidth,C.snapHeight),this.orientation=l(S,A)},getParent:function(C){var S=C.parent;if(S!==null){if(this.parent=r(S),this.parentIsWindow=this.parent===document.body,C.expandParent&&C.scaleMode!==o.SCALE_MODE.NONE){var A=this.parent.getBoundingClientRect();(this.parentIsWindow||A.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",A=this.parent.getBoundingClientRect(),!this.parentIsWindow&&A.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}C.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=r(C.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var C=this.parentSize,S=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(S.height=e(!0));var A=S.width,P=S.height;if(C.width!==A||C.height!==P)return C.setSize(A,P),!0;if(this.canvas){var R=this.canvasBounds,F=this.canvas.getBoundingClientRect();if(F.x!==R.x||F.y!==R.y)return!0}return!1},lockOrientation:function(C){var S=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return S?S.call(screen,C):!1},setParentSize:function(C,S){return this.parentSize.setSize(C,S),this.refresh()},setGameSize:function(C,S){var A=this.autoRound;A&&(C=Math.floor(C),S=Math.floor(S));var P=this.width,R=this.height;return this.gameSize.resize(C,S),this.baseSize.resize(C,S),A&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(C/S),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(P,R)},resize:function(C,S){var A=this.zoom,P=this.autoRound;P&&(C=Math.floor(C),S=Math.floor(S));var R=this.width,F=this.height;this.gameSize.resize(C,S),this.baseSize.resize(C,S),P&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(C*A,S*A),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var D=this.canvas.style,L=C*A,O=S*A;return P&&(L=Math.floor(L),O=Math.floor(O)),(L!==C||O!==S)&&(D.width=L+"px",D.height=O+"px"),this.refresh(R,F)},setZoom:function(C){return this.zoom=C,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(C,S){return C===void 0&&(C=0),S===void 0&&(S=C),this.displaySize.setSnap(C,S),this.refresh()},refresh:function(C,S){C===void 0&&(C=this.width),S===void 0&&(S=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var A=this.game.domContainer;if(A){this.baseSize.setCSS(A);var P=this.canvas.style,R=A.style;R.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",R.marginLeft=P.marginLeft,R.marginTop=P.marginTop}return this.emit(n.RESIZE,this.gameSize,this.baseSize,this.displaySize,C,S),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var C=l(this.width,this.height);C!==this.orientation&&(this.orientation=C,this.emit(n.ORIENTATION_CHANGE,C))}},updateScale:function(){var C=this.canvas.style,S=this.gameSize.width,A=this.gameSize.height,P,R,F=this.zoom,D=this.autoRound;if(this.scaleMode===o.SCALE_MODE.NONE)this.displaySize.setSize(S*F,A*F),P=this.displaySize.width,R=this.displaySize.height,D&&(P=Math.floor(P),R=Math.floor(R)),this._resetZoom&&(C.width=P+"px",C.height=R+"px",this._resetZoom=!1);else if(this.scaleMode===o.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),P=this.displaySize.width,R=this.displaySize.height,D&&(P=Math.floor(P),R=Math.floor(R)),this.canvas.width=P,this.canvas.height=R;else if(this.scaleMode===o.SCALE_MODE.EXPAND){this.displaySize.setSize(this.parentSize.width,this.parentSize.height),P=this.displaySize.width,R=this.displaySize.height,D&&(P=Math.floor(P),R=Math.floor(R)),C.width=P+"px",C.height=R+"px";var L=this.parentSize.width/this.gameSize.width,O=this.parentSize.height/this.gameSize.height;L<O?this.baseSize.setSize(this.gameSize.width,this.parentSize.height/L):this.baseSize.setSize(this.displaySize.width/O,this.gameSize.height),P=this.baseSize.width,R=this.baseSize.height,D&&(P=Math.floor(P),R=Math.floor(R)),this.canvas.width=P,this.canvas.height=R}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),P=this.displaySize.width,R=this.displaySize.height,D&&(P=Math.floor(P),R=Math.floor(R)),C.width=P+"px",C.height=R+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var C=f(this.parentSize.width,this.gameSize.width,0,!0),S=f(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(C,S),1)},updateCenter:function(){var C=this.autoCenter;if(C!==o.CENTER.NO_CENTER){var S=this.canvas,A=S.style,P=S.getBoundingClientRect(),R=P.width,F=P.height,D=Math.floor((this.parentSize.width-R)/2),L=Math.floor((this.parentSize.height-F)/2);C===o.CENTER.CENTER_HORIZONTALLY?L=0:C===o.CENTER.CENTER_VERTICALLY&&(D=0),A.marginLeft=D+"px",A.marginTop=L+"px"}},updateBounds:function(){var C=this.canvasBounds,S=this.canvas.getBoundingClientRect();C.x=S.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),C.y=S.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),C.width=S.width,C.height=S.height},transformX:function(C){return(C-this.canvasBounds.left)*this.displayScale.x},transformY:function(C){return(C-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(C){C===void 0&&(C={navigationUI:"hide"});var S=this.fullscreen;if(!S.available){this.emit(n.FULLSCREEN_UNSUPPORTED);return}if(!S.active){var A=this.getFullscreenTarget();S.keyboard?A[S.request](Element.ALLOW_KEYBOARD_INPUT):A[S.request](C)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(n.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(C){this.removeFullscreenTarget(),this.emit(n.FULLSCREEN_FAILED,C)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var C=document.createElement("div");C.style.margin="0",C.style.padding="0",C.style.width="100%",C.style.height="100%",this.fullscreenTarget=C,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var S=this.canvas.parentNode;S.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var C=this.fullscreenTarget;if(C&&C.parentNode){var S=C.parentNode;S.insertBefore(this.canvas,C),S.removeChild(C)}}},stopFullscreen:function(){var C=this.fullscreen;if(!C.available)return this.emit(n.FULLSCREEN_UNSUPPORTED),!1;C.active&&document[C.cancel](),this.removeFullscreenTarget(),this.getParentBounds(),this.emit(n.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(C){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(C)},startListeners:function(){var C=this,S=this.domlisteners;if(S.orientationChange=function(){C.updateBounds(),C._checkOrientation=!0,C.dirty=!0,C.refresh()},S.windowResize=function(){C.updateBounds(),C.dirty=!0},window.addEventListener("orientationchange",S.orientationChange,!1),window.addEventListener("resize",S.windowResize,!1),this.fullscreen.available){S.fullScreenChange=function(P){return C.onFullScreenChange(P)},S.fullScreenError=function(P){return C.onFullScreenError(P)};var A=["webkit","moz",""];A.forEach(function(P){document.addEventListener(P+"fullscreenchange",S.fullScreenChange,!1),document.addEventListener(P+"fullscreenerror",S.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",S.fullScreenChange,!1),document.addEventListener("MSFullscreenError",S.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():this.stopFullscreen()},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(C,S){C instanceof m||(S=C,C=void 0),S===void 0&&(S=new u);var A=this.baseSize,P=this.parentSize,R=this.canvasBounds,F=this.displayScale,D=R.x>=0?0:-(R.x*F.x),L=R.y>=0?0:-(R.y*F.y),O;P.width>=R.width?O=A.width:O=A.width-(R.width-P.width)*F.x;var B;return P.height>=R.height?B=A.height:B=A.height-(R.height-P.height)*F.y,S.setTo(D,L,O,B),C&&(S.width/=C.zoomX,S.height/=C.zoomY,S.centerX=C.centerX+C.scrollX,S.centerY=C.centerY+C.scrollY),S},step:function(C,S){this.parent&&(this._lastCheck+=S,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var C=this.domlisteners;window.removeEventListener("orientationchange",C.orientationChange,!1),window.removeEventListener("resize",C.windowResize,!1);var S=["webkit","moz",""];S.forEach(function(A){document.removeEventListener(A+"fullscreenchange",C.fullScreenChange,!1),document.removeEventListener(A+"fullscreenerror",C.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",C.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",C.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===o.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===o.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});v.exports=T},64743:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={LANDSCAPE:"landscape-primary",PORTRAIT:"portrait-primary"}},81050:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},13560:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={CENTER:t(64743),ORIENTATION:t(39218),SCALE_MODE:t(81050),ZOOM:t(80805)};v.exports=o},56139:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="enterfullscreen"},2336:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="fullscreenfailed"},47412:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="fullscreenunsupported"},51452:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="leavefullscreen"},20666:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="orientationchange"},47945:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resize"},97480:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ENTER_FULLSCREEN:t(56139),FULLSCREEN_FAILED:t(2336),FULLSCREEN_UNSUPPORTED:t(47412),LEAVE_FULLSCREEN:t(51452),ORIENTATION_CHANGE:t(20666),RESIZE:t(47945)}},93364:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(79291),p=t(13560),a={Center:t(64743),Events:t(97480),Orientation:t(39218),ScaleManager:t(76531),ScaleModes:t(81050),Zoom:t(80805)};a=o(!1,a,p.CENTER),a=o(!1,a,p.ORIENTATION),a=o(!1,a,p.SCALE_MODE),a=o(!1,a,p.ZOOM),v.exports=a},27397:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95540),p=t(35355),a=function(n){var i=n.game.config.defaultPhysicsSystem,e=o(n.settings,"physics",!1);if(!(!i&&!e)){var r=[];if(i&&r.push(p(i+"Physics")),e)for(var l in e)l=p(l.concat("Physics")),r.indexOf(l)===-1&&r.push(l);return r}};v.exports=a},52106:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95540),p=function(a){var n=a.plugins.getDefaultScenePlugins(),i=o(a.settings,"plugins",!1);return Array.isArray(i)?i:n||[]};v.exports=p},87033:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};v.exports=y},97482:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(2368),a=new o({initialize:function(i){this.sys=new p(this,i),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});v.exports=a},60903:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(89993),a=t(44594),n=t(8443),i=t(35154),e=t(54899),r=t(29747),l=t(97482),s=t(2368),u=new o({initialize:function(f,c){if(this.game=f,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,c){Array.isArray(c)||(c=[c]);for(var m=0;m<c.length;m++)this._pending.push({key:"default",scene:c[m],autoStart:m===0,data:{}})}f.events.once(n.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new l),this.game.events.emit(n.SYSTEM_READY,this.systemScene,this);var d,f,c,m;for(d=0;d<this._pending.length;d++){f=this._pending[d],c=f.key,m=f.scene;var T;m instanceof l?T=this.createSceneFromInstance(c,m):typeof m=="object"?T=this.createSceneFromObject(c,m):typeof m=="function"&&(T=this.createSceneFromFunction(c,m)),c=T.sys.settings.key,this.keys[c]=T,this.scenes.push(T),this._data[c]&&(T.sys.settings.data=this._data[c].data,this._data[c].autoStart&&(f.autoStart=!0)),(f.autoStart||T.sys.settings.active)&&this._start.push(c)}for(this._pending.length=0,this._data={},this.isBooted=!0,d=0;d<this._start.length;d++)f=this._start[d],this.start(f);this._start.length=0}},processQueue:function(){var d=this._pending.length,f=this._queue.length;if(!(d===0&&f===0)){var c,m;if(d){for(c=0;c<d;c++)m=this._pending[c],this.add(m.key,m.scene,m.autoStart,m.data);for(c=0;c<this._start.length;c++)m=this._start[c],this.start(m);this._start.length=0,this._pending.length=0}for(c=0;c<this._queue.length;c++)m=this._queue[c],this[m.op](m.keyA,m.keyB);this._queue.length=0}},add:function(d,f,c,m){if(c===void 0&&(c=!1),m===void 0&&(m={}),this.isProcessing||!this.isBooted)return this._pending.push({key:d,scene:f,autoStart:c,data:m}),this.isBooted||(this._data[d]={data:m}),null;d=this.getKey(d,f);var T;return f instanceof l?T=this.createSceneFromInstance(d,f):typeof f=="object"?(f.key=d,T=this.createSceneFromObject(d,f)):typeof f=="function"&&(T=this.createSceneFromFunction(d,f)),T.sys.settings.data=m,d=T.sys.settings.key,this.keys[d]=T,this.scenes.push(T),(c||T.sys.settings.active)&&(this._pending.length?this._start.push(d):this.start(d)),T},remove:function(d){if(this.isProcessing)this._queue.push({op:"remove",keyA:d,keyB:null});else{var f=this.getScene(d);if(!f||f.sys.isTransitioning())return this;var c=this.scenes.indexOf(f),m=f.sys.settings.key;c>-1&&(delete this.keys[m],this.scenes.splice(c,1),this._start.indexOf(m)>-1&&(c=this._start.indexOf(m),this._start.splice(c,1)),f.sys.destroy())}return this},bootScene:function(d){var f=d.sys,c=f.settings;f.sceneUpdate=r,d.init&&(d.init.call(d,c.data),c.status=p.INIT,c.isTransition&&f.events.emit(a.TRANSITION_INIT,c.transitionFrom,c.transitionDuration));var m;f.load&&(m=f.load,m.reset()),m&&d.preload?(d.preload.call(d),c.status=p.LOADING,m.once(e.COMPLETE,this.loadComplete,this),m.start()):this.create(d)},loadComplete:function(d){this.game.sound&&this.game.sound.onBlurPausedSounds&&this.game.sound.unlock(),this.create(d.scene)},payloadComplete:function(d){this.bootScene(d.scene)},update:function(d,f){this.processQueue(),this.isProcessing=!0;for(var c=this.scenes.length-1;c>=0;c--){var m=this.scenes[c].sys;m.settings.status>p.START&&m.settings.status<=p.RUNNING&&m.step(d,f),m.scenePlugin&&m.scenePlugin._target&&m.scenePlugin.step(d,f)}},render:function(d){for(var f=0;f<this.scenes.length;f++){var c=this.scenes[f].sys;c.settings.visible&&c.settings.status>=p.LOADING&&c.settings.status<p.SLEEPING&&c.render(d)}this.isProcessing=!1},create:function(d){var f=d.sys,c=f.settings;d.create&&(c.status=p.CREATING,d.create.call(d,c.data),c.status===p.DESTROYED)||(c.isTransition&&f.events.emit(a.TRANSITION_START,c.transitionFrom,c.transitionDuration),d.update&&(f.sceneUpdate=d.update),c.status=p.RUNNING,f.events.emit(a.CREATE,d))},createSceneFromFunction:function(d,f){var c=new f;if(c instanceof l){var m=c.sys.settings.key;if(m!==""&&(d=m),this.keys.hasOwnProperty(d))throw new Error("Cannot add a Scene with duplicate key: "+d);return this.createSceneFromInstance(d,c)}else return c.sys=new s(c),c.sys.settings.key=d,c.sys.init(this.game),c},createSceneFromInstance:function(d,f){var c=f.sys.settings.key;return c===""&&(f.sys.settings.key=d),f.sys.init(this.game),f},createSceneFromObject:function(d,f){var c=new l(f),m=c.sys.settings.key;m!==""?d=m:c.sys.settings.key=d,c.sys.init(this.game);for(var T=["init","preload","create","update","render"],C=0;C<T.length;C++){var S=i(f,T[C],null);S&&(c[T[C]]=S)}if(f.hasOwnProperty("extend")){for(var A in f.extend)if(f.extend.hasOwnProperty(A)){var P=f.extend[A];A==="data"&&c.hasOwnProperty("data")&&typeof P=="object"?c.data.merge(P):A!=="sys"&&(c[A]=P)}}return c},getKey:function(d,f){if(d||(d="default"),typeof f=="function")return d;if(f instanceof l?d=f.sys.settings.key:typeof f=="object"&&f.hasOwnProperty("key")&&(d=f.key),this.keys.hasOwnProperty(d))throw new Error("Cannot add a Scene with duplicate key: "+d);return d},getScenes:function(d,f){d===void 0&&(d=!0),f===void 0&&(f=!1);for(var c=[],m=this.scenes,T=0;T<m.length;T++){var C=m[T];C&&(!d||d&&C.sys.isActive())&&c.push(C)}return f?c.reverse():c},getScene:function(d){if(typeof d=="string"){if(this.keys[d])return this.keys[d]}else for(var f=0;f<this.scenes.length;f++)if(d===this.scenes[f])return d;return null},isActive:function(d){var f=this.getScene(d);return f?f.sys.isActive():null},isPaused:function(d){var f=this.getScene(d);return f?f.sys.isPaused():null},isVisible:function(d){var f=this.getScene(d);return f?f.sys.isVisible():null},isSleeping:function(d){var f=this.getScene(d);return f?f.sys.isSleeping():null},pause:function(d,f){var c=this.getScene(d);return c&&c.sys.pause(f),this},resume:function(d,f){var c=this.getScene(d);return c&&c.sys.resume(f),this},sleep:function(d,f){var c=this.getScene(d);return c&&!c.sys.isTransitioning()&&c.sys.sleep(f),this},wake:function(d,f){var c=this.getScene(d);return c&&c.sys.wake(f),this},run:function(d,f){var c=this.getScene(d);if(!c){for(var m=0;m<this._pending.length;m++)if(this._pending[m].key===d){this.queueOp("start",d,f);break}return this}c.sys.isSleeping()?c.sys.wake(f):c.sys.isPaused()?c.sys.resume(f):this.start(d,f)},start:function(d,f){if(!this.isBooted)return this._data[d]={autoStart:!0,data:f},this;var c=this.getScene(d);if(!c)return console.warn("Scene not found for key: "+d),this;var m=c.sys,T=m.settings.status;if(T>=p.START&&T<=p.CREATING)return this;if(T>=p.RUNNING&&T<=p.SLEEPING)m.shutdown(),m.sceneUpdate=r,m.start(f);else{m.sceneUpdate=r,m.start(f);var C;if(m.load&&(C=m.load),C&&m.settings.hasOwnProperty("pack")&&(C.reset(),C.addPack({payload:m.settings.pack})))return m.settings.status=p.LOADING,C.once(e.COMPLETE,this.payloadComplete,this),C.start(),this}return this.bootScene(c),this},stop:function(d,f){var c=this.getScene(d);if(c&&!c.sys.isTransitioning()&&c.sys.settings.status!==p.SHUTDOWN){var m=c.sys.load;m&&(m.off(e.COMPLETE,this.loadComplete,this),m.off(e.COMPLETE,this.payloadComplete,this)),c.sys.shutdown(f)}return this},switch:function(d,f){var c=this.getScene(d),m=this.getScene(f);return c&&m&&c!==m&&(this.sleep(d),this.isSleeping(f)?this.wake(f):this.start(f)),this},getAt:function(d){return this.scenes[d]},getIndex:function(d){var f=this.getScene(d);return this.scenes.indexOf(f)},bringToTop:function(d){if(this.isProcessing)this._queue.push({op:"bringToTop",keyA:d,keyB:null});else{var f=this.getIndex(d);if(f!==-1&&f<this.scenes.length){var c=this.getScene(d);this.scenes.splice(f,1),this.scenes.push(c)}}return this},sendToBack:function(d){if(this.isProcessing)this._queue.push({op:"sendToBack",keyA:d,keyB:null});else{var f=this.getIndex(d);if(f!==-1&&f>0){var c=this.getScene(d);this.scenes.splice(f,1),this.scenes.unshift(c)}}return this},moveDown:function(d){if(this.isProcessing)this._queue.push({op:"moveDown",keyA:d,keyB:null});else{var f=this.getIndex(d);if(f>0){var c=f-1,m=this.getScene(d),T=this.getAt(c);this.scenes[f]=T,this.scenes[c]=m}}return this},moveUp:function(d){if(this.isProcessing)this._queue.push({op:"moveUp",keyA:d,keyB:null});else{var f=this.getIndex(d);if(f<this.scenes.length-1){var c=f+1,m=this.getScene(d),T=this.getAt(c);this.scenes[f]=T,this.scenes[c]=m}}return this},moveAbove:function(d,f){if(d===f)return this;if(this.isProcessing)this._queue.push({op:"moveAbove",keyA:d,keyB:f});else{var c=this.getIndex(d),m=this.getIndex(f);if(c!==-1&&m!==-1&&m<c){var T=this.getAt(m);this.scenes.splice(m,1),this.scenes.splice(c+(m>c),0,T)}}return this},moveBelow:function(d,f){if(d===f)return this;if(this.isProcessing)this._queue.push({op:"moveBelow",keyA:d,keyB:f});else{var c=this.getIndex(d),m=this.getIndex(f);if(c!==-1&&m!==-1&&m>c){var T=this.getAt(m);this.scenes.splice(m,1),c===0?this.scenes.unshift(T):this.scenes.splice(c-(m<c),0,T)}}return this},queueOp:function(d,f,c){return this._queue.push({op:d,keyA:f,keyB:c}),this},swapPosition:function(d,f){if(d===f)return this;if(this.isProcessing)this._queue.push({op:"swapPosition",keyA:d,keyB:f});else{var c=this.getIndex(d),m=this.getIndex(f);if(c!==m&&c!==-1&&m!==-1){var T=this.getAt(c);this.scenes[c]=this.scenes[m],this.scenes[m]=T}}return this},dump:function(){for(var d=[],f=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],c=0;c<this.scenes.length;c++){var m=this.scenes[c].sys,T=m.settings.visible&&(m.settings.status===p.RUNNING||m.settings.status===p.PAUSED)?"[*] ":"[-] ";T+=m.settings.key+" ("+f[m.settings.status]+")",d.push(T)}console.log(d.join(`
`))},destroy:function(){for(var d=0;d<this.scenes.length;d++){var f=this.scenes[d].sys;f.destroy()}this.systemScene.sys.destroy(),this.update=r,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});v.exports=u},52209:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),p=t(83419),a=t(44594),n=t(95540),i=t(37277),e=new p({initialize:function(l){this.scene=l,this.systems=l.sys,this.settings=l.sys.settings,this.key=l.sys.settings.key,this.manager=l.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,l.sys.events.once(a.BOOT,this.boot,this),l.sys.events.on(a.START,this.pluginStart,this)},boot:function(){this.systems.events.once(a.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(a.SHUTDOWN,this.shutdown,this)},start:function(r,l){return r===void 0&&(r=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",r,l),this},restart:function(r){var l=this.key;return this.manager.queueOp("stop",l),this.manager.queueOp("start",l,r),this},transition:function(r){r===void 0&&(r={});var l=n(r,"target",!1),s=this.manager.getScene(l);if(!l||!this.checkValidTransition(s))return!1;var u=n(r,"duration",1e3);this._elapsed=0,this._target=s,this._duration=u,this._willSleep=n(r,"sleep",!1),this._willRemove=n(r,"remove",!1);var d=n(r,"onUpdate",null);d&&(this._onUpdate=d,this._onUpdateScope=n(r,"onUpdateScope",this.scene));var f=n(r,"allowInput",!1);this.settings.transitionAllowInput=f;var c=s.sys.settings;c.isTransition=!0,c.transitionFrom=this.scene,c.transitionDuration=u,c.transitionAllowInput=f,n(r,"moveAbove",!1)?this.manager.moveAbove(this.key,l):n(r,"moveBelow",!1)&&this.manager.moveBelow(this.key,l),s.sys.isSleeping()?s.sys.wake(n(r,"data")):this.manager.start(l,n(r,"data"));var m=n(r,"onStart",null),T=n(r,"onStartScope",this.scene);return m&&m.call(T,this.scene,s,u),this.systems.events.emit(a.TRANSITION_OUT,s,u),!0},checkValidTransition:function(r){return!(!r||r.sys.isActive()||r.sys.isTransitioning()||r===this.scene||this.systems.isTransitioning())},step:function(r,l){this._elapsed+=l,this.transitionProgress=o(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var r=this._target.sys,l=this._target.sys.settings;r.events.emit(a.TRANSITION_COMPLETE,this.scene),l.isTransition=!1,l.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(r,l,s,u){return this.manager.add(r,l,s,u)},launch:function(r,l){return r&&r!==this.key&&this.manager.queueOp("start",r,l),this},run:function(r,l){return r&&r!==this.key&&this.manager.queueOp("run",r,l),this},pause:function(r,l){return r===void 0&&(r=this.key),this.manager.queueOp("pause",r,l),this},resume:function(r,l){return r===void 0&&(r=this.key),this.manager.queueOp("resume",r,l),this},sleep:function(r,l){return r===void 0&&(r=this.key),this.manager.queueOp("sleep",r,l),this},wake:function(r,l){return r===void 0&&(r=this.key),this.manager.queueOp("wake",r,l),this},switch:function(r){return r!==this.key&&this.manager.queueOp("switch",this.key,r),this},stop:function(r,l){return r===void 0&&(r=this.key),this.manager.queueOp("stop",r,l),this},setActive:function(r,l,s){l===void 0&&(l=this.key);var u=this.manager.getScene(l);return u&&u.sys.setActive(r,s),this},setVisible:function(r,l){l===void 0&&(l=this.key);var s=this.manager.getScene(l);return s&&s.sys.setVisible(r),this},isSleeping:function(r){return r===void 0&&(r=this.key),this.manager.isSleeping(r)},isActive:function(r){return r===void 0&&(r=this.key),this.manager.isActive(r)},isPaused:function(r){return r===void 0&&(r=this.key),this.manager.isPaused(r)},isVisible:function(r){return r===void 0&&(r=this.key),this.manager.isVisible(r)},swapPosition:function(r,l){return l===void 0&&(l=this.key),r!==l&&this.manager.swapPosition(r,l),this},moveAbove:function(r,l){return l===void 0&&(l=this.key),r!==l&&this.manager.moveAbove(r,l),this},moveBelow:function(r,l){return l===void 0&&(l=this.key),r!==l&&this.manager.moveBelow(r,l),this},remove:function(r){return r===void 0&&(r=this.key),this.manager.remove(r),this},moveUp:function(r){return r===void 0&&(r=this.key),this.manager.moveUp(r),this},moveDown:function(r){return r===void 0&&(r=this.key),this.manager.moveDown(r),this},bringToTop:function(r){return r===void 0&&(r=this.key),this.manager.bringToTop(r),this},sendToBack:function(r){return r===void 0&&(r=this.key),this.manager.sendToBack(r),this},get:function(r){return this.manager.getScene(r)},getStatus:function(r){var l=this.manager.getScene(r);if(l)return l.sys.getStatus()},getIndex:function(r){return r===void 0&&(r=this.key),this.manager.getIndex(r)},shutdown:function(){var r=this.systems.events;r.off(a.SHUTDOWN,this.shutdown,this),r.off(a.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(a.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});i.register("ScenePlugin",e,"scenePlugin"),v.exports=e},55681:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(89993),p=t(35154),a=t(46975),n=t(87033),i={create:function(e){return typeof e=="string"?e={key:e}:e===void 0&&(e={}),{status:o.PENDING,key:p(e,"key",""),active:p(e,"active",!1),visible:p(e,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:p(e,"pack",!1),cameras:p(e,"cameras",null),map:p(e,"map",a(n,p(e,"mapAdd",{}))),physics:p(e,"physics",{}),loader:p(e,"loader",{}),plugins:p(e,"plugins",!1),input:p(e,"input",{})}}};v.exports=i},2368:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(89993),a=t(42363),n=t(44594),i=t(27397),e=t(52106),r=t(29747),l=t(55681),s=new o({initialize:function(d,f){this.scene=d,this.game,this.renderer,this.config=f,this.settings=l.create(f),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=r},init:function(u){this.settings.status=p.INIT,this.sceneUpdate=r,this.game=u,this.renderer=u.renderer,this.canvas=u.canvas,this.context=u.context;var d=u.plugins;this.plugins=d,d.addToScene(this,a.Global,[a.CoreScene,e(this),i(this)]),this.events.emit(n.BOOT,this),this.settings.isBooted=!0},step:function(u,d){var f=this.events;f.emit(n.PRE_UPDATE,u,d),f.emit(n.UPDATE,u,d),this.sceneUpdate.call(this.scene,u,d),f.emit(n.POST_UPDATE,u,d)},render:function(u){var d=this.displayList;d.depthSort(),this.events.emit(n.PRE_RENDER,u),this.cameras.render(u,d),this.events.emit(n.RENDER,u)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(u){var d=this.settings,f=this.getStatus();return f!==p.CREATING&&f!==p.RUNNING?console.warn("Cannot pause non-running Scene",d.key):this.settings.active&&(d.status=p.PAUSED,d.active=!1,this.events.emit(n.PAUSE,this,u)),this},resume:function(u){var d=this.events,f=this.settings;return this.settings.active||(f.status=p.RUNNING,f.active=!0,d.emit(n.RESUME,this,u)),this},sleep:function(u){var d=this.settings,f=this.getStatus();return f!==p.CREATING&&f!==p.RUNNING?console.warn("Cannot sleep non-running Scene",d.key):(d.status=p.SLEEPING,d.active=!1,d.visible=!1,this.events.emit(n.SLEEP,this,u)),this},wake:function(u){var d=this.events,f=this.settings;return f.status=p.RUNNING,f.active=!0,f.visible=!0,d.emit(n.WAKE,this,u),f.isTransition&&d.emit(n.TRANSITION_WAKE,f.transitionFrom,f.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var u=this.settings.status;return u>p.PENDING&&u<=p.RUNNING},isSleeping:function(){return this.settings.status===p.SLEEPING},isActive:function(){return this.settings.status===p.RUNNING},isPaused:function(){return this.settings.status===p.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(u){return this.settings.visible=u,this},setActive:function(u,d){return u?this.resume(d):this.pause(d)},start:function(u){var d=this.events,f=this.settings;u&&(f.data=u),f.status=p.START,f.active=!0,f.visible=!0,d.emit(n.START,this),d.emit(n.READY,this,u)},shutdown:function(u){var d=this.events,f=this.settings;d.off(n.TRANSITION_INIT),d.off(n.TRANSITION_START),d.off(n.TRANSITION_COMPLETE),d.off(n.TRANSITION_OUT),f.status=p.SHUTDOWN,f.active=!1,f.visible=!1,d.emit(n.SHUTDOWN,this,u)},destroy:function(){var u=this.events,d=this.settings;d.status=p.DESTROYED,d.active=!1,d.visible=!1,u.emit(n.DESTROY,this),u.removeAllListeners();for(var f=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],c=0;c<f.length;c++)this[f[c]]=null}});v.exports=s},89993:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};v.exports=y},69830:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="addedtoscene"},7919:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="boot"},46763:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="create"},11763:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="destroy"},71555:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pause"},36735:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="postupdate"},3809:v=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="prerender"},90716:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="preupdate"},58262:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="ready"},91633:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="removedfromscene"},10319:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="render"},87132:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resume"},81961:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="shutdown"},90194:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="sleep"},6265:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="start"},33178:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="transitioncomplete"},43063:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="transitioninit"},11259:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="transitionout"},61611:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="transitionstart"},45209:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="transitionwake"},22966:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="update"},21747:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="wake"},44594:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ADDED_TO_SCENE:t(69830),BOOT:t(7919),CREATE:t(46763),DESTROY:t(11763),PAUSE:t(71555),POST_UPDATE:t(36735),PRE_RENDER:t(3809),PRE_UPDATE:t(90716),READY:t(58262),REMOVED_FROM_SCENE:t(91633),RENDER:t(10319),RESUME:t(87132),SHUTDOWN:t(81961),SLEEP:t(90194),START:t(6265),TRANSITION_COMPLETE:t(33178),TRANSITION_INIT:t(43063),TRANSITION_OUT:t(11259),TRANSITION_START:t(61611),TRANSITION_WAKE:t(45209),UPDATE:t(22966),WAKE:t(21747)}},62194:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(89993),p=t(79291),a={Events:t(44594),GetPhysicsPlugins:t(27397),GetScenePlugins:t(52106),SceneManager:t(60903),ScenePlugin:t(52209),Settings:t(55681),Systems:t(2368)};a=p(!1,a,o),v.exports=a},30341:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(50792),a=t(14463),n=t(79291),i=t(29747),e=new o({Extends:p,initialize:function(l,s,u){p.call(this),this.manager=l,this.key=s,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=n(this.config,u),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(r){return!r||!r.name||typeof r.name!="string"?!1:this.markers[r.name]?(console.error("addMarker "+r.name+" already exists in Sound"),!1):(r=n(!0,{name:"",start:0,duration:this.totalDuration-(r.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},r),this.markers[r.name]=r,!0)},updateMarker:function(r){return!r||!r.name||typeof r.name!="string"?!1:this.markers[r.name]?(this.markers[r.name]=n(!0,this.markers[r.name],r),!0):(console.warn("Audio Marker: "+r.name+" missing in Sound: "+this.key),!1)},removeMarker:function(r){var l=this.markers[r];return l?(this.markers[r]=null,l):null},play:function(r,l){if(r===void 0&&(r=""),typeof r=="object"&&(l=r,r=""),typeof r!="string")return!1;if(!r)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[r])return console.warn("Marker: "+r+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[r],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=n(this.currentConfig,l),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:i,calculateRate:function(){var r=1.0005777895065548,l=this.currentConfig.detune+this.manager.detune,s=Math.pow(r,l);this.totalRate=this.currentConfig.rate*this.manager.rate*s},destroy:function(){this.pendingRemove||(this.stop(),this.emit(a.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});v.exports=e},85034:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(41786),a=t(50792),n=t(14463),i=t(8443),e=t(46710),r=t(58731),l=t(29747),s=t(26099),u=new o({Extends:a,initialize:function(f){a.call(this),this.game=f,this.jsonCache=f.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new s,f.events.on(i.BLUR,this.onGameBlur,this),f.events.on(i.FOCUS,this.onGameFocus,this),f.events.on(i.PRE_STEP,this.update,this),f.events.once(i.DESTROY,this.destroy,this)},add:l,addAudioSprite:function(d,f){f===void 0&&(f={});var c=this.add(d,f);c.spritemap=this.jsonCache.get(d).spritemap;for(var m in c.spritemap)if(c.spritemap.hasOwnProperty(m)){var T=p(f),C=c.spritemap[m];T.loop=C.hasOwnProperty("loop")?C.loop:!1,c.addMarker({name:m,start:C.start,duration:C.end-C.start,config:T})}return c},get:function(d){return r(this.sounds,"key",d)},getAll:function(d){return d?e(this.sounds,"key",d):e(this.sounds)},getAllPlaying:function(){return e(this.sounds,"isPlaying",!0)},play:function(d,f){var c=this.add(d);return c.once(n.COMPLETE,c.destroy,c),f?f.name?(c.addMarker(f),c.play(f.name)):c.play(f):c.play()},playAudioSprite:function(d,f,c){var m=this.addAudioSprite(d);return m.once(n.COMPLETE,m.destroy,m),m.play(f,c)},remove:function(d){var f=this.sounds.indexOf(d);return f!==-1?(d.destroy(),this.sounds.splice(f,1),!0):!1},removeAll:function(){this.sounds.forEach(function(d){d.destroy()}),this.sounds.length=0},removeByKey:function(d){for(var f=0,c=this.sounds.length-1;c>=0;c--){var m=this.sounds[c];m.key===d&&(m.destroy(),this.sounds.splice(c,1),f++)}return f},pauseAll:function(){this.forEachActiveSound(function(d){d.pause()}),this.emit(n.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(d){d.resume()}),this.emit(n.RESUME_ALL,this)},setListenerPosition:l,stopAll:function(){this.forEachActiveSound(function(d){d.stop()}),this.emit(n.STOP_ALL,this)},stopByKey:function(d){var f=0;return this.getAll(d).forEach(function(c){c.stop()&&f++}),f},unlock:l,onBlur:l,onFocus:l,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(d,f){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(n.UNLOCKED,this));for(var c=this.sounds.length-1;c>=0;c--)this.sounds[c].pendingRemove&&this.sounds.splice(c,1);this.sounds.forEach(function(m){m.update(d,f)})},destroy:function(){this.game.events.off(i.BLUR,this.onGameBlur,this),this.game.events.off(i.FOCUS,this.onGameFocus,this),this.game.events.off(i.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(d,f){var c=this;this.sounds.forEach(function(m,T){m&&!m.pendingRemove&&d.call(f||c,m,T,c.sounds)})},setRate:function(d){return this.rate=d,this},rate:{get:function(){return this._rate},set:function(d){this._rate=d,this.forEachActiveSound(function(f){f.calculateRate()}),this.emit(n.GLOBAL_RATE,this,d)}},setDetune:function(d){return this.detune=d,this},detune:{get:function(){return this._detune},set:function(d){this._detune=d,this.forEachActiveSound(function(f){f.calculateRate()}),this.emit(n.GLOBAL_DETUNE,this,d)}}});v.exports=u},14747:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(33684),p=t(25960),a=t(57490),n={create:function(i){var e=i.config.audio,r=i.device.audio;return e.noAudio||!r.webAudio&&!r.audioData?new p(i):r.webAudio&&!e.disableWebAudio?new a(i):new o(i)}};v.exports=n},19723:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="complete"},98882:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="decodedall"},57506:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="decoded"},73146:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="destroy"},11305:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="detune"},40577:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="detune"},30333:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="mute"},20394:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="rate"},21802:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="volume"},1299:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="looped"},99190:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="loop"},97125:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="mute"},89259:v=>{/**
 * @author       pi-kei
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pan"},79986:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pauseall"},17586:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pause"},19618:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="play"},42306:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="rate"},10387:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resumeall"},48959:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resume"},9960:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="seek"},19180:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="stopall"},98328:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="stop"},50401:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="unlocked"},52498:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="volume"},14463:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={COMPLETE:t(19723),DECODED:t(57506),DECODED_ALL:t(98882),DESTROY:t(73146),DETUNE:t(11305),GLOBAL_DETUNE:t(40577),GLOBAL_MUTE:t(30333),GLOBAL_RATE:t(20394),GLOBAL_VOLUME:t(21802),LOOP:t(99190),LOOPED:t(1299),MUTE:t(97125),PAN:t(89259),PAUSE_ALL:t(79986),PAUSE:t(17586),PLAY:t(19618),RATE:t(42306),RESUME_ALL:t(10387),RESUME:t(48959),SEEK:t(9960),STOP_ALL:t(19180),STOP:t(98328),UNLOCKED:t(50401),VOLUME:t(52498)}},64895:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(30341),p=t(83419),a=t(14463),n=t(45319),i=new p({Extends:o,initialize:function(r,l,s){if(s===void 0&&(s={}),this.tags=r.game.cache.audio.get(l),!this.tags)throw new Error('No cached audio asset with key "'+l);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,o.call(this,r,l,s)},play:function(e,r){return this.manager.isLocked(this,"play",[e,r])||!o.prototype.play.call(this,e,r)||!this.pickAndPlayAudioTag()?!1:(this.emit(a.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!o.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(a.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!o.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(a.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!o.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(a.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var e=this.currentConfig.seek,r=this.currentConfig.delay,l=(this.currentMarker?this.currentMarker.start:0)+e;return this.previousTime=l,this.audio.currentTime=l,this.applyConfig(),r===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+r*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var e=0;e<this.tags.length;e++){var r=this.tags[e];if(r.dataset.used==="false")return r.dataset.used="true",this.audio=r,!0}if(!this.manager.override)return!1;var l=[];this.manager.forEachActiveSound(function(u){u.key===this.key&&u.audio&&l.push(u)},this),l.sort(function(u,d){return u.loop===d.loop?d.seek/d.duration-u.seek/u.duration:u.loop?1:-1});var s=l[0];return this.audio=s.audio,s.reset(),s.audio=null,s.startTime=0,s.previousTime=0,!0},playCatchPromise:function(){var e=this.audio.play();e&&e.catch(function(r){console.warn(r)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){o.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(e){if(this.isPlaying){if(this.startTime>0){this.startTime<e-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,e-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var r=this.currentMarker?this.currentMarker.start:0,l=r+this.duration,s=this.audio.currentTime;if(this.currentConfig.loop)s>=l-this.manager.loopEndOffset?(this.audio.currentTime=r+Math.max(0,s-l),s=this.audio.currentTime):s<r&&(this.audio.currentTime+=r,s=this.audio.currentTime),s<this.previousTime&&this.emit(a.LOOPED,this);else if(s>=l){this.reset(),this.stopAndReleaseAudioTag(),this.emit(a.COMPLETE,this);return}this.previousTime=s}},destroy:function(){o.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=n(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){o.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(e){this.currentConfig.mute=e,!this.manager.isLocked(this,"mute",e)&&(this.updateMute(),this.emit(a.MUTE,this,e))}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.currentConfig.volume},set:function(e){this.currentConfig.volume=e,!this.manager.isLocked(this,"volume",e)&&(this.updateVolume(),this.emit(a.VOLUME,this,e))}},setVolume:function(e){return this.volume=e,this},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,!this.manager.isLocked(this,a.RATE,e)&&(this.calculateRate(),this.emit(a.RATE,this,e))}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,!this.manager.isLocked(this,a.DETUNE,e)&&(this.calculateRate(),this.emit(a.DETUNE,this,e))}},setDetune:function(e){return this.detune=e,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(e){this.manager.isLocked(this,"seek",e)||this.startTime>0||(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.isPlaying?(this.previousTime=e,this.audio.currentTime=e):this.isPaused&&(this.currentConfig.seek=e),this.emit(a.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,!this.manager.isLocked(this,"loop",e)&&(this.audio&&(this.audio.loop=e),this.emit(a.LOOP,this,e))}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.currentConfig.pan},set:function(e){this.currentConfig.pan=e,this.emit(a.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});v.exports=i},33684:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(85034),p=t(83419),a=t(14463),n=t(64895),i=new p({Extends:o,initialize:function(r){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,o.call(this,r)},add:function(e,r){var l=new n(this,e,r);return this.sounds.push(l),l},unlock:function(){this.locked=!1;var e=this;if(this.game.cache.audio.entries.each(function(u,d){for(var f=0;f<d.length;f++)if(d[f].dataset.locked==="true")return e.locked=!0,!1;return!0}),!!this.locked){var r=!1,l=function(){r=!0},s=function(){if(r){r=!1;return}document.body.removeEventListener("touchmove",l),document.body.removeEventListener("touchend",s);var u=[];if(e.game.cache.audio.entries.each(function(f,c){for(var m=0;m<c.length;m++){var T=c[m];T.dataset.locked==="true"&&u.push(T)}return!0}),u.length!==0){var d=u[u.length-1];d.oncanplaythrough=function(){d.oncanplaythrough=null,u.forEach(function(f){f.dataset.locked="false"}),e.unlocked=!0},u.forEach(function(f){f.load()})}};this.once(a.UNLOCKED,function(){for(this.forEachActiveSound(function(d){d.currentMarker===null&&d.duration===0&&(d.duration=d.tags[0].duration),d.totalDuration=d.tags[0].duration});this.lockedActionsQueue.length;){var u=this.lockedActionsQueue.shift();u.sound[u.prop].apply?u.sound[u.prop].apply(u.sound,u.value||[]):u.sound[u.prop]=u.value}},this),document.body.addEventListener("touchmove",l,!1),document.body.addEventListener("touchend",s,!1)}},onBlur:function(){this.forEachActiveSound(function(e){e.isPlaying&&(this.onBlurPausedSounds.push(e),e.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(e){e.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){o.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(e,r,l){return e.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:e,prop:r,value:l}),!0):!1},setMute:function(e){return this.mute=e,this},mute:{get:function(){return this._mute},set:function(e){this._mute=e,this.forEachActiveSound(function(r){r.updateMute()}),this.emit(a.GLOBAL_MUTE,this,e)}},setVolume:function(e){return this.volume=e,this},volume:{get:function(){return this._volume},set:function(e){this._volume=e,this.forEachActiveSound(function(r){r.updateVolume()}),this.emit(a.GLOBAL_VOLUME,this,e)}}});v.exports=i},23717:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={SoundManagerCreator:t(14747),Events:t(14463),BaseSound:t(30341),BaseSoundManager:t(85034),WebAudioSound:t(71741),WebAudioSoundManager:t(57490),HTML5AudioSound:t(64895),HTML5AudioSoundManager:t(33684),NoAudioSound:t(4603),NoAudioSoundManager:t(25960)}},4603:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(30341),p=t(83419),a=t(50792),n=t(79291),i=t(29747),e=function(){return!1},r=function(){return null},l=function(){return this},s=new p({Extends:a,initialize:function(d,f,c){c===void 0&&(c={}),a.call(this),this.manager=d,this.key=f,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=n({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},c),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:e,updateMarker:e,removeMarker:r,play:e,pause:e,resume:e,stop:e,setMute:l,setVolume:l,setRate:l,setDetune:l,setSeek:l,setLoop:l,setPan:l,applyConfig:r,resetConfig:r,update:i,calculateRate:r,destroy:function(){o.prototype.destroy.call(this)}});v.exports=s},25960:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(85034),p=t(83419),a=t(50792),n=t(4603),i=t(29747),e=new p({Extends:a,initialize:function(l){a.call(this),this.game=l,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(r,l){var s=new n(this,r,l);return this.sounds.push(s),s},addAudioSprite:function(r,l){var s=this.add(r,l);return s.spritemap={},s},get:function(r){return o.prototype.get.call(this,r)},getAll:function(r){return o.prototype.getAll.call(this,r)},play:function(r,l){return!1},playAudioSprite:function(r,l,s){return!1},remove:function(r){return o.prototype.remove.call(this,r)},removeAll:function(){return o.prototype.removeAll.call(this)},removeByKey:function(r){return o.prototype.removeByKey.call(this,r)},stopByKey:function(r){return o.prototype.stopByKey.call(this,r)},onBlur:i,onFocus:i,onGameBlur:i,onGameFocus:i,pauseAll:i,resumeAll:i,stopAll:i,update:i,setRate:i,setDetune:i,setMute:i,setVolume:i,unlock:i,forEachActiveSound:function(r,l){o.prototype.forEachActiveSound.call(this,r,l)},destroy:function(){o.prototype.destroy.call(this)}});v.exports=e},71741:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(30341),p=t(83419),a=t(14463),n=t(95540),i=new p({Extends:o,initialize:function(r,l,s){if(s===void 0&&(s={}),this.audioBuffer=r.game.cache.audio.get(l),!this.audioBuffer)throw new Error('Audio key "'+l+'" missing from cache');this.source=null,this.loopSource=null,this.muteNode=r.context.createGain(),this.volumeNode=r.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),r.context.createPanner&&(this.spatialNode=r.context.createPanner(),this.volumeNode.connect(this.spatialNode)),r.context.createStereoPanner?(this.pannerNode=r.context.createStereoPanner(),r.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(r.destination)):r.context.createPanner?this.spatialNode.connect(r.destination):this.volumeNode.connect(r.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,o.call(this,r,l,s)},play:function(e,r){return o.prototype.play.call(this,e,r)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(a.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!o.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(a.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!o.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(a.RESUME,this),!0)},stop:function(){return o.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(a.STOP,this),!0):!1},createAndStartBufferSource:function(){var e=this.currentConfig.seek,r=this.currentConfig.delay,l=this.manager.context.currentTime+r,s=(this.currentMarker?this.currentMarker.start:0)+e,u=this.duration-e;this.playTime=l-e,this.startTime=l,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,l),Math.max(0,s),Math.max(0,u)),this.resetConfig()},createAndStartLoopBufferSource:function(){var e=this.getLoopTime(),r=this.currentMarker?this.currentMarker.start:0,l=this.duration;this.loopTime=e,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,e),Math.max(0,r),Math.max(0,l))},createBufferSource:function(){var e=this,r=this.manager.context.createBufferSource();return r.buffer=this.audioBuffer,r.connect(this.muteNode),r.onended=function(l){l.target===e.source&&(e.currentConfig.loop?e.hasLooped=!0:e.hasEnded=!0)},r},stopAndRemoveBufferSource:function(){if(this.source){var e=this.source;this.source=null,e.stop(),e.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var e=this.currentConfig.source;if(e&&this.manager.context.createPanner){var r=this.spatialNode;r.panningModel=n(e,"panningModel","equalpower"),r.distanceModel=n(e,"distanceModel","inverse"),r.orientationX.value=n(e,"orientationX",0),r.orientationY.value=n(e,"orientationY",0),r.orientationZ.value=n(e,"orientationZ",-1),r.refDistance=n(e,"refDistance",1),r.maxDistance=n(e,"maxDistance",1e4),r.rolloffFactor=n(e,"rolloffFactor",1),r.coneInnerAngle=n(e,"coneInnerAngle",360),r.coneOuterAngle=n(e,"coneOuterAngle",0),r.coneOuterGain=n(e,"coneOuterGain",0),this.spatialSource=n(e,"follow",null),this.spatialSource||(r.positionX.value=n(e,"x",0),r.positionY.value=n(e,"y",0),r.positionZ.value=n(e,"z",0))}o.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(e){this.spatialNode&&(this.spatialNode.positionX.value=e)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(e){this.spatialNode&&(this.spatialNode.positionY.value=e)}},update:function(){if(this.isPlaying&&this.spatialSource){var e=n(this.spatialSource,"x",null),r=n(this.spatialSource,"y",null);e&&e!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=e),r&&r!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=r)}this.hasEnded?(o.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(a.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(a.LOOPED,this))},destroy:function(){this.pendingRemove||(o.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){o.prototype.calculateRate.call(this);var e=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,e),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,e)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var e=0,r=0;r<this.rateUpdates.length;r++){var l=0;r<this.rateUpdates.length-1?l=this.rateUpdates[r+1].time:l=this.manager.context.currentTime-this.playTime,e+=(l-this.rateUpdates[r].time)*this.rateUpdates[r].rate}return e},getLoopTime:function(){for(var e=0,r=0;r<this.rateUpdates.length-1;r++)e+=(this.rateUpdates[r+1].time-this.rateUpdates[r].time)*this.rateUpdates[r].rate;var l=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+l.time+(this.duration-e)/l.rate},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,this.calculateRate(),this.emit(a.RATE,this,e)}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,this.calculateRate(),this.emit(a.DETUNE,this,e)}},setDetune:function(e){return this.detune=e,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(e){this.currentConfig.mute=e,this.muteNode.gain.setValueAtTime(e?0:1,0),this.emit(a.MUTE,this,e)}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(e){this.currentConfig.volume=e,this.volumeNode.gain.setValueAtTime(e,0),this.emit(a.VOLUME,this,e)}},setVolume:function(e){return this.volume=e,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(e){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.currentConfig.seek=e,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(a.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),e&&this.createAndStartLoopBufferSource()),this.emit(a.LOOP,this,e)}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(e){this.currentConfig.pan=e,this.pannerNode&&this.pannerNode.pan.setValueAtTime(e,this.manager.context.currentTime),this.emit(a.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});v.exports=i},57490:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(53134),p=t(85034),a=t(83419),n=t(14463),i=t(8443),e=t(71741),r=t(95540),l=new a({Extends:p,initialize:function(u){this.context=this.createAudioContext(u),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended"&&("ontouchstart"in window||"onclick"in window),p.call(this,u),this.locked&&u.isBooted?this.unlock():u.events.once(i.BOOT,this.unlock,this)},createAudioContext:function(s){var u=s.config.audio;if(u.context)return u.context.resume(),u.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(s){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=s,this.masterMuteNode=s.createGain(),this.masterVolumeNode=s.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(s.destination),this.destination=this.masterMuteNode,this},add:function(s,u){var d=new e(this,s,u);return this.sounds.push(d),d},decodeAudio:function(s,u){var d;Array.isArray(s)?d=s:d=[{key:s,data:u}];for(var f=this.game.cache.audio,c=d.length,m=0;m<d.length;m++){var T=d[m],C=T.key,S=T.data;typeof S=="string"&&(S=o(S));var A=(function(R,F){f.add(R,F),this.emit(n.DECODED,R),c--,c===0&&this.emit(n.DECODED_ALL)}).bind(this,C),P=(function(R,F){console.error("Error decoding audio: "+R+" - ",F?F.message:""),c--,c===0&&this.emit(n.DECODED_ALL)}).bind(this,C);this.context.decodeAudioData(S,A,P)}},setListenerPosition:function(s,u){return s===void 0&&(s=this.game.scale.width/2),u===void 0&&(u=this.game.scale.height/2),this.listenerPosition.set(s,u),this},unlock:function(){var s=this,u=document.body,d=function f(){if(s.context&&u){var c=u.removeEventListener.bind(u);s.context.resume().then(function(){c("touchstart",f),c("touchend",f),c("click",f),c("keydown",f),s.unlocked=!0},function(){c("touchstart",f),c("touchend",f),c("click",f),c("keydown",f)})}};u&&(u.addEventListener("touchstart",d,!1),u.addEventListener("touchend",d,!1),u.addEventListener("click",d,!1),u.addEventListener("keydown",d,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var s=this.context;s&&!this.locked&&(s.state==="suspended"||s.state==="interrupted")&&s.resume()},update:function(s,u){var d=this.context.listener;if(d&&d.positionX!==void 0){var f=r(this.listenerPosition,"x",null),c=r(this.listenerPosition,"y",null);f&&f!==this._spatialx&&(this._spatialx=d.positionX.value=f),c&&c!==this._spatialy&&(this._spatialy=d.positionY.value=c)}p.prototype.update.call(this,s,u),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var s=this;this.context.close().then(function(){s.context=null})}p.prototype.destroy.call(this)},setMute:function(s){return this.mute=s,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(s){this.masterMuteNode.gain.setValueAtTime(s?0:1,0),this.emit(n.GLOBAL_MUTE,this,s)}},setVolume:function(s){return this.volume=s,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(s){this.masterVolumeNode.gain.setValueAtTime(s,0),this.emit(n.GLOBAL_VOLUME,this,s)}}});v.exports=l},73162:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37105),p=t(83419),a=t(29747),n=t(19186),i=new p({initialize:function(r){this.parent=r,this.list=[],this.position=0,this.addCallback=a,this.removeCallback=a,this._sortKey=""},add:function(e,r){return r?o.Add(this.list,e):o.Add(this.list,e,0,this.addCallback,this)},addAt:function(e,r,l){return l?o.AddAt(this.list,e,r):o.AddAt(this.list,e,r,0,this.addCallback,this)},getAt:function(e){return this.list[e]},getIndex:function(e){return this.list.indexOf(e)},sort:function(e,r){return e?(r===void 0&&(r=function(l,s){return l[e]-s[e]}),n(this.list,r),this):this},getByName:function(e){return o.GetFirst(this.list,"name",e)},getRandom:function(e,r){return o.GetRandom(this.list,e,r)},getFirst:function(e,r,l,s){return o.GetFirst(this.list,e,r,l,s)},getAll:function(e,r,l,s){return o.GetAll(this.list,e,r,l,s)},count:function(e,r){return o.CountAllMatching(this.list,e,r)},swap:function(e,r){o.Swap(this.list,e,r)},moveTo:function(e,r){return o.MoveTo(this.list,e,r)},moveAbove:function(e,r){return o.MoveAbove(this.list,e,r)},moveBelow:function(e,r){return o.MoveBelow(this.list,e,r)},remove:function(e,r){return r?o.Remove(this.list,e):o.Remove(this.list,e,this.removeCallback,this)},removeAt:function(e,r){return r?o.RemoveAt(this.list,e):o.RemoveAt(this.list,e,this.removeCallback,this)},removeBetween:function(e,r,l){return l?o.RemoveBetween(this.list,e,r):o.RemoveBetween(this.list,e,r,this.removeCallback,this)},removeAll:function(e){for(var r=this.list.length;r--;)this.remove(this.list[r],e);return this},bringToTop:function(e){return o.BringToTop(this.list,e)},sendToBack:function(e){return o.SendToBack(this.list,e)},moveUp:function(e){return o.MoveUp(this.list,e),e},moveDown:function(e){return o.MoveDown(this.list,e),e},reverse:function(){return this.list.reverse(),this},shuffle:function(){return o.Shuffle(this.list),this},replace:function(e,r){return o.Replace(this.list,e,r)},exists:function(e){return this.list.indexOf(e)>-1},setAll:function(e,r,l,s){return o.SetAll(this.list,e,r,l,s),this},each:function(e,r){for(var l=[null],s=2;s<arguments.length;s++)l.push(arguments[s]);for(s=0;s<this.list.length;s++)l[0]=this.list[s],e.apply(r,l)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});v.exports=i},90330:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=new o({initialize:function(n){this.entries={},this.size=0,this.setAll(n)},setAll:function(a){if(Array.isArray(a))for(var n=0;n<a.length;n++)this.set(a[n][0],a[n][1]);return this},set:function(a,n){return this.has(a)||this.size++,this.entries[a]=n,this},get:function(a){if(this.has(a))return this.entries[a]},getArray:function(){var a=[],n=this.entries;for(var i in n)a.push(n[i]);return a},has:function(a){return this.entries.hasOwnProperty(a)},delete:function(a){return this.has(a)&&(delete this.entries[a],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(a){delete this.entries[a]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var a=[],n=this.entries;for(var i in n)a.push(n[i]);return a},dump:function(){var a=this.entries;console.group("Map");for(var n in a)console.log(n,a[n]);console.groupEnd()},each:function(a){var n=this.entries;for(var i in n)if(a(i,n[i])===!1)break;return this},contains:function(a){var n=this.entries;for(var i in n)if(n[i]===a)return!0;return!1},merge:function(a,n){n===void 0&&(n=!1);var i=this.entries,e=a.entries;for(var r in e)i.hasOwnProperty(r)&&n?i[r]=e[r]:this.set(r,e[r]);return this}});v.exports=p},25774:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(50792),a=t(82348),n=new o({Extends:p,initialize:function(){p.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(i){return this._active.indexOf(i)>-1},isPending:function(i){return this._toProcess>0&&this._pending.indexOf(i)>-1},isDestroying:function(i){return this._destroy.indexOf(i)>-1},add:function(i){return this.checkQueue&&this.isActive(i)&&!this.isDestroying(i)||this.isPending(i)||(this._pending.push(i),this._toProcess++),i},remove:function(i){if(this.isPending(i)){var e=this._pending,r=e.indexOf(i);r!==-1&&e.splice(r,1)}else this.isActive(i)&&(this._destroy.push(i),this._toProcess++);return i},removeAll:function(){for(var i=this._active,e=this._destroy,r=i.length;r--;)e.push(i[r]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var i=this._destroy,e=this._active,r,l;for(r=0;r<i.length;r++){l=i[r];var s=e.indexOf(l);s!==-1&&(e.splice(s,1),this.emit(a.PROCESS_QUEUE_REMOVE,l))}for(i.length=0,i=this._pending,r=0;r<i.length;r++)l=i[r],(!this.checkQueue||this.checkQueue&&e.indexOf(l)===-1)&&(e.push(l),this.emit(a.PROCESS_QUEUE_ADD,l));return i.length=0,this._toProcess=0,e},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});v.exports=n},59542:(v,y,t)=>{/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43886);function p(S){if(!(this instanceof p))return new p(S);this._maxEntries=Math.max(4,S||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}p.prototype={all:function(){return this._all(this.data,[])},search:function(S){var A=this.data,P=[],R=this.toBBox;if(!m(S,A))return P;for(var F=[],D,L,O,B;A;){for(D=0,L=A.children.length;D<L;D++)O=A.children[D],B=A.leaf?R(O):O,m(S,B)&&(A.leaf?P.push(O):c(S,B)?this._all(O,P):F.push(O));A=F.pop()}return P},collides:function(S){var A=this.data,P=this.toBBox;if(!m(S,A))return!1;for(var R=[],F,D,L,O;A;){for(F=0,D=A.children.length;F<D;F++)if(L=A.children[F],O=A.leaf?P(L):L,m(S,O)){if(A.leaf||c(S,O))return!0;R.push(L)}A=R.pop()}return!1},load:function(S){if(!(S&&S.length))return this;if(S.length<this._minEntries){for(var A=0,P=S.length;A<P;A++)this.insert(S[A]);return this}var R=this._build(S.slice(),0,S.length-1,0);if(!this.data.children.length)this.data=R;else if(this.data.height===R.height)this._splitRoot(this.data,R);else{if(this.data.height<R.height){var F=this.data;this.data=R,R=F}this._insert(R,this.data.height-R.height-1,!0)}return this},insert:function(S){return S&&this._insert(S,this.data.height-1),this},clear:function(){return this.data=T([]),this},remove:function(S,A){if(!S)return this;for(var P=this.data,R=this.toBBox(S),F=[],D=[],L,O,B,b;P||F.length;){if(P||(P=F.pop(),O=F[F.length-1],L=D.pop(),b=!0),P.leaf&&(B=a(S,P.children,A),B!==-1))return P.children.splice(B,1),F.push(P),this._condense(F),this;!b&&!P.leaf&&c(P,R)?(F.push(P),D.push(L),L=0,O=P,P=P.children[0]):O?(L++,P=O.children[L],b=!1):P=null}return this},toBBox:function(S){return S},compareMinX:r,compareMinY:l,toJSON:function(){return this.data},fromJSON:function(S){return this.data=S,this},_all:function(S,A){for(var P=[];S;)S.leaf?A.push.apply(A,S.children):P.push.apply(P,S.children),S=P.pop();return A},_build:function(S,A,P,R){var F=P-A+1,D=this._maxEntries,L;if(F<=D)return L=T(S.slice(A,P+1)),n(L,this.toBBox),L;R||(R=Math.ceil(Math.log(F)/Math.log(D)),D=Math.ceil(F/Math.pow(D,R-1))),L=T([]),L.leaf=!1,L.height=R;var O=Math.ceil(F/D),B=O*Math.ceil(Math.sqrt(D)),b,z,V,W;for(C(S,A,P,B,this.compareMinX),b=A;b<=P;b+=B)for(V=Math.min(b+B-1,P),C(S,b,V,O,this.compareMinY),z=b;z<=V;z+=O)W=Math.min(z+O-1,V),L.children.push(this._build(S,z,W,R-1));return n(L,this.toBBox),L},_chooseSubtree:function(S,A,P,R){for(var F,D,L,O,B,b,z,V;R.push(A),!(A.leaf||R.length-1===P);){for(z=V=1/0,F=0,D=A.children.length;F<D;F++)L=A.children[F],B=s(L),b=d(S,L)-B,b<V?(V=b,z=B<z?B:z,O=L):b===V&&B<z&&(z=B,O=L);A=O||A.children[0]}return A},_insert:function(S,A,P){var R=this.toBBox,F=P?S:R(S),D=[],L=this._chooseSubtree(F,this.data,A,D);for(L.children.push(S),e(L,F);A>=0&&D[A].children.length>this._maxEntries;)this._split(D,A),A--;this._adjustParentBBoxes(F,D,A)},_split:function(S,A){var P=S[A],R=P.children.length,F=this._minEntries;this._chooseSplitAxis(P,F,R);var D=this._chooseSplitIndex(P,F,R),L=T(P.children.splice(D,P.children.length-D));L.height=P.height,L.leaf=P.leaf,n(P,this.toBBox),n(L,this.toBBox),A?S[A-1].children.push(L):this._splitRoot(P,L)},_splitRoot:function(S,A){this.data=T([S,A]),this.data.height=S.height+1,this.data.leaf=!1,n(this.data,this.toBBox)},_chooseSplitIndex:function(S,A,P){var R,F,D,L,O,B,b,z;for(B=b=1/0,R=A;R<=P-A;R++)F=i(S,0,R,this.toBBox),D=i(S,R,P,this.toBBox),L=f(F,D),O=s(F)+s(D),L<B?(B=L,z=R,b=O<b?O:b):L===B&&O<b&&(b=O,z=R);return z},_chooseSplitAxis:function(S,A,P){var R=S.leaf?this.compareMinX:r,F=S.leaf?this.compareMinY:l,D=this._allDistMargin(S,A,P,R),L=this._allDistMargin(S,A,P,F);D<L&&S.children.sort(R)},_allDistMargin:function(S,A,P,R){S.children.sort(R);var F=this.toBBox,D=i(S,0,A,F),L=i(S,P-A,P,F),O=u(D)+u(L),B,b;for(B=A;B<P-A;B++)b=S.children[B],e(D,S.leaf?F(b):b),O+=u(D);for(B=P-A-1;B>=A;B--)b=S.children[B],e(L,S.leaf?F(b):b),O+=u(L);return O},_adjustParentBBoxes:function(S,A,P){for(var R=P;R>=0;R--)e(A[R],S)},_condense:function(S){for(var A=S.length-1,P;A>=0;A--)S[A].children.length===0?A>0?(P=S[A-1].children,P.splice(P.indexOf(S[A]),1)):this.clear():n(S[A],this.toBBox)},compareMinX:function(S,A){return S.left-A.left},compareMinY:function(S,A){return S.top-A.top},toBBox:function(S){return{minX:S.left,minY:S.top,maxX:S.right,maxY:S.bottom}}};function a(S,A,P){if(!P)return A.indexOf(S);for(var R=0;R<A.length;R++)if(P(S,A[R]))return R;return-1}function n(S,A){i(S,0,S.children.length,A,S)}function i(S,A,P,R,F){F||(F=T(null)),F.minX=1/0,F.minY=1/0,F.maxX=-1/0,F.maxY=-1/0;for(var D=A,L;D<P;D++)L=S.children[D],e(F,S.leaf?R(L):L);return F}function e(S,A){return S.minX=Math.min(S.minX,A.minX),S.minY=Math.min(S.minY,A.minY),S.maxX=Math.max(S.maxX,A.maxX),S.maxY=Math.max(S.maxY,A.maxY),S}function r(S,A){return S.minX-A.minX}function l(S,A){return S.minY-A.minY}function s(S){return(S.maxX-S.minX)*(S.maxY-S.minY)}function u(S){return S.maxX-S.minX+(S.maxY-S.minY)}function d(S,A){return(Math.max(A.maxX,S.maxX)-Math.min(A.minX,S.minX))*(Math.max(A.maxY,S.maxY)-Math.min(A.minY,S.minY))}function f(S,A){var P=Math.max(S.minX,A.minX),R=Math.max(S.minY,A.minY),F=Math.min(S.maxX,A.maxX),D=Math.min(S.maxY,A.maxY);return Math.max(0,F-P)*Math.max(0,D-R)}function c(S,A){return S.minX<=A.minX&&S.minY<=A.minY&&A.maxX<=S.maxX&&A.maxY<=S.maxY}function m(S,A){return A.minX<=S.maxX&&A.minY<=S.maxY&&A.maxX>=S.minX&&A.maxY>=S.minY}function T(S){return{children:S,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function C(S,A,P,R,F){for(var D=[A,P],L;D.length;)P=D.pop(),A=D.pop(),!(P-A<=R)&&(L=A+Math.ceil((P-A)/R/2)*R,o(S,L,A,P,F),D.push(A,L,L,P))}v.exports=p},35072:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=new o({initialize:function(n){if(this.entries=[],Array.isArray(n))for(var i=0;i<n.length;i++)this.set(n[i])},set:function(a){return this.entries.indexOf(a)===-1&&this.entries.push(a),this},get:function(a,n){for(var i=0;i<this.entries.length;i++){var e=this.entries[i];if(e[a]===n)return e}},getArray:function(){return this.entries.slice(0)},delete:function(a){var n=this.entries.indexOf(a);return n>-1&&this.entries.splice(n,1),this},dump:function(){console.group("Set");for(var a=0;a<this.entries.length;a++){var n=this.entries[a];console.log(n)}console.groupEnd()},each:function(a,n){var i,e=this.entries.slice(),r=e.length;if(n)for(i=0;i<r&&a.call(n,e[i],i)!==!1;i++);else for(i=0;i<r&&a(e[i],i)!==!1;i++);return this},iterate:function(a,n){var i,e=this.entries.length;if(n)for(i=0;i<e&&a.call(n,this.entries[i],i)!==!1;i++);else for(i=0;i<e&&a(this.entries[i],i)!==!1;i++);return this},iterateLocal:function(a){var n,i=[];for(n=1;n<arguments.length;n++)i.push(arguments[n]);var e=this.entries.length;for(n=0;n<e;n++){var r=this.entries[n];r[a].apply(r,i)}return this},clear:function(){return this.entries.length=0,this},contains:function(a){return this.entries.indexOf(a)>-1},union:function(a){var n=new p;return a.entries.forEach(function(i){n.set(i)}),this.entries.forEach(function(i){n.set(i)}),n},intersect:function(a){var n=new p;return this.entries.forEach(function(i){a.contains(i)&&n.set(i)}),n},difference:function(a){var n=new p;return this.entries.forEach(function(i){a.contains(i)||n.set(i)}),n},size:{get:function(){return this.entries.length},set:function(a){return a<this.entries.length?this.entries.length=a:this.entries.length}}});v.exports=p},86555:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),p=t(83419),a=t(56583),n=t(26099),i=new p({initialize:function(r,l,s,u){r===void 0&&(r=0),l===void 0&&(l=r),s===void 0&&(s=0),u===void 0&&(u=null),this._width=r,this._height=l,this._parent=u,this.aspectMode=s,this.aspectRatio=l===0?1:r/l,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new n},setAspectMode:function(e){return e===void 0&&(e=0),this.aspectMode=e,this.setSize(this._width,this._height)},setSnap:function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),this.snapTo.set(e,r),this.setSize(this._width,this._height)},setParent:function(e){return this._parent=e,this.setSize(this._width,this._height)},setMin:function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),this.minWidth=o(e,0,this.maxWidth),this.minHeight=o(r,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(e,r){return e===void 0&&(e=Number.MAX_VALUE),r===void 0&&(r=e),this.maxWidth=o(e,this.minWidth,Number.MAX_VALUE),this.maxHeight=o(r,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(e,r){switch(e===void 0&&(e=0),r===void 0&&(r=e),this.aspectMode){case i.NONE:this._width=this.getNewWidth(a(e,this.snapTo.x)),this._height=this.getNewHeight(a(r,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case i.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(a(e,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case i.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(a(r,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case i.FIT:this.constrain(e,r,!0);break;case i.ENVELOP:this.constrain(e,r,!1);break}return this},setAspectRatio:function(e){return this.aspectRatio=e,this.setSize(this._width,this._height)},resize:function(e,r){return this._width=this.getNewWidth(a(e,this.snapTo.x)),this._height=this.getNewHeight(a(r,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(e,r){return r===void 0&&(r=!0),e=o(e,this.minWidth,this.maxWidth),r&&this._parent&&e>this._parent.width&&(e=Math.max(this.minWidth,this._parent.width)),e},getNewHeight:function(e,r){return r===void 0&&(r=!0),e=o(e,this.minHeight,this.maxHeight),r&&this._parent&&e>this._parent.height&&(e=Math.max(this.minHeight,this._parent.height)),e},constrain:function(e,r,l){e===void 0&&(e=0),r===void 0&&(r=e),l===void 0&&(l=!0),e=this.getNewWidth(e),r=this.getNewHeight(r);var s=this.snapTo,u=r===0?1:e/r;return l&&this.aspectRatio>u||!l&&this.aspectRatio<u?(e=a(e,s.x),r=e/this.aspectRatio,s.y>0&&(r=a(r,s.y),e=r*this.aspectRatio)):(l&&this.aspectRatio<u||!l&&this.aspectRatio>u)&&(r=a(r,s.y),e=r*this.aspectRatio,s.x>0&&(e=a(e,s.x),r=e*(1/this.aspectRatio))),this._width=e,this._height=r,this},fitTo:function(e,r){return this.constrain(e,r,!0)},envelop:function(e,r){return this.constrain(e,r,!1)},setWidth:function(e){return this.setSize(e,this._height)},setHeight:function(e){return this.setSize(this._width,e)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(e){e&&e.style&&(e.style.width=this._width+"px",e.style.height=this._height+"px")},copy:function(e){return e.setAspectMode(this.aspectMode),e.aspectRatio=this.aspectRatio,e.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(e){this.setSize(e,this._height)}},height:{get:function(){return this._height},set:function(e){this.setSize(this._width,e)}}});i.NONE=0,i.WIDTH_CONTROLS_HEIGHT=1,i.HEIGHT_CONTROLS_WIDTH=2,i.FIT=3,i.ENVELOP=4,v.exports=i},15238:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="add"},56187:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="remove"},82348:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={PROCESS_QUEUE_ADD:t(15238),PROCESS_QUEUE_REMOVE:t(56187)}},41392:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Events:t(82348),List:t(73162),Map:t(90330),ProcessQueue:t(25774),RTree:t(59542),Set:t(35072),Size:t(86555)}},57382:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(45319),a=t(40987),n=t(8054),i=t(50030),e=t(79237),r=new o({Extends:e,initialize:function(s,u,d,f,c){e.call(this,s,u,d,f,c),this.add("__BASE",0,0,0,f,c),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=f,this.height=c,this.imageData=this.context.getImageData(0,0,f,c),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===n.WEBGL&&this.refresh(),this},draw:function(l,s,u,d){return d===void 0&&(d=!0),this.context.drawImage(u,l,s),d&&this.update(),this},drawFrame:function(l,s,u,d,f){u===void 0&&(u=0),d===void 0&&(d=0),f===void 0&&(f=!0);var c=this.manager.getFrame(l,s);if(c){var m=c.canvasData,T=c.cutWidth,C=c.cutHeight,S=c.source.resolution;this.context.drawImage(c.source.image,m.x,m.y,T,C,u,d,T/S,C/S),f&&this.update()}return this},setPixel:function(l,s,u,d,f,c){c===void 0&&(c=255),l=Math.abs(Math.floor(l)),s=Math.abs(Math.floor(s));var m=this.getIndex(l,s);if(m>-1){var T=this.context.getImageData(l,s,1,1);T.data[0]=u,T.data[1]=d,T.data[2]=f,T.data[3]=c,this.context.putImageData(T,l,s)}return this},putData:function(l,s,u,d,f,c,m){return d===void 0&&(d=0),f===void 0&&(f=0),c===void 0&&(c=l.width),m===void 0&&(m=l.height),this.context.putImageData(l,s,u,d,f,c,m),this},getData:function(l,s,u,d){l=p(Math.floor(l),0,this.width-1),s=p(Math.floor(s),0,this.height-1),u=p(u,1,this.width-l),d=p(d,1,this.height-s);var f=this.context.getImageData(l,s,u,d);return f},getPixel:function(l,s,u){u||(u=new a);var d=this.getIndex(l,s);if(d>-1){var f=this.data,c=f[d+0],m=f[d+1],T=f[d+2],C=f[d+3];u.setTo(c,m,T,C)}return u},getPixels:function(l,s,u,d){l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=this.width),d===void 0&&(d=u),l=Math.abs(Math.round(l)),s=Math.abs(Math.round(s));for(var f=p(l,0,this.width),c=p(l+u,0,this.width),m=p(s,0,this.height),T=p(s+d,0,this.height),C=new a,S=[],A=m;A<T;A++){for(var P=[],R=f;R<c;R++)C=this.getPixel(R,A,C),P.push({x:R,y:A,color:C.color,alpha:C.alphaGL});S.push(P)}return S},getIndex:function(l,s){return l=Math.abs(Math.round(l)),s=Math.abs(Math.round(s)),l<this.width&&s<this.height?(l+s*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(l,s,u,d,f){return l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=this.width),d===void 0&&(d=this.height),f===void 0&&(f=!0),this.context.clearRect(l,s,u,d),f&&this.update(),this},setSize:function(l,s){return s===void 0&&(s=l),(l!==this.width||s!==this.height)&&(this.canvas.width=l,this.canvas.height=s,this._source.width=l,this._source.height=s,this._source.isPowerOf2=i(l,s),this.frames.__BASE.setSize(l,s,0,0),this.width=l,this.height=s,this.refresh()),this},destroy:function(){e.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});v.exports=r},81320:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10312),p=t(71911),a=t(27919),n=t(83419),i=t(8054),e=t(4327),r=t(95540),l=t(36060),s=t(32302),u=t(79237),d=t(70554),f=new n({Extends:u,initialize:function(m,T,C,S){C===void 0&&(C=256),S===void 0&&(S=256),this.type="DynamicTexture";var A=m.game.renderer,P=A&&A.type===i.CANVAS,R=P?a.create2D(this,C,S):[this];u.call(this,m,T,R,C,S),this.add("__BASE",0,0,0,C,S),this.renderer=A,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=P?R:null,this.context=P?R.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new p(0,0,C,S).setScene(m.game.scene.systemScene,!1),this.renderTarget=P?null:new s(A,C,S,1,0,!1,!0,!0,!1),this.pipeline=P?null:A.pipelines.get(l.SINGLE_PIPELINE),this.setSize(C,S)},setSize:function(c,m){m===void 0&&(m=c);var T=this.get(),C=T.source;if(c!==this.width||m!==this.height){this.canvas&&(this.canvas.width=c,this.canvas.height=m);var S=this.renderTarget;S&&(S.willResize(c,m)&&S.resize(c,m),S.texture!==C.glTexture&&this.renderer.deleteTexture(C.glTexture),this.setFromRenderTarget()),this.camera.setSize(c,m),C.width=c,C.height=m,T.setSize(c,m),this.width=c,this.height=m}else{var A=this.getSourceImage();T.cutX+c>A.width&&(c=A.width-T.cutX),T.cutY+m>A.height&&(m=A.height-T.cutY),T.setSize(c,m,T.cutX,T.cutY)}return this},setFromRenderTarget:function(){var c=this.get(),m=c.source,T=this.renderTarget;return m.isRenderTexture=!0,m.isGLTexture=!0,m.glTexture=T.texture,this},setIsSpriteTexture:function(c){return this.isSpriteTexture=c,this},fill:function(c,m,T,C,S,A){var P=this.camera,R=this.renderer;m===void 0&&(m=1),T===void 0&&(T=0),C===void 0&&(C=0),S===void 0&&(S=this.width),A===void 0&&(A=this.height);var F=c>>16&255,D=c>>8&255,L=c&255,O=this.renderTarget;if(P.preRender(),O){O.bind(!0);var B=this.pipeline.manager.set(this.pipeline),b=R.width/O.width,z=R.height/O.height,V=O.height-(C+A);B.drawFillRect(T*b,V*z,S*b,A*z,d.getTintFromFloats(L/255,D/255,F/255,1),m),O.unbind(!0)}else{var W=this.context;R.setContext(W),W.globalCompositeOperation="source-over",W.fillStyle="rgba("+F+","+D+","+L+","+m+")",W.fillRect(T,C,S,A),R.setContext()}return this.dirty=!0,this},clear:function(){if(this.dirty){var c=this.context,m=this.renderTarget;m?m.clear():c&&(c.save(),c.setTransform(1,0,0,1,0,0),c.clearRect(0,0,this.width,this.height),c.restore()),this.dirty=!1}return this},stamp:function(c,m,T,C,S){T===void 0&&(T=0),C===void 0&&(C=0);var A=r(S,"alpha",1),P=r(S,"tint",16777215),R=r(S,"angle",0),F=r(S,"rotation",0),D=r(S,"scale",1),L=r(S,"scaleX",D),O=r(S,"scaleY",D),B=r(S,"originX",.5),b=r(S,"originY",.5),z=r(S,"blendMode",0),V=r(S,"erase",!1),W=r(S,"skipBatch",!1),K=this.manager.resetStamp(A,P);return K.setAngle(0),R!==0?K.setAngle(R):F!==0&&K.setRotation(F),K.setScale(L,O),K.setTexture(c,m),K.setOrigin(B,b),K.setBlendMode(z),V&&(this._eraseMode=!0),W?this.batchGameObject(K,T,C):this.draw(K,T,C),V&&(this._eraseMode=!1),this},erase:function(c,m,T){return this._eraseMode=!0,this.draw(c,m,T),this._eraseMode=!1,this},draw:function(c,m,T,C,S){return this.beginDraw(),this.batchDraw(c,m,T,C,S),this.endDraw(),this},drawFrame:function(c,m,T,C,S,A){return this.beginDraw(),this.batchDrawFrame(c,m,T,C,S,A),this.endDraw(),this},repeat:function(c,m,T,C,S,A,P,R,F){if(T===void 0&&(T=0),C===void 0&&(C=0),S===void 0&&(S=this.width),A===void 0&&(A=this.height),P===void 0&&(P=1),R===void 0&&(R=16777215),F===void 0&&(F=!1),c instanceof e?m=c:m=this.manager.getFrame(c,m),!m)return this;var D=this.manager.resetStamp(P,R);D.setFrame(m),D.setOrigin(0);var L=m.width,O=m.height;S=Math.floor(S),A=Math.floor(A);var B=Math.ceil(S/L),b=Math.ceil(A/O),z=B*L-S,V=b*O-A;z>0&&(z=L-z),V>0&&(V=O-V),T<0&&(B+=Math.ceil(Math.abs(T)/L)),C<0&&(b+=Math.ceil(Math.abs(C)/O));var W=T,K=C,U=!1,Y=this.manager.stampCrop.setTo(0,0,L,O);F||this.beginDraw();for(var I=0;I<b;I++){if(K+O<0){K+=O;continue}for(var N=0;N<B;N++){if(U=!1,W+L<0){W+=L;continue}else W<0&&(U=!0,Y.width=L+W,Y.x=L-Y.width);K<0&&(U=!0,Y.height=O+K,Y.y=O-Y.height),z>0&&N===B-1&&(U=!0,Y.width=z),V>0&&I===b-1&&(U=!0,Y.height=V),U&&D.setCrop(Y),this.batchGameObject(D,W,K),D.isCropped=!1,Y.setTo(0,0,L,O),W+=L}W=T,K+=O}return F||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var c=this.camera,m=this.renderer,T=this.renderTarget;c.preRender(),T?m.beginCapture(T.width,T.height):m.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(c,m,T,C,S){return Array.isArray(c)||(c=[c]),this.batchList(c,m,T,C,S),this},batchDrawFrame:function(c,m,T,C,S,A){T===void 0&&(T=0),C===void 0&&(C=0),S===void 0&&(S=1),A===void 0&&(A=16777215);var P=this.manager.getFrame(c,m);return P&&(this.renderTarget?this.pipeline.batchTextureFrame(P,T,C,A,S,this.camera.matrix,null):this.batchTextureFrame(P,T,C,S,A)),this},endDraw:function(c){if(c===void 0&&(c=this._eraseMode),this.isDrawing){var m=this.renderer,T=this.renderTarget;if(T){var C=m.endCapture(),S=m.pipelines.setUtility();S.blitFrame(C,T,1,!1,!1,c,this.isSpriteTexture),m.resetScissor(),m.resetViewport()}else m.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(c,m,T,C,S){var A=c.length;if(A!==0)for(var P=0;P<A;P++){var R=c[P];!R||R===this||(R.renderWebGL||R.renderCanvas?this.batchGameObject(R,m,T):R.isParent||R.list?this.batchGroup(R.getChildren(),m,T):typeof R=="string"?this.batchTextureFrameKey(R,null,m,T,C,S):R instanceof e?this.batchTextureFrame(R,m,T,C,S):Array.isArray(R)&&this.batchList(R,m,T,C,S))}},batchGroup:function(c,m,T){m===void 0&&(m=0),T===void 0&&(T=0);for(var C=0;C<c.length;C++){var S=c[C];S.willRender(this.camera)&&this.batchGameObject(S,S.x+m,S.y+T)}},batchGameObject:function(c,m,T){m===void 0&&(m=c.x),T===void 0&&(T=c.y);var C=c.x,S=c.y,A=this.camera,P=this.renderer,R=this._eraseMode,F=c.mask;if(c.setPosition(m,T),this.canvas){if(R){var D=c.blendMode;c.blendMode=o.ERASE}F&&F.preRenderCanvas(P,c,A),c.renderCanvas(P,c,A,null),F&&F.postRenderCanvas(P,c,A),R&&(c.blendMode=D)}else P&&(F&&F.preRenderWebGL(P,c,A),R||P.setBlendMode(c.blendMode),c.renderWebGL(P,c,A),F&&F.postRenderWebGL(P,A,this.renderTarget));c.setPosition(C,S)},batchTextureFrameKey:function(c,m,T,C,S,A){var P=this.manager.getFrame(c,m);P&&this.batchTextureFrame(P,T,C,S,A)},batchTextureFrame:function(c,m,T,C,S){m===void 0&&(m=0),T===void 0&&(T=0),C===void 0&&(C=1),S===void 0&&(S=16777215);var A=this.camera.matrix,P=this.renderTarget;if(P)this.pipeline.batchTextureFrame(c,m,T,S,C,A,null);else{var R=this.context,F=c.canvasData,D=c.source.image;R.save(),R.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",R.globalAlpha=C,A.setToContext(R),F.width>0&&F.height>0&&R.drawImage(D,F.x,F.y,F.width,F.height,m,T,F.width,F.height),R.restore()}},snapshotArea:function(c,m,T,C,S,A,P){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,S,!1,c,m,T,C,A,P):this.renderer.snapshotCanvas(this.canvas,S,!1,c,m,T,C,A,P),this},snapshot:function(c,m,T){return this.snapshotArea(0,0,this.width,this.height,c,m,T)},snapshotPixel:function(c,m,T){return this.snapshotArea(c,m,1,1,T,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(c,m,T,C){var S=this.manager.resetStamp();S.setTexture(this),S.setOrigin(0),S.renderWebGL(c,S,T,C)},renderCanvas:function(){},destroy:function(){var c=this.manager.stamp;c&&c.texture===this&&this.manager.resetStamp(),u.prototype.destroy.call(this),a.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});v.exports=f},4327:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(45319),a=t(79291),n=new o({initialize:function(e,r,l,s,u,d,f){this.texture=e,this.name=r,this.source=e.source[l],this.sourceIndex=l,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(d,f,s,u)},setSize:function(i,e,r,l){r===void 0&&(r=0),l===void 0&&(l=0),this.cutX=r,this.cutY=l,this.cutWidth=i,this.cutHeight=e,this.width=i,this.height=e,this.halfWidth=Math.floor(i*.5),this.halfHeight=Math.floor(e*.5),this.centerX=Math.floor(i/2),this.centerY=Math.floor(e/2);var s=this.data,u=s.cut;u.x=r,u.y=l,u.w=i,u.h=e,u.r=r+i,u.b=l+e,s.sourceSize.w=i,s.sourceSize.h=e,s.spriteSourceSize.w=i,s.spriteSourceSize.h=e,s.radius=.5*Math.sqrt(i*i+e*e);var d=s.drawImage;return d.x=r,d.y=l,d.width=i,d.height=e,this.updateUVs()},setTrim:function(i,e,r,l,s,u){var d=this.data,f=d.spriteSourceSize;return d.trim=!0,d.sourceSize.w=i,d.sourceSize.h=e,f.x=r,f.y=l,f.w=s,f.h=u,f.r=r+s,f.b=l+u,this.x=r,this.y=l,this.width=s,this.height=u,this.halfWidth=s*.5,this.halfHeight=u*.5,this.centerX=Math.floor(s/2),this.centerY=Math.floor(u/2),this.updateUVs()},setScale9:function(i,e,r,l){var s=this.data;return s.scale9=!0,s.is3Slice=e===0&&l===this.height,s.scale9Borders.x=i,s.scale9Borders.y=e,s.scale9Borders.w=r,s.scale9Borders.h=l,this},setCropUVs:function(i,e,r,l,s,u,d){var f=this.cutX,c=this.cutY,m=this.cutWidth,T=this.cutHeight,C=this.realWidth,S=this.realHeight;e=p(e,0,C),r=p(r,0,S),l=p(l,0,C-e),s=p(s,0,S-r);var A=f+e,P=c+r,R=l,F=s,D=this.data;if(D.trim){var L=D.spriteSourceSize;l=p(l,0,m-e),s=p(s,0,T-r);var O=e+l,B=r+s,b=!(L.r<e||L.b<r||L.x>O||L.y>B);if(b){var z=Math.max(L.x,e),V=Math.max(L.y,r),W=Math.min(L.r,O)-z,K=Math.min(L.b,B)-V;R=W,F=K,u?A=f+(m-(z-L.x)-W):A=f+(z-L.x),d?P=c+(T-(V-L.y)-K):P=c+(V-L.y),e=z,r=V,l=W,s=K}else A=0,P=0,R=0,F=0}else u&&(A=f+(m-e-l)),d&&(P=c+(T-r-s));var U=this.source.width,Y=this.source.height;return i.u0=Math.max(0,A/U),i.v0=Math.max(0,P/Y),i.u1=Math.min(1,(A+R)/U),i.v1=Math.min(1,(P+F)/Y),i.x=e,i.y=r,i.cx=A,i.cy=P,i.cw=R,i.ch=F,i.width=l,i.height=s,i.flipX=u,i.flipY=d,i},updateCropUVs:function(i,e,r){return this.setCropUVs(i,i.x,i.y,i.width,i.height,e,r)},setUVs:function(i,e,r,l,s,u){var d=this.data.drawImage;return d.width=i,d.height=e,this.u0=r,this.v0=l,this.u1=s,this.v1=u,this},updateUVs:function(){var i=this.cutX,e=this.cutY,r=this.cutWidth,l=this.cutHeight,s=this.data.drawImage;s.width=r,s.height=l;var u=this.source.width,d=this.source.height;return this.u0=i/u,this.v0=e/d,this.u1=(i+r)/u,this.v1=(e+l)/d,this},updateUVsInverted:function(){var i=this.source.width,e=this.source.height;return this.u0=(this.cutX+this.cutHeight)/i,this.v0=this.cutY/e,this.u1=this.cutX/i,this.v1=(this.cutY+this.cutWidth)/e,this},clone:function(){var i=new n(this.texture,this.name,this.sourceIndex);return i.cutX=this.cutX,i.cutY=this.cutY,i.cutWidth=this.cutWidth,i.cutHeight=this.cutHeight,i.x=this.x,i.y=this.y,i.width=this.width,i.height=this.height,i.halfWidth=this.halfWidth,i.halfHeight=this.halfHeight,i.centerX=this.centerX,i.centerY=this.centerY,i.rotated=this.rotated,i.data=a(!0,i.data,this.data),i.updateUVs(),i},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});v.exports=n},79237:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(4327),a=t(11876),n='Texture "%s" has no frame "%s"',i=new o({initialize:function(r,l,s,u,d){Array.isArray(s)||(s=[s]),this.manager=r,this.key=l,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var f=0;f<s.length;f++)this.source.push(new a(this,s[f],u,d))},add:function(e,r,l,s,u,d){if(this.has(e))return null;var f=new p(this,e,r,l,s,u,d);return this.frames[e]=f,this.firstFrame==="__BASE"&&(this.firstFrame=e),this.frameTotal++,f},remove:function(e){if(this.has(e)){var r=this.get(e);return r.destroy(),delete this.frames[e],!0}return!1},has:function(e){return this.frames.hasOwnProperty(e)},get:function(e){e||(e=this.firstFrame);var r=this.frames[e];return r||(console.warn(n,this.key,e),r=this.frames[this.firstFrame]),r},getTextureSourceIndex:function(e){for(var r=0;r<this.source.length;r++)if(this.source[r]===e)return r;return-1},getFramesFromTextureSource:function(e,r){r===void 0&&(r=!1);var l=[];for(var s in this.frames)if(!(s==="__BASE"&&!r)){var u=this.frames[s];u.sourceIndex===e&&l.push(u)}return l},getFrameBounds:function(e){e===void 0&&(e=0);for(var r=this.getFramesFromTextureSource(e),l=1/0,s=1/0,u=0,d=0,f=0;f<r.length;f++){var c=r[f];c.cutX<l&&(l=c.cutX),c.cutY<s&&(s=c.cutY),c.cutX+c.cutWidth>u&&(u=c.cutX+c.cutWidth),c.cutY+c.cutHeight>d&&(d=c.cutY+c.cutHeight)}return{x:l,y:s,width:u-l,height:d-s}},getFrameNames:function(e){e===void 0&&(e=!1);var r=Object.keys(this.frames);if(!e){var l=r.indexOf("__BASE");l!==-1&&r.splice(l,1)}return r},getSourceImage:function(e){(e==null||this.frameTotal===1)&&(e="__BASE");var r=this.frames[e];return r?r.source.image:(console.warn(n,this.key,e),this.frames.__BASE.source.image)},getDataSourceImage:function(e){(e==null||this.frameTotal===1)&&(e="__BASE");var r=this.frames[e],l;return r?l=r.sourceIndex:(console.warn(n,this.key,e),l=this.frames.__BASE.sourceIndex),this.dataSource[l].image},setDataSource:function(e){Array.isArray(e)||(e=[e]);for(var r=0;r<e.length;r++){var l=this.source[r];this.dataSource.push(new a(this,e[r],l.width,l.height))}},setFilter:function(e){var r;for(r=0;r<this.source.length;r++)this.source[r].setFilter(e);for(r=0;r<this.dataSource.length;r++)this.dataSource[r].setFilter(e)},destroy:function(){var e,r=this.source,l=this.dataSource;for(e=0;e<r.length;e++)r[e]&&r[e].destroy();for(e=0;e<l.length;e++)l[e]&&l[e].destroy();for(var s in this.frames){var u=this.frames[s];u&&u.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});v.exports=i},17130:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(27919),p=t(57382),a=t(83419),n=t(40987),i=t(8054),e=t(81320),r=t(50792),l=t(69442),s=t(4327),u=t(8443),d=t(99584),f=t(35154),c=t(88571),m=t(41212),T=t(61309),C=t(87841),S=t(79237),A=new a({Extends:r,initialize:function(R){r.call(this),this.game=R,this.name="TextureManager",this.list={},this._tempCanvas=o.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new C,this.silentWarnings=!1,R.events.once(u.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(l.LOAD,this.updatePending,this),this.on(l.ERROR,this.updatePending,this);var P=this.game.config;this.addBase64("__DEFAULT",P.defaultImage),this.addBase64("__MISSING",P.missingImage),this.addBase64("__WHITE",P.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(u.DESTROY,this.destroy,this),this.game.events.once(u.SYSTEM_READY,function(R){this.stamp=new c(R).setOrigin(0)},this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(l.LOAD),this.off(l.ERROR),this.emit(l.READY))},checkKey:function(P){return this.exists(P)?(this.silentWarnings||console.error("Texture key already in use: "+P),!1):!0},remove:function(P){if(typeof P=="string")if(this.exists(P))P=this.get(P);else return this.silentWarnings||console.warn("No texture found matching key: "+P),this;var R=P.key;return this.list.hasOwnProperty(R)&&(P.destroy(),this.emit(l.REMOVE,R),this.emit(l.REMOVE_KEY+R)),this},removeKey:function(P){return this.list.hasOwnProperty(P)&&delete this.list[P],this},addBase64:function(P,R){if(this.checkKey(P)){var F=this,D=new Image;D.onerror=function(){F.emit(l.ERROR,P)},D.onload=function(){var L=F.create(P,D);T.Image(L,0),F.emit(l.ADD,P,L),F.emit(l.ADD_KEY+P,L),F.emit(l.LOAD,P,L)},D.src=R}return this},getBase64:function(P,R,F,D){F===void 0&&(F="image/png"),D===void 0&&(D=.92);var L="",O=this.getFrame(P,R);if(O&&(O.source.isRenderTexture||O.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(O){var B=O.canvasData,b=o.create2D(this,B.width,B.height),z=b.getContext("2d",{willReadFrequently:!0});B.width>0&&B.height>0&&z.drawImage(O.source.image,B.x,B.y,B.width,B.height,0,0,B.width,B.height),L=b.toDataURL(F,D),o.remove(b)}return L},addImage:function(P,R,F){var D=null;return this.checkKey(P)&&(D=this.create(P,R),T.Image(D,0),F&&D.setDataSource(F),this.emit(l.ADD,P,D),this.emit(l.ADD_KEY+P,D)),D},addGLTexture:function(P,R){var F=null;if(this.checkKey(P)){var D=R.width,L=R.height;F=this.create(P,R,D,L),F.add("__BASE",0,0,0,D,L),this.emit(l.ADD,P,F),this.emit(l.ADD_KEY+P,F)}return F},addCompressedTexture:function(P,R,F){var D=null;if(this.checkKey(P)){if(D=this.create(P,R),D.add("__BASE",0,0,0,R.width,R.height),F){var L=function(B,b,z){Array.isArray(z.textures)||Array.isArray(z.frames)?T.JSONArray(B,b,z):T.JSONHash(B,b,z)};if(Array.isArray(F))for(var O=0;O<F.length;O++)L(D,O,F[O]);else L(D,0,F)}this.emit(l.ADD,P,D),this.emit(l.ADD_KEY+P,D)}return D},addRenderTexture:function(P,R){var F=null;return this.checkKey(P)&&(F=this.create(P,R),F.add("__BASE",0,0,0,R.width,R.height),this.emit(l.ADD,P,F),this.emit(l.ADD_KEY+P,F)),F},generate:function(P,R){if(this.checkKey(P)){var F=o.create(this,1,1);return R.canvas=F,d(R),this.addCanvas(P,F)}else return null},createCanvas:function(P,R,F){if(R===void 0&&(R=256),F===void 0&&(F=256),this.checkKey(P)){var D=o.create(this,R,F,i.CANVAS,!0);return this.addCanvas(P,D)}return null},addCanvas:function(P,R,F){F===void 0&&(F=!1);var D=null;return F?D=new p(this,P,R,R.width,R.height):this.checkKey(P)&&(D=new p(this,P,R,R.width,R.height),this.list[P]=D,this.emit(l.ADD,P,D),this.emit(l.ADD_KEY+P,D)),D},addDynamicTexture:function(P,R,F){var D=null;return typeof P=="string"&&!this.exists(P)?D=new e(this,P,R,F):(D=P,P=D.key),this.checkKey(P)?(this.list[P]=D,this.emit(l.ADD,P,D),this.emit(l.ADD_KEY+P,D)):D=null,D},addAtlas:function(P,R,F,D){return Array.isArray(F.textures)||Array.isArray(F.frames)?this.addAtlasJSONArray(P,R,F,D):this.addAtlasJSONHash(P,R,F,D)},addAtlasJSONArray:function(P,R,F,D){var L=null;if(R instanceof S?(P=R.key,L=R):this.checkKey(P)&&(L=this.create(P,R)),L){if(Array.isArray(F))for(var O=F.length===1,B=0;B<L.source.length;B++){var b=O?F[0]:F[B];T.JSONArray(L,B,b)}else T.JSONArray(L,0,F);D&&L.setDataSource(D),this.emit(l.ADD,P,L),this.emit(l.ADD_KEY+P,L)}return L},addAtlasJSONHash:function(P,R,F,D){var L=null;if(R instanceof S?(P=R.key,L=R):this.checkKey(P)&&(L=this.create(P,R)),L){if(Array.isArray(F))for(var O=0;O<F.length;O++)T.JSONHash(L,O,F[O]);else T.JSONHash(L,0,F);D&&L.setDataSource(D),this.emit(l.ADD,P,L),this.emit(l.ADD_KEY+P,L)}return L},addAtlasXML:function(P,R,F,D){var L=null;return R instanceof S?(P=R.key,L=R):this.checkKey(P)&&(L=this.create(P,R)),L&&(T.AtlasXML(L,0,F),D&&L.setDataSource(D),this.emit(l.ADD,P,L),this.emit(l.ADD_KEY+P,L)),L},addUnityAtlas:function(P,R,F,D){var L=null;return R instanceof S?(P=R.key,L=R):this.checkKey(P)&&(L=this.create(P,R)),L&&(T.UnityYAML(L,0,F),D&&L.setDataSource(D),this.emit(l.ADD,P,L),this.emit(l.ADD_KEY+P,L)),L},addSpriteSheet:function(P,R,F,D){var L=null;if(R instanceof S?(P=R.key,L=R):this.checkKey(P)&&(L=this.create(P,R)),L){var O=L.source[0].width,B=L.source[0].height;T.SpriteSheet(L,0,0,0,O,B,F),D&&L.setDataSource(D),this.emit(l.ADD,P,L),this.emit(l.ADD_KEY+P,L)}return L},addSpriteSheetFromAtlas:function(P,R){if(!this.checkKey(P))return null;var F=f(R,"atlas",null),D=f(R,"frame",null);if(!(!F||!D)){var L=this.get(F),O=L.get(D);if(O){var B=O.source.image;B||(B=O.source.glTexture);var b=this.create(P,B);return O.trimmed?T.SpriteSheetFromAtlas(b,O,R):T.SpriteSheet(b,0,O.cutX,O.cutY,O.cutWidth,O.cutHeight,R),this.emit(l.ADD,P,b),this.emit(l.ADD_KEY+P,b),b}}},addUint8Array:function(P,R,F,D){if(!this.checkKey(P)||R.length/4!==F*D)return null;var L=this.create(P,R,F,D);return L.add("__BASE",0,0,0,F,D),this.emit(l.ADD,P,L),this.emit(l.ADD_KEY+P,L),L},create:function(P,R,F,D){var L=null;return this.checkKey(P)&&(L=new S(this,P,R,F,D),this.list[P]=L),L},exists:function(P){return this.list.hasOwnProperty(P)},get:function(P){return P===void 0&&(P="__DEFAULT"),this.list[P]?this.list[P]:P instanceof S?P:P instanceof s?P.texture:this.list.__MISSING},cloneFrame:function(P,R){if(this.list[P])return this.list[P].get(R).clone()},getFrame:function(P,R){if(this.list[P])return this.list[P].get(R)},parseFrame:function(P){if(P){if(typeof P=="string")return this.getFrame(P);if(Array.isArray(P)&&P.length===2)return this.getFrame(P[0],P[1]);if(m(P))return this.getFrame(P.key,P.frame);if(P instanceof S)return P.get();if(P instanceof s)return P}else return},getTextureKeys:function(){var P=[];for(var R in this.list)R!=="__DEFAULT"&&R!=="__MISSING"&&R!=="__WHITE"&&R!=="__NORMAL"&&P.push(R);return P},getPixel:function(P,R,F,D){var L=this.getFrame(F,D);if(L){P-=L.x,R-=L.y;var O=L.data.cut;if(P+=O.x,R+=O.y,P>=O.x&&P<O.r&&R>=O.y&&R<O.b){var B=this._tempContext;B.clearRect(0,0,1,1),B.drawImage(L.source.image,P,R,1,1,0,0,1,1);var b=B.getImageData(0,0,1,1);return new n(b.data[0],b.data[1],b.data[2],b.data[3])}}return null},getPixelAlpha:function(P,R,F,D){var L=this.getFrame(F,D);if(L){P-=L.x,R-=L.y;var O=L.data.cut;if(P+=O.x,R+=O.y,P>=O.x&&P<O.r&&R>=O.y&&R<O.b){var B=this._tempContext;B.clearRect(0,0,1,1),B.drawImage(L.source.image,P,R,1,1,0,0,1,1);var b=B.getImageData(0,0,1,1);return b.data[3]}}return null},setTexture:function(P,R,F){return this.list[R]&&(P.texture=this.list[R],P.frame=P.texture.get(F)),P},renameTexture:function(P,R){var F=this.get(P);return F&&P!==R?(F.key=R,this.list[R]=F,delete this.list[P],!0):!1},each:function(P,R){for(var F=[null],D=1;D<arguments.length;D++)F.push(arguments[D]);for(var L in this.list)F[0]=this.list[L],P.apply(R,F)},resetStamp:function(P,R){P===void 0&&(P=1),R===void 0&&(R=16777215);var F=this.stamp;return F.setCrop(),F.setPosition(0),F.setAngle(0),F.setScale(1),F.setAlpha(P),F.setTint(R),F.setTexture("__WHITE"),F},destroy:function(){for(var P in this.list)this.list[P].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,o.remove(this._tempCanvas)}});v.exports=A},11876:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(27919),p=t(83419),a=t(50030),n=t(29795),i=t(82751),e=new p({initialize:function(l,s,u,d,f){f===void 0&&(f=!1);var c=l.manager.game;this.renderer=c.renderer,this.texture=l,this.source=s,this.image=s.compressed?null:s,this.compressionAlgorithm=s.compressed?s.format:null,this.resolution=1,this.width=u||s.naturalWidth||s.videoWidth||s.width||0,this.height=d||s.naturalHeight||s.videoHeight||s.height||0,this.scaleMode=n.DEFAULT,this.isCanvas=s instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&s instanceof HTMLVideoElement,this.isRenderTexture=s.type==="RenderTexture"||s.type==="DynamicTexture",this.isGLTexture=s instanceof i,this.isPowerOf2=a(this.width,this.height),this.glTexture=null,this.flipY=f,this.init(c)},init:function(r){var l=this.renderer;if(l){var s=this.source;if(l.gl){var u=this.image,d=this.flipY,f=this.width,c=this.height,m=this.scaleMode;this.isCanvas?this.glTexture=l.createCanvasTexture(u,!1,d):this.isVideo?this.glTexture=l.createVideoTexture(u,!1,d):this.isRenderTexture?this.glTexture=l.createTextureFromSource(null,f,c,m):this.isGLTexture?this.glTexture=s:this.compressionAlgorithm?this.glTexture=l.createTextureFromSource(s,void 0,void 0,m):s instanceof Uint8Array?this.glTexture=l.createUint8ArrayTexture(s,f,c,m):this.glTexture=l.createTextureFromSource(u,f,c,m)}else this.isRenderTexture&&(this.image=s.canvas)}r.config.antialias||this.setFilter(1)},setFilter:function(r){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,r),this.scaleMode=r},setFlipY:function(r){return r===void 0&&(r=!0),r===this.flipY?this:(this.flipY=r,this.update(),this)},update:function(){var r=this.renderer,l=this.image,s=this.flipY,u=r.gl;u&&this.isCanvas?r.updateCanvasTexture(l,this.glTexture,s):u&&this.isVideo&&r.updateVideoTexture(l,this.glTexture,s)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&o.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});v.exports=e},19673:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={LINEAR:0,NEAREST:1};v.exports=y},44538:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="addtexture"},63486:v=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="addtexture-"},94851:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="onerror"},29099:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="onload"},8678:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="ready"},86415:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="removetexture"},30879:v=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="removetexture-"},69442:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ADD:t(44538),ADD_KEY:t(63486),ERROR:t(94851),LOAD:t(29099),READY:t(8678),REMOVE:t(86415),REMOVE_KEY:t(30879)}},27458:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(79291),p=t(19673),a={CanvasTexture:t(57382),DynamicTexture:t(81320),Events:t(69442),FilterMode:p,Frame:t(4327),Parsers:t(61309),Texture:t(79237),TextureManager:t(17130),TextureSource:t(11876)};a=o(!1,a,p),v.exports=a},89905:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){if(!p.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var a=t.source[o];t.add("__BASE",o,0,0,a.width,a.height);for(var n=p.getElementsByTagName("SubTexture"),i,e=0;e<n.length;e++){var r=n[e].attributes,l=r.name.value,s=parseInt(r.x.value,10),u=parseInt(r.y.value,10),d=parseInt(r.width.value,10),f=parseInt(r.height.value,10);if(i=t.add(l,o,s,u,d,f),r.frameX){var c=Math.abs(parseInt(r.frameX.value,10)),m=Math.abs(parseInt(r.frameY.value,10)),T=parseInt(r.frameWidth.value,10),C=parseInt(r.frameHeight.value,10);i.setTrim(d,f,c,m,T,C)}}return t};v.exports=y},72893:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){var p=t.source[o];return t.add("__BASE",o,0,0,p.width,p.height),t};v.exports=y},4832:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){var p=t.source[o];return t.add("__BASE",o,0,0,p.width,p.height),t};v.exports=y},78566:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(41786),p=function(a,n,i){if(!i.frames&&!i.textures){console.warn("Invalid Texture Atlas JSON Array");return}var e=a.source[n];a.add("__BASE",n,0,0,e.width,e.height);for(var r=Array.isArray(i.textures)?i.textures[n].frames:i.frames,l,s=0;s<r.length;s++){var u=r[s];if(l=a.add(u.filename,n,u.frame.x,u.frame.y,u.frame.w,u.frame.h),!l){console.warn("Invalid atlas json, frame already exists: "+u.filename);continue}u.trimmed&&l.setTrim(u.sourceSize.w,u.sourceSize.h,u.spriteSourceSize.x,u.spriteSourceSize.y,u.spriteSourceSize.w,u.spriteSourceSize.h),u.rotated&&(l.rotated=!0,l.updateUVsInverted());var d=u.anchor||u.pivot;d&&(l.customPivot=!0,l.pivotX=d.x,l.pivotY=d.y),u.scale9Borders&&l.setScale9(u.scale9Borders.x,u.scale9Borders.y,u.scale9Borders.w,u.scale9Borders.h),l.customData=o(u)}for(var f in i)f!=="frames"&&(Array.isArray(i[f])?a.customData[f]=i[f].slice(0):a.customData[f]=i[f]);return a};v.exports=p},39711:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(41786),p=function(a,n,i){if(!i.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var e=a.source[n];a.add("__BASE",n,0,0,e.width,e.height);var r=i.frames,l;for(var s in r)if(r.hasOwnProperty(s)){var u=r[s];if(l=a.add(s,n,u.frame.x,u.frame.y,u.frame.w,u.frame.h),!l){console.warn("Invalid atlas json, frame already exists: "+s);continue}u.trimmed&&l.setTrim(u.sourceSize.w,u.sourceSize.h,u.spriteSourceSize.x,u.spriteSourceSize.y,u.spriteSourceSize.w,u.spriteSourceSize.h),u.rotated&&(l.rotated=!0,l.updateUVsInverted());var d=u.anchor||u.pivot;d&&(l.customPivot=!0,l.pivotX=d.x,l.pivotY=d.y),u.scale9Borders&&l.setScale9(u.scale9Borders.x,u.scale9Borders.y,u.scale9Borders.w,u.scale9Borders.h),l.customData=o(u)}for(var f in i)f!=="frames"&&(Array.isArray(i[f])?a.customData[f]=i[f].slice(0):a.customData[f]=i[f]);return a};v.exports=p},31403:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var o=[171,75,84,88,32,49,49,187,13,10,26,10],p,a=new Uint8Array(t,0,12);for(p=0;p<a.length;p++)if(a[p]!==o[p]){console.warn("KTXParser - Invalid file format");return}var n=Uint32Array.BYTES_PER_ELEMENT,i=new DataView(t,12,13*n),e=i.getUint32(0,!0)===67305985,r=i.getUint32(1*n,e);if(r!==0){console.warn("KTXParser - Only compressed formats supported");return}var l=i.getUint32(4*n,e),s=i.getUint32(6*n,e),u=i.getUint32(7*n,e),d=Math.max(1,i.getUint32(11*n,e)),f=i.getUint32(12*n,e),c=new Array(d),m=12+13*4+f,T=s,C=u;for(p=0;p<d;p++){var S=new Int32Array(t,m,1)[0];m+=4,c[p]={data:new Uint8Array(t,m,S),width:T,height:C},T=Math.max(1,T>>1),C=Math.max(1,C>>1),m+=S}return{mipmaps:c,width:s,height:u,internalFormat:l,compressed:!0,generateMipmap:!1}};v.exports=y},82038:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(R,F,D,L,O,B,b){return b===void 0&&(b=16),Math.floor((R+D)/O)*Math.floor((F+L)/B)*b}function t(R,F){return R=Math.max(R,16),F=Math.max(F,8),R*F/4}function o(R,F){return R=Math.max(R,8),F=Math.max(F,8),R*F/2}function p(R,F){return Math.ceil(R/4)*Math.ceil(F/4)*16}function a(R,F){return y(R,F,3,3,4,4,8)}function n(R,F){return y(R,F,3,3,4,4)}function i(R,F){return y(R,F,4,3,5,4)}function e(R,F){return y(R,F,4,4,5,5)}function r(R,F){return y(R,F,5,4,6,5)}function l(R,F){return y(R,F,5,5,6,6)}function s(R,F){return y(R,F,7,4,8,5)}function u(R,F){return y(R,F,7,5,8,6)}function d(R,F){return y(R,F,7,7,8,8)}function f(R,F){return y(R,F,9,4,10,5)}function c(R,F){return y(R,F,9,5,10,6)}function m(R,F){return y(R,F,9,7,10,8)}function T(R,F){return y(R,F,9,9,10,10)}function C(R,F){return y(R,F,11,9,12,10)}function S(R,F){return y(R,F,11,11,12,12)}var A={0:{sizeFunc:t,glFormat:[35841]},1:{sizeFunc:t,glFormat:[35843]},2:{sizeFunc:o,glFormat:[35840]},3:{sizeFunc:o,glFormat:[35842]},6:{sizeFunc:a,glFormat:[36196]},7:{sizeFunc:a,glFormat:[33776,35916]},8:{sizeFunc:n,glFormat:[33777,35917]},9:{sizeFunc:n,glFormat:[33778,35918]},11:{sizeFunc:n,glFormat:[33779,35919]},14:{sizeFunc:p,glFormat:[36494,36495]},15:{sizeFunc:p,glFormat:[36492,36493]},22:{sizeFunc:a,glFormat:[37492,37493]},23:{sizeFunc:n,glFormat:[37496,37497]},24:{sizeFunc:a,glFormat:[37494,37495]},25:{sizeFunc:a,glFormat:[37488]},26:{sizeFunc:n,glFormat:[37490]},27:{sizeFunc:n,glFormat:[37808,37840]},28:{sizeFunc:i,glFormat:[37809,37841]},29:{sizeFunc:e,glFormat:[37810,37842]},30:{sizeFunc:r,glFormat:[37811,37843]},31:{sizeFunc:l,glFormat:[37812,37844]},32:{sizeFunc:s,glFormat:[37813,37845]},33:{sizeFunc:u,glFormat:[37814,37846]},34:{sizeFunc:d,glFormat:[37815,37847]},35:{sizeFunc:f,glFormat:[37816,37848]},36:{sizeFunc:c,glFormat:[37817,37849]},37:{sizeFunc:m,glFormat:[37818,37850]},38:{sizeFunc:T,glFormat:[37819,37851]},39:{sizeFunc:C,glFormat:[37820,37852]},40:{sizeFunc:S,glFormat:[37821,37853]}},P=function(R){for(var F=new Uint32Array(R,0,13),D=F[0],L=D===55727696,O=L?F[2]:F[3],B=F[4],b=A[O].glFormat[B],z=A[O].sizeFunc,V=F[11],W=F[7],K=F[6],U=52+F[12],Y=new Uint8Array(R,U),I=new Array(V),N=0,G=W,X=K,H=0;H<V;H++){var Q=z(G,X);I[H]={data:new Uint8Array(Y.buffer,Y.byteOffset+N,Q),width:G,height:X},G=Math.max(1,G>>1),X=Math.max(1,X>>1),N+=Q}return{mipmaps:I,width:W,height:K,internalFormat:b,compressed:!0,generateMipmap:!1}};v.exports=P},75549:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95540),p=function(a,n,i,e,r,l,s){var u=o(s,"frameWidth",null),d=o(s,"frameHeight",u);if(u===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var f=a.source[n];a.add("__BASE",n,0,0,f.width,f.height);var c=o(s,"startFrame",0),m=o(s,"endFrame",-1),T=o(s,"margin",0),C=o(s,"spacing",0),S=Math.floor((r-T+C)/(u+C)),A=Math.floor((l-T+C)/(d+C)),P=S*A;P===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",a.key),(c>P||c<-P)&&(c=0),c<0&&(c=P+c),(m===-1||m>P||m<c)&&(m=P);for(var R=T,F=T,D=0,L=0,O=0,B=0;B<P;B++){D=0,L=0;var b=R+u,z=F+d;b>r&&(D=b-r),z>l&&(L=z-l),B>=c&&B<=m&&(a.add(O,n,i+R,e+F,u-D,d-L),O++),R+=u+C,R+u>r&&(R=T,F+=d+C)}return a};v.exports=p},47534:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95540),p=function(a,n,i){var e=o(i,"frameWidth",null),r=o(i,"frameHeight",e);if(!e)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var l=a.source[0];a.add("__BASE",0,0,0,l.width,l.height),o(i,"startFrame",0),o(i,"endFrame",-1);for(var s=o(i,"margin",0),u=o(i,"spacing",0),d=n.cutX,f=n.cutY,c=n.cutWidth,m=n.cutHeight,T=n.realWidth,C=n.realHeight,S=Math.floor((T-s+u)/(e+u)),A=Math.floor((C-s+u)/(r+u)),P=n.x,R=e-P,F=e-(T-c-P),D=n.y,L=r-D,O=r-(C-m-D),B,b=s,z=s,V=0,W=0,K=0;K<A;K++){for(var U=K===0,Y=K===A-1,I=0;I<S;I++){var N=I===0,G=I===S-1;if(B=a.add(V,W,d+b,f+z,e,r),N||U||G||Y){var X=N?P:0,H=U?D:0,Q=0,$=0;N&&(Q+=e-R),G&&(Q+=e-F),U&&($+=r-L),Y&&($+=r-O);var Z=e-Q,J=r-$;B.cutWidth=Z,B.cutHeight=J,B.setTrim(e,r,X,H,Z,J)}b+=u,N?b+=R:G?b+=F:b+=e,V++}b=s,z+=u,U?z+=L:Y?z+=O:z+=r}return a};v.exports=p},86147:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=0,t=function(p,a,n,i){var e=y-i.y-i.height;p.add(n,a,i.x,e,i.width,i.height)},o=function(p,a,n){var i=p.source[a];p.add("__BASE",a,0,0,i.width,i.height),y=i.height;for(var e=n.split(`
`),r=/^[ ]*(- )*(\w+)+[: ]+(.*)/,l="",s="",u={x:0,y:0,width:0,height:0},d=0;d<e.length;d++){var f=e[d].match(r);if(f){var c=f[1]==="- ",m=f[2],T=f[3];if(c&&(s!==l&&(t(p,a,s,u),l=s),u={x:0,y:0,width:0,height:0}),m==="name"){s=T;continue}switch(m){case"x":case"y":case"width":case"height":u[m]=parseInt(T,10);break}}}return s!==l&&t(p,a,s,u),p};v.exports=o},55222:(v,y,t)=>{/**
 * @author       Ben Richards <benjamindrichards@gmail.com>
 * @copyright    2024 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(50030),p=function(l){for(var s=l.mipmaps,u=1;u<s.length;u++){var d=s[u].width,f=s[u].height;if(!o(d,f))return console.warn("Mip level "+u+" is not a power-of-two size: "+d+"x"+f),!1}var c=r[l.internalFormat];return c?c(l):(console.warn("No format checker found for internal format "+l.internalFormat+". Assuming valid."),!0)};function a(l){for(var s=l.mipmaps,u=0;u<s.length;u++){var d=s[u].width,f=s[u].height;if((d<<u)%4!==0||(f<<u)%4!==0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+u+" is "+d+"x"+f),!1}return!0}function n(){return!0}function i(l){var s=l.mipmaps,u=s[0];return o(u.width,u.height)?!0:(console.warn("PVRTC base dimensions must be power of two. Base level is "+u.width+"x"+u.height),!1)}function e(l){var s=l.mipmaps,u=s[0];return u.width%4!==0||u.height%4!==0?(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+u.width+"x"+u.height+" pixels"),!1):!0}var r={37488:n,37489:n,37490:n,37491:n,37492:n,37493:n,37494:n,37495:n,37496:n,37497:n,36196:n,37808:n,37809:n,37810:n,37811:n,37812:n,37813:n,37814:n,37815:n,37816:n,37817:n,37818:n,37819:n,37820:n,37821:n,37840:n,37841:n,37842:n,37843:n,37844:n,37845:n,37846:n,37847:n,37848:n,37849:n,37850:n,37851:n,37852:n,37853:n,36492:a,36493:a,36494:a,36495:a,36283:a,36284:a,36285:a,36286:a,35840:i,35841:i,35842:i,35843:i,33776:a,33777:a,33778:a,33779:a,35916:e,35917:e,35918:e,35919:e};v.exports=p},61309:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={AtlasXML:t(89905),Canvas:t(72893),Image:t(4832),JSONArray:t(78566),JSONHash:t(39711),KTXParser:t(31403),PVRParser:t(82038),SpriteSheet:t(75549),SpriteSheetFromAtlas:t(47534),UnityYAML:t(86147)}},80341:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=new o({initialize:function(n,i,e,r,l,s,u){(e===void 0||e<=0)&&(e=32),(r===void 0||r<=0)&&(r=32),l===void 0&&(l=0),s===void 0&&(s=0),this.name=n,this.firstgid=i|0,this.imageWidth=e|0,this.imageHeight=r|0,this.imageMargin=l|0,this.imageSpacing=s|0,this.properties=u||{},this.images=[],this.total=0},containsImageIndex:function(a){return a>=this.firstgid&&a<this.firstgid+this.total},addImage:function(a,n){return this.images.push({gid:a,image:n}),this.total++,this}});v.exports=p},27462:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=new o({initialize:function(n){if(this.gids=[],n!==void 0)for(var i=0;i<n.length;++i)for(var e=n[i],r=0;r<e.total;++r)this.gids[e.firstgid+r]=e;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(a){this.gids=a?this._gids:void 0}},getTypeIncludingTile:function(a){if(a.type!==void 0&&a.type!=="")return a.type;if(!(!this.gids||a.gid===void 0)){var n=this.gids[a.gid];if(n){var i=n.getTileData(a.gid);if(i)return i.type}}},setTextureAndFrame:function(a,n,i,e){if(n===null&&this.gids&&e.gid!==void 0){var r=this.gids[e.gid];r&&(n===null&&r.image!==void 0&&(n=r.image.key),i===null&&(i=e.gid-r.firstgid),a.scene.textures.getFrame(n,i)||(n=null,i=null))}a.setTexture(n,i)},setPropertiesFromTiledObject:function(a,n){if(this.gids!==void 0&&n.gid!==void 0){var i=this.gids[n.gid];i!==void 0&&this.setFromJSON(a,i.getTileProperties(n.gid))}this.setFromJSON(a,n.properties)},setFromJSON:function(a,n){if(n){if(Array.isArray(n)){for(var i=0;i<n.length;i++){var e=n[i];a[e.name]!==void 0?a[e.name]=e.value:a.setData(e.name,e.value)}return}for(var r in n)a[r]!==void 0?a[r]=n[r]:a.setData(r,n[r])}}});v.exports=p},31989:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(80341),p=t(87010),a=t(46177),n=t(49075),i=function(e,r,l,s,u,d,f,c){l===void 0&&(l=32),s===void 0&&(s=32),u===void 0&&(u=10),d===void 0&&(d=10),c===void 0&&(c=!1);var m=null;if(Array.isArray(f)){var T=r!==void 0?r:"map";m=a(T,o.ARRAY_2D,f,l,s,c)}else if(r!==void 0){var C=e.cache.tilemap.get(r);C?m=a(r,C.format,C.data,l,s,c):console.warn("No map data found for key "+r)}return m===null&&(m=new p({tileWidth:l,tileHeight:s,width:u,height:d})),new n(e,m)};v.exports=i},23029:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(31401),a=t(91907),n=t(62644),i=t(93232),e=new o({Mixins:[p.AlphaSingle,p.Flip,p.Visible],initialize:function(l,s,u,d,f,c,m,T){this.layer=l,this.index=s,this.x=u,this.y=d,this.width=f,this.height=c,this.right,this.bottom,this.baseWidth=m!==void 0?m:f,this.baseHeight=T!==void 0?T:c,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(r,l){return!(r<this.pixelX||l<this.pixelY||r>this.right||l>this.bottom)},copy:function(r){return this.index=r.index,this.alpha=r.alpha,this.properties=n(r.properties),this.visible=r.visible,this.setFlip(r.flipX,r.flipY),this.tint=r.tint,this.rotation=r.rotation,this.collideUp=r.collideUp,this.collideDown=r.collideDown,this.collideLeft=r.collideLeft,this.collideRight=r.collideRight,this.collisionCallback=r.collisionCallback,this.collisionCallbackContext=r.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(r){var l=this.tilemapLayer;if(l){var s=l.tileToWorldXY(this.x,this.y,void 0,r);return s.x}return this.x*this.baseWidth},getRight:function(r){var l=this.tilemapLayer;return l?this.getLeft(r)+this.width*l.scaleX:this.getLeft(r)+this.width},getTop:function(r){var l=this.tilemapLayer;if(l){var s=l.tileToWorldXY(this.x,this.y,void 0,r);return s.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(r){var l=this.tilemapLayer;return l?this.getTop(r)+this.height*l.scaleY:this.getTop(r)+this.height},getBounds:function(r,l){return l===void 0&&(l=new i),l.x=this.getLeft(r),l.y=this.getTop(r),l.width=this.getRight(r)-l.x,l.height=this.getBottom(r)-l.y,l},getCenterX:function(r){return(this.getLeft(r)+this.getRight(r))/2},getCenterY:function(r){return(this.getTop(r)+this.getBottom(r))/2},intersects:function(r,l,s,u){return!(s<=this.pixelX||u<=this.pixelY||r>=this.right||l>=this.bottom)},isInteresting:function(r,l){return r&&l?this.canCollide||this.hasInterestingFace:r?this.collides:l?this.hasInterestingFace:!1},resetCollision:function(r){if(r===void 0&&(r=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,r){var l=this.tilemapLayer;l&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(r,l,s,u,d){if(l===void 0&&(l=r),s===void 0&&(s=r),u===void 0&&(u=r),d===void 0&&(d=!0),this.collideLeft=r,this.collideRight=l,this.collideUp=s,this.collideDown=u,this.faceLeft=r,this.faceRight=l,this.faceTop=s,this.faceBottom=u,d){var f=this.tilemapLayer;f&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(r,l){return r===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=r,this.collisionCallbackContext=l),this},setSize:function(r,l,s,u){return r!==void 0&&(this.width=r),l!==void 0&&(this.height=l),s!==void 0&&(this.baseWidth=s),u!==void 0&&(this.baseHeight=u),this.updatePixelXY(),this},updatePixelXY:function(){var r=this.layer.orientation;if(r===a.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(r===a.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(r===a.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(r===a.HEXAGONAL){var l=this.layer.staggerAxis,s=this.layer.staggerIndex,u=this.layer.hexSideLength,d,f;l==="y"?(f=(this.baseHeight-u)/2+u,s==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*f):l==="x"&&(d=(this.baseWidth-u)/2+u,this.pixelX=this.x*d,s==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var r=this.layer.tilemapLayer;if(r){var l=r.gidMap[this.index];if(l)return l}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var r=this.tilemapLayer;return r?r.tilemap:null}}});v.exports=e},49075:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(84101),p=t(83419),a=t(39506),n=t(80341),i=t(95540),e=t(14977),r=t(27462),l=t(91907),s=t(36305),u=t(19133),d=t(68287),f=t(23029),c=t(81086),m=t(20442),T=t(33629),C=new p({initialize:function(A,P){this.scene=A,this.tileWidth=P.tileWidth,this.tileHeight=P.tileHeight,this.width=P.width,this.height=P.height,this.orientation=P.orientation,this.renderOrder=P.renderOrder,this.format=P.format,this.version=P.version,this.properties=P.properties,this.widthInPixels=P.widthInPixels,this.heightInPixels=P.heightInPixels,this.imageCollections=P.imageCollections,this.images=P.images,this.layers=P.layers,this.tiles=P.tiles,this.tilesets=P.tilesets,this.objects=P.objects,this.currentLayerIndex=0,this.hexSideLength=P.hexSideLength;var R=this.orientation;this._convert={WorldToTileXY:c.GetWorldToTileXYFunction(R),WorldToTileX:c.GetWorldToTileXFunction(R),WorldToTileY:c.GetWorldToTileYFunction(R),TileToWorldXY:c.GetTileToWorldXYFunction(R),TileToWorldX:c.GetTileToWorldXFunction(R),TileToWorldY:c.GetTileToWorldYFunction(R),GetTileCorners:c.GetTileCornersFunction(R)}},setRenderOrder:function(S){var A=["right-down","left-down","right-up","left-up"];return typeof S=="number"&&(S=A[S]),A.indexOf(S)>-1&&(this.renderOrder=S),this},addTilesetImage:function(S,A,P,R,F,D,L,O){if(S===void 0)return null;A==null&&(A=S);var B=this.scene.sys.textures;if(!B.exists(A))return console.warn('Texture key "%s" not found',A),null;var b=B.get(A),z=this.getTilesetIndex(S);if(z===null&&this.format===n.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',S,this.tilesets),null;var V=this.tilesets[z];return V?(V.setTileSize(P,R),V.setSpacing(F,D),V.setImage(b),V):(P===void 0&&(P=this.tileWidth),R===void 0&&(R=this.tileHeight),F===void 0&&(F=0),D===void 0&&(D=0),L===void 0&&(L=0),O===void 0&&(O={x:0,y:0}),V=new T(S,L,P,R,F,D,void 0,void 0,O),V.setImage(b),this.tilesets.push(V),this.tiles=o(this),V)},copy:function(S,A,P,R,F,D,L,O){return O=this.getLayer(O),O!==null?(c.Copy(S,A,P,R,F,D,L,O),this):null},createBlankLayer:function(S,A,P,R,F,D,L,O){P===void 0&&(P=0),R===void 0&&(R=0),F===void 0&&(F=this.width),D===void 0&&(D=this.height),L===void 0&&(L=this.tileWidth),O===void 0&&(O=this.tileHeight);var B=this.getLayerIndex(S);if(B!==null)return console.warn("Invalid Tilemap Layer ID: "+S),null;for(var b=new e({name:S,tileWidth:L,tileHeight:O,width:F,height:D,orientation:this.orientation}),z,V=0;V<D;V++){z=[];for(var W=0;W<F;W++)z.push(new f(b,-1,W,V,L,O,this.tileWidth,this.tileHeight));b.data.push(z)}this.layers.push(b),this.currentLayerIndex=this.layers.length-1;var K=new m(this.scene,this,this.currentLayerIndex,A,P,R);return K.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(K),K},createLayer:function(S,A,P,R){var F=this.getLayerIndex(S);if(F===null)return console.warn("Invalid Tilemap Layer ID: "+S),typeof S=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var D=this.layers[F];if(D.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+S),null;this.currentLayerIndex=F,P===void 0&&(P=D.x),R===void 0&&(R=D.y);var L=new m(this.scene,this,F,A,P,R);return L.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(L),L},createFromObjects:function(S,A,P){P===void 0&&(P=!0);var R=[],F=this.getObjectLayer(S);if(!F)return console.warn("createFromObjects: Invalid objectLayerName given: "+S),R;var D=new r(P?this.tilesets:void 0);Array.isArray(A)||(A=[A]);for(var L=F.objects,O=0;O<A.length;O++){var B=A[O],b=i(B,"id",null),z=i(B,"gid",null),V=i(B,"name",null),W=i(B,"type",null);D.enabled=!i(B,"ignoreTileset",null);for(var K,U=[],Y=0;Y<L.length;Y++)K=L[Y],(b===null&&z===null&&V===null&&W===null||b!==null&&K.id===b||z!==null&&K.gid===z||V!==null&&K.name===V||W!==null&&D.getTypeIncludingTile(K)===W)&&U.push(K);for(var I=i(B,"classType",d),N=i(B,"scene",this.scene),G=i(B,"container",null),X=i(B,"key",null),H=i(B,"frame",null),Q=0;Q<U.length;Q++){K=U[Q];var $=new I(N);if($.setName(K.name),$.setPosition(K.x,K.y),D.setTextureAndFrame($,X,H,K),K.width&&($.displayWidth=K.width),K.height&&($.displayHeight=K.height),this.orientation===l.ISOMETRIC){var Z=this.tileWidth/this.tileHeight,J={x:$.x-$.y,y:($.x+$.y)/Z};$.x=J.x,$.y=J.y}var j={x:$.originX*K.width,y:($.originY-(K.gid?1:0))*K.height};if(K.rotation){var k=a(K.rotation);s(j,k),$.rotation=k}$.x+=j.x,$.y+=j.y,(K.flippedHorizontal!==void 0||K.flippedVertical!==void 0)&&$.setFlip(K.flippedHorizontal,K.flippedVertical),K.visible||($.visible=!1),D.setPropertiesFromTiledObject($,K),G?G.add($):N.add.existing($),R.push($)}}return R},createFromTiles:function(S,A,P,R,F,D){return D=this.getLayer(D),D===null?null:c.CreateFromTiles(S,A,P,R,F,D)},fill:function(S,A,P,R,F,D,L){return D===void 0&&(D=!0),L=this.getLayer(L),L===null?null:(c.Fill(S,A,P,R,F,D,L),this)},filterObjects:function(S,A,P){if(typeof S=="string"){var R=S;if(S=this.getObjectLayer(S),!S)return console.warn("No object layer found with the name: "+R),null}return S.objects.filter(A,P)},filterTiles:function(S,A,P,R,F,D,L,O){return O=this.getLayer(O),O===null?null:c.FilterTiles(S,A,P,R,F,D,L,O)},findByIndex:function(S,A,P,R){return R=this.getLayer(R),R===null?null:c.FindByIndex(S,A,P,R)},findObject:function(S,A,P){if(typeof S=="string"){var R=S;if(S=this.getObjectLayer(S),!S)return console.warn("No object layer found with the name: "+R),null}return S.objects.find(A,P)||null},findTile:function(S,A,P,R,F,D,L,O){return O=this.getLayer(O),O===null?null:c.FindTile(S,A,P,R,F,D,L,O)},forEachTile:function(S,A,P,R,F,D,L,O){return O=this.getLayer(O),O===null?null:(c.ForEachTile(S,A,P,R,F,D,L,O),this)},getImageIndex:function(S){return this.getIndex(this.images,S)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(S){return S.name})},getIndex:function(S,A){for(var P=0;P<S.length;P++)if(S[P].name===A)return P;return null},getLayer:function(S){var A=this.getLayerIndex(S);return A!==null?this.layers[A]:null},getObjectLayer:function(S){var A=this.getIndex(this.objects,S);return A!==null?this.objects[A]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(S){return S.name})},getLayerIndex:function(S){return S===void 0?this.currentLayerIndex:typeof S=="string"?this.getLayerIndexByName(S):typeof S=="number"&&S<this.layers.length?S:S instanceof m&&S.tilemap===this?S.layerIndex:null},getLayerIndexByName:function(S){return this.getIndex(this.layers,S)},getTileAt:function(S,A,P,R){return R=this.getLayer(R),R===null?null:c.GetTileAt(S,A,P,R)},getTileAtWorldXY:function(S,A,P,R,F){return F=this.getLayer(F),F===null?null:c.GetTileAtWorldXY(S,A,P,R,F)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(S){return S.name})},getTilesWithin:function(S,A,P,R,F,D){return D=this.getLayer(D),D===null?null:c.GetTilesWithin(S,A,P,R,F,D)},getTilesWithinShape:function(S,A,P,R){return R=this.getLayer(R),R===null?null:c.GetTilesWithinShape(S,A,P,R)},getTilesWithinWorldXY:function(S,A,P,R,F,D,L){return L=this.getLayer(L),L===null?null:c.GetTilesWithinWorldXY(S,A,P,R,F,D,L)},getTileset:function(S){var A=this.getIndex(this.tilesets,S);return A!==null?this.tilesets[A]:null},getTilesetIndex:function(S){return this.getIndex(this.tilesets,S)},hasTileAt:function(S,A,P){return P=this.getLayer(P),P===null?null:c.HasTileAt(S,A,P)},hasTileAtWorldXY:function(S,A,P,R){return R=this.getLayer(R),R===null?null:c.HasTileAtWorldXY(S,A,P,R)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(S){this.setLayer(S)}},putTileAt:function(S,A,P,R,F){return R===void 0&&(R=!0),F=this.getLayer(F),F===null?null:c.PutTileAt(S,A,P,R,F)},putTileAtWorldXY:function(S,A,P,R,F,D){return R===void 0&&(R=!0),D=this.getLayer(D),D===null?null:c.PutTileAtWorldXY(S,A,P,R,F,D)},putTilesAt:function(S,A,P,R,F){return R===void 0&&(R=!0),F=this.getLayer(F),F===null?null:(c.PutTilesAt(S,A,P,R,F),this)},randomize:function(S,A,P,R,F,D){return D=this.getLayer(D),D===null?null:(c.Randomize(S,A,P,R,F,D),this)},calculateFacesAt:function(S,A,P){return P=this.getLayer(P),P===null?null:(c.CalculateFacesAt(S,A,P),this)},calculateFacesWithin:function(S,A,P,R,F){return F=this.getLayer(F),F===null?null:(c.CalculateFacesWithin(S,A,P,R,F),this)},removeLayer:function(S){var A=this.getLayerIndex(S);if(A!==null){u(this.layers,A);for(var P=A;P<this.layers.length;P++)this.layers[P].tilemapLayer&&this.layers[P].tilemapLayer.layerIndex--;return this.currentLayerIndex===A&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(S){var A=this.getLayerIndex(S);return A!==null?(S=this.layers[A],S.tilemapLayer.destroy(),u(this.layers,A),this.currentLayerIndex===A&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var S=this.layers,A=0;A<S.length;A++)S[A].tilemapLayer&&S[A].tilemapLayer.destroy(!1);return S.length=0,this.currentLayerIndex=0,this},removeTile:function(S,A,P){A===void 0&&(A=-1),P===void 0&&(P=!0);var R=[];Array.isArray(S)||(S=[S]);for(var F=0;F<S.length;F++){var D=S[F];R.push(this.removeTileAt(D.x,D.y,!0,P,D.tilemapLayer)),A>-1&&this.putTileAt(A,D.x,D.y,P,D.tilemapLayer)}return R},removeTileAt:function(S,A,P,R,F){return P===void 0&&(P=!0),R===void 0&&(R=!0),F=this.getLayer(F),F===null?null:c.RemoveTileAt(S,A,P,R,F)},removeTileAtWorldXY:function(S,A,P,R,F,D){return P===void 0&&(P=!0),R===void 0&&(R=!0),D=this.getLayer(D),D===null?null:c.RemoveTileAtWorldXY(S,A,P,R,F,D)},renderDebug:function(S,A,P){return P=this.getLayer(P),P===null?null:(this.orientation===l.ORTHOGONAL&&c.RenderDebug(S,A,P),this)},renderDebugFull:function(S,A){for(var P=this.layers,R=0;R<P.length;R++)c.RenderDebug(S,A,P[R]);return this},replaceByIndex:function(S,A,P,R,F,D,L){return L=this.getLayer(L),L===null?null:(c.ReplaceByIndex(S,A,P,R,F,D,L),this)},setCollision:function(S,A,P,R,F){return A===void 0&&(A=!0),P===void 0&&(P=!0),F===void 0&&(F=!0),R=this.getLayer(R),R===null?null:(c.SetCollision(S,A,P,R,F),this)},setCollisionBetween:function(S,A,P,R,F){return P===void 0&&(P=!0),R===void 0&&(R=!0),F=this.getLayer(F),F===null?null:(c.SetCollisionBetween(S,A,P,R,F),this)},setCollisionByProperty:function(S,A,P,R){return A===void 0&&(A=!0),P===void 0&&(P=!0),R=this.getLayer(R),R===null?null:(c.SetCollisionByProperty(S,A,P,R),this)},setCollisionByExclusion:function(S,A,P,R){return A===void 0&&(A=!0),P===void 0&&(P=!0),R=this.getLayer(R),R===null?null:(c.SetCollisionByExclusion(S,A,P,R),this)},setCollisionFromCollisionGroup:function(S,A,P){return S===void 0&&(S=!0),A===void 0&&(A=!0),P=this.getLayer(P),P===null?null:(c.SetCollisionFromCollisionGroup(S,A,P),this)},setTileIndexCallback:function(S,A,P,R){return R=this.getLayer(R),R===null?null:(c.SetTileIndexCallback(S,A,P,R),this)},setTileLocationCallback:function(S,A,P,R,F,D,L){return L=this.getLayer(L),L===null?null:(c.SetTileLocationCallback(S,A,P,R,F,D,L),this)},setLayer:function(S){var A=this.getLayerIndex(S);return A!==null&&(this.currentLayerIndex=A),this},setBaseTileSize:function(S,A){this.tileWidth=S,this.tileHeight=A,this.widthInPixels=this.width*S,this.heightInPixels=this.height*A;for(var P=0;P<this.layers.length;P++){this.layers[P].baseTileWidth=S,this.layers[P].baseTileHeight=A;for(var R=this.layers[P].data,F=this.layers[P].width,D=this.layers[P].height,L=0;L<D;L++)for(var O=0;O<F;O++){var B=R[L][O];B!==null&&B.setSize(void 0,void 0,S,A)}}return this},setLayerTileSize:function(S,A,P){if(P=this.getLayer(P),P===null)return this;P.tileWidth=S,P.tileHeight=A;for(var R=P.data,F=P.width,D=P.height,L=0;L<D;L++)for(var O=0;O<F;O++){var B=R[L][O];B!==null&&B.setSize(S,A)}return this},shuffle:function(S,A,P,R,F){return F=this.getLayer(F),F===null?null:(c.Shuffle(S,A,P,R,F),this)},swapByIndex:function(S,A,P,R,F,D,L){return L=this.getLayer(L),L===null?null:(c.SwapByIndex(S,A,P,R,F,D,L),this)},tileToWorldX:function(S,A,P){return P=this.getLayer(P),P===null?null:this._convert.TileToWorldX(S,A,P)},tileToWorldY:function(S,A,P){return P=this.getLayer(P),P===null?null:this._convert.TileToWorldY(S,A,P)},tileToWorldXY:function(S,A,P,R,F){return F=this.getLayer(F),F===null?null:this._convert.TileToWorldXY(S,A,P,R,F)},getTileCorners:function(S,A,P,R){return R=this.getLayer(R),R===null?null:this._convert.GetTileCorners(S,A,P,R)},weightedRandomize:function(S,A,P,R,F,D){return D=this.getLayer(D),D===null?null:(c.WeightedRandomize(A,P,R,F,S,D),this)},worldToTileX:function(S,A,P,R){return R=this.getLayer(R),R===null?null:this._convert.WorldToTileX(S,A,P,R)},worldToTileY:function(S,A,P,R){return R=this.getLayer(R),R===null?null:this._convert.WorldToTileY(S,A,P,R)},worldToTileXY:function(S,A,P,R,F,D){return D=this.getLayer(D),D===null?null:this._convert.WorldToTileXY(S,A,P,R,F,D)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});v.exports=C},45939:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(44603),p=t(31989);o.register("tilemap",function(a){var n=a!==void 0?a:{};return p(this.scene,n.key,n.tileWidth,n.tileHeight,n.width,n.height,n.data,n.insertNull)})},46029:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),p=t(31989);o.register("tilemap",function(a,n,i,e,r,l,s){return a===null&&(a=void 0),n===null&&(n=void 0),i===null&&(i=void 0),e===null&&(e=void 0),r===null&&(r=void 0),p(this.scene,a,n,i,e,r,l,s)})},20442:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(78389),a=t(31401),n=t(95643),i=t(81086),e=t(19218),r=t(26099),l=new o({Extends:n,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.Transform,a.Visible,a.ScrollFactor,p,e],initialize:function(u,d,f,c,m,T){n.call(this,u,"TilemapLayer"),this.isTilemap=!0,this.tilemap=d,this.layerIndex=f,this.layer=d.layers[f],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=i.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new r,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(c),this.setAlpha(this.layer.alpha),this.setPosition(m,T),this.setOrigin(0,0),this.setSize(d.tileWidth*this.layer.width,d.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(s){var u=[],d=[],f=this.tilemap;Array.isArray(s)||(s=[s]);for(var c=0;c<s.length;c++){var m=s[c];if(typeof m=="string"&&(m=f.getTileset(m)),m){d.push(m);for(var T=m.firstgid,C=0;C<m.total;C++)u[T+C]=m}}this.gidMap=u,this.tileset=d},setRenderOrder:function(s){var u=["right-down","left-down","right-up","left-up"];return typeof s=="string"&&(s=u.indexOf(s)),s>=0&&s<4&&(this._renderOrder=s),this},calculateFacesAt:function(s,u){return i.CalculateFacesAt(s,u,this.layer),this},calculateFacesWithin:function(s,u,d,f){return i.CalculateFacesWithin(s,u,d,f,this.layer),this},createFromTiles:function(s,u,d,f,c){return i.CreateFromTiles(s,u,d,f,c,this.layer)},cull:function(s){return this.cullCallback(this.layer,s,this.culledTiles,this._renderOrder)},copy:function(s,u,d,f,c,m,T){return i.Copy(s,u,d,f,c,m,T,this.layer),this},fill:function(s,u,d,f,c,m){return i.Fill(s,u,d,f,c,m,this.layer),this},filterTiles:function(s,u,d,f,c,m,T){return i.FilterTiles(s,u,d,f,c,m,T,this.layer)},findByIndex:function(s,u,d){return i.FindByIndex(s,u,d,this.layer)},findTile:function(s,u,d,f,c,m,T){return i.FindTile(s,u,d,f,c,m,T,this.layer)},forEachTile:function(s,u,d,f,c,m,T){return i.ForEachTile(s,u,d,f,c,m,T,this.layer),this},setTint:function(s,u,d,f,c,m){s===void 0&&(s=16777215);var T=function(C){C.tint=s,C.tintFill=!1};return this.forEachTile(T,this,u,d,f,c,m)},setTintFill:function(s,u,d,f,c,m){s===void 0&&(s=16777215);var T=function(C){C.tint=s,C.tintFill=!0};return this.forEachTile(T,this,u,d,f,c,m)},getTileAt:function(s,u,d){return i.GetTileAt(s,u,d,this.layer)},getTileAtWorldXY:function(s,u,d,f){return i.GetTileAtWorldXY(s,u,d,f,this.layer)},getIsoTileAtWorldXY:function(s,u,d,f,c){d===void 0&&(d=!0);var m=this.tempVec;return i.IsometricWorldToTileXY(s,u,!0,m,c,this.layer,d),this.getTileAt(m.x,m.y,f)},getTilesWithin:function(s,u,d,f,c){return i.GetTilesWithin(s,u,d,f,c,this.layer)},getTilesWithinShape:function(s,u,d){return i.GetTilesWithinShape(s,u,d,this.layer)},getTilesWithinWorldXY:function(s,u,d,f,c,m){return i.GetTilesWithinWorldXY(s,u,d,f,c,m,this.layer)},hasTileAt:function(s,u){return i.HasTileAt(s,u,this.layer)},hasTileAtWorldXY:function(s,u,d){return i.HasTileAtWorldXY(s,u,d,this.layer)},putTileAt:function(s,u,d,f){return i.PutTileAt(s,u,d,f,this.layer)},putTileAtWorldXY:function(s,u,d,f,c){return i.PutTileAtWorldXY(s,u,d,f,c,this.layer)},putTilesAt:function(s,u,d,f){return i.PutTilesAt(s,u,d,f,this.layer),this},randomize:function(s,u,d,f,c){return i.Randomize(s,u,d,f,c,this.layer),this},removeTileAt:function(s,u,d,f){return i.RemoveTileAt(s,u,d,f,this.layer)},removeTileAtWorldXY:function(s,u,d,f,c){return i.RemoveTileAtWorldXY(s,u,d,f,c,this.layer)},renderDebug:function(s,u){return i.RenderDebug(s,u,this.layer),this},replaceByIndex:function(s,u,d,f,c,m){return i.ReplaceByIndex(s,u,d,f,c,m,this.layer),this},setSkipCull:function(s){return s===void 0&&(s=!0),this.skipCull=s,this},setCullPadding:function(s,u){return s===void 0&&(s=1),u===void 0&&(u=1),this.cullPaddingX=s,this.cullPaddingY=u,this},setCollision:function(s,u,d,f){return i.SetCollision(s,u,d,this.layer,f),this},setCollisionBetween:function(s,u,d,f){return i.SetCollisionBetween(s,u,d,f,this.layer),this},setCollisionByProperty:function(s,u,d){return i.SetCollisionByProperty(s,u,d,this.layer),this},setCollisionByExclusion:function(s,u,d){return i.SetCollisionByExclusion(s,u,d,this.layer),this},setCollisionFromCollisionGroup:function(s,u){return i.SetCollisionFromCollisionGroup(s,u,this.layer),this},setTileIndexCallback:function(s,u,d){return i.SetTileIndexCallback(s,u,d,this.layer),this},setTileLocationCallback:function(s,u,d,f,c,m){return i.SetTileLocationCallback(s,u,d,f,c,m,this.layer),this},shuffle:function(s,u,d,f){return i.Shuffle(s,u,d,f,this.layer),this},swapByIndex:function(s,u,d,f,c,m){return i.SwapByIndex(s,u,d,f,c,m,this.layer),this},tileToWorldX:function(s,u){return this.tilemap.tileToWorldX(s,u,this)},tileToWorldY:function(s,u){return this.tilemap.tileToWorldY(s,u,this)},tileToWorldXY:function(s,u,d,f){return this.tilemap.tileToWorldXY(s,u,d,f,this)},getTileCorners:function(s,u,d){return this.tilemap.getTileCorners(s,u,d,this)},weightedRandomize:function(s,u,d,f,c){return i.WeightedRandomize(u,d,f,c,s,this.layer),this},worldToTileX:function(s,u,d){return this.tilemap.worldToTileX(s,u,d,this)},worldToTileY:function(s,u,d){return this.tilemap.worldToTileY(s,u,d,this)},worldToTileXY:function(s,u,d,f,c){return this.tilemap.worldToTileXY(s,u,d,f,c,this)},destroy:function(s){s===void 0&&(s=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),s&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],n.prototype.destroy.call(this))}});v.exports=l},16153:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(61340),p=new o,a=new o,n=new o,i=function(e,r,l,s){var u=r.cull(l),d=u.length,f=l.alpha*r.alpha;if(!(d===0||f<=0)){var c=p,m=a,T=n;m.applyITRS(r.x,r.y,r.rotation,r.scaleX,r.scaleY),c.copyFrom(l.matrix);var C=e.currentContext,S=r.gidMap;C.save(),s?(c.multiplyWithOffset(s,-l.scrollX*r.scrollFactorX,-l.scrollY*r.scrollFactorY),m.e=r.x,m.f=r.y,c.multiply(m,T),T.copyToContext(C)):(m.e-=l.scrollX*r.scrollFactorX,m.f-=l.scrollY*r.scrollFactorY,m.copyToContext(C)),(!e.antialias||r.scaleX>1||r.scaleY>1)&&(C.imageSmoothingEnabled=!1);for(var A=0;A<d;A++){var P=u[A],R=S[P.index];if(R){var F=R.image.getSourceImage(),D=R.getTileTextureCoordinates(P.index),L=R.tileWidth,O=R.tileHeight;if(!(D===null||L===0||O===0)){var B=L*.5,b=O*.5;D.x+=R.tileOffset.x,D.y+=R.tileOffset.y,C.save(),C.translate(P.pixelX+B,P.pixelY+b),P.rotation!==0&&C.rotate(P.rotation),(P.flipX||P.flipY)&&C.scale(P.flipX?-1:1,P.flipY?-1:1),C.globalAlpha=f*P.alpha,C.drawImage(F,D.x,D.y,L,O,-B,-b,L,O),C.restore()}}}C.restore()}};v.exports=i},19218:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),p=o,a=o;p=t(99558),a=t(16153),v.exports={renderWebGL:p,renderCanvas:a}},99558:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(70554),p=function(a,n,i){var e=n.cull(i),r=e.length,l=i.alpha*n.alpha;if(!(r===0||l<=0)){var s=n.gidMap,u=a.pipelines.set(n.pipeline,n),d=o.getTintAppendFloatAlpha,f=n.scrollFactorX,c=n.scrollFactorY,m=n.x,T=n.y,C=n.scaleX,S=n.scaleY;a.pipelines.preBatch(n);for(var A=0;A<r;A++){var P=e[A],R=s[P.index];if(R){var F=R.getTileTextureCoordinates(P.index),D=R.tileWidth,L=R.tileHeight;if(!(!F||D===0||L===0)){var O=D*.5,B=L*.5,b=R.glTexture,z=u.setTexture2D(b,n),V=D,W=L,K=F.x,U=F.y,Y=R.tileOffset.x,I=R.tileOffset.y,N=d(P.tint,l*P.alpha);u.batchTexture(n,b,b.width,b.height,m+P.pixelX*C+(O*C-Y),T+P.pixelY*S+(B*S-I),D,L,C,S,P.rotation,P.flipX,P.flipY,f,c,O,B,K,U,V,W,N,N,N,N,P.tintFill,0,0,i,null,!0,z,!0)}}}a.pipelines.postBatch(n)}};v.exports=p},33629:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(26099),a=new o({initialize:function(i,e,r,l,s,u,d,f,c){(r===void 0||r<=0)&&(r=32),(l===void 0||l<=0)&&(l=32),s===void 0&&(s=0),u===void 0&&(u=0),d===void 0&&(d={}),f===void 0&&(f={}),this.name=i,this.firstgid=e,this.tileWidth=r,this.tileHeight=l,this.tileMargin=s,this.tileSpacing=u,this.tileProperties=d,this.tileData=f,this.tileOffset=new p,c!==void 0&&this.tileOffset.set(c.x,c.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(n){return this.containsTileIndex(n)?this.tileProperties[n-this.firstgid]:null},getTileData:function(n){return this.containsTileIndex(n)?this.tileData[n-this.firstgid]:null},getTileCollisionGroup:function(n){var i=this.getTileData(n);return i&&i.objectgroup?i.objectgroup:null},containsTileIndex:function(n){return n>=this.firstgid&&n<this.firstgid+this.total},getTileTextureCoordinates:function(n){return this.containsTileIndex(n)?this.texCoordinates[n-this.firstgid]:null},setImage:function(n){this.image=n;var i=n.get(),e=n.getFrameBounds();return this.glTexture=i.source.glTexture,i.width>e.width||i.height>e.height?this.updateTileData(i.width,i.height):this.updateTileData(e.width,e.height,e.x,e.y),this},setTileSize:function(n,i){return n!==void 0&&(this.tileWidth=n),i!==void 0&&(this.tileHeight=i),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(n,i){return n!==void 0&&(this.tileMargin=n),i!==void 0&&(this.tileSpacing=i),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(n,i,e,r){e===void 0&&(e=0),r===void 0&&(r=0);var l=(i-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),s=(n-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(l%1!==0||s%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),l=Math.floor(l),s=Math.floor(s),this.rows=l,this.columns=s,this.total=l*s,this.texCoordinates.length=0;for(var u=this.tileMargin+e,d=this.tileMargin+r,f=0;f<this.rows;f++){for(var c=0;c<this.columns;c++)this.texCoordinates.push({x:u,y:d}),u+=this.tileWidth+this.tileSpacing;u=this.tileMargin+e,d+=this.tileHeight+this.tileSpacing}return this}});v.exports=a},72023:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7423),p=function(a,n,i){var e=o(a,n,!0,i),r=o(a,n-1,!0,i),l=o(a,n+1,!0,i),s=o(a-1,n,!0,i),u=o(a+1,n,!0,i),d=e&&e.collides;return d&&(e.faceTop=!0,e.faceBottom=!0,e.faceLeft=!0,e.faceRight=!0),r&&r.collides&&(d&&(e.faceTop=!1),r.faceBottom=!d),l&&l.collides&&(d&&(e.faceBottom=!1),l.faceTop=!d),s&&s.collides&&(d&&(e.faceLeft=!1),s.faceRight=!d),u&&u.collides&&(d&&(e.faceRight=!1),u.faceLeft=!d),e&&!e.collides&&e.resetFaces(),e};v.exports=p},42573:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7423),p=t(7386),a=function(n,i,e,r,l){for(var s=null,u=null,d=null,f=null,c=p(n,i,e,r,null,l),m=0;m<c.length;m++){var T=c[m];T&&(T.collides?(s=o(T.x,T.y-1,!0,l),u=o(T.x,T.y+1,!0,l),d=o(T.x-1,T.y,!0,l),f=o(T.x+1,T.y,!0,l),T.faceTop=!(s&&s.collides),T.faceBottom=!(u&&u.collides),T.faceLeft=!(d&&d.collides),T.faceRight=!(f&&f.collides)):T.resetFaces())}};v.exports=a},33528:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),p=new o,a=function(n,i,e,r){var l=e.tilemapLayer,s=l.cullPaddingX,u=l.cullPaddingY,d=l.tilemap.tileToWorldXY(n,i,p,r,l);return d.x>r.worldView.x+l.scaleX*e.tileWidth*(-s-.5)&&d.x<r.worldView.right+l.scaleX*e.tileWidth*(s-.5)&&d.y>r.worldView.y+l.scaleY*e.tileHeight*(-u-1)&&d.y<r.worldView.bottom+l.scaleY*e.tileHeight*(u-.5)};v.exports=a},1785:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(42573),p=t(7386),a=t(62991),n=t(23029),i=function(e,r,l,s,u,d,f,c){f===void 0&&(f=!0);var m=p(e,r,l,s,null,c),T=[];m.forEach(function(D){var L=new n(D.layer,D.index,D.x,D.y,D.width,D.height,D.baseWidth,D.baseHeight);L.copy(D),T.push(L)});for(var C=u-e,S=d-r,A=0;A<T.length;A++){var P=T[A],R=P.x+C,F=P.y+S;a(R,F,c)&&c.data[F][R]&&(P.x=R,P.y=F,P.updatePixelXY(),c.data[F][R]=P)}f&&o(u-1,d-1,l+2,s+2,c),m.length=0,T.length=0};v.exports=i},78419:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62644),p=t(7386),a=t(27987),n=function(i,e,r,l,s,u){r||(r={}),Array.isArray(i)||(i=[i]);var d=u.tilemapLayer;l||(l=d.scene),s||(s=l.cameras.main);var f=u.width,c=u.height,m=p(0,0,f,c,null,u),T=[],C,S=function(F,D,L){for(var O=0;O<L.length;O++){var B=L[O];F.hasOwnProperty(B)||(F[B]=D[B])}};for(C=0;C<m.length;C++){var A=m[C],P=o(r);if(i.indexOf(A.index)!==-1){var R=d.tileToWorldXY(A.x,A.y,void 0,s,u);P.x=R.x,P.y=R.y,S(P,A,["rotation","flipX","flipY","alpha","visible","tint"]),P.hasOwnProperty("origin")||(P.x+=A.width*.5,P.y+=A.height*.5),P.hasOwnProperty("useSpriteSheet")&&(P.key=A.tileset.image,P.frame=A.index-1),T.push(l.make.sprite(P))}}if(Array.isArray(e))for(C=0;C<i.length;C++)a(i[C],e[C],0,0,f,c,u);else if(e!==null)for(C=0;C<i.length;C++)a(i[C],e,0,0,f,c,u);return T};v.exports=n},19545:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),p=t(63448),a=t(56583),n=new o,i=function(e,r){var l=e.tilemapLayer.tilemap,s=e.tilemapLayer,u=Math.floor(l.tileWidth*s.scaleX),d=Math.floor(l.tileHeight*s.scaleY),f=a(r.worldView.x-s.x,u,0,!0)-s.cullPaddingX,c=p(r.worldView.right-s.x,u,0,!0)+s.cullPaddingX,m=a(r.worldView.y-s.y,d,0,!0)-s.cullPaddingY,T=p(r.worldView.bottom-s.y,d,0,!0)+s.cullPaddingY;return n.setTo(f,m,c-f,T-m)};v.exports=i},30003:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(19545),p=t(32483),a=function(n,i,e,r){e===void 0&&(e=[]),r===void 0&&(r=0),e.length=0;var l=n.tilemapLayer,s=o(n,i);return(l.skipCull||l.scrollFactorX!==1||l.scrollFactorY!==1)&&(s.left=0,s.right=n.width,s.top=0,s.bottom=n.height),p(n,s,r,e),e};v.exports=a},35137:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),p=t(42573),a=t(20576),n=function(i,e,r,l,s,u,d){for(var f=d.collideIndexes.indexOf(i)!==-1,c=o(e,r,l,s,null,d),m=0;m<c.length;m++)c[m].index=i,a(c[m],f);u&&p(e-1,r-1,l+2,s+2,d)};v.exports=n},40253:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),p=function(a,n,i,e,r,l,s,u){var d=o(i,e,r,l,s,u);return d.filter(a,n)};v.exports=p},52692:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a){o===void 0&&(o=0),p===void 0&&(p=!1);var n=0,i,e,r;if(p){for(e=a.height-1;e>=0;e--)for(i=a.width-1;i>=0;i--)if(r=a.data[e][i],r&&r.index===t){if(n===o)return r;n+=1}}else for(e=0;e<a.height;e++)for(i=0;i<a.width;i++)if(r=a.data[e][i],r&&r.index===t){if(n===o)return r;n+=1}return null};v.exports=y},66151:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),p=function(a,n,i,e,r,l,s,u){var d=o(i,e,r,l,s,u);return d.find(a,n)||null};v.exports=p},97560:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),p=function(a,n,i,e,r,l,s,u){var d=o(i,e,r,l,s,u);d.forEach(a,n)};v.exports=p},43305:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91907),p=t(30003),a=t(9474),n=t(14018),i=t(29747),e=t(54503),r=function(l){return l===o.ORTHOGONAL?p:l===o.HEXAGONAL?a:l===o.STAGGERED?e:l===o.ISOMETRIC?n:i};v.exports=r},7423:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62991),p=function(a,n,i,e){if(i===void 0&&(i=!1),o(a,n,e)){var r=e.data[n][a]||null;return r?r.index===-1?i?r:null:r:null}else return null};v.exports=p},60540:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7423),p=t(26099),a=new p,n=function(i,e,r,l,s){return s.tilemapLayer.worldToTileXY(i,e,!0,a,l),o(a.x,a.y,r,s)};v.exports=n},55826:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),p=function(a,n,i,e){var r=e.baseTileWidth,l=e.baseTileHeight,s=e.tilemapLayer,u=0,d=0;s&&(i||(i=s.scene.cameras.main),u=s.x+i.scrollX*(1-s.scrollFactorX),d=s.y+i.scrollY*(1-s.scrollFactorY),r*=s.scaleX,l*=s.scaleY);var f=u+a*r,c=d+n*l;return[new o(f,c),new o(f+r,c),new o(f+r,c+l),new o(f,c+l)]};v.exports=p},11758:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91907),p=t(27229),a=t(29747),n=t(55826),i=function(e){return e===o.ORTHOGONAL?n:e===o.ISOMETRIC?a:e===o.HEXAGONAL?p:(e===o.STAGGERED,a)};v.exports=i},39167:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91907),p=t(29747),a=t(97281),n=function(i){return i===o.ORTHOGONAL?a:p};v.exports=n},62e3:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91907),p=t(19951),a=t(14127),n=t(29747),i=t(97202),e=t(70326),r=function(l){return l===o.ORTHOGONAL?e:l===o.ISOMETRIC?a:l===o.HEXAGONAL?p:l===o.STAGGERED?i:n};v.exports=r},5984:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91907),p=t(29747),a=t(28054),n=t(29650),i=function(e){return e===o.ORTHOGONAL?n:e===o.STAGGERED?a:p};v.exports=i},7386:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95540),p=function(a,n,i,e,r,l){a===void 0&&(a=0),n===void 0&&(n=0),i===void 0&&(i=l.width),e===void 0&&(e=l.height),r||(r={});var s=o(r,"isNotEmpty",!1),u=o(r,"isColliding",!1),d=o(r,"hasInterestingFace",!1);a<0&&(i+=a,a=0),n<0&&(e+=n,n=0),a+i>l.width&&(i=Math.max(l.width-a,0)),n+e>l.height&&(e=Math.max(l.height-n,0));for(var f=[],c=n;c<n+e;c++)for(var m=a;m<a+i;m++){var T=l.data[c][m];if(T!==null){if(s&&T.index===-1||u&&!T.collides||d&&!T.hasInterestingFace)continue;f.push(T)}}return f};v.exports=p},91141:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(55738),p=t(7386),a=t(91865),n=t(29747),i=t(26099),e=function(d,f){return a.RectangleToTriangle(f,d)},r=new i,l=new i,s=new i,u=function(d,f,c,m){if(d===void 0)return[];var T=n;d instanceof o.Circle?T=a.CircleToRectangle:d instanceof o.Rectangle?T=a.RectangleToRectangle:d instanceof o.Triangle?T=e:d instanceof o.Line&&(T=a.LineToRectangle),m.tilemapLayer.worldToTileXY(d.left,d.top,!0,l,c);var C=l.x,S=l.y;m.tilemapLayer.worldToTileXY(d.right,d.bottom,!1,s,c);var A=Math.ceil(s.x),P=Math.ceil(s.y),R=Math.max(A-C,1),F=Math.max(P-S,1),D=p(C,S,R,F,f,m),L=m.tileWidth,O=m.tileHeight;m.tilemapLayer&&(L*=m.tilemapLayer.scaleX,O*=m.tilemapLayer.scaleY);for(var B=[],b=new o.Rectangle(0,0,L,O),z=0;z<D.length;z++){var V=D[z];m.tilemapLayer.tileToWorldXY(V.x,V.y,r,c),b.x=r.x,b.y=r.y,T(d,b)&&B.push(V)}return B};v.exports=u},96523:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),p=t(26099),a=new p,n=new p,i=function(e,r,l,s,u,d,f){var c=f.tilemapLayer.tilemap._convert.WorldToTileXY;c(e,r,!0,a,d,f);var m=a.x,T=a.y;c(e+l,r+s,!1,n,d,f);var C=Math.ceil(n.x),S=Math.ceil(n.y);return o(m,T,C-m,S-T,u,f)};v.exports=i},96113:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91907),p=t(20242),a=t(10095),n=function(i){return i===o.ORTHOGONAL?a:p};v.exports=n},16926:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91907),p=t(86625),a=t(96897),n=t(29747),i=t(15108),e=t(85896),r=function(l){return l===o.ORTHOGONAL?e:l===o.ISOMETRIC?a:l===o.HEXAGONAL?p:l===o.STAGGERED?i:n};v.exports=r},55762:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91907),p=t(20242),a=t(51900),n=t(63288),i=function(e){return e===o.ORTHOGONAL?n:e===o.STAGGERED?a:p};v.exports=i},45091:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62991),p=function(a,n,i){if(o(a,n,i)){var e=i.data[n][a];return e!==null&&e.index>-1}else return!1};v.exports=p},24152:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45091),p=t(26099),a=new p,n=function(i,e,r,l){l.tilemapLayer.worldToTileXY(i,e,!0,a,r);var s=a.x,u=a.y;return o(s,u,l)};v.exports=n},90454:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(63448),p=t(56583),a=function(n,i){var e=n.tilemapLayer.tilemap,r=n.tilemapLayer,l=Math.floor(e.tileWidth*r.scaleX),s=Math.floor(e.tileHeight*r.scaleY),u=n.hexSideLength,d,f,c,m;if(n.staggerAxis==="y"){var T=(s-u)/2+u;d=p(i.worldView.x-r.x,l,0,!0)-r.cullPaddingX,f=o(i.worldView.right-r.x,l,0,!0)+r.cullPaddingX,c=p(i.worldView.y-r.y,T,0,!0)-r.cullPaddingY,m=o(i.worldView.bottom-r.y,T,0,!0)+r.cullPaddingY}else{var C=(l-u)/2+u;d=p(i.worldView.x-r.x,C,0,!0)-r.cullPaddingX,f=o(i.worldView.right-r.x,C,0,!0)+r.cullPaddingX,c=p(i.worldView.y-r.y,s,0,!0)-r.cullPaddingY,m=o(i.worldView.bottom-r.y,s,0,!0)+r.cullPaddingY}return{left:d,right:f,top:c,bottom:m}};v.exports=a},9474:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(90454),p=t(32483),a=function(n,i,e,r){e===void 0&&(e=[]),r===void 0&&(r=0),e.length=0;var l=n.tilemapLayer,s=o(n,i);return l.skipCull&&l.scrollFactorX===1&&l.scrollFactorY===1&&(s.left=0,s.right=n.width,s.top=0,s.bottom=n.height),p(n,s,r,e),e};v.exports=a},27229:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(19951),p=t(26099),a=new p,n=function(i,e,r,l){var s=l.baseTileWidth,u=l.baseTileHeight,d=l.tilemapLayer;d&&(s*=d.scaleX,u*=d.scaleY);var f=o(i,e,a,r,l),c=[],m=.5773502691896257,T,C;l.staggerAxis==="y"?(T=m*s,C=u/2):(T=s/2,C=m*u);for(var S=0;S<6;S++){var A=2*Math.PI*(.5-S)/6;c.push(new p(f.x+T*Math.cos(A),f.y+C*Math.sin(A)))}return c};v.exports=n},19951:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),p=function(a,n,i,e,r){i||(i=new o);var l=r.baseTileWidth,s=r.baseTileHeight,u=r.tilemapLayer,d=0,f=0;u&&(e||(e=u.scene.cameras.main),d=u.x+e.scrollX*(1-u.scrollFactorX),f=u.y+e.scrollY*(1-u.scrollFactorY),l*=u.scaleX,s*=u.scaleY);var c=l/2,m=s/2,T,C;return r.staggerAxis==="y"?(T=d+l*a+l,C=f+1.5*n*m+m,n%2===0&&(this.staggerIndex==="odd"?T-=c:T+=c)):this.staggerAxis==="x"&&this.staggerIndex==="odd"&&(T=d+1.5*a*c+c,C=f+s*a+s,a%2===0&&(this.staggerIndex==="odd"?C-=m:C+=m)),i.set(T,C)};v.exports=p},86625:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),p=function(a,n,i,e,r,l){e||(e=new o);var s=l.baseTileWidth,u=l.baseTileHeight,d=l.tilemapLayer;d&&(r||(r=d.scene.cameras.main),a=a-(d.x+r.scrollX*(1-d.scrollFactorX)),n=n-(d.y+r.scrollY*(1-d.scrollFactorY)),s*=d.scaleX,u*=d.scaleY);var f=.5773502691896257,c=-.3333333333333333,m=0,T=.6666666666666666,C=s/2,S=u/2,A,P,R,F,D;l.staggerAxis==="y"?(A=(a-C)/(f*s),P=(n-S)/S,R=f*A+c*P,F=m*A+T*P):(A=(a-C)/C,P=(n-S)/(f*u),R=c*A+f*P,F=T*A+m*P),D=-R-F;var L=Math.round(R),O=Math.round(F),B=Math.round(D),b=Math.abs(L-R),z=Math.abs(O-F),V=Math.abs(B-D);b>z&&b>V?L=-O-B:z>V&&(O=-L-B);var W,K=O;return l.staggerIndex==="odd"?W=K%2===0?O/2+L:O/2+L-.5:W=K%2===0?O/2+L:O/2+L+.5,e.set(W,K)};v.exports=p},62991:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){return t>=0&&t<p.width&&o>=0&&o<p.height};v.exports=y},14018:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(33528),p=function(a,n,i,e){i===void 0&&(i=[]),e===void 0&&(e=0),i.length=0;var r=a.tilemapLayer,l=a.data,s=a.width,u=a.height,d=r.skipCull,f=0,c=s,m=0,T=u,C,S,A;if(e===0)for(S=m;S<T;S++)for(C=f;C<c;C++)A=l[S][C],!(!A||A.index===-1||!A.visible||A.alpha===0)&&(!d&&!o(C,S,a,n)||i.push(A));else if(e===1)for(S=m;S<T;S++)for(C=c;C>=f;C--)A=l[S][C],!(!A||A.index===-1||!A.visible||A.alpha===0)&&(!d&&!o(C,S,a,n)||i.push(A));else if(e===2)for(S=T;S>=m;S--)for(C=f;C<c;C++)A=l[S][C],!(!A||A.index===-1||!A.visible||A.alpha===0)&&(!d&&!o(C,S,a,n)||i.push(A));else if(e===3)for(S=T;S>=m;S--)for(C=c;C>=f;C--)A=l[S][C],!(!A||A.index===-1||!A.visible||A.alpha===0)&&(!d&&!o(C,S,a,n)||i.push(A));return r.tilesDrawn=i.length,r.tilesTotal=s*u,i};v.exports=p},14127:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),p=function(a,n,i,e,r){i||(i=new o);var l=r.baseTileWidth,s=r.baseTileHeight,u=r.tilemapLayer,d=0,f=0;u&&(e||(e=u.scene.cameras.main),d=u.x+e.scrollX*(1-u.scrollFactorX),l*=u.scaleX,f=u.y+e.scrollY*(1-u.scrollFactorY),s*=u.scaleY);var c=d+(a-n)*(l/2),m=f+(a+n)*(s/2);return i.set(c,m)};v.exports=p},96897:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),p=function(a,n,i,e,r,l,s){e||(e=new o);var u=l.baseTileWidth,d=l.baseTileHeight,f=l.tilemapLayer;f&&(r||(r=f.scene.cameras.main),n=n-(f.y+r.scrollY*(1-f.scrollFactorY)),d*=f.scaleY,a=a-(f.x+r.scrollX*(1-f.scrollFactorX)),u*=f.scaleX);var c=u/2,m=d/2;a=a-c,s||(n=n-d);var T=.5*(a/c+n/m),C=.5*(-a/c+n/m);return i&&(T=Math.floor(T),C=Math.floor(C)),e.set(T,C)};v.exports=p},71558:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(23029),p=t(62991),a=t(72023),n=t(20576),i=function(e,r,l,s,u){if(s===void 0&&(s=!0),!p(r,l,u))return null;var d,f=u.data[l][r],c=f&&f.collides;e instanceof o?(u.data[l][r]===null&&(u.data[l][r]=new o(u,e.index,r,l,u.tileWidth,u.tileHeight)),u.data[l][r].copy(e)):(d=e,u.data[l][r]===null?u.data[l][r]=new o(u,d,r,l,u.tileWidth,u.tileHeight):u.data[l][r].index=d);var m=u.data[l][r],T=u.collideIndexes.indexOf(m.index)!==-1;if(d=e instanceof o?e.index:e,d===-1)m.width=u.tileWidth,m.height=u.tileHeight;else{var C=u.tilemapLayer.tilemap,S=C.tiles,A=S[d][2],P=C.tilesets[A];m.width=P.tileWidth,m.height=P.tileHeight}return n(m,T),s&&c!==m.collides&&a(r,l,u),m};v.exports=i},26303:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(71558),p=t(26099),a=new p,n=function(i,e,r,l,s,u){return u.tilemapLayer.worldToTileXY(e,r,!0,a,s,u),o(i,a.x,a.y,l,u)};v.exports=n},14051:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(42573),p=t(71558),a=function(n,i,e,r,l){if(r===void 0&&(r=!0),!Array.isArray(n))return null;Array.isArray(n[0])||(n=[n]);for(var s=n.length,u=n[0].length,d=0;d<s;d++)for(var f=0;f<u;f++){var c=n[d][f];p(c,i+f,e+d,!1,l)}r&&o(i-1,e-1,u+2,s+2,l)};v.exports=a},77389:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),p=t(26546),a=function(n,i,e,r,l,s){var u,d=o(n,i,e,r,{},s);if(!l)for(l=[],u=0;u<d.length;u++)l.indexOf(d[u].index)===-1&&l.push(d[u].index);for(u=0;u<d.length;u++)d[u].index=p(l)};v.exports=a},63557:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(23029),p=t(62991),a=t(72023),n=function(i,e,r,l,s){if(r===void 0&&(r=!0),l===void 0&&(l=!0),!p(i,e,s))return null;var u=s.data[e][i];if(u)s.data[e][i]=r?null:new o(s,-1,i,e,s.tileWidth,s.tileHeight);else return null;return l&&u&&u.collides&&a(i,e,s),u};v.exports=n},94178:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(63557),p=t(26099),a=new p,n=function(i,e,r,l,s,u){return u.tilemapLayer.worldToTileXY(i,e,!0,a,s,u),o(a.x,a.y,r,l,u)};v.exports=n},15533:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),p=t(3956),a=new p(105,210,231,150),n=new p(243,134,48,200),i=new p(40,39,37,150),e=function(r,l,s){l===void 0&&(l={});var u=l.tileColor!==void 0?l.tileColor:a,d=l.collidingTileColor!==void 0?l.collidingTileColor:n,f=l.faceColor!==void 0?l.faceColor:i,c=o(0,0,s.width,s.height,null,s);r.translateCanvas(s.tilemapLayer.x,s.tilemapLayer.y),r.scaleCanvas(s.tilemapLayer.scaleX,s.tilemapLayer.scaleY);for(var m=0;m<c.length;m++){var T=c[m],C=T.width,S=T.height,A=T.pixelX,P=T.pixelY,R=T.collides?d:u;R!==null&&(r.fillStyle(R.color,R.alpha/255),r.fillRect(A,P,C,S)),A+=1,P+=1,C-=2,S-=2,f!==null&&(r.lineStyle(1,f.color,f.alpha/255),T.faceTop&&r.lineBetween(A,P,A+C,P),T.faceRight&&r.lineBetween(A+C,P,A+C,P+S),T.faceBottom&&r.lineBetween(A,P+S,A+C,P+S),T.faceLeft&&r.lineBetween(A,P,A,P+S))}};v.exports=e},27987:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),p=function(a,n,i,e,r,l,s){for(var u=o(i,e,r,l,null,s),d=0;d<u.length;d++)u[d]&&u[d].index===a&&(u[d].index=n)};v.exports=p},32483:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a){var n=t.data,i=t.width,e=t.height,r=t.tilemapLayer,l=Math.max(0,o.left),s=Math.min(i,o.right),u=Math.max(0,o.top),d=Math.min(e,o.bottom),f,c,m;if(p===0)for(c=u;c<d;c++)for(f=l;n[c]&&f<s;f++)m=n[c][f],!(!m||m.index===-1||!m.visible||m.alpha===0)&&a.push(m);else if(p===1)for(c=u;c<d;c++)for(f=s;n[c]&&f>=l;f--)m=n[c][f],!(!m||m.index===-1||!m.visible||m.alpha===0)&&a.push(m);else if(p===2)for(c=d;c>=u;c--)for(f=l;n[c]&&f<s;f++)m=n[c][f],!(!m||m.index===-1||!m.visible||m.alpha===0)&&a.push(m);else if(p===3)for(c=d;c>=u;c--)for(f=s;n[c]&&f>=l;f--)m=n[c][f],!(!m||m.index===-1||!m.visible||m.alpha===0)&&a.push(m);return r.tilesDrawn=a.length,r.tilesTotal=i*e,a};v.exports=y},57068:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20576),p=t(42573),a=t(9589),n=function(i,e,r,l,s){e===void 0&&(e=!0),r===void 0&&(r=!0),s===void 0&&(s=!0),Array.isArray(i)||(i=[i]);for(var u=0;u<i.length;u++)a(i[u],e,l);if(s)for(var d=0;d<l.height;d++)for(var f=0;f<l.width;f++){var c=l.data[d][f];c&&i.indexOf(c.index)!==-1&&o(c,e)}r&&p(0,0,l.width,l.height,l)};v.exports=n},37266:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20576),p=t(42573),a=t(9589),n=function(i,e,r,l,s,u){if(r===void 0&&(r=!0),l===void 0&&(l=!0),u===void 0&&(u=!0),!(i>e)){for(var d=i;d<=e;d++)a(d,r,s);if(u)for(var f=0;f<s.height;f++)for(var c=0;c<s.width;c++){var m=s.data[f][c];m&&m.index>=i&&m.index<=e&&o(m,r)}l&&p(0,0,s.width,s.height,s)}};v.exports=n},75661:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20576),p=t(42573),a=t(9589),n=function(i,e,r,l){e===void 0&&(e=!0),r===void 0&&(r=!0),Array.isArray(i)||(i=[i]);for(var s=0;s<l.height;s++)for(var u=0;u<l.width;u++){var d=l.data[s][u];d&&i.indexOf(d.index)===-1&&(o(d,e),a(d.index,e,l))}r&&p(0,0,l.width,l.height,l)};v.exports=n},64740:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20576),p=t(42573),a=t(97022),n=function(i,e,r,l){e===void 0&&(e=!0),r===void 0&&(r=!0);for(var s=0;s<l.height;s++)for(var u=0;u<l.width;u++){var d=l.data[s][u];if(d){for(var f in i)if(a(d.properties,f)){var c=i[f];Array.isArray(c)||(c=[c]);for(var m=0;m<c.length;m++)d.properties[f]===c[m]&&o(d,e)}}}r&&p(0,0,l.width,l.height,l)};v.exports=n},63307:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20576),p=t(42573),a=function(n,i,e){n===void 0&&(n=!0),i===void 0&&(i=!0);for(var r=0;r<e.height;r++)for(var l=0;l<e.width;l++){var s=e.data[r][l];if(s){var u=s.getCollisionGroup();u&&u.objects&&u.objects.length>0&&o(s,n)}}i&&p(0,0,e.width,e.height,e)};v.exports=a},9589:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){var a=p.collideIndexes.indexOf(t);o&&a===-1?p.collideIndexes.push(t):!o&&a!==-1&&p.collideIndexes.splice(a,1)};v.exports=y},20576:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){o?t.setCollision(!0,!0,!0,!0,!1):t.resetCollision(!1)};v.exports=y},79583:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a){if(typeof t=="number")a.callbacks[t]=o!==null?{callback:o,callbackContext:p}:void 0;else for(var n=0,i=t.length;n<i;n++)a.callbacks[t[n]]=o!==null?{callback:o,callbackContext:p}:void 0};v.exports=y},93254:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),p=function(a,n,i,e,r,l,s){for(var u=o(a,n,i,e,null,s),d=0;d<u.length;d++)u[d].setCollisionCallback(r,l)};v.exports=p},32903:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),p=t(33680),a=function(n,i,e,r,l){var s=o(n,i,e,r,null,l),u=s.map(function(f){return f.index});p(u);for(var d=0;d<s.length;d++)s[d].index=u[d]};v.exports=a},61325:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(63448),p=t(56583),a=function(n,i){var e=n.tilemapLayer.tilemap,r=n.tilemapLayer,l=Math.floor(e.tileWidth*r.scaleX),s=Math.floor(e.tileHeight*r.scaleY),u=p(i.worldView.x-r.x,l,0,!0)-r.cullPaddingX,d=o(i.worldView.right-r.x,l,0,!0)+r.cullPaddingX,f=p(i.worldView.y-r.y,s/2,0,!0)-r.cullPaddingY,c=o(i.worldView.bottom-r.y,s/2,0,!0)+r.cullPaddingY;return{left:u,right:d,top:f,bottom:c}};v.exports=a},54503:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(61325),p=t(32483),a=function(n,i,e,r){e===void 0&&(e=[]),r===void 0&&(r=0),e.length=0;var l=n.tilemapLayer,s=o(n,i);return l.skipCull&&l.scrollFactorX===1&&l.scrollFactorY===1&&(s.left=0,s.right=n.width,s.top=0,s.bottom=n.height),p(n,s,r,e),e};v.exports=a},97202:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),p=function(a,n,i,e,r){i||(i=new o);var l=r.baseTileWidth,s=r.baseTileHeight,u=r.tilemapLayer,d=0,f=0;u&&(e||(e=u.scene.cameras.main),d=u.x+e.scrollX*(1-u.scrollFactorX),l*=u.scaleX,f=u.y+e.scrollY*(1-u.scrollFactorY),s*=u.scaleY);var c=d+a*l+n%2*(l/2),m=f+n*(s/2);return i.set(c,m)};v.exports=p},28054:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){var a=p.baseTileHeight,n=p.tilemapLayer,i=0;return n&&(o===void 0&&(o=n.scene.cameras.main),i=n.y+o.scrollY*(1-n.scrollFactorY),a*=n.scaleY),i+t*(a/2)+a};v.exports=y},15108:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),p=function(a,n,i,e,r,l){e||(e=new o);var s=l.baseTileWidth,u=l.baseTileHeight,d=l.tilemapLayer;d&&(r||(r=d.scene.cameras.main),n=n-(d.y+r.scrollY*(1-d.scrollFactorY)),u*=d.scaleY,a=a-(d.x+r.scrollX*(1-d.scrollFactorX)),s*=d.scaleX);var f=i?Math.floor(n/(u/2)):n/(u/2),c=i?Math.floor((a+f%2*.5*s)/s):(a+f%2*.5*s)/s;return e.set(c,f)};v.exports=p},51900:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a){var n=a.baseTileHeight,i=a.tilemapLayer;return i&&(p||(p=i.scene.cameras.main),t=t-(i.y+p.scrollY*(1-i.scrollFactorY)),n*=i.scaleY),o?Math.floor(t/(n/2)):t/(n/2)};v.exports=y},86560:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),p=function(a,n,i,e,r,l,s){for(var u=o(i,e,r,l,null,s),d=0;d<u.length;d++)u[d]&&(u[d].index===a?u[d].index=n:u[d].index===n&&(u[d].index=a))};v.exports=p},97281:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){var a=p.baseTileWidth,n=p.tilemapLayer,i=0;return n&&(o||(o=n.scene.cameras.main),i=n.x+o.scrollX*(1-n.scrollFactorX),a*=n.scaleX),i+t*a};v.exports=y},70326:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(97281),p=t(29650),a=t(26099),n=function(i,e,r,l,s){return r||(r=new a(0,0)),r.x=o(i,l,s),r.y=p(e,l,s),r};v.exports=n},29650:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){var a=p.baseTileHeight,n=p.tilemapLayer,i=0;return n&&(o||(o=n.scene.cameras.main),i=n.y+o.scrollY*(1-n.scrollFactorY),a*=n.scaleY),i+t*a};v.exports=y},77366:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),p=t(75508),a=function(n,i,e,r,l,s){if(l){var u,d=o(n,i,e,r,null,s),f=0;for(u=0;u<l.length;u++)f+=l[u].weight;if(!(f<=0))for(u=0;u<d.length;u++){for(var c=p.RND.frac()*f,m=0,T=-1,C=0;C<l.length;C++)if(m+=l[C].weight,c<=m){var S=l[C].index;T=Array.isArray(S)?S[Math.floor(p.RND.frac()*S.length)]:S;break}d[u].index=T}}};v.exports=a},10095:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(85896),p=t(26099),a=new p,n=function(i,e,r,l){return o(i,0,e,a,r,l),a.x};v.exports=n},85896:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),p=function(a,n,i,e,r,l){i===void 0&&(i=!0),e||(e=new o);var s=l.baseTileWidth,u=l.baseTileHeight,d=l.tilemapLayer;d&&(r||(r=d.scene.cameras.main),a=a-(d.x+r.scrollX*(1-d.scrollFactorX)),n=n-(d.y+r.scrollY*(1-d.scrollFactorY)),s*=d.scaleX,u*=d.scaleY);var f=a/s,c=n/u;return i&&(f=Math.floor(f),c=Math.floor(c)),e.set(f,c)};v.exports=p},63288:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(85896),p=t(26099),a=new p,n=function(i,e,r,l){return o(0,i,e,a,r,l),a.y};v.exports=n},81086:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={CalculateFacesAt:t(72023),CalculateFacesWithin:t(42573),CheckIsoBounds:t(33528),Copy:t(1785),CreateFromTiles:t(78419),CullBounds:t(19545),CullTiles:t(30003),Fill:t(35137),FilterTiles:t(40253),FindByIndex:t(52692),FindTile:t(66151),ForEachTile:t(97560),GetCullTilesFunction:t(43305),GetTileAt:t(7423),GetTileAtWorldXY:t(60540),GetTileCorners:t(55826),GetTileCornersFunction:t(11758),GetTilesWithin:t(7386),GetTilesWithinShape:t(91141),GetTilesWithinWorldXY:t(96523),GetTileToWorldXFunction:t(39167),GetTileToWorldXYFunction:t(62e3),GetTileToWorldYFunction:t(5984),GetWorldToTileXFunction:t(96113),GetWorldToTileXYFunction:t(16926),GetWorldToTileYFunction:t(55762),HasTileAt:t(45091),HasTileAtWorldXY:t(24152),HexagonalCullBounds:t(90454),HexagonalCullTiles:t(9474),HexagonalGetTileCorners:t(27229),HexagonalTileToWorldXY:t(19951),HexagonalWorldToTileXY:t(86625),IsInLayerBounds:t(62991),IsometricCullTiles:t(14018),IsometricTileToWorldXY:t(14127),IsometricWorldToTileXY:t(96897),PutTileAt:t(71558),PutTileAtWorldXY:t(26303),PutTilesAt:t(14051),Randomize:t(77389),RemoveTileAt:t(63557),RemoveTileAtWorldXY:t(94178),RenderDebug:t(15533),ReplaceByIndex:t(27987),RunCull:t(32483),SetCollision:t(57068),SetCollisionBetween:t(37266),SetCollisionByExclusion:t(75661),SetCollisionByProperty:t(64740),SetCollisionFromCollisionGroup:t(63307),SetLayerCollisionIndex:t(9589),SetTileCollision:t(20576),SetTileIndexCallback:t(79583),SetTileLocationCallback:t(93254),Shuffle:t(32903),StaggeredCullBounds:t(61325),StaggeredCullTiles:t(54503),StaggeredTileToWorldXY:t(97202),StaggeredTileToWorldY:t(28054),StaggeredWorldToTileXY:t(15108),StaggeredWorldToTileY:t(51900),SwapByIndex:t(86560),TileToWorldX:t(97281),TileToWorldXY:t(70326),TileToWorldY:t(29650),WeightedRandomize:t(77366),WorldToTileX:t(10095),WorldToTileXY:t(85896),WorldToTileY:t(63288)}},91907:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={ORIENTATION:t(91907)};v.exports=o},62501:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(79291),p=t(21829),a={Components:t(81086),Parsers:t(57442),Formats:t(80341),ImageCollection:t(16536),ParseToTilemap:t(31989),Tile:t(23029),Tilemap:t(49075),TilemapCreator:t(45939),TilemapFactory:t(46029),Tileset:t(33629),TilemapLayer:t(20442),Orientation:t(91907),LayerData:t(14977),MapData:t(87010),ObjectLayer:t(48700)};a=o(!1,a,p.ORIENTATION),v.exports=a},14977:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(91907),a=t(95540),n=new o({initialize:function(e){e===void 0&&(e={}),this.name=a(e,"name","layer"),this.id=a(e,"id",0),this.x=a(e,"x",0),this.y=a(e,"y",0),this.width=a(e,"width",0),this.height=a(e,"height",0),this.tileWidth=a(e,"tileWidth",0),this.tileHeight=a(e,"tileHeight",0),this.baseTileWidth=a(e,"baseTileWidth",this.tileWidth),this.baseTileHeight=a(e,"baseTileHeight",this.tileHeight),this.orientation=a(e,"orientation",p.ORTHOGONAL),this.widthInPixels=a(e,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=a(e,"heightInPixels",this.height*this.baseTileHeight),this.alpha=a(e,"alpha",1),this.visible=a(e,"visible",!0),this.properties=a(e,"properties",[]),this.indexes=a(e,"indexes",[]),this.collideIndexes=a(e,"collideIndexes",[]),this.callbacks=a(e,"callbacks",[]),this.bodies=a(e,"bodies",[]),this.data=a(e,"data",[]),this.tilemapLayer=a(e,"tilemapLayer",null),this.hexSideLength=a(e,"hexSideLength",0),this.staggerAxis=a(e,"staggerAxis","y"),this.staggerIndex=a(e,"staggerIndex","odd")}});v.exports=n},87010:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(91907),a=t(95540),n=new o({initialize:function(e){e===void 0&&(e={}),this.name=a(e,"name","map"),this.width=a(e,"width",0),this.height=a(e,"height",0),this.infinite=a(e,"infinite",!1),this.tileWidth=a(e,"tileWidth",0),this.tileHeight=a(e,"tileHeight",0),this.widthInPixels=a(e,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=a(e,"heightInPixels",this.height*this.tileHeight),this.format=a(e,"format",null),this.orientation=a(e,"orientation",p.ORTHOGONAL),this.renderOrder=a(e,"renderOrder","right-down"),this.version=a(e,"version","1"),this.properties=a(e,"properties",{}),this.layers=a(e,"layers",[]),this.images=a(e,"images",[]),this.objects=a(e,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=a(e,"collision",{}),this.tilesets=a(e,"tilesets",[]),this.imageCollections=a(e,"imageCollections",[]),this.tiles=a(e,"tiles",[]),this.hexSideLength=a(e,"hexSideLength",0),this.staggerAxis=a(e,"staggerAxis","y"),this.staggerIndex=a(e,"staggerIndex","odd")}});v.exports=n},48700:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(95540),a=new o({initialize:function(i){i===void 0&&(i={}),this.name=p(i,"name","object layer"),this.id=p(i,"id",0),this.opacity=p(i,"opacity",1),this.properties=p(i,"properties",{}),this.propertyTypes=p(i,"propertytypes",{}),this.type=p(i,"type","objectgroup"),this.visible=p(i,"visible",!0),this.objects=p(i,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});v.exports=a},6641:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91907),p=function(a){return a=a.toLowerCase(),a==="isometric"?o.ISOMETRIC:a==="staggered"?o.STAGGERED:a==="hexagonal"?o.HEXAGONAL:o.ORTHOGONAL};v.exports=p},46177:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(80341),p=t(2342),a=t(82593),n=t(46594),i=t(87021),e=function(r,l,s,u,d,f){var c;switch(l){case o.ARRAY_2D:c=p(r,s,u,d,f);break;case o.CSV:c=a(r,s,u,d,f);break;case o.TILED_JSON:c=n(r,s,f);break;case o.WELTMEISTER:c=i(r,s,f);break;default:console.warn("Unrecognized tilemap data format: "+l),c=null}return c};v.exports=e},2342:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(80341),p=t(14977),a=t(87010),n=t(23029),i=function(e,r,l,s,u){for(var d=new p({tileWidth:l,tileHeight:s}),f=new a({name:e,tileWidth:l,tileHeight:s,format:o.ARRAY_2D,layers:[d]}),c=[],m=r.length,T=0,C=0;C<r.length;C++){c[C]=[];for(var S=r[C],A=0;A<S.length;A++){var P=parseInt(S[A],10);isNaN(P)||P===-1?c[C][A]=u?null:new n(d,-1,A,C,l,s):c[C][A]=new n(d,P,A,C,l,s)}T===0&&(T=S.length)}return f.width=d.width=T,f.height=d.height=m,f.widthInPixels=d.widthInPixels=T*l,f.heightInPixels=d.heightInPixels=m*s,d.data=c,f};v.exports=i},82593:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(80341),p=t(2342),a=function(n,i,e,r,l){var s=i.trim().split(`
`).map(function(d){return d.split(",")}),u=p(n,s,e,r,l);return u.format=o.CSV,u};v.exports=a},6656:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(14977),p=t(23029),a=function(n,i){for(var e=[],r=0;r<n.layer.length;r++){for(var l=n.layer[r],s=new o({name:l.name,width:l.width,height:l.height,tileWidth:l.tilesize,tileHeight:l.tilesize,visible:l.visible===1}),u=[],d=[],f=0;f<l.data.length;f++){for(var c=0;c<l.data[f].length;c++){var m=l.data[f][c]-1,T;m>-1?T=new p(s,m,c,f,l.tilesize,l.tilesize):T=i?null:new p(s,-1,c,f,l.tilesize,l.tilesize),u.push(T)}d.push(u),u=[]}s.data=d,e.push(s)}return e};v.exports=a},96483:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(33629),p=function(a){for(var n=[],i=[],e=0;e<a.layer.length;e++){var r=a.layer[e],l=r.tilesetName;l!==""&&i.indexOf(l)===-1&&(i.push(l),n.push(new o(l,0,r.tilesize,r.tilesize,0,0)))}return n};v.exports=p},87021:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(80341),p=t(87010),a=t(6656),n=t(96483),i=function(e,r,l){if(r.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+e),null;for(var s=0,u=0,d=0;d<r.layer.length;d++)r.layer[d].width>s&&(s=r.layer[d].width),r.layer[d].height>u&&(u=r.layer[d].height);var f=new p({width:s,height:u,name:e,tileWidth:r.layer[0].tilesize,tileHeight:r.layer[0].tilesize,format:o.WELTMEISTER});return f.layers=a(r,l),f.tilesets=n(r),f};v.exports=i},52833:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ParseTileLayers:t(6656),ParseTilesets:t(96483),ParseWeltmeister:t(87021)}},57442:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={FromOrientationString:t(6641),Parse:t(46177),Parse2DArray:t(2342),ParseCSV:t(82593),Impact:t(52833),Tiled:t(96761)}},51233:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(79291),p=function(a){for(var n,i,e,r,l,s=0;s<a.layers.length;s++){n=a.layers[s],r=null;for(var u=0;u<n.data.length;u++){l=n.data[u];for(var d=0;d<l.length;d++)i=l[d],!(i===null||i.index<0)&&(e=a.tiles[i.index][2],r=a.tilesets[e],i.width=r.tileWidth,i.height=r.tileHeight,r.tileProperties&&r.tileProperties[i.index-r.firstgid]&&(i.properties=o(i.properties,r.tileProperties[i.index-r.firstgid])))}}};v.exports=p},41868:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){for(var o=window.atob(t),p=o.length,a=new Array(p/4),n=0;n<p;n+=4)a[n/4]=(o.charCodeAt(n)|o.charCodeAt(n+1)<<8|o.charCodeAt(n+2)<<16|o.charCodeAt(n+3)<<24)>>>0;return a};v.exports=y},84101:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(33629),p=function(a){var n,i,e=[];for(n=0;n<a.imageCollections.length;n++)for(var r=a.imageCollections[n],l=r.images,s=0;s<l.length;s++){var u=l[s];i=new o(u.image,u.gid,r.imageWidth,r.imageHeight,0,0),i.updateTileData(r.imageWidth,r.imageHeight),a.tilesets.push(i)}for(n=0;n<a.tilesets.length;n++){i=a.tilesets[n];for(var d=i.tileMargin,f=i.tileMargin,c=0,m=0,T=0,C=i.firstgid;C<i.firstgid+i.total&&(e[C]=[d,f,n],d+=i.tileWidth+i.tileSpacing,c++,!(c===i.total||(m++,m===i.columns&&(d=i.tileMargin,f+=i.tileHeight+i.tileSpacing,m=0,T++,T===i.rows))));C++);}return e};v.exports=p},79677:(v,y,t)=>{/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95540),p=function(a,n,i){if(!n)return{i:0,layers:a.layers,name:"",opacity:1,visible:!0,x:0,y:0};var e=n.x+o(n,"startx",0)*a.tilewidth+o(n,"offsetx",0),r=n.y+o(n,"starty",0)*a.tileheight+o(n,"offsety",0);return{i:0,layers:n.layers,name:i.name+n.name+"/",opacity:i.opacity*n.opacity,visible:i.visible&&n.visible,x:i.x+e,y:i.y+r}};v.exports=p},29920:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=2147483648,t=1073741824,o=536870912,p=function(a){var n=!!(a&y),i=!!(a&t),e=!!(a&o);a=a&536870911;var r=0,l=!1;return n&&i&&e?(r=Math.PI/2,l=!0):n&&i&&!e?(r=Math.PI,l=!1):n&&!i&&e?(r=Math.PI/2,l=!1):n&&!i&&!e?(r=0,l=!0):!n&&i&&e?(r=3*Math.PI/2,l=!1):!n&&i&&!e?(r=Math.PI,l=!0):!n&&!i&&e?(r=3*Math.PI/2,l=!0):!n&&!i&&!e&&(r=0,l=!1),{gid:a,flippedHorizontal:n,flippedVertical:i,flippedAntiDiagonal:e,rotation:r,flipped:l}};v.exports=p},12635:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95540),p=t(79677),a=function(n){for(var i=[],e=[],r=p(n);r.i<r.layers.length||e.length>0;){if(r.i>=r.layers.length){if(e.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}r=e.pop();continue}var l=r.layers[r.i];if(r.i++,l.type!=="imagelayer"){if(l.type==="group"){var s=p(n,l,r);e.push(r),r=s}continue}var u=o(l,"offsetx",0)+o(l,"startx",0),d=o(l,"offsety",0)+o(l,"starty",0);i.push({name:r.name+l.name,image:l.image,x:r.x+u+l.x,y:r.y+d+l.y,alpha:r.opacity*l.opacity,visible:r.visible&&l.visible,properties:o(l,"properties",{})})}return i};v.exports=a},46594:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(51233),p=t(84101),a=t(91907),n=t(62644),i=t(80341),e=t(6641),r=t(87010),l=t(12635),s=t(22611),u=t(28200),d=t(24619),f=function(c,m,T){var C=n(m),S=new r({width:C.width,height:C.height,name:c,tileWidth:C.tilewidth,tileHeight:C.tileheight,orientation:e(C.orientation),format:i.TILED_JSON,version:C.version,properties:C.properties,renderOrder:C.renderorder,infinite:C.infinite});S.orientation===a.HEXAGONAL&&(S.hexSideLength=C.hexsidelength,S.staggerAxis=C.staggeraxis,S.staggerIndex=C.staggerindex),S.layers=u(C,T),S.images=l(C);var A=d(C);return S.tilesets=A.tilesets,S.imageCollections=A.imageCollections,S.objects=s(C),S.tiles=p(S),o(S),S};v.exports=f},52205:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(18254),p=t(29920),a=function(e){return{x:e.x,y:e.y}},n=["id","name","type","rotation","properties","visible","x","y","width","height"],i=function(e,r,l){r===void 0&&(r=0),l===void 0&&(l=0);var s=o(e,n);if(s.x+=r,s.y+=l,e.gid){var u=p(e.gid);s.gid=u.gid,s.flippedHorizontal=u.flippedHorizontal,s.flippedVertical=u.flippedVertical,s.flippedAntiDiagonal=u.flippedAntiDiagonal}else e.polyline?s.polyline=e.polyline.map(a):e.polygon?s.polygon=e.polygon.map(a):e.ellipse?s.ellipse=e.ellipse:e.text?s.text=e.text:e.point?s.point=!0:s.rectangle=!0;return s};v.exports=i},22611:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95540),p=t(52205),a=t(48700),n=t(79677),i=function(e){for(var r=[],l=[],s=n(e);s.i<s.layers.length||l.length>0;){if(s.i>=s.layers.length){if(l.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}s=l.pop();continue}var u=s.layers[s.i];if(s.i++,u.opacity*=s.opacity,u.visible=s.visible&&u.visible,u.type!=="objectgroup"){if(u.type==="group"){var d=n(e,u,s);l.push(s),s=d}continue}u.name=s.name+u.name;for(var f=s.x+o(u,"startx",0)+o(u,"offsetx",0),c=s.y+o(u,"starty",0)+o(u,"offsety",0),m=[],T=0;T<u.objects.length;T++){var C=p(u.objects[T],f,c);m.push(C)}var S=new a(u);S.objects=m,r.push(S)}return r};v.exports=i},28200:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(41868),p=t(91907),a=t(79677),n=t(6641),i=t(95540),e=t(14977),r=t(29920),l=t(23029),s=function(u,d){for(var f=i(u,"infinite",!1),c=[],m=[],T=a(u);T.i<T.layers.length||m.length>0;){if(T.i>=T.layers.length){if(m.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}T=m.pop();continue}var C=T.layers[T.i];if(T.i++,C.type!=="tilelayer"){if(C.type==="group"){var S=a(u,C,T);m.push(T),T=S}continue}if(C.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+C.name+"'");continue}else if(C.encoding&&C.encoding==="base64"){if(C.chunks)for(var A=0;A<C.chunks.length;A++)C.chunks[A].data=o(C.chunks[A].data);C.data&&(C.data=o(C.data)),delete C.encoding}var P,R,F,D,L=[],O=0;if(f){var B=i(C,"startx",0)+C.x,b=i(C,"starty",0)+C.y;P=new e({name:T.name+C.name,id:C.id,x:T.x+i(C,"offsetx",0)+B*u.tilewidth,y:T.y+i(C,"offsety",0)+b*u.tileheight,width:C.width,height:C.height,tileWidth:u.tilewidth,tileHeight:u.tileheight,alpha:T.opacity*C.opacity,visible:T.visible&&C.visible,properties:i(C,"properties",[]),orientation:n(u.orientation)}),P.orientation===p.HEXAGONAL&&(P.hexSideLength=u.hexsidelength,P.staggerAxis=u.staggeraxis,P.staggerIndex=u.staggerindex);for(var z=0;z<C.height;z++){L[z]=[null];for(var V=0;V<C.width;V++)L[z][V]=null}for(z=0,$=C.chunks.length;z<$;z++)for(var W=C.chunks[z],K=W.x-B,U=W.y-b,Y=0,I=0,N=W.data.length;I<N;I++){var G=O+K,X=Y+U;R=r(W.data[I]),R.gid>0?(F=new l(P,R.gid,G,X,u.tilewidth,u.tileheight),F.rotation=R.rotation,F.flipX=R.flipped,L[X][G]=F):(D=d?null:new l(P,-1,G,X,u.tilewidth,u.tileheight),L[X][G]=D),O++,O===W.width&&(Y++,O=0)}}else{P=new e({name:T.name+C.name,id:C.id,x:T.x+i(C,"offsetx",0)+C.x,y:T.y+i(C,"offsety",0)+C.y,width:C.width,height:C.height,tileWidth:u.tilewidth,tileHeight:u.tileheight,alpha:T.opacity*C.opacity,visible:T.visible&&C.visible,properties:i(C,"properties",[]),orientation:n(u.orientation)}),P.orientation===p.HEXAGONAL&&(P.hexSideLength=u.hexsidelength,P.staggerAxis=u.staggeraxis,P.staggerIndex=u.staggerindex);for(var H=[],Q=0,$=C.data.length;Q<$;Q++)R=r(C.data[Q]),R.gid>0?(F=new l(P,R.gid,O,L.length,u.tilewidth,u.tileheight),F.rotation=R.rotation,F.flipX=R.flipped,H.push(F)):(D=d?null:new l(P,-1,O,L.length,u.tilewidth,u.tileheight),H.push(D)),O++,O===C.width&&(L.push(H),O=0,H=[])}P.data=L,c.push(P)}return c};v.exports=s},24619:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(33629),p=t(16536),a=t(52205),n=t(57880),i=function(e){for(var r=[],l=[],s=null,u,d=0;d<e.tilesets.length;d++){var f=e.tilesets[d];if(f.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(f.image){var c=new o(f.name,f.firstgid,f.tilewidth,f.tileheight,f.margin,f.spacing,void 0,void 0,f.tileoffset);if(e.version>1){var m=void 0,T=void 0;if(Array.isArray(f.tiles)){m=m||{},T=T||{};for(var C=0;C<f.tiles.length;C++){var S=f.tiles[C];if(S.properties){var A={};S.properties.forEach(function(z){A[z.name]=z.value}),T[S.id]=A}if(S.objectgroup&&((m[S.id]||(m[S.id]={})).objectgroup=S.objectgroup,S.objectgroup.objects)){var P=S.objectgroup.objects.map(function(z){return a(z)});m[S.id].objectgroup.objects=P}S.animation&&((m[S.id]||(m[S.id]={})).animation=S.animation),S.type&&((m[S.id]||(m[S.id]={})).type=S.type)}}Array.isArray(f.wangsets)&&(m=m||{},T=T||{},n(f.wangsets,m)),m&&(c.tileData=m,c.tileProperties=T)}else if(f.tileproperties&&(c.tileProperties=f.tileproperties),f.tiles){c.tileData=f.tiles;for(u in c.tileData){var R=c.tileData[u].objectgroup;if(R&&R.objects){var F=R.objects.map(function(z){return a(z)});c.tileData[u].objectgroup.objects=F}}}c.updateTileData(f.imagewidth,f.imageheight),r.push(c)}else{var D=new p(f.name,f.firstgid,f.tilewidth,f.tileheight,f.margin,f.spacing,f.properties),L=0;for(C=0;C<f.tiles.length;C++){S=f.tiles[C];var O=S.image,B=parseInt(S.id,10),b=f.firstgid+B;D.addImage(b,O),L=Math.max(B,L)}D.maxId=L,l.push(D)}s&&(s.lastgid=f.firstgid-1),s=f}return{tilesets:r,imageCollections:l}};v.exports=i},57880:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){for(var p=0;p<t.length;p++){var a=t[p],n=p;if(a.name&&a.name!==""&&(n=a.name),Array.isArray(a.wangtiles)&&a.wangtiles.length>0){var i={},e={},r,l,s;if(Array.isArray(a.edgecolors))for(r=0;r<a.edgecolors.length;r++)s=1+r,l=a.edgecolors[r],l.name!==""&&(i[s]=l.name);if(Array.isArray(a.cornercolors))for(r=0;r<a.cornercolors.length;r++)s=1+r,l=a.cornercolors[r],l.name!==""&&(e[s]=l.name);if(Array.isArray(a.colors))for(r=0;r<a.colors.length;r++)l=a.colors[r],s=1+r,l.name!==""&&(i[s]=e[s]=l.name);for(var u=[i,e,i,e,i,e,i,e],d=0;d<a.wangtiles.length;d++){var f=a.wangtiles[d],c=o[f.tileid]||(o[f.tileid]={});c=c.wangid||(c.wangid={});for(var m=[],T=0;T<Math.min(u.length,f.wangid.length);T++){if(l=f.wangid[T],l===0){m.push(void 0);continue}var C=u[T][l];if(C!==void 0){m.push(C);continue}m.push(l)}c[n]=m}}}};v.exports=y},96761:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={AssignTileProperties:t(51233),Base64Decode:t(41868),BuildTilesetIndex:t(84101),CreateGroupLayer:t(79677),ParseGID:t(29920),ParseImageLayers:t(12635),ParseJSONTiled:t(46594),ParseObject:t(52205),ParseObjectLayers:t(22611),ParseTileLayers:t(28200),ParseTilesets:t(24619)}},33385:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(37277),a=t(44594),n=t(94880),i=t(72905),e=new o({initialize:function(l){this.scene=l,this.systems=l.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],l.sys.events.once(a.BOOT,this.boot,this),l.sys.events.on(a.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(a.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var r=this.systems.events;r.on(a.PRE_UPDATE,this.preUpdate,this),r.on(a.UPDATE,this.update,this),r.once(a.SHUTDOWN,this.shutdown,this)},addEvent:function(r){var l;return r instanceof n?(l=r,this.removeEvent(l),l.elapsed=l.startAt,l.hasDispatched=!1,l.repeatCount=l.repeat===-1||l.loop?999999999999:l.repeat):l=new n(r),this._pendingInsertion.push(l),l},delayedCall:function(r,l,s,u){return this.addEvent({delay:r,callback:l,args:s,callbackScope:u})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(r){Array.isArray(r)||(r=[r]);for(var l=0;l<r.length;l++){var s=r[l];i(this._pendingRemoval,s),i(this._pendingInsertion,s),i(this._active,s)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var r=this._pendingRemoval.length,l=this._pendingInsertion.length;if(!(r===0&&l===0)){var s,u;for(s=0;s<r;s++){u=this._pendingRemoval[s];var d=this._active.indexOf(u);d>-1&&this._active.splice(d,1),u.destroy()}for(s=0;s<l;s++)u=this._pendingInsertion[s],this._active.push(u);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(r,l){if(this.now=r,!this.paused){l*=this.timeScale;for(var s=0;s<this._active.length;s++){var u=this._active[s];if(!u.paused&&(u.elapsed+=l*u.timeScale,u.elapsed>=u.delay)){var d=u.elapsed-u.delay;if(u.elapsed=u.delay,!u.hasDispatched&&u.callback&&(u.hasDispatched=!0,u.callback.apply(u.callbackScope,u.args)),u.repeatCount>0){if(u.repeatCount--,d>=u.delay)for(;d>=u.delay&&u.repeatCount>0;)u.callback&&u.callback.apply(u.callbackScope,u.args),d-=u.delay,u.repeatCount--;u.elapsed=d,u.hasDispatched=!1}else u.hasDispatched&&this._pendingRemoval.push(u)}}}},shutdown:function(){var r;for(r=0;r<this._pendingInsertion.length;r++)this._pendingInsertion[r].destroy();for(r=0;r<this._active.length;r++)this._active[r].destroy();for(r=0;r<this._pendingRemoval.length;r++)this._pendingRemoval[r].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var l=this.systems.events;l.off(a.PRE_UPDATE,this.preUpdate,this),l.off(a.UPDATE,this.update,this),l.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(a.START,this.start,this),this.scene=null,this.systems=null}});p.register("Clock",e,"time"),v.exports=e},96120:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(50792),a=t(39429),n=t(95540),i=t(44594),e=t(89809),r=new o({Extends:p,initialize:function(s,u){p.call(this),this.scene=s,this.systems=s.sys,this.elapsed=0,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var d=this.systems.events;d.on(i.PRE_UPDATE,this.preUpdate,this),d.on(i.UPDATE,this.update,this),d.once(i.SHUTDOWN,this.destroy,this),u&&this.add(u)},preUpdate:function(l,s){this.paused||(this.elapsed+=s)},update:function(){if(!(this.paused||this.complete)){var l,s=this.events,u=!1,d=this.systems,f;for(l=0;l<s.length;l++){var c=s[l];if(!c.complete&&c.time<=this.elapsed){if(c.complete=!0,this.totalComplete++,f=c.target?c.target:this,c.if&&!c.if.call(f,c))continue;if(c.once&&(u=!0),c.set&&c.target)for(var m in c.set)c.target[m]=c.set[m];this.iteration&&c.repeat++,c.loop&&c.repeat&&c.loop.call(f),c.tween&&d.tweens.add(c.tween),c.sound&&(typeof c.sound=="string"?d.sound.play(c.sound):d.sound.play(c.sound.key,c.sound.config)),c.event&&this.emit(c.event,f),c.run&&c.run.call(f),c.stop&&this.stop()}}if(u)for(l=0;l<s.length;l++)s[l].complete&&s[l].once&&(s.splice(l,1),l--);this.totalComplete>=s.length&&(this.loop!==0&&(this.loop===-1||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(e.COMPLETE,this)}},play:function(l){return l===void 0&&(l=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,l&&this.reset(),this},pause:function(){return this.paused=!0,this},repeat:function(l){return(l===void 0||l===!0)&&(l=-1),l===!1&&(l=0),this.loop=l,this},resume:function(){return this.paused=!1,this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(l){l===void 0&&(l=!1),this.elapsed=0,l||(this.iteration=0);for(var s=0;s<this.events.length;s++)this.events[s].complete=!1,l||(this.events[s].repeat=0);return this.play(!1)},add:function(l){Array.isArray(l)||(l=[l]);var s=this.events,u=0;s.length>0&&(u=s[s.length-1].time);for(var d=0;d<l.length;d++){var f=l[d],c=n(f,"at",0),m=n(f,"in",null);m!==null&&(c=this.elapsed+m);var T=n(f,"from",null);T!==null&&(c=u+T),s.push({complete:!1,time:c,repeat:0,if:n(f,"if",null),run:n(f,"run",null),loop:n(f,"loop",null),event:n(f,"event",null),target:n(f,"target",null),set:n(f,"set",null),tween:n(f,"tween",null),sound:n(f,"sound",null),once:n(f,"once",!1),stop:n(f,"stop",!1)}),u=c}return this.complete=!1,this},clear:function(){return this.events=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var l=Math.min(this.totalComplete,this.events.length);return l/this.events.length},destroy:function(){var l=this.systems.events;l.off(i.PRE_UPDATE,this.preUpdate,this),l.off(i.UPDATE,this.update,this),l.off(i.SHUTDOWN,this.destroy,this),this.scene=null,this.systems=null,this.events=[]}});a.register("timeline",function(l){return new r(this.scene,l)}),v.exports=r},94880:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(95540),a=new o({initialize:function(i){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(i)},reset:function(n){if(this.delay=p(n,"delay",0),this.repeat=p(n,"repeat",0),this.loop=p(n,"loop",!1),this.callback=p(n,"callback",void 0),this.callbackScope=p(n,"callbackScope",this),this.args=p(n,"args",[]),this.timeScale=p(n,"timeScale",1),this.startAt=p(n,"startAt",0),this.paused=p(n,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay===0&&(this.repeat>0||this.loop))throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var n=this.delay+this.delay*this.repeat,i=this.elapsed+this.delay*(this.repeat-this.repeatCount);return i/n}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(n){n===void 0&&(n=!1),this.elapsed=this.delay,this.hasDispatched=!n,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});v.exports=a},35945:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="complete"},89809:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={COMPLETE:t(35945)}},90291:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Clock:t(33385),Events:t(89809),Timeline:t(96120),TimerEvent:t(94880)}},40382:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(72905),p=t(83419),a=t(43491),n=t(88032),i=t(37277),e=t(44594),r=t(93109),l=t(86081),s=t(8357),u=t(43960),d=t(26012),f=new p({initialize:function(m){this.scene=m,this.events=m.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(e.BOOT,this.boot,this),this.events.on(e.START,this.start,this)},boot:function(){this.events.once(e.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(e.UPDATE,this.update,this),this.events.once(e.SHUTDOWN,this.shutdown,this)},create:function(c){Array.isArray(c)||(c=[c]);for(var m=[],T=0;T<c.length;T++){var C=c[T];C instanceof l||C instanceof u?m.push(C):Array.isArray(C.tweens)?m.push(d(this,C)):m.push(s(this,C))}return m.length===1?m[0]:m},add:function(c){var m=c,T=this.tweens;return m instanceof l||m instanceof u||(Array.isArray(m.tweens)?m=d(this,m):m=s(this,m)),T.push(m.reset()),m},addMultiple:function(c){for(var m,T=[],C=this.tweens,S=0;S<c.length;S++)m=c[S],m instanceof l||m instanceof u||(Array.isArray(m.tweens)?m=d(this,m):m=s(this,m)),C.push(m.reset()),T.push(m);return T},chain:function(c){var m=d(this,c);return this.tweens.push(m.init()),m},getChainedTweens:function(c){return c.getChainedTweens()},has:function(c){return this.tweens.indexOf(c)>-1},existing:function(c){return this.has(c)||this.tweens.push(c.reset()),this},addCounter:function(c){var m=n(this,c);return this.tweens.push(m.reset()),m},stagger:function(c,m){return r(c,m)},setLagSmooth:function(c,m){return c===void 0&&(c=1/1e-8),m===void 0&&(m=0),this.maxLag=c,this.lagSkip=Math.min(m,this.maxLag),this},setFps:function(c){return c===void 0&&(c=240),this.gap=1e3/c,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(c){var m=Date.now()-this.prevTime;m>this.maxLag&&(this.startTime+=m-this.lagSkip),this.prevTime+=m;var T=this.prevTime-this.startTime,C=T-this.nextTime,S=T-this.time*1e3;return C>0||c?(T/=1e3,this.time=T,this.nextTime+=C+(C>=this.gap?4:this.gap-C)):S=0,S},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(c){c===void 0&&(c=!1);var m=this.getDelta(c);if(!(m<=0)){this.processing=!0;var T,C,S=[],A=this.tweens;for(T=0;T<A.length;T++)C=A[T],C.update(m)&&S.push(C);var P=S.length;if(P&&A.length>0){for(T=0;T<P;T++){C=S[T];var R=A.indexOf(C);R>-1&&(C.isPendingRemove()||C.isDestroyed())&&(A.splice(R,1),C.destroy())}S.length=0}this.processing=!1}},remove:function(c){return this.processing?c.setPendingRemoveState():(o(this.tweens,c),c.setRemovedState()),this},reset:function(c){return this.existing(c),c.seek(),c.setActiveState(),this},makeActive:function(c){return this.existing(c),c.setActiveState(),this},each:function(c,m){var T,C=[null];for(T=1;T<arguments.length;T++)C.push(arguments[T]);return this.tweens.forEach(function(S){C[0]=S,c.apply(m,C)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(c){var m=[],T=this.tweens;Array.isArray(c)?c=a(c):c=[c];for(var C=c.length,S=0;S<T.length;S++)for(var A=T[S],P=0;P<C;P++)!A.isDestroyed()&&A.hasTarget(c[P])&&m.push(A);return m},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(c){return this.timeScale=c,this},isTweening:function(c){for(var m=this.tweens,T,C=0;C<m.length;C++)if(T=m[C],T.isPlaying()&&T.hasTarget(c))return!0;return!1},killAll:function(){for(var c=this.processing?this.getTweens():this.tweens,m=0;m<c.length;m++)c[m].destroy();return this.processing||(c.length=0),this},killTweensOf:function(c){for(var m=this.getTweensOf(c),T=0;T<m.length;T++)m[T].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(e.UPDATE,this.update,this),this.events.off(e.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(e.START,this.start,this),this.scene=null,this.events=null}});i.register("TweenManager",f,"tweens"),v.exports=f},57355:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){return t&&t.hasOwnProperty(o)?t[o]:p};v.exports=y},6113:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62640),p=t(35355),a=function(n,i){var e=o.Power0;if(typeof n=="string")if(o.hasOwnProperty(n))e=o[n];else{var r="";if(n.indexOf(".")){r=n.substring(n.indexOf(".")+1);var l=r.toLowerCase();l==="in"?r="easeIn":l==="out"?r="easeOut":l==="inout"&&(r="easeInOut")}n=p(n.substring(0,n.indexOf(".")+1)+r),o.hasOwnProperty(n)&&(e=o[n])}else typeof n=="function"&&(e=n);if(!i)return e;var s=i.slice(0);return s.unshift(0),function(u){return s[0]=u,e.apply(this,s)}};v.exports=a},91389:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(89318),p=t(77259),a=t(28392),n={bezier:o,catmull:p,catmullrom:p,linear:a},i=function(e){if(e===null)return null;var r=n.linear;return typeof e=="string"?n.hasOwnProperty(e)&&(r=n[e]):typeof e=="function"&&(r=e),r};v.exports=i},55292:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){var a;if(t.hasOwnProperty(o)){var n=typeof t[o];n==="function"?a=function(i,e,r,l,s,u){return t[o](i,e,r,l,s,u)}:a=function(){return t[o]}}else typeof p=="function"?a=p:a=function(){return p};return a};v.exports=y},82985:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(81076),p=function(a){var n,i=[];if(a.hasOwnProperty("props"))for(n in a.props)n.substring(0,1)!=="_"&&i.push({key:n,value:a.props[n]});else for(n in a)o.indexOf(n)===-1&&n.substring(0,1)!=="_"&&i.push({key:n,value:a[n]});return i};v.exports=p},62329:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35154),p=function(a){var n=o(a,"targets",null);return n===null||(typeof n=="function"&&(n=n.call()),Array.isArray(n)||(n=[n])),n};v.exports=p},17777:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(30976),p=t(99472);function a(l){return!!l.getActive&&typeof l.getActive=="function"}function n(l){return!!l.getStart&&typeof l.getStart=="function"}function i(l){return!!l.getEnd&&typeof l.getEnd=="function"}function e(l){return n(l)||i(l)||a(l)}var r=function(l,s){var u,d=function(W,K,U){return U},f=function(W,K,U){return U},c=null,m=typeof s;if(m==="number")d=function(){return s};else if(Array.isArray(s))f=function(){return s[0]},d=function(){return s[s.length-1]};else if(m==="string"){var T=s.toLowerCase(),C=T.substring(0,6)==="random",S=T.substring(0,3)==="int";if(C||S){var A=T.indexOf("("),P=T.indexOf(")"),R=T.indexOf(",");if(A&&P&&R){var F=parseFloat(T.substring(A+1,R)),D=parseFloat(T.substring(R+1,P));C?d=function(){return p(F,D)}:d=function(){return o(F,D)}}else throw new Error("invalid random() format")}else{T=T[0];var L=parseFloat(s.substr(2));switch(T){case"+":d=function(W,K,U){return U+L};break;case"-":d=function(W,K,U){return U-L};break;case"*":d=function(W,K,U){return U*L};break;case"/":d=function(W,K,U){return U/L};break;default:d=function(){return parseFloat(s)}}}}else if(m==="function")d=s;else if(m==="object")if(e(s))a(s)&&(c=s.getActive),i(s)&&(d=s.getEnd),n(s)&&(f=s.getStart);else if(s.hasOwnProperty("value"))u=r(l,s.value);else{var O=s.hasOwnProperty("to"),B=s.hasOwnProperty("from"),b=s.hasOwnProperty("start");if(O&&(B||b)){if(u=r(l,s.to),b){var z=r(l,s.start);u.getActive=z.getEnd}if(B){var V=r(l,s.from);u.getStart=V.getEnd}}}return u||(u={getActive:c,getEnd:d,getStart:f}),u};v.exports=r},88032:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(70402),p=t(69902),a=t(23568),n=t(57355),i=t(6113),e=t(55292),r=t(35154),l=t(17777),s=t(269),u=t(86081),d=function(f,c,m){if(c instanceof u)return c.parent=f,c;m===void 0?m=p:m=s(p,m);var T=r(c,"from",0),C=r(c,"to",1),S=[{value:T}],A=r(c,"delay",m.delay),P=r(c,"easeParams",m.easeParams),R=r(c,"ease",m.ease),F=l("value",C),D=new u(f,S),L=D.add(0,"value",F.getEnd,F.getStart,F.getActive,i(r(c,"ease",R),r(c,"easeParams",P)),e(c,"delay",A),r(c,"duration",m.duration),n(c,"yoyo",m.yoyo),r(c,"hold",m.hold),r(c,"repeat",m.repeat),r(c,"repeatDelay",m.repeatDelay),!1,!1);L.start=T,L.current=T,D.completeDelay=a(c,"completeDelay",0),D.loop=Math.round(a(c,"loop",0)),D.loopDelay=Math.round(a(c,"loopDelay",0)),D.paused=n(c,"paused",!1),D.persist=n(c,"persist",!1),D.callbackScope=r(c,"callbackScope",D);for(var O=o.TYPES,B=0;B<O.length;B++){var b=O[B],z=r(c,b,!1);if(z){var V=r(c,b+"Params",[]);D.setCallback(b,z,V)}}return D};v.exports=d},93109:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(6113),p=t(35154),a=t(36383),n=function(i,e){e===void 0&&(e={});var r,l=p(e,"start",0),s=p(e,"ease",null),u=p(e,"grid",null),d=p(e,"from",0),f=d==="first",c=d==="center",m=d==="last",T=typeof d=="number",C=Array.isArray(i),S=parseFloat(C?i[0]:i),A=C?parseFloat(i[1]):0,P=Math.max(S,A);if(C&&(l+=S),u){var R=u[0],F=u[1],D=0,L=0,O=0,B=0,b=[];m?(D=R-1,L=F-1):T?(D=d%R,L=Math.floor(d/R)):c&&(D=(R-1)/2,L=(F-1)/2);for(var z=a.MIN_SAFE_INTEGER,V=0;V<F;V++){b[V]=[];for(var W=0;W<R;W++){O=D-W,B=L-V;var K=Math.sqrt(O*O+B*B);K>z&&(z=K),b[V][W]=K}}}var U=s?o(s):null;return u?r=function(Y,I,N,G){var X=0,H=G%R,Q=Math.floor(G/R);H>=0&&H<R&&Q>=0&&Q<F&&(X=b[Q][H]);var $;if(C){var Z=A-S;U?$=X/z*Z*U(X/z):$=X/z*Z}else U?$=X*S*U(X/z):$=X*S;return $+l}:r=function(Y,I,N,G,X){X--;var H;f?H=G:c?H=Math.abs(X/2-G):m?H=X-G:T&&(H=Math.abs(d-G));var Q;if(C){var $;c?$=(A-S)/X*(H*2):$=(A-S)/X*H,U?Q=$*U(H/X):Q=$}else U?Q=X*P*U(H/X):Q=H*S;return Q+l},r};v.exports=n},8357:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(70402),p=t(69902),a=t(23568),n=t(57355),i=t(6113),e=t(91389),r=t(55292),l=t(82985),s=t(62329),u=t(35154),d=t(17777),f=t(269),c=t(86081),m=function(T,C,S){if(C instanceof c)return C.parent=T,C;S===void 0?S=p:S=f(p,S);var A=s(C);!A&&S.targets&&(A=S.targets);for(var P=l(C),R=u(C,"delay",S.delay),F=u(C,"duration",S.duration),D=u(C,"easeParams",S.easeParams),L=u(C,"ease",S.ease),O=u(C,"hold",S.hold),B=u(C,"repeat",S.repeat),b=u(C,"repeatDelay",S.repeatDelay),z=n(C,"yoyo",S.yoyo),V=n(C,"flipX",S.flipX),W=n(C,"flipY",S.flipY),K=u(C,"interpolation",S.interpolation),U=function(j,k,_,q){if(_==="texture"){var et=q,st=void 0;Array.isArray(q)?(et=q[0],st=q[1]):q.hasOwnProperty("value")?(et=q.value,Array.isArray(q.value)?(et=q.value[0],st=q.value[1]):typeof q.value=="string"&&(et=q.value)):typeof q=="string"&&(et=q),j.addFrame(k,et,st,r(q,"delay",R),u(q,"duration",F),u(q,"hold",O),u(q,"repeat",B),u(q,"repeatDelay",b),n(q,"flipX",V),n(q,"flipY",W))}else{var nt=d(_,q),it=e(u(q,"interpolation",K));j.add(k,_,nt.getEnd,nt.getStart,nt.getActive,i(u(q,"ease",L),u(q,"easeParams",D)),r(q,"delay",R),u(q,"duration",F),n(q,"yoyo",z),u(q,"hold",O),u(q,"repeat",B),u(q,"repeatDelay",b),n(q,"flipX",V),n(q,"flipY",W),it,it?q:null)}},Y=new c(T,A),I=0;I<P.length;I++)for(var N=P[I].key,G=P[I].value,X=0;X<A.length;X++)N==="scale"&&!A[X].hasOwnProperty("scale")?(U(Y,X,"scaleX",G),U(Y,X,"scaleY",G)):U(Y,X,N,G);Y.completeDelay=a(C,"completeDelay",0),Y.loop=Math.round(a(C,"loop",0)),Y.loopDelay=Math.round(a(C,"loopDelay",0)),Y.paused=n(C,"paused",!1),Y.persist=n(C,"persist",!1),Y.callbackScope=u(C,"callbackScope",Y);for(var H=o.TYPES,Q=0;Q<H.length;Q++){var $=H[Q],Z=u(C,$,!1);if(Z){var J=u(C,$+"Params",[]);Y.setCallback($,Z,J)}}return Y};v.exports=m},26012:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(70402),p=t(23568),a=t(57355),n=t(62329),i=t(35154),e=t(8357),r=t(43960),l=function(s,u){if(u instanceof r)return u.parent=s,u;var d=new r(s);d.startDelay=i(u,"delay",0),d.completeDelay=p(u,"completeDelay",0),d.loop=Math.round(p(u,"loop",i(u,"repeat",0))),d.loopDelay=Math.round(p(u,"loopDelay",i(u,"repeatDelay",0))),d.paused=a(u,"paused",!1),d.persist=a(u,"persist",!1),d.callbackScope=i(u,"callbackScope",d);var f,c=o.TYPES;for(f=0;f<c.length;f++){var m=c[f],T=i(u,m,!1);if(T){var C=i(u,m+"Params",[]);d.setCallback(m,T,C)}}var S=i(u,"tweens",null);if(Array.isArray(S)){var A=[],P=n(u),R=void 0;for(P&&(R={targets:P}),f=0;f<S.length;f++)A.push(e(d,S[f],R));d.add(A)}return d};v.exports=l},30231:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={GetBoolean:t(57355),GetEaseFunction:t(6113),GetInterpolationFunction:t(91389),GetNewValue:t(55292),GetProps:t(82985),GetTargets:t(62329),GetValueOp:t(17777),NumberTweenBuilder:t(88032),StaggerBuilder:t(93109),TweenBuilder:t(8357)}},73685:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="active"},98540:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="complete"},67233:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="loop"},2859:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pause"},98336:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="repeat"},25764:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resume"},32193:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="start"},84371:v=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="stop"},70766:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="update"},55659:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="yoyo"},842:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={TWEEN_ACTIVE:t(73685),TWEEN_COMPLETE:t(98540),TWEEN_LOOP:t(67233),TWEEN_PAUSE:t(2859),TWEEN_RESUME:t(25764),TWEEN_REPEAT:t(98336),TWEEN_START:t(32193),TWEEN_STOP:t(84371),TWEEN_UPDATE:t(70766),TWEEN_YOYO:t(55659)}},43066:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={States:t(86353),Builders:t(30231),Events:t(842),TweenManager:t(40382),Tween:t(86081),TweenData:t(48177),TweenFrameData:t(42220),BaseTween:t(70402),TweenChain:t(43960)};v.exports=o},70402:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(50792),a=t(842),n=t(86353),i=new o({Extends:p,initialize:function(r){p.call(this),this.parent=r,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=n.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(e){return this.timeScale=e,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(a.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(a.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(a.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(a.TWEEN_COMPLETE,"onComplete")},complete:function(e){return e===void 0&&(e=0),e?(this.setCompleteDelayState(),this.countdown=e):this.onCompleteHandler(),this},completeAfterLoop:function(e){return e===void 0&&(e=0),this.loopCounter>e&&(this.loopCounter=e),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(a.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(e){this.countdown-=e,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(a.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(e){return this.countdown-=e,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(a.TWEEN_START,"onStart"),e=0),e},updateCompleteDelay:function(e){this.countdown-=e,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(e,r,l){return l===void 0&&(l=[]),this.callbacks.hasOwnProperty(e)&&(this.callbacks[e]={func:r,params:l}),this},setPendingState:function(){this.state=n.PENDING},setActiveState:function(){this.state=n.ACTIVE},setLoopDelayState:function(){this.state=n.LOOP_DELAY},setCompleteDelayState:function(){this.state=n.COMPLETE_DELAY},setStartDelayState:function(){this.state=n.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=n.PENDING_REMOVE},setRemovedState:function(){this.state=n.REMOVED},setFinishedState:function(){this.state=n.FINISHED},setDestroyedState:function(){this.state=n.DESTROYED},isPending:function(){return this.state===n.PENDING},isActive:function(){return this.state===n.ACTIVE},isLoopDelayed:function(){return this.state===n.LOOP_DELAY},isCompleteDelayed:function(){return this.state===n.COMPLETE_DELAY},isStartDelayed:function(){return this.state===n.START_DELAY},isPendingRemove:function(){return this.state===n.PENDING_REMOVE},isRemoved:function(){return this.state===n.REMOVED},isFinished:function(){return this.state===n.FINISHED},isDestroyed:function(){return this.state===n.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(e){e.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});i.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],v.exports=i},95042:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),p=t(842),a=t(86353),n=new o({initialize:function(e,r,l,s,u,d,f,c,m,T){this.tween=e,this.targetIndex=r,this.duration=s,this.totalDuration=0,this.delay=0,this.getDelay=l,this.yoyo=u,this.hold=d,this.repeat=f,this.repeatDelay=c,this.repeatCounter=0,this.flipX=m,this.flipY=T,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(i){i===void 0&&(i=this.current),this.tween.targets[this.targetIndex][this.key]=i},setCreatedState:function(){this.state=a.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=a.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=a.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=a.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=a.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=a.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=a.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=a.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===a.CREATED},isDelayed:function(){return this.state===a.DELAY},isPendingRender:function(){return this.state===a.PENDING_RENDER},isPlayingForward:function(){return this.state===a.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===a.PLAYING_BACKWARD},isHolding:function(){return this.state===a.HOLD_DELAY},isRepeating:function(){return this.state===a.REPEAT_DELAY},isComplete:function(){return this.state===a.COMPLETE},setStateFromEnd:function(i){this.yoyo?this.onRepeat(i,!0,!0):this.repeatCounter>0?this.onRepeat(i,!0,!1):this.setCompleteState()},setStateFromStart:function(i){this.repeatCounter>0?this.onRepeat(i,!1):this.setCompleteState()},reset:function(){var i=this.tween,e=i.totalTargets,r=this.targetIndex,l=i.targets[r],s=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(l,s,0,r,e,i),this.repeatCounter=this.repeat===-1?a.MAX:this.repeat,this.setPendingRenderState();var u=this.duration+this.hold;this.yoyo&&(u+=this.duration);var d=u+this.repeatDelay;this.totalDuration=this.delay+u,this.repeat===-1?(this.totalDuration+=d*a.MAX,i.isInfinite=!0):this.repeat>0&&(this.totalDuration+=d*this.repeat),this.totalDuration>i.duration&&(i.duration=this.totalDuration),this.delay<i.startDelay&&(i.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(i,e,r){var l=this.tween,s=l.totalTargets,u=this.targetIndex,d=l.targets[u],f=this.key,c=f!=="texture";if(this.elapsed=i,this.progress=i/this.duration,this.flipX&&d.toggleFlipX(),this.flipY&&d.toggleFlipY(),c&&(e||r)&&(this.start=this.getStartValue(d,f,this.start,u,s,l)),r){this.setPlayingBackwardState(),this.dispatchEvent(p.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,c&&(this.end=this.getEndValue(d,f,this.start,u,s,l)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-i,c&&(this.current=this.start,d[f]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(p.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});v.exports=n},69902:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};v.exports=y},81076:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},86081:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(70402),p=t(83419),a=t(842),n=t(44603),i=t(39429),e=t(36383),r=t(86353),l=t(48177),s=t(42220),u=new p({Extends:o,initialize:function(f,c){o.call(this,f),this.targets=c,this.totalTargets=c.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0},add:function(d,f,c,m,T,C,S,A,P,R,F,D,L,O,B,b){var z=new l(this,d,f,c,m,T,C,S,A,P,R,F,D,L,O,B,b);return this.totalData=this.data.push(z),z},addFrame:function(d,f,c,m,T,C,S,A,P,R){var F=new s(this,d,f,c,m,T,C,S,A,P,R);return this.totalData=this.data.push(F),F},getValue:function(d){d===void 0&&(d=0);var f=null;return this.data&&(f=this.data[d].current),f},hasTarget:function(d){return this.targets&&this.targets.indexOf(d)!==-1},updateTo:function(d,f,c){if(c===void 0&&(c=!1),d!=="texture")for(var m=0;m<this.totalData;m++){var T=this.data[m];T.key===d&&(T.isPlayingForward()||T.isPlayingBackward())&&(T.end=f,c&&(T.start=T.current))}return this},restart:function(){switch(this.state){case r.REMOVED:case r.FINISHED:this.seek(),this.parent.makeActive(this);break;case r.PENDING:case r.PENDING_REMOVE:this.parent.reset(this);break;case r.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(a.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,o.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(d,f,c){if(d===void 0&&(d=0),f===void 0&&(f=16.6),c===void 0&&(c=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;c||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(a.TWEEN_ACTIVE,"onActive");var m=this.paused;if(this.paused=!1,d>0){for(var T=Math.floor(d/f),C=d-T*f,S=0;S<T;S++)this.update(f);C>0&&this.update(C)}return this.paused=m,this.isSeeking=!1,this},initTweenData:function(d){d===void 0&&(d=!1),this.duration=0,this.startDelay=e.MAX_SAFE_INTEGER;for(var f=this.data,c=0;c<this.totalData;c++)f[c].reset(d);this.duration=Math.max(this.duration,.01);var m=this.duration,T=this.completeDelay,C=this.loopCounter,S=this.loopDelay;C>0?this.totalDuration=m+T+(m+S)*C:this.totalDuration=m+T},reset:function(d){return d===void 0&&(d=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=r.MAX),d||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(a.TWEEN_ACTIVE,"onActive")),this},update:function(d){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.paused||this.isFinished())return!1;if(d*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(d),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(d),!1;this.hasStarted||(this.startDelay-=d,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(a.TWEEN_START,"onStart"),d=0));var f=!1;if(this.isActive())for(var c=this.data,m=0;m<this.totalData;m++)c[m].update(d)&&(f=!0);this.elapsed+=d,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=d,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),f||this.nextState();var T=this.isPendingRemove();return T&&this.persist&&(this.setFinishedState(),T=!1),T},forward:function(d){return this.update(d),this},rewind:function(d){return this.update(-d),this},dispatchEvent:function(d,f){if(!this.isSeeking){this.emit(d,this,this.targets);var c=this.callbacks[f];c&&c.func.apply(this.callbackScope,[this,this.targets].concat(c.params))}},destroy:function(){o.prototype.destroy.call(this),this.targets=null}});i.register("tween",function(d){return this.scene.sys.tweens.add(d)}),n.register("tween",function(d){return this.scene.sys.tweens.create(d)}),v.exports=u},43960:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(72905),p=t(70402),a=t(83419),n=t(842),i=t(44603),e=t(39429),r=t(86353),l=new a({Extends:p,initialize:function(u){p.call(this,u),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?r.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this.dispatchEvent(n.TWEEN_ACTIVE,"onActive"),this},add:function(s){var u=this.parent.create(s);Array.isArray(u)||(u=[u]);for(var d=this.data,f=0;f<u.length;f++){var c=u[f];c.parent=this,d.push(c.reset())}return this.totalData=d.length,this},remove:function(s){return o(this.data,s),s.setRemovedState(),s===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(s){for(var u=this.data,d=0;d<this.totalData;d++)if(u[d].hasTarget(s))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(s){return s.seek(),s.setActiveState(),this},makeActive:function(s){return s.reset(),s.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(n.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var s=this.data,u=this.totalData,d=0;d<u;d++)s[d].reset(!1);this.currentIndex=0,this.currentTween=s[0]},update:function(s){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;s*=this.parent.timeScale,this.isLoopDelayed()?this.updateLoopCountdown(s):this.isCompleteDelayed()?this.updateCompleteDelay(s):this.isStartDelayed()&&(s=this.updateStartCountdown(s));var u=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(s)&&this.nextTween()&&this.nextState(),u=this.isPendingRemove(),u&&this.persist&&(this.setFinishedState(),u=!1)),u},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(s){this.currentIndex=s,this.currentTween=this.data[s],this.currentTween.setActiveState(),this.currentTween.dispatchEvent(n.TWEEN_ACTIVE,"onActive")},dispatchEvent:function(s,u){this.emit(s,this);var d=this.callbacks[u];d&&d.func.apply(this.callbackScope,[this].concat(d.params))},destroy:function(){p.prototype.destroy.call(this),this.currentTween=null}});e.register("tweenchain",function(s){return this.scene.sys.tweens.chain(s)}),i.register("tweenchain",function(s){return this.scene.sys.tweens.create(s)}),v.exports=l},48177:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95042),p=t(45319),a=t(83419),n=t(842),i=new a({Extends:o,initialize:function(r,l,s,u,d,f,c,m,T,C,S,A,P,R,F,D,L){o.call(this,r,l,m,T,C,S,A,P,R,F),this.key=s,this.getActiveValue=f,this.getEndValue=u,this.getStartValue=d,this.ease=c,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=D,this.interpolationData=L},reset:function(e){o.prototype.reset.call(this);var r=this.tween.targets[this.targetIndex],l=this.key;e&&(r[l]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(r[l]=this.getActiveValue(r,l,0))},update:function(e){var r=this.tween,l=r.totalTargets,s=this.targetIndex,u=r.targets[s],d=this.key;if(!u)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=e,this.elapsed<=0&&(this.elapsed=0,e=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(n.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(u,d,u[d],s,l,r),this.end=this.getEndValue(u,d,this.start,s,l,r),this.current=this.start,u[d]=this.start,this.setPlayingForwardState(),!0;var f=this.isPlayingForward(),c=this.isPlayingBackward();if(f||c){var m=this.elapsed,T=this.duration,C=0,S=!1;m+=e,m>=T?(C=m-T,m=T,S=!0):m<0&&(m=0);var A=p(m/T,0,1);if(this.elapsed=m,this.progress=A,this.previous=this.current,S)f?(this.current=this.end,u[d]=this.end,this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(C)):(this.current=this.start,u[d]=this.start,this.setStateFromStart(C));else{f||(A=1-A);var P=this.ease(A);this.interpolation?this.current=this.interpolation(this.interpolationData,P):this.current=this.start+(this.end-this.start)*P,u[d]=this.current}this.dispatchEvent(n.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(e,r){var l=this.tween;if(!l.isSeeking){var s=l.targets[this.targetIndex],u=this.key,d=this.current,f=this.previous;l.emit(e,l,u,s,d,f);var c=l.callbacks[r];c&&c.func.apply(l.callbackScope,[l,s,u,d,f].concat(c.params))}},destroy:function(){o.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});v.exports=i},42220:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95042),p=t(45319),a=t(83419),n=t(842),i=new a({Extends:o,initialize:function(r,l,s,u,d,f,c,m,T,C,S){o.call(this,r,l,d,f,!1,c,m,T,C,S),this.key="texture",this.startTexture=null,this.endTexture=s,this.startFrame=null,this.endFrame=u,this.yoyo=m!==0},reset:function(e){o.prototype.reset.call(this);var r=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=r.texture.key,this.startFrame=r.frame.name),e&&r.setTexture(this.startTexture,this.startFrame)},update:function(e){var r=this.tween,l=this.targetIndex,s=r.targets[l];if(!s)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=e,this.elapsed<=0&&(this.elapsed=0,e=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(n.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&s.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var u=this.isPlayingForward(),d=this.isPlayingBackward();if(u||d){var f=this.elapsed,c=this.duration,m=0,T=!1;f+=e,f>=c?(m=f-c,f=c,T=!0):f<0&&(f=0);var C=p(f/c,0,1);this.elapsed=f,this.progress=C,T&&(u?(s.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(m)):(s.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(m))),this.dispatchEvent(n.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(e,r){var l=this.tween;if(!l.isSeeking){var s=l.targets[this.targetIndex],u=this.key;l.emit(e,l,u,s);var d=l.callbacks[r];d&&d.func.apply(l.callbackScope,[l,s,u].concat(d.params))}},destroy:function(){o.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});v.exports=i},86353:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};v.exports=y},83419:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(i){return!!i.get&&typeof i.get=="function"||!!i.set&&typeof i.set=="function"}function t(i,e,r){var l=r?i[e]:Object.getOwnPropertyDescriptor(i,e);return!r&&l.value&&typeof l.value=="object"&&(l=l.value),l&&y(l)?(typeof l.enumerable>"u"&&(l.enumerable=!0),typeof l.configurable>"u"&&(l.configurable=!0),l):!1}function o(i,e){var r=Object.getOwnPropertyDescriptor(i,e);return r?(r.value&&typeof r.value=="object"&&(r=r.value),r.configurable===!1):!1}function p(i,e,r,l){for(var s in e)if(e.hasOwnProperty(s)){var u=t(e,s,r);if(u!==!1){var d=l||i;if(o(d.prototype,s)){if(n.ignoreFinals)continue;throw new Error("cannot override final property '"+s+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(i.prototype,s,u)}else i.prototype[s]=e[s]}}function a(i,e){if(e){Array.isArray(e)||(e=[e]);for(var r=0;r<e.length;r++)p(i,e[r].prototype||e[r])}}function n(i){i||(i={});var e,r;if(i.initialize){if(typeof i.initialize!="function")throw new Error("initialize must be a function");e=i.initialize,delete i.initialize}else if(i.Extends){var l=i.Extends;e=function(){l.apply(this,arguments)}}else e=function(){};i.Extends?(e.prototype=Object.create(i.Extends.prototype),e.prototype.constructor=e,r=i.Extends,delete i.Extends):e.prototype.constructor=e;var s=null;return i.Mixins&&(s=i.Mixins,delete i.Mixins),a(e,s),p(e,i,!0,r),e}n.extend=p,n.mixin=a,n.ignoreFinals=!1,v.exports=n},29747:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(){};v.exports=y},20242:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(){return null};v.exports=y},71146:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a,n){if(n===void 0&&(n=t),p>0){var i=p-t.length;if(i<=0)return null}if(!Array.isArray(o))return t.indexOf(o)===-1?(t.push(o),a&&a.call(n,o),o):null;for(var e=o.length-1;e>=0;)t.indexOf(o[e])!==-1&&o.splice(e,1),e--;if(e=o.length,e===0)return null;p>0&&e>i&&(o.splice(i),e=i);for(var r=0;r<e;r++){var l=o[r];t.push(l),a&&a.call(n,l)}return o};v.exports=y},51067:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a,n,i){if(p===void 0&&(p=0),i===void 0&&(i=t),a>0){var e=a-t.length;if(e<=0)return null}if(!Array.isArray(o))return t.indexOf(o)===-1?(t.splice(p,0,o),n&&n.call(i,o),o):null;for(var r=o.length-1;r>=0;)t.indexOf(o[r])!==-1&&o.pop(),r--;if(r=o.length,r===0)return null;a>0&&r>e&&(o.splice(e),r=e);for(var l=r-1;l>=0;l--){var s=o[l];t.splice(p,0,s),n&&n.call(i,s)}return o};v.exports=y},66905:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){var p=t.indexOf(o);return p!==-1&&p<t.length&&(t.splice(p,1),t.push(o)),o};v.exports=y},21612:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(82011),p=function(a,n,i,e,r){e===void 0&&(e=0),r===void 0&&(r=a.length);var l=0;if(o(a,e,r))for(var s=e;s<r;s++){var u=a[s];u[n]===i&&l++}return l};v.exports=p},95428:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){var a,n=[null];for(a=3;a<arguments.length;a++)n.push(arguments[a]);for(a=0;a<t.length;a++)n[0]=t[a],o.apply(p,n);return t};v.exports=y},36914:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(82011),p=function(a,n,i,e,r){if(e===void 0&&(e=0),r===void 0&&(r=a.length),o(a,e,r)){var l,s=[null];for(l=5;l<arguments.length;l++)s.push(arguments[l]);for(l=e;l<r;l++)s[0]=a[l],n.apply(i,s)}return a};v.exports=p},81957:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){if(o.length){if(o.length===1)return o[0]}else return NaN;var a=1,n,i;if(p){if(t<o[0][p])return o[0];for(;o[a][p]<t;)a++}else for(;o[a]<t;)a++;return a>o.length&&(a=o.length),p?(n=o[a-1][p],i=o[a][p],i-t<=t-n?o[a]:o[a-1]):(n=o[a-1],i=o[a],i-t<=t-n?i:n)};v.exports=y},43491:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){o===void 0&&(o=[]);for(var p=0;p<t.length;p++)Array.isArray(t[p])?y(t[p],o):o.push(t[p]);return o};v.exports=y},46710:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(82011),p=function(a,n,i,e,r){e===void 0&&(e=0),r===void 0&&(r=a.length);var l=[];if(o(a,e,r))for(var s=e;s<r;s++){var u=a[s];(!n||n&&i===void 0&&u.hasOwnProperty(n)||n&&i!==void 0&&u[n]===i)&&l.push(u)}return l};v.exports=p},58731:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(82011),p=function(a,n,i,e,r){if(e===void 0&&(e=0),r===void 0&&(r=a.length),o(a,e,r))for(var l=e;l<r;l++){var s=a[l];if(!n||n&&i===void 0&&s.hasOwnProperty(n)||n&&i!==void 0&&s[n]===i)return s}return null};v.exports=p},26546:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){o===void 0&&(o=0),p===void 0&&(p=t.length);var a=o+Math.floor(Math.random()*p);return t[a]===void 0?null:t[a]};v.exports=y},85835:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){if(o===p)return t;var a=t.indexOf(o),n=t.indexOf(p);if(a<0||n<0)throw new Error("Supplied items must be elements of the same array");return a>n||(t.splice(a,1),n===t.length-1?t.push(o):t.splice(n,0,o)),t};v.exports=y},83371:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){if(o===p)return t;var a=t.indexOf(o),n=t.indexOf(p);if(a<0||n<0)throw new Error("Supplied items must be elements of the same array");return a<n||(t.splice(a,1),n===0?t.unshift(o):t.splice(n,0,o)),t};v.exports=y},70864:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){var p=t.indexOf(o);if(p>0){var a=t[p-1],n=t.indexOf(a);t[p]=a,t[n]=o}return t};v.exports=y},69693:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){var a=t.indexOf(o);if(a===-1||p<0||p>=t.length)throw new Error("Supplied index out of bounds");return a!==p&&(t.splice(a,1),t.splice(p,0,o)),o};v.exports=y},40853:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){var p=t.indexOf(o);if(p!==-1&&p<t.length-1){var a=t[p+1],n=t.indexOf(a);t[p]=a,t[n]=o}return t};v.exports=y},20283:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a){var n=[],i,e=!1;if((p||a)&&(e=!0,p||(p=""),a||(a="")),o<t)for(i=t;i>=o;i--)e?n.push(p+i.toString()+a):n.push(i);else for(i=t;i<=o;i++)e?n.push(p+i.toString()+a):n.push(i);return n};v.exports=y},593:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2284),p=function(a,n,i){a===void 0&&(a=0),n===void 0&&(n=null),i===void 0&&(i=1),n===null&&(n=a,a=0);for(var e=[],r=Math.max(o((n-a)/(i||1)),0),l=0;l<r;l++)e.push(a),a+=i;return e};v.exports=p},43886:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(p,a,n){var i=p[a];p[a]=p[n],p[n]=i}function t(p,a){return p<a?-1:p>a?1:0}var o=function(p,a,n,i,e){for(n===void 0&&(n=0),i===void 0&&(i=p.length-1),e===void 0&&(e=t);i>n;){if(i-n>600){var r=i-n+1,l=a-n+1,s=Math.log(r),u=.5*Math.exp(2*s/3),d=.5*Math.sqrt(s*u*(r-u)/r)*(l-r/2<0?-1:1),f=Math.max(n,Math.floor(a-l*u/r+d)),c=Math.min(i,Math.floor(a+(r-l)*u/r+d));o(p,a,f,c,e)}var m=p[a],T=n,C=i;for(y(p,n,a),e(p[i],m)>0&&y(p,n,i);T<C;){for(y(p,T,C),T++,C--;e(p[T],m)<0;)T++;for(;e(p[C],m)>0;)C--}e(p[n],m)===0?y(p,n,C):(C++,y(p,C,i)),C<=a&&(n=C+1),a<=C&&(i=C-1)}};v.exports=o},88492:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35154),p=t(33680),a=function(i,e,r){for(var l=[],s=0;s<i.length;s++)for(var u=0;u<e.length;u++)for(var d=0;d<r;d++)l.push({a:i[s],b:e[u]});return l},n=function(i,e,r){var l=o(r,"max",0),s=o(r,"qty",1),u=o(r,"random",!1),d=o(r,"randomB",!1),f=o(r,"repeat",0),c=o(r,"yoyo",!1),m=[];if(d&&p(e),f===-1)if(l===0)f=0;else{var T=i.length*e.length*s;c&&(T*=2),f=Math.ceil(l/T)}for(var C=0;C<=f;C++){var S=a(i,e,s);u&&p(S),m=m.concat(S),c&&(S.reverse(),m=m.concat(S))}return l&&m.splice(l),m};v.exports=n},72905:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(19133),p=function(a,n,i,e){e===void 0&&(e=a);var r;if(!Array.isArray(n))return r=a.indexOf(n),r!==-1?(o(a,r),i&&i.call(e,n),n):null;for(var l=n.length-1,s=[];l>=0;){var u=n[l];r=a.indexOf(u),r!==-1&&(o(a,r),s.push(u),i&&i.call(e,u)),l--}return s};v.exports=p},60248:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(19133),p=function(a,n,i,e){if(e===void 0&&(e=a),n<0||n>a.length-1)throw new Error("Index out of bounds");var r=o(a,n);return i&&i.call(e,r),r};v.exports=p},81409:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(82011),p=function(a,n,i,e,r){if(n===void 0&&(n=0),i===void 0&&(i=a.length),r===void 0&&(r=a),o(a,n,i)){var l=i-n,s=a.splice(n,l);if(e)for(var u=0;u<s.length;u++){var d=s[u];e.call(r,d)}return s}else return[]};v.exports=p},31856:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(19133),p=function(a,n,i){n===void 0&&(n=0),i===void 0&&(i=a.length);var e=n+Math.floor(Math.random()*i);return o(a,e)};v.exports=p},42169:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){var a=t.indexOf(o),n=t.indexOf(p);return a!==-1&&n===-1?(t[a]=p,!0):!1};v.exports=y},86003:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){o===void 0&&(o=1);for(var p=null,a=0;a<o;a++)p=t.shift(),t.push(p);return p};v.exports=y},49498:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){o===void 0&&(o=1);for(var p=null,a=0;a<o;a++)p=t.pop(),t.unshift(p);return p};v.exports=y},82011:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a){var n=t.length;if(o<0||o>n||o>=p||p>n){if(a)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};v.exports=y},89545:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){var p=t.indexOf(o);return p!==-1&&p>0&&(t.splice(p,1),t.unshift(o)),o};v.exports=y},17810:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(82011),p=function(a,n,i,e,r){if(e===void 0&&(e=0),r===void 0&&(r=a.length),o(a,e,r))for(var l=e;l<r;l++){var s=a[l];s.hasOwnProperty(n)&&(s[n]=i)}return a};v.exports=p},33680:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){for(var o=t.length-1;o>0;o--){var p=Math.floor(Math.random()*(o+1)),a=t[o];t[o]=t[p],t[p]=a}return t};v.exports=y},90126:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var o=/\D/g;return t.sort(function(p,a){return parseInt(p.replace(o,""),10)-parseInt(a.replace(o,""),10)}),t};v.exports=y},19133:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){if(!(o>=t.length)){for(var p=t.length-1,a=t[o],n=o;n<p;n++)t[n]=t[n+1];return t.length=p,a}};v.exports=y},19186:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(82264);function p(e,r){return String(e).localeCompare(r)}function a(e,r){var l=e.length;if(l<=1)return e;for(var s=new Array(l),u=1;u<l;u*=2){n(e,r,u,s);var d=e;e=s,s=d}return e}function n(e,r,l,s){var u=e.length,d=0,f=l*2,c,m,T,C,S;for(c=0;c<u;c+=f)for(m=c+l,T=m+l,m>u&&(m=u),T>u&&(T=u),C=c,S=m;;)if(C<m&&S<T)r(e[C],e[S])<=0?s[d++]=e[C++]:s[d++]=e[S++];else if(C<m)s[d++]=e[C++];else if(S<T)s[d++]=e[S++];else break}var i=function(e,r){if(r===void 0&&(r=p),!e||e.length<2)return e;if(o.features.stableSort)return e.sort(r);var l=a(e,r);return l!==e&&n(l,null,e.length,e),e};v.exports=i},25630:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){if(o===p)return t;var a=t.indexOf(o),n=t.indexOf(p);if(a<0||n<0)throw new Error("Supplied items must be elements of the same array");return t[a]=p,t[n]=o,t};v.exports=y},37105:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Matrix:t(54915),Add:t(71146),AddAt:t(51067),BringToTop:t(66905),CountAllMatching:t(21612),Each:t(95428),EachInRange:t(36914),FindClosestInSorted:t(81957),Flatten:t(43491),GetAll:t(46710),GetFirst:t(58731),GetRandom:t(26546),MoveDown:t(70864),MoveTo:t(69693),MoveUp:t(40853),MoveAbove:t(85835),MoveBelow:t(83371),NumberArray:t(20283),NumberArrayStep:t(593),QuickSelect:t(43886),Range:t(88492),Remove:t(72905),RemoveAt:t(60248),RemoveBetween:t(81409),RemoveRandomElement:t(31856),Replace:t(42169),RotateLeft:t(86003),RotateRight:t(49498),SafeRange:t(82011),SendToBack:t(89545),SetAll:t(17810),Shuffle:t(33680),SortByDigits:t(90126),SpliceOne:t(19133),StableSort:t(19186),Swap:t(25630)}},86922:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){if(!Array.isArray(t)||!Array.isArray(t[0]))return!1;for(var o=t[0].length,p=1;p<t.length;p++)if(t[p].length!==o)return!1;return!0};v.exports=y},63362:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(41836),p=t(86922),a=function(n){var i="";if(!p(n))return i;for(var e=0;e<n.length;e++){for(var r=0;r<n[e].length;r++){var l=n[e][r].toString();l!=="undefined"?i+=o(l,2):i+="?",r<n[e].length-1&&(i+=" |")}if(e<n.length-1){i+=`
`;for(var s=0;s<n[e].length;s++)i+="---",s<n[e].length-1&&(i+="+");i+=`
`}}return i};v.exports=a},92598:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.reverse()};v.exports=y},21224:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){for(var o=0;o<t.length;o++)t[o].reverse();return t};v.exports=y},98717:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37829),p=function(a){return o(a,180)};v.exports=p},44657:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37829),p=function(a,n){n===void 0&&(n=1);for(var i=0;i<n;i++)a=o(a,90);return a};v.exports=p},37829:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(86922),p=t(2429),a=function(n,i){if(i===void 0&&(i=90),!o(n))return null;if(typeof i!="string"&&(i=(i%360+360)%360),i===90||i===-270||i==="rotateLeft")n=p(n),n.reverse();else if(i===-90||i===270||i==="rotateRight")n.reverse(),n=p(n);else if(Math.abs(i)===180||i==="rotate180"){for(var e=0;e<n.length;e++)n[e].reverse();n.reverse()}return n};v.exports=a},92632:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37829),p=function(a,n){n===void 0&&(n=1);for(var i=0;i<n;i++)a=o(a,-90);return a};v.exports=p},69512:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(86003),p=t(49498),a=function(n,i,e){if(i===void 0&&(i=0),e===void 0&&(e=0),e!==0&&(e<0?o(n,Math.abs(e)):p(n,e)),i!==0)for(var r=0;r<n.length;r++){var l=n[r];i<0?o(l,Math.abs(i)):p(l,i)}return n};v.exports=a},2429:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){for(var o=t.length,p=t[0].length,a=new Array(p),n=0;n<p;n++){a[n]=new Array(o);for(var i=o-1;i>-1;i--)a[n][i]=t[i][n]}return a};v.exports=y},54915:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={CheckMatrix:t(86922),MatrixToString:t(63362),ReverseColumns:t(92598),ReverseRows:t(21224),Rotate180:t(98717),RotateLeft:t(44657),RotateMatrix:t(37829),RotateRight:t(92632),Translate:t(69512),TransposeMatrix:t(2429)}},71334:v=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=function(o,p){for(var a=new Uint8Array(o),n=a.length,i=p?"data:"+p+";base64,":"",e=0;e<n;e+=3)i+=y[a[e]>>2],i+=y[(a[e]&3)<<4|a[e+1]>>4],i+=y[(a[e+1]&15)<<2|a[e+2]>>6],i+=y[a[e+2]&63];return n%3===2?i=i.substring(0,i.length-1)+"=":n%3===1&&(i=i.substring(0,i.length-2)+"=="),i};v.exports=t},53134:v=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new Uint8Array(256),o=0;o<y.length;o++)t[y.charCodeAt(o)]=o;var p=function(a){a=a.substr(a.indexOf(",")+1);var n=a.length,i=n*.75,e=0,r,l,s,u;a[n-1]==="="&&(i--,a[n-2]==="="&&i--);for(var d=new ArrayBuffer(i),f=new Uint8Array(d),c=0;c<n;c+=4)r=t[a.charCodeAt(c)],l=t[a.charCodeAt(c+1)],s=t[a.charCodeAt(c+2)],u=t[a.charCodeAt(c+3)],f[e++]=r<<2|l>>4,f[e++]=(l&15)<<4|s>>2,f[e++]=(s&3)<<6|u&63;return d};v.exports=p},65839:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ArrayBufferToBase64:t(71334),Base64ToArrayBuffer:t(53134)}},91799:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Array:t(37105),Base64:t(65839),Objects:t(1183),String:t(31749),NOOP:t(29747),NULL:t(20242)}},41786:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var o={};for(var p in t)Array.isArray(t[p])?o[p]=t[p].slice(0):o[p]=t[p];return o};v.exports=y},62644:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var o,p,a;if(typeof t!="object"||t===null)return t;o=Array.isArray(t)?[]:{};for(a in t)p=t[a],o[a]=y(p);return o};v.exports=y},79291:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(41212),p=function(){var a,n,i,e,r,l,s=arguments[0]||{},u=1,d=arguments.length,f=!1;for(typeof s=="boolean"&&(f=s,s=arguments[1]||{},u=2),d===u&&(s=this,--u);u<d;u++)if((a=arguments[u])!=null)for(n in a)i=s[n],e=a[n],s!==e&&(f&&e&&(o(e)||(r=Array.isArray(e)))?(r?(r=!1,l=i&&Array.isArray(i)?i:[]):l=i&&o(i)?i:{},s[n]=p(f,l,e)):e!==void 0&&(s[n]=e));return s};v.exports=p},23568:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(75508),p=t(35154),a=function(n,i,e){var r=p(n,i,null);if(r===null)return e;if(Array.isArray(r))return o.RND.pick(r);if(typeof r=="object"){if(r.hasOwnProperty("randInt"))return o.RND.integerInRange(r.randInt[0],r.randInt[1]);if(r.hasOwnProperty("randFloat"))return o.RND.realInRange(r.randFloat[0],r.randFloat[1])}else if(typeof r=="function")return r(i);return r};v.exports=a},95540:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){var a=typeof t;return!t||a==="number"||a==="string"?p:t.hasOwnProperty(o)&&t[o]!==void 0?t[o]:p};v.exports=y},82840:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35154),p=t(45319),a=function(n,i,e,r,l){l===void 0&&(l=e);var s=o(n,i,l);return p(s,e,r)};v.exports=a},35154:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a){if(!t&&!a||typeof t=="number")return p;if(t&&t.hasOwnProperty(o))return t[o];if(a&&a.hasOwnProperty(o))return a[o];if(o.indexOf(".")!==-1){for(var n=o.split("."),i=t,e=a,r=p,l=p,s=!0,u=!0,d=0;d<n.length;d++)i&&i.hasOwnProperty(n[d])?(r=i[n[d]],i=i[n[d]]):s=!1,e&&e.hasOwnProperty(n[d])?(l=e[n[d]],e=e[n[d]]):u=!1;return s?r:u?l:p}else return p};v.exports=y},69036:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){for(var p=0;p<o.length;p++)if(!t.hasOwnProperty(o[p]))return!1;return!0};v.exports=y},1985:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){for(var p=0;p<o.length;p++)if(t.hasOwnProperty(o[p]))return!0;return!1};v.exports=y},97022:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.hasOwnProperty(o)};v.exports=y},41212:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){if(!t||typeof t!="object"||t.nodeType||t===t.window)return!1;try{if(t.constructor&&!{}.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};v.exports=y},46975:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(41786),p=function(a,n){var i=o(a);for(var e in n)i.hasOwnProperty(e)||(i[e]=n[e]);return i};v.exports=p},269:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(41786),p=function(a,n){var i=o(a);for(var e in n)i.hasOwnProperty(e)&&(i[e]=n[e]);return i};v.exports=p},18254:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(97022),p=function(a,n){for(var i={},e=0;e<n.length;e++){var r=n[e];o(a,r)&&(i[r]=a[r])}return i};v.exports=p},61622:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p){if(!t||typeof t=="number")return!1;if(t.hasOwnProperty(o))return t[o]=p,!0;if(o.indexOf(".")!==-1){for(var a=o.split("."),n=t,i=t,e=0;e<a.length;e++)if(n.hasOwnProperty(a[e]))i=n,n=n[a[e]];else return!1;return i[a[a.length-1]]=p,!0}return!1};v.exports=y},1183:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Clone:t(41786),DeepCopy:t(62644),Extend:t(79291),GetAdvancedValue:t(23568),GetFastValue:t(95540),GetMinMaxValue:t(82840),GetValue:t(35154),HasAll:t(69036),HasAny:t(1985),HasValue:t(97022),IsPlainObject:t(41212),Merge:t(46975),MergeRight:t(269),Pick:t(18254),SetValue:t(61622)}},27902:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return t.replace(/%([0-9]+)/g,function(p,a){return o[Number(a)-1]})};v.exports=y},41836:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o,p,a){o===void 0&&(o=0),p===void 0&&(p=" "),a===void 0&&(a=3),t=t.toString();var n=0;if(o+1>=t.length)switch(a){case 1:t=new Array(o+1-t.length).join(p)+t;break;case 3:var i=Math.ceil((n=o-t.length)/2),e=n-i;t=new Array(e+1).join(p)+t+new Array(i+1).join(p);break;default:t=t+new Array(o+1-t.length).join(p);break}return t};v.exports=y},33628:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,o){return o===0?t.slice(1):t.slice(0,o-1)+t.slice(o)};v.exports=y},27671:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.split("").reverse().join("")};v.exports=y},45650:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var o=Math.random()*16|0,p=t==="x"?o:o&3|8;return p.toString(16)})};v.exports=y},35355:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t&&t[0].toUpperCase()+t.slice(1)};v.exports=y},31749:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Format:t(27902),Pad:t(41836),RemoveAt:t(33628),Reverse:t(27671),UppercaseFirst:t(35355),UUID:t(45650)}}},E={};function M(v){var y=E[v];if(y!==void 0)return y.exports;var t=E[v]={exports:{}};return x[v](t,t.exports,M),t.exports}M.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var w=M(85454);return w})())})(gu);var Yv=gu.exports;const Ae=bn(Yv),xu="/project/assets/sky-C3FK-69K.png",yu="/project/assets/platform-Bpju0ip4.png",Wv="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAWCAYAAADafVyIAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAV1JREFUeNqsVTFOAzEQ9Fr3BRSkVEkDJVXuFRRESpuOX1yqu1/Q0SJBwSuSipI0oUJKxCMcz+YMPscb7EtGsmTLu7M7vt1bMsaoVDRlycbVcknJTgiQsurJxDi0+yQ/nZr54/3P7xl7p+Y/6FSlg2qj1HrKi/eJ0LnZ56rQWdk7ZKjQfbLPUUH40pIRCI6y93HzqnbNWD29X0WvUc7Elfr5wMZRSOReEMmPbt9Ugf3u5UMNZlPVC0IC4AQK+0RkYbb4mLM7dQmA/HrxhUajou3miwXxyVmB98s4O0hI3glwbpAYebQPYCCV3SnAJyQXG42bSyo/oVSlhqRwHqDpqudhr2/QzL+PZoXOyR7v7Oo7VUVHgZQ9SPHGi9WKz3bgHH4jkUIIVRTR1m+7848Y1bGhys/MVltt7zqBWHkpj0wct/WIF8bi4fr0SIQNbJ1f6BN1cE4589r5hXd7AQYABzp8SxrFuRsAAAAASUVORK5CYII=",Hv="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAZFJREFUeNpsUr9LQmEUPa8eQostDTaJk7r0Q7AGISIytZCs6fkPBE3V3iAUGTQZVNAc2JZLBRlhgYMIapO+KRyihkCsIQji9Z3PvodaBy7ve/fec8797nuaZVnoRzKZtNq1N3kenhhBNpvV+ns0RVz0h3sU1k5S8nm6nrIFKHZVz0uRAUVio0jC6x6EZyGI98adDJ6Zc7VaMDZmbANdqRG5QhGTiZDtWqp/4iizJ89b0SjOMw92ryRyhPv9HXx5A5j2D8Hpm0NiNgSnEFJgzYsKzN+761yEKpBEkKSenCJ/cSlrJQSAZlkub4BuahEKuS4nQpLE2OGVJbkHcrSYb97iAhxmpce1H7wf+4inmzJ0Xvb4MI3NSEQqcjwugiIKFOVmTUG4btzCMIzOd9Q0zRLOcGzHsfrRRjVX/ENU7zQRHE1XRSrFdoGqUC6MdZrc4y40H18x2vyGxws8T7lAA/vP4Ud9iQdRO0jLAsfqhimIUljU1J9DWxlcEoMpxvJZRgbPzKs+FehPKBEl8B+J8SPAAA0f6tdWLZfVAAAAAElFTkSuQmCC",Kv="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASAAAAAwCAYAAACxIqevAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAADDxJREFUeNrsXV1oXMcVnhWiLyWBtJgiN4b++SXUjpCFTO1IUQyFxjLELQ1GFD8EP0RKSWICxSlu9KCk1G7AtIVY9oPpgx9MSGhrsJxAQFXkyhA3VhUVSsB1XHBqtYTG0Dy1mN7ud6/O1dnZ+zMzO7Ozu3cOXO9q9+495/vO78xeybUoikSQIEGC+JC+QEGQIEFCAQoSJEgoQEGCBAkSClCQIEFCAQoSJEiQUIBy5JnafKW/xqs6/sB9d+Pv63YCTkcTlQ2EquMP3Hc//j4bhvgk4h9Xq90FfeL3jT3EXg/gx42Ipse0uBRBNh5FOw/ofH8uitaXo/jRlw1Vxe8Te4i93sHf181d4Ms7Gx+r1gV94/c9AYTY6wH83dgFuG46fNpQNfydMH2F2OsN/H3d1gWw7j0yN9GkEz/j9Xaui6uM3/cEEGKvN/D3tWIIl3Y4II+AdgdClfH7wh647038Nd3fhi8y5O9rQpybnheno4mai91+TnyefhLYAXFhS1Xx+8AeuO9t/FoFqKwK2iaCwI9NfUlsf3hY+/M3PnhfLJ35p7VgqDL+dmMP3FcDv1IB8tEFoPP+sQHx5ORQy8FLZLRiS1Xx+54AfHFvmniyvHFhRfx7ab3rYq9d+AsLkK8uIBNQRriq6HYHn/iLRm1T0cHvewLwzb2uFPnKpAF0G/4yHvJiL7cA+erAcvHZNSXEi4+uiJNLu9Jzjo1dF0d/NqSdjLp2+MJPxecXP7aDW9cOmx3QNPl8TCCmevN8deLdIXH9TOs50On4y3igmM0qQpkFiBtiswuXdWA56VF8arWa+GjmvqZzvzb7mVhfjrRtUZkCfOKn4jOw1y5uXRtUx32dZYFOAbbZfXUKr67uMl8hv6gIqRSDbsOvygPFrBwHfWXJh4qGC9OBn03vPcB1y76mo+rJi89XRwebDrxuYgsKXJENvvEDNznSJm4V/IRd7mhl+FXOU8Eu6zfpvlk2wJdl+qn5megs8hViGD7lsd0r+HV4gD3EA5f+LCO2PzzUUNGeHudVbbz+ulkXBhFLYr7wnJdHRsTwdE1MT19KAWUJXj85u0scFXq3EQw+9D+xtFTsBF/458SBetV1g1sFP9kod7Qi/Krnqfie6zftvnk2CDEsVsdW6Le4a3nc6AqKyomXRnN99dHMKnTGvkVs37nWW/hNeDjNYrdfPhnLH3n6kAUXQ8Uz2Y+gDpxFAl6r1Q5E0Tuj4taVyQbdtW9fiR/xnkvxib8+rtde2b078oGbd0C5o2XhR8AjsPm0VsZTEXbTDqxqa7LVMCTOLc075VH2F2z60cykOD06Gr8X5SR/r+Av4mHryKyI3osa8DctwTB9oFKVduGScbKoA6tInm4u2ODS3RAtk07BbxO3Kn5uG/AV4aexWoenMuym3KjYCp/CtzZiRNcXKrHcrfhbjcl+eQLZunsk+sF3/EwftATLEnlz69aVVWWHqZLaCfht4m41qMo6WvRO8Tm+JG8K2fr2iPjJe+Ub4cSXynIIvoBPKF6yNmHLYrub8ZvwkFuAXE4frSYCtwlAX529IGaWh8Xieb1rrv6lT0uXb/y2cOvgb+Veo1avB45090ESXxwt5/Ht/5Ryw4t7mb9ufCDE+OFhMbv3QpzgtOnainQTfhs89LejC+sm3ivHi4m6cw1JOGFUfDCuYq+lnVOILfymuHXwUwIgqG9dGdfqaFk8UaHW4UC3A5t23+b9x1p0TFzX8i18AZ8g+bDHYUO6CX+rPCgVIJtduKwD37k2I+479ptkbXviXFLhXzwSP1+Yf028eeAr8W3pOrpVun6n4P/ssW9aw62LnzogEuDJyWHx6rReR8vi6cjcUJpQZXaYdGAXUwjZqZqI8Al8c25aiO9f+pvYN/HD1Hfkx9i3J7/Xk/h1eSgtQEUTSCtdWKUDoxI/UxMRFSESbKLdP/atNKBNiorq9OMTf91ZtbqjInKaDdwq+KkDXnjoj2nwI5hQhEw6O3jC53kSqeg36cC2phDYFtuwMbXpcZ3w9cbPV+rNYr7eRKXGUi8+RTcCdj/+Yh42ClH5r2Lg60Akf1EX1l1ScCCqRSDrtvBWElBHb6fhb7XwqOql4OMJAP24ezWvo6nypFJ8efCbdOAyW8uKQJ4dOgKb5ZhV/RWMXsAv81CGvz9vAlkYfS0GYbML6+y/UEdo3PA1m3qouqvq7Vz8win+tAOK66xwrCRjdb2bvSmaO7s8pQqRFB/82gH3lwr21jtwdvdFUVRNPm6HCfewGZyZxF4v4Oc8TJ6pleIv/GVUPNrqwiabv7wi03MVQvi9J6Y6q4w/qwPKHU2WIp50sbfagbNsNf3TFD5ir0r4C/8cR7s7sC4hRRXcpq4q4s/DLi8xipbHrWAPsVcN/Ep/kMxHFyiz54kvfD39ed/ObWJh7ba4+OlNZ/qqit839k7lnjgnqVrs2cKv9DU8v3A7u0CeEAHp5tveHfGxb/nP4uAXvxH97l9/rdGjDX2dih+YOQdi7rJ1Xb6xdwL3PKZ+OT7ewHsqa2583Ymx9/T0/s2Yw/RbzztT/P0mhPAOTIXAVQeG0+k5BQEvPs+deaD+78fx88cPPyC2n98RfwYk2SxCnYSfnP/44Y/Fr6bubnAgxNk54QQz2fHu3CPi0ek/CD598Q6I913pl7nnvLucQHgs4RGc83gD/xQHvFBxn3Uz/qxYTDgQLPZ2xHaY4O83rYI0glHwL+y5nRmYNpxPVZYDowQkWfr9J2LssS3xebxAuZxA2oU/7jAbP9Pkc7Y+7dxY3pbqB365Y1stfld3xjrk6VOeAHCeqwQk7jcbT8J7bM+aU5fHOuAHFB2KNbLjrfMPZvrIpi984+c+JfywAUVoYW1NUJzyAQEclOHvNzGEByAMgKKLn/7WegLmBYJcfCAgJCHjdhos1JVsJkK78VNg82mLniMAEAyrr/eLwUOiYV1uCzc1gIN7LjfwnyWnjt8Wp8R6+pmzDpaE1O3fOr+/iRubyU78USyl08YUkn9Lw7lJLO5omEhcSjvwZxWezRi8F8f94KF7CRdTIjNGuX1WJyDqwDzQXCQfH+dAepwQe/c3FR8SELKwthkEICNNIIvO8YkfexBwLDBS9wPupCN/EuN3UQCBFTiTjt98Hl6HPXxiczmBEv/cF7aSX568+XXBdZZQEXp+cVFcXLwpntj4jIvlqGv8RcJjDY3v1PHGgAN+PqlZXYJR9wfZ2G+Qg9PF0ocDgH7ovLHcHAggg+DQZ+TqbWv68YkfDqZlUMLBvXQSk93ZavDzPTeOD/ix7GhMvqTg03lIBhfJR9eWCx1swJLUVqPhUw+PJ8TZ6ut3c+LvbuwbV3tg7cSf1QQJZ4I/ycHBQwPxa7QHqou/36QCQl746UA8cvMRFe+53IQEwBfqgGn93bgES9amfALg5NmyyTd+bPSW4bepHzr3iW1N3Z+KEJ9GaQLlE5vtBgDeoYMXCLwm67eVdDKXmxNANv/PL950VXvahj+vCUJ/Fn5gf05gO2Ag/pJCR7Rv7UW1o51/CjLad0m6gDvysfzIcn5jF2omz2ZC+sYPHXzDWd4Hs63z8vFn0z0fwo4DNnz+wT/Fj/Qa4cf5+JztCZRs4Htd5AOu31bSZcVNkQ7wDx+5wN1u/EUYs4T2InXxa/3XzPgKkDrwwT1r6R4I7YPE34DUX3exEYYqL4PniZhsxN7b2Axdd7L+9omfvoXiQcYnEuIG59jCzzfcsfTLm764P9ABEYTy8sUmD3nck35Xt0LQpMFjLSspyQeu4sAnfh5nWUWZJiTVPNAqmXQfAgKRr5OzCoJt0rmg2tNmFwnZFCfehpNsi0/8/Nop9sVG/HB8fFzdYgU/Aki++Y1/BZ2HnexzcV8K6cni3kXy8Zgi3UgyeamBoktfjac+cLAc94lf1iULNR68T7djlOLHBKR74GN1ZXiSHvUEwA1Skcn1VPRFH3431pGYnH0O3qfDlS2+8OP6pLPoHPCEw7YtnN+XR0biA6/Rc3ovzz5bB3CRHjqKeLGpswwj94Ere3zhp7gqww9bdOJAawmWtRwhcVl9SV9ZV5W7tWt7qoQf18YfVR976nMNeDkPS7/+r3jp2jXnd+T64l6FVxU/BfyGSzCfovr3bESPim/8abF56pHcc9pRfDqV+16OQZf4W5qAqlQAAv7sTtjOqTPEXu/h/78AAwDNmjbla526EgAAAABJRU5ErkJggg==",Tu=g=>(ic("data-v-d6953ddf"),g=g(),sc(),g),Zv=Tu(()=>Yi("p",null,"demo1",-1)),Qv=Tu(()=>Yi("div",{id:"game-container"},null,-1)),Jv=[Zv,Qv],$v=Os({__name:"demo1",setup(g){class h extends Ae.Scene{constructor(){super("Preload");Wt(this,"width",800);Wt(this,"height",600);Wt(this,"gameOver",!1);Wt(this,"gameOverText");Wt(this,"platforms");Wt(this,"player");Wt(this,"stars");Wt(this,"bombs");Wt(this,"score",0);Wt(this,"cursors");Wt(this,"gameTime",0);Wt(this,"MaxJumpCount",2);Wt(this,"jumpCount",this.MaxJumpCount);Wt(this,"moveSpeed",180);Wt(this,"moveSpeedMax",260)}preload(){this.load.image("sky",xu),this.load.image("platform",yu),this.load.image("star",Wv),this.load.image("bomb",Hv),this.load.spritesheet("dude",Kv,{frameWidth:32,frameHeight:48})}create(){this.add.image(400,300,"sky"),this.platforms=this.physics.add.staticGroup(),this.platforms.create(400,570,"platform").setScale(2).refreshBody(),this.platforms.create(600,400,"platform"),this.platforms.create(50,250,"platform"),this.platforms.create(750,220,"platform"),this.player=this.physics.add.sprite(100,450,"dude"),this.player.setBounce(.2),this.player.setCollideWorldBounds(!0),this.player.anims.create({key:"left",frames:this.anims.generateFrameNumbers("dude",{start:0,end:3}),frameRate:10,repeat:-1}),this.player.anims.create({key:"right",frames:this.anims.generateFrameNumbers("dude",{start:5,end:8}),frameRate:10,repeat:-1}),this.player.anims.create({key:"turn",frames:[{key:"dude",frame:4}],frameRate:20}),this.player.body.setMaxVelocityX(this.moveSpeedMax),this.player.body.setMaxVelocityY(this.moveSpeedMax*2),this.physics.add.collider(this.player,this.platforms,()=>{this.player.body.touching.down&&(this.jumpCount=this.MaxJumpCount,this.player.setVelocityY(0))}),this.cursors=this.input.keyboard.createCursorKeys(),this.cursors.left.on("down",()=>{this.player.setVelocityX(-this.moveSpeed/1.6),this.player.setAccelerationX(-this.moveSpeed)}),this.cursors.left.on("up",()=>{this.player.setAccelerationX(0)}),this.cursors.right.on("down",()=>{this.player.setVelocityX(this.moveSpeed/1.6),this.player.setAccelerationX(this.moveSpeed)}),this.cursors.right.on("up",()=>{this.player.setAccelerationX(0)}),this.cursors.down.on("down",()=>{this.player.setVelocityY(600)}),this.cursors.up.on("down",()=>{this.jumpCount>0&&(console.log(`2/19/2025, 3:20:44 PM
`,"output->this.doubleJump",this.jumpCount),this.jumpCount--,this.gameTime=this.game.getTime()+20,this.player.body.setVelocityY(-330))}),this.player.body.setGravityY(280),this.player.body.setAccelerationY(150);var w=this.add.text(16,16,"score: 0",{fontSize:"32px",color:"#000"});this.stars=this.physics.add.group({key:"star",repeat:5,setXY:{x:12,y:0,stepX:100}}),this.stars.getChildren().forEach(function(v){v.body.velocity.y=Ae.Math.Between(150,180)}),this.physics.add.collider(this.stars,this.platforms,(v,y)=>{v.body.velocity.y=0}),this.physics.add.collider(this.stars,this.stars),this.physics.add.overlap(this.player,this.stars,(v,y)=>{const t=this.width;if(this.height,!y.collected&&(y.setVisible(!1).setActive(!1),y.collected=!0,this.score+=10,w.setText("Score: "+this.score),this.stars.countActive(!0)===0)){this.stars.getChildren().forEach(function(a){a.body.position.x=Math.random()*t,a.body.position.y=0,a.body.velocity.y=Ae.Math.Between(100,120),a.setVisible(!0).setActive(!0).setCollideWorldBounds(!0).setBounce(.5),a.collected=!1});var o=this.player.x<400?Ae.Math.Between(400,800):Ae.Math.Between(0,400),p=this.bombs.create(o,16,"bomb");p.setBounce(1).setCollideWorldBounds(!0),p.setVelocity(Ae.Math.Between(-200,200),20)}},null,this),this.bombs=this.physics.add.group(),this.physics.add.collider(this.bombs,this.platforms),this.physics.add.collider(this.player,this.bombs,(v,y)=>{this.physics.pause(),this.player.setTint(16711680),this.player.anims.play("turn"),this.gameOver=!0,this.gameOverText=this.add.text(400,300,"Game Over",{fontSize:"64px",color:"blue"})})}update(){this.player.body.touching.down?this.player.setDragX(this.moveSpeed):this.player.setDrag(this.moveSpeed/2,this.moveSpeed/2),this.player.body.velocity.x==0&&this.player.anims.play("turn"),this.player.body.velocity.x>0&&this.player.anims.play("right",!0),this.player.body.velocity.x<0&&this.player.anims.play("left",!0),this.stars.getChildren().forEach(w=>{w.body.position.x<0?(w.body.position.x=0,w.body.velocity.x*=-1):w.body.position.x>this.width&&(w.body.position.x=this.width,w.body.velocity.x*=-1),w.body.position.y<0?(w.body.position.y=0,w.body.velocity.y*=-1):w.body.position.y>this.height&&(w.body.position.y=this.height,w.body.velocity.y*=-1)})}}var x={type:Ae.AUTO,width:800,height:600,parent:"game-container",physics:{default:"arcade",arcade:{gravity:{y:0,x:0},debug:!1}},scale:{mode:Ae.Scale.CENTER_BOTH,autoCenter:Ae.Scale.CENTER_BOTH},scene:new h};return Ds(()=>{new Ae.Game(x)}),(E,M)=>(ys(),du("div",null,Jv))}}),Su=(g,h)=>{const x=g.__vccOpts||g;for(const[E,M]of h)x[E]=M;return x},jv=Su($v,[["__scopeId","data-v-d6953ddf"]]),kv=Object.freeze(Object.defineProperty({__proto__:null,default:jv},Symbol.toStringTag,{value:"Module"}));class qv extends Phaser.Physics.Arcade.Sprite{constructor(h,x,E,M){super(h,x,E,M),h.add.existing(this),h.physics.add.existing(this),this.setCollideWorldBounds(!0)}standPlatform(h){throw new Error("Method not implemented.")}}var Ie=(g=>(g.Zero="zero",g))(Ie||{});const _v="/project/assets/zero_stand-Dz0crLry.png",tp=[{image:"json_zero.png",format:"RGBA8888",size:{w:1664,h:256},scale:1,frames:[{filename:"image0.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:1,y:1,w:50,h:62}},{filename:"image1.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:1,y:65,w:50,h:62}},{filename:"image2.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:1,y:129,w:50,h:62}},{filename:"image3.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:1,y:193,w:50,h:62}},{filename:"image4.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:53,y:1,w:50,h:62}},{filename:"image5.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:53,y:65,w:50,h:62}},{filename:"image6.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:53,y:129,w:50,h:62}},{filename:"image7.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:53,y:193,w:50,h:62}},{filename:"image8.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:105,y:1,w:50,h:62}},{filename:"image9.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:105,y:65,w:50,h:62}},{filename:"image10.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:105,y:129,w:50,h:62}},{filename:"image11.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:105,y:193,w:50,h:62}},{filename:"image12.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:157,y:1,w:50,h:62}},{filename:"image13.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:157,y:65,w:50,h:62}},{filename:"image14.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:157,y:129,w:50,h:62}},{filename:"image15.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:157,y:193,w:50,h:62}},{filename:"image16.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:209,y:1,w:50,h:62}},{filename:"image17.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:209,y:65,w:50,h:62}},{filename:"image18.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:209,y:129,w:50,h:62}},{filename:"image19.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:209,y:193,w:50,h:62}},{filename:"image20.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:261,y:1,w:50,h:62}},{filename:"image21.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:261,y:65,w:50,h:62}},{filename:"image22.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:261,y:129,w:50,h:62}},{filename:"image23.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:261,y:193,w:50,h:62}},{filename:"image24.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:313,y:1,w:50,h:62}},{filename:"image25.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:313,y:65,w:50,h:62}},{filename:"image26.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:313,y:129,w:50,h:62}},{filename:"image27.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:313,y:193,w:50,h:62}},{filename:"image28.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:365,y:1,w:50,h:62}},{filename:"image29.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:365,y:65,w:50,h:62}},{filename:"image30.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:365,y:129,w:50,h:62}},{filename:"image31.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:365,y:193,w:50,h:62}},{filename:"image32.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:417,y:1,w:50,h:62}},{filename:"image33.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:417,y:65,w:50,h:62}},{filename:"image34.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:417,y:129,w:50,h:62}},{filename:"image35.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:417,y:193,w:50,h:62}},{filename:"image36.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:469,y:1,w:50,h:62}},{filename:"image37.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:469,y:65,w:50,h:62}},{filename:"image38.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:469,y:129,w:50,h:62}},{filename:"image39.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:469,y:193,w:50,h:62}},{filename:"image40.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:521,y:1,w:50,h:62}},{filename:"image41.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:521,y:65,w:50,h:62}},{filename:"image42.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:521,y:129,w:50,h:62}},{filename:"image43.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:521,y:193,w:50,h:62}},{filename:"image44.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:573,y:1,w:50,h:62}},{filename:"image45.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:573,y:65,w:50,h:62}},{filename:"image46.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:573,y:129,w:50,h:62}},{filename:"image47.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:573,y:193,w:50,h:62}},{filename:"image48.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:625,y:1,w:50,h:62}},{filename:"image49.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:625,y:65,w:50,h:62}},{filename:"image50.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:625,y:129,w:50,h:62}},{filename:"image51.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:625,y:193,w:50,h:62}},{filename:"image52.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:677,y:1,w:50,h:62}},{filename:"image53.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:677,y:65,w:50,h:62}},{filename:"image54.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:677,y:129,w:50,h:62}},{filename:"image55.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:677,y:193,w:50,h:62}},{filename:"image56.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:729,y:1,w:50,h:62}},{filename:"image57.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:729,y:65,w:50,h:62}},{filename:"image58.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:729,y:129,w:50,h:62}},{filename:"image74.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:729,y:129,w:50,h:62}},{filename:"image59.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:729,y:193,w:50,h:62}},{filename:"image60.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:781,y:1,w:50,h:62}},{filename:"image61.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:781,y:65,w:50,h:62}},{filename:"image62.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:781,y:129,w:50,h:62}},{filename:"image63.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:781,y:193,w:50,h:62}},{filename:"image64.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:833,y:1,w:50,h:62}},{filename:"image65.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:833,y:65,w:50,h:62}},{filename:"image66.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:833,y:129,w:50,h:62}},{filename:"image67.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:833,y:193,w:50,h:62}},{filename:"image68.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:885,y:1,w:50,h:62}},{filename:"image69.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:885,y:65,w:50,h:62}},{filename:"image70.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:885,y:129,w:50,h:62}},{filename:"image71.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:885,y:193,w:50,h:62}},{filename:"image72.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:937,y:1,w:50,h:62}},{filename:"image73.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:937,y:65,w:50,h:62}},{filename:"image75.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:937,y:129,w:50,h:62}},{filename:"image76.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:937,y:193,w:50,h:62}},{filename:"image77.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:989,y:1,w:50,h:62}},{filename:"image78.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:989,y:65,w:50,h:62}},{filename:"image79.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:989,y:129,w:50,h:62}},{filename:"image80.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:989,y:193,w:50,h:62}},{filename:"image81.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:1041,y:1,w:50,h:62}},{filename:"image82.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:1041,y:65,w:50,h:62}},{filename:"image83.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:1041,y:129,w:50,h:62}},{filename:"image84.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:1041,y:193,w:50,h:62}},{filename:"image85.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:1093,y:1,w:50,h:62}},{filename:"image86.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:1093,y:65,w:50,h:62}},{filename:"image87.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:1093,y:129,w:50,h:62}},{filename:"image88.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:1093,y:193,w:50,h:62}},{filename:"image89.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:1145,y:1,w:50,h:62}},{filename:"image90.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:1145,y:65,w:50,h:62}},{filename:"image91.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:1145,y:129,w:50,h:62}},{filename:"image92.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:1145,y:193,w:50,h:62}},{filename:"image93.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:1197,y:1,w:50,h:62}},{filename:"image94.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:1197,y:65,w:50,h:62}},{filename:"image95.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:1197,y:129,w:50,h:62}},{filename:"image96.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:1197,y:193,w:50,h:62}},{filename:"image97.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:1249,y:1,w:50,h:62}},{filename:"image98.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:1249,y:65,w:50,h:62}},{filename:"image99.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:1249,y:129,w:50,h:62}},{filename:"image100.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:1249,y:193,w:50,h:62}},{filename:"image101.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:1301,y:1,w:50,h:62}},{filename:"image102.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:1301,y:65,w:50,h:62}},{filename:"image103.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:1301,y:129,w:50,h:62}},{filename:"image104.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:1301,y:193,w:50,h:62}},{filename:"image105.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:1353,y:1,w:50,h:62}},{filename:"image106.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:1353,y:65,w:50,h:62}},{filename:"image107.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:1353,y:129,w:50,h:62}},{filename:"image108.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:1353,y:193,w:50,h:62}},{filename:"image109.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:1405,y:1,w:50,h:62}},{filename:"image110.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:1405,y:65,w:50,h:62}},{filename:"image111.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:1405,y:129,w:50,h:62}},{filename:"image112.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:1405,y:193,w:50,h:62}},{filename:"image113.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:1457,y:1,w:50,h:62}},{filename:"image114.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:1457,y:65,w:50,h:62}},{filename:"image115.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:1457,y:129,w:50,h:62}},{filename:"image116.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:1457,y:193,w:50,h:62}},{filename:"image117.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:1509,y:1,w:50,h:62}},{filename:"image118.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:1509,y:65,w:50,h:62}},{filename:"image119.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:1509,y:129,w:50,h:62}},{filename:"image120.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:1509,y:193,w:50,h:62}},{filename:"image121.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:1561,y:1,w:50,h:62}},{filename:"image122.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:1561,y:65,w:50,h:62}},{filename:"image123.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:1561,y:129,w:50,h:62}},{filename:"image124.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:1561,y:193,w:50,h:62}},{filename:"image125.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:1613,y:1,w:50,h:62}},{filename:"image126.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:1613,y:65,w:50,h:62}},{filename:"image127.png",rotated:!1,trimmed:!1,sourceSize:{w:50,h:62},spriteSourceSize:{x:0,y:0,w:50,h:62},frame:{x:1613,y:129,w:50,h:62}}]}],ep={app:"https://www.codeandweb.com/texturepacker",version:"3.0",smartupdate:"$TexturePacker:SmartUpdate:801f785cf0391014ddc7b4df08094a3d:65df175f77ff9603572ce279f0bf6dec:982c0a9f8570a5198ee72323cff8e416$"},ip={textures:tp,meta:ep};class Uo extends qv{constructor(h,x,E){super(h,x,E,Ie.Zero),this.scene=h,this.setCollideWorldBounds(!0),this.setVelocityY(200),this.texture.getFrameNames().forEach(M=>{const w=this.texture.get(M);w.setTrim(w.width,w.height,0,12,w.width,w.height-24)}),this.anims.create({key:"stand",sortFrames:!0,frames:this.anims.generateFrameNames(Ie.Zero,{start:0,end:5,prefix:"image",suffix:".png"}),yoyo:!0,frameRate:8,repeat:-1}),this.anims.create({key:"move_on_platform",sortFrames:!0,frames:this.anims.generateFrameNames(Ie.Zero,{start:6,end:15,prefix:"image",suffix:".png"}),yoyo:!0,frameRate:8,repeat:-1}),this.anims.create({key:"jump_from_platform",sortFrames:!0,frames:this.anims.generateFrameNames(Ie.Zero,{frames:[16,17,19,20,21,22],prefix:"image",suffix:".png"}),frameRate:8,repeat:0}),this.anims.create({key:"in_air",sortFrames:!0,frames:this.anims.generateFrameNames(Ie.Zero,{frames:[17,19,20,21,22],prefix:"image",suffix:".png"}),frameRate:8,repeat:-1,yoyo:!0}),this.anims.create({key:"fall",sortFrames:!0,frames:this.anims.generateFrameNames(Ie.Zero,{frames:[22,23,24,25],prefix:"image",suffix:".png"}),frameRate:8,repeat:-1,yoyo:!0}),this.anims.create({key:"fall_touch_platform",sortFrames:!0,frames:this.anims.generateFrameNames(Ie.Zero,{frames:[25,26,27,28],prefix:"image",suffix:".png"}),frameRate:8,repeat:0})}standPlatform(h){this.scene.physics.add.collider(this,h,()=>{this.body.touching.down&&(this.anims.play("stand",!0),this.setVelocityY(0))})}static preload(h){h.load.atlas(Ie.Zero,_v,ip)}}const sp=Yi("p",null,"demo2",-1),np=Yi("div",{id:"game-container"},null,-1),rp=[sp,np],ap=Os({__name:"demo2",setup(g){class h extends Phaser.Scene{constructor(){super(...arguments);Wt(this,"platforms");Wt(this,"player")}preload(){this.load.image("sky",xu),this.load.image("platform",yu),Uo.preload(this)}create(){this.add.image(400,300,"sky"),this.platforms=this.physics.add.staticGroup(),this.platforms.create(400,570,"platform").setScale(2).refreshBody(),this.platforms.create(600,400,"platform"),this.platforms.create(50,250,"platform"),this.platforms.create(750,220,"platform"),this.player=new Uo(this,100,450),this.player.standPlatform(this.platforms)}update(w,v){}}var x={type:Phaser.AUTO,width:800,height:600,parent:"game-container",physics:{default:"arcade",arcade:{gravity:{y:0,x:0},debug:!1}},scale:{mode:Phaser.Scale.CENTER_BOTH,autoCenter:Phaser.Scale.CENTER_BOTH},scene:new h};return Ds(()=>{new Phaser.Game(x)}),(E,M)=>(ys(),du("div",null,rp))}}),op=Object.freeze(Object.defineProperty({__proto__:null,default:ap},Symbol.toStringTag,{value:"Module"})),hp="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARAAAABcCAQAAAAM7iI9AAANdElEQVR4Ae2deZRV1ZnFv1cDk1DMytC0aRQkQaOIikZMlBiDDRET06iJTRtDGYymg4ABV9qYpbQitjhgtI0iGDEGica0dNCogNGWiLMYEzUERCSgBieQqfbevXrVKquoc+59d3i3qnh9f/tPFhveu/udc+4933euJYftOZRfZS2n8FJcics0g7Ucy4PVQZarXGSKLQ7gBC3A64C8oA4v41aepV6yXP+vAsL9OBnPKiIglvEc7kPLtffKGFEajl+iTvF5H7PZl5arFNKP5dL6IwhH4CGlAB9rFmtoucowIOyNeSoB+Cu/TstVZgHhWXhPJQOL1E2WK7naVkA6a4FKDNZyGK0clI8gA/FHZQA+5tdoe7vygAzH5uiXHJuxHpuwQ5EAOYm2FysPCEfhIxUBq3E9z+Ch6iSrlwrqzqNYi/nYoBAAnkXba5UHhCOwVSHgL7xEnwq1LfBo3IyteTzKMCA8GFsUCP7AM1UV0by7foyP8niUVUDYA+sUAD7iZH84gsV+WJTHo3wCUoElCgBP6u9lScTT8WEej7IICKcrAMxVtSypOBiv5vHY6wPCg7BTXnixCrJU6sWxtL1ZeUAKWC4vvIj5pckDwm/KC65VId8DyfdiqvCaPGCZKvPLojwgPEse8C770XLlU0wBr8gD/4XGXHlAeGzAk48KWS7lUwxuk4/jZbmUB4Qd8aEc8FR+91KmASmoIl5AviQPbfG5p6p4FC/C3Xgam7ANxDZswtP4OafxSFXJUitjf/bQP+FGrcAGbAWxA+vxqGbxBFVlHpBOHK1Z+A3+jA9BCR9jDZbich2vqqIBwVVywDZ1lrUlcRhuxNsKBJsxV4fJEuswzMXmzPwLHINfo05esJGXqNsnO1e/2FO8NN0ilSNwB7aGfK6r2D+0L8bXCoVFsLYjfg4PKxL4LY+mxdYx+G2m/ifj+aLO7+psFWSYqeasSDGCDMejKgp2aBb3CQpIe2+uz5W1EfXCnYoFfsaetKhSL/wsS3/uh8WRne9ShxIGpAOuBxQR/MUffeNQ+RgiawviKGxUbLCBX4gYj+PxVpb+PC7e/x8PYk6JAjIQzysW2KWzXR/jaXLA9rbxBIQTUadEoI7fohXVORn7n4HdSk+CgPCz+KsSwAvdEeQHcsBLsNYXpyoVnEwL1YXZ+utsUGqNgPDT+JsSwtpmAcEVcsADsJh6UKlgb1ozfVupCd0q+FbG/mNRJ7VGQLgf1ikxqOMJewZkrhywsMUDcgxtDx0dPjhjE57CcjyFzeGzKo+keTUCuzL1H1ykM2ADVmoFnsNHJQ9IBZYqEGzH7zAPN2gBVmJX0Gdn76YBmS8H3NLSAWnW2F2DNxQAnud3m1bHcn+ejxdDWj270BzVYF2W/moXskB8hrWNx2GogkdgDj4oXUA4SQFgFc9s0sVkrGEt1sjHPbIGma93H7e2eEC+Q2sUrpcXrNep3g2AAk8LatbCNTBH12brrxlB/hzn82dPzCtNQNjDv/rAFn7T+8k64EZ54EmNI8h1csDdLR6QKbRP9GlAHrBU3WVBYk88HDCnHkSjtaB/f2wLeMjWgxaoCdidPiC40t/NFNbohtlywIsN97GGy31fVYsHZDqtQf4HV7ivaF19O/xaHjAftofuyNh/jjzgv9meFqrxaQPCLr7DOvAn7hu+w+WdEE+t9/Te7OG1Fg/INFq92M+7+n8m0tmJnfCCHLBbfWQNYt9s/dXNN37g5Sh7W5iZMiAT5YCtHBwaj0qOxXNywPL6K2sc4/vIMbtg0gfkfFq9OE0O2On/kB4Nxe4iTyymZuxf652GDo3irnZ4JU1A8Ejwoy+venM61iqA+qnTeIB8DM8+IP7iAqySA/4DFlm+2/aVsE/0VLb+WpHmrpBfSx4Q1gBqBt7yTmz17fV3un1Q7vLbVIntcuBUWiyN4XcapHMbxdommlgvXBe8alY3wB3PYpVO7+9xqGu4GVXXjP07uyMMyAOjuqsSaxMHZLQccJknhPtwIp5TUbAMBjOYr2EKD8GyEs8L3hzkySVYMi+TA79MozF7/y/LAb+L465ZyQLi/zMOcx7gXav3VQTsxEJ+ToWGirIfemfNfWnZCD9VM4CGJaJvhcDv0WLpopBVwpSM/afJZYYsunhC0oDgLneB2qSrqUqnRql6wTrNaHrtjcYR8sDvZxaQ1WoGXoXVC/8ph9glOp+XA25qIf9b0xZ/syZxQH7vOQXK/k/cjz/EehUBxG84VpVuVXulryYCa1QlK73YVw74Oaxe+KUc4p75zv5ywOIW8n9ADuxPiyO8kzAgTm8kHlOBx+Fu7FIR8DfM5gGBR3FrljzwTFoG8qxAeAGtXr67objNn+wYuM7I3n+5XDrE88eryQLi/szxJl5SUfB7TmDH0LPaNcRfhJbFiz2wUg78DK1evjv52MVL1XLAIzAYsvf/H7nEHInxcsKAbFZMsB3zNDxa8/YKeeCPaCXWUb4d0cZtJNwvB3ahxVJPOeBXMBiy939ILt1iBmRdwoCsUQzwGi9U9+jN26P8tzulPRfZP4Vgdvg+CYfSYunwoP2S7P11jxx4SBx3VWJXwoA8q0gA+BW/pIp4xz8U8ERAzrrQSqZxUpEv8EdpW7j8tWj8t5bxxxVp/TUk8V3MYhUFm3A5ByR7X8zng+qsVV2q+xffLIknYI3iGXLA7bBYuksOHE+jMXv/CWn9WZs4IP+uUPAYT1e7FGeUYX5QH0hJDpHpjFXywHG0RulTvmKXOItl7uMr4+OAlvHngWn9sTRpQPiV4ANM8RMenPqNU+qFd+XnHranpVINHvMX+DWfC7E2XRsX/1UOeB3WoGz9VfA9kOK3adGkgWDSgKg76K0GOY9dSvVKstNCyt76yJKKAwJrNE+U7SFvOSDeitwp3NXXv4urYQ1qFf/16hTRf0Gq7f5lcsC9sGhSHx5TLCCGOcFvjNKJCeNxkvulBpc28nApxYb5HfLQpBoje/9hXv+5Udz5hdIXDEkcE+3kBDwK4Gp2DA2IqvGEAsHCuOMIe+KWQLeN3ofcBayUh0ivEPm+VGQZnLk/DI/LQ4ROvL54K11A1Blb5IC3I5yRXcBPP5mSjg5/62VP/EGBYBuuifoOS3XjxdgS3KATtInFsfIA8nsqhH1ETpEXjqY1Ufb+o73+KBKRfnilBEXLl8kD/hRe8aLqpmdMAZjduKz2bkaFd2ZhN+7naaGzdjuehNud2syIv1gVsExecGdgX31v/EJe8LBz2bP3f0hecHPgctFtUk8UENZgkzzgTR5HC9AB7qyBPzaMI0F/ZY2KgN14ArN5jkZqCPuzJ/vyIB7HCbgSD3uj4X9w5ZWGBBXDYQsvcX4N/Xkp3pMX7ODglvfnIGwPWslxCns0K/47AotK2Dj1z8GHS/BwJ8xDcIP/uwDqH0AEn2rxtDIg8h7PBQoExCrM5VRO4lTciKfB4g1ZLe2vc8MaNvEY5nAyz+N0zMPrJW69LOiesFNAcCcv4Xc5STNwW+hi4qX6O6+wB1v3KQPAKBVcKmCh0rMgaFWRvb9zw9py3f3d0r+OEm/zH4q+ml0Fno+dKin4gGNoUaR2aSvlsSRkkyB7/2osbaWAGPfHxpRX6YiI7+7XYXhWJQOreAAtqtQJ9ysxuI8dW93/gdYJiIyDsDb56KHhcd7dX8lJ2FKS9+VOj13EWIk5SgRmq7IN+Ffjppi+b+De0hxBxX54UgnAag1s6hP1ILmZ+ECJAXAHB9ASaUzcw5SwkSe3If9v6P3Izn/mASU8xK4aV6JOscBNzTcFTFHVlRdjbZKRA7fwoJQbfVdjR+QiuqvYpW35qw8WgioK7mVPmhsQPAprUNxjMHkIlkVfAGik62CKowqNxC1Rax+xCw9yorrKSqA+uKLYLx0bMTNhN0/m/hyKhWEhxAscq4JMnpIj/FecgLjisbivWF07Hqn/910lOzV4KC/AIryI7f7WGyzFZTy55Gc1V+pEzMGz2O20mj+Da/hFVbZx/+6ciMV4p/m0gp9oZOPFwZwsDjVmD56DhW4pAt7BEk4O26sxpVEF9+cRPIGncDy/ytEcoYFsT8tWquaBHMVxPJPjOIoHlrh/J2v/AvflsfxHjucpHOEcKePZ8MfNsFJJnTlMJ+pUjudYjlAfFYpXlLUp5cJyX+tmdtq7ApKr4J4xxm/QWk8Z2+dSp1htFYf42jLygJSrBuEabMG66LXkvNQtOFZl+U0xuSp5Ch6MfRxPe2xw601gramSG+Zib16MN5ptM3yGFkHT/I3tZTXF5MIL3g7F3rQi+iw+9hRHDMgDUmbS2f5NMP4dLUSD8ab/tQplNsXkUhVWywM28yuBlTfj/UWN/CKt7EaQXBoJBpU4c3SzJ7Od+HU8Hl4QXXZ3MblwlQLBe1iKGzATszEfTwZv4WE3D6GV5QiSS1VYppTwB7Q8IGUrdcNLSgHubxvvDczMOBd74wUlZQU70sp9BMlVgyVKABY78cgDUp5SBS+K1zqCHZzqTC7lPMXk4iAsibHyGOI45AEpf/Eo3IWdRYq7bw87szQPSPmrK0/HbVjdLCjv43FcxzEN7QZ5QHJVsD+H8kgeykGsobVtGXPlygOSK6n+F7CpYgCcPfpBAAAAAElFTkSuQmCC";var ut=(g=>(g.Application="application",g.WebGLPipes="webgl-pipes",g.WebGLPipesAdaptor="webgl-pipes-adaptor",g.WebGLSystem="webgl-system",g.WebGPUPipes="webgpu-pipes",g.WebGPUPipesAdaptor="webgpu-pipes-adaptor",g.WebGPUSystem="webgpu-system",g.CanvasSystem="canvas-system",g.CanvasPipesAdaptor="canvas-pipes-adaptor",g.CanvasPipes="canvas-pipes",g.Asset="asset",g.LoadParser="load-parser",g.ResolveParser="resolve-parser",g.CacheParser="cache-parser",g.DetectionParser="detection-parser",g.MaskEffect="mask-effect",g.BlendMode="blend-mode",g.TextureSource="texture-source",g.Environment="environment",g.ShapeBuilder="shape-builder",g.Batcher="batcher",g))(ut||{});const Hr=g=>{if(typeof g=="function"||typeof g=="object"&&g.extension){if(!g.extension)throw new Error("Extension class must have an extension object");g={...typeof g.extension!="object"?{type:g.extension}:g.extension,ref:g}}if(typeof g=="object")g={...g};else throw new Error("Invalid extension type");return typeof g.type=="string"&&(g.type=[g.type]),g},Xs=(g,h)=>Hr(g).priority??h,_t={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...g){return g.map(Hr).forEach(h=>{h.type.forEach(x=>{var E,M;return(M=(E=this._removeHandlers)[x])==null?void 0:M.call(E,h)})}),this},add(...g){return g.map(Hr).forEach(h=>{h.type.forEach(x=>{var w,v;const E=this._addHandlers,M=this._queue;E[x]?(v=E[x])==null||v.call(E,h):(M[x]=M[x]||[],(w=M[x])==null||w.push(h))})}),this},handle(g,h,x){var v;const E=this._addHandlers,M=this._removeHandlers;if(E[g]||M[g])throw new Error(`Extension type ${g} already has a handler`);E[g]=h,M[g]=x;const w=this._queue;return w[g]&&((v=w[g])==null||v.forEach(y=>h(y)),delete w[g]),this},handleByMap(g,h){return this.handle(g,x=>{x.name&&(h[x.name]=x.ref)},x=>{x.name&&delete h[x.name]})},handleByNamedList(g,h,x=-1){return this.handle(g,E=>{h.findIndex(w=>w.name===E.name)>=0||(h.push({name:E.name,value:E.ref}),h.sort((w,v)=>Xs(v.value,x)-Xs(w.value,x)))},E=>{const M=h.findIndex(w=>w.name===E.name);M!==-1&&h.splice(M,1)})},handleByList(g,h,x=-1){return this.handle(g,E=>{h.includes(E.ref)||(h.push(E.ref),h.sort((M,w)=>Xs(w,x)-Xs(M,x)))},E=>{const M=h.indexOf(E.ref);M!==-1&&h.splice(M,1)})}},lp={extension:{type:ut.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await ke(()=>import("./browserAll-Bwf7nUvZ.js"),__vite__mapDeps([0,1,2]))}},up={extension:{type:ut.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await ke(()=>import("./webworkerAll-URGRcCh9.js"),__vite__mapDeps([1,2]))}};class re{constructor(h,x,E){this._x=x||0,this._y=E||0,this._observer=h}clone(h){return new re(h??this._observer,this._x,this._y)}set(h=0,x=h){return(this._x!==h||this._y!==x)&&(this._x=h,this._y=x,this._observer._onUpdate(this)),this}copyFrom(h){return(this._x!==h.x||this._y!==h.y)&&(this._x=h.x,this._y=h.y,this._observer._onUpdate(this)),this}copyTo(h){return h.set(this._x,this._y),h}equals(h){return h.x===this._x&&h.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=0 y=0 scope=${this._observer}]`}get x(){return this._x}set x(h){this._x!==h&&(this._x=h,this._observer._onUpdate(this))}get y(){return this._y}set y(h){this._y!==h&&(this._y=h,this._observer._onUpdate(this))}}var Cu={exports:{}};(function(g){var h=Object.prototype.hasOwnProperty,x="~";function E(){}Object.create&&(E.prototype=Object.create(null),new E().__proto__||(x=!1));function M(t,o,p){this.fn=t,this.context=o,this.once=p||!1}function w(t,o,p,a,n){if(typeof p!="function")throw new TypeError("The listener must be a function");var i=new M(p,a||t,n),e=x?x+o:o;return t._events[e]?t._events[e].fn?t._events[e]=[t._events[e],i]:t._events[e].push(i):(t._events[e]=i,t._eventsCount++),t}function v(t,o){--t._eventsCount===0?t._events=new E:delete t._events[o]}function y(){this._events=new E,this._eventsCount=0}y.prototype.eventNames=function(){var o=[],p,a;if(this._eventsCount===0)return o;for(a in p=this._events)h.call(p,a)&&o.push(x?a.slice(1):a);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(p)):o},y.prototype.listeners=function(o){var p=x?x+o:o,a=this._events[p];if(!a)return[];if(a.fn)return[a.fn];for(var n=0,i=a.length,e=new Array(i);n<i;n++)e[n]=a[n].fn;return e},y.prototype.listenerCount=function(o){var p=x?x+o:o,a=this._events[p];return a?a.fn?1:a.length:0},y.prototype.emit=function(o,p,a,n,i,e){var r=x?x+o:o;if(!this._events[r])return!1;var l=this._events[r],s=arguments.length,u,d;if(l.fn){switch(l.once&&this.removeListener(o,l.fn,void 0,!0),s){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,p),!0;case 3:return l.fn.call(l.context,p,a),!0;case 4:return l.fn.call(l.context,p,a,n),!0;case 5:return l.fn.call(l.context,p,a,n,i),!0;case 6:return l.fn.call(l.context,p,a,n,i,e),!0}for(d=1,u=new Array(s-1);d<s;d++)u[d-1]=arguments[d];l.fn.apply(l.context,u)}else{var f=l.length,c;for(d=0;d<f;d++)switch(l[d].once&&this.removeListener(o,l[d].fn,void 0,!0),s){case 1:l[d].fn.call(l[d].context);break;case 2:l[d].fn.call(l[d].context,p);break;case 3:l[d].fn.call(l[d].context,p,a);break;case 4:l[d].fn.call(l[d].context,p,a,n);break;default:if(!u)for(c=1,u=new Array(s-1);c<s;c++)u[c-1]=arguments[c];l[d].fn.apply(l[d].context,u)}}return!0},y.prototype.on=function(o,p,a){return w(this,o,p,a,!1)},y.prototype.once=function(o,p,a){return w(this,o,p,a,!0)},y.prototype.removeListener=function(o,p,a,n){var i=x?x+o:o;if(!this._events[i])return this;if(!p)return v(this,i),this;var e=this._events[i];if(e.fn)e.fn===p&&(!n||e.once)&&(!a||e.context===a)&&v(this,i);else{for(var r=0,l=[],s=e.length;r<s;r++)(e[r].fn!==p||n&&!e[r].once||a&&e[r].context!==a)&&l.push(e[r]);l.length?this._events[i]=l.length===1?l[0]:l:v(this,i)}return this},y.prototype.removeAllListeners=function(o){var p;return o?(p=x?x+o:o,this._events[p]&&v(this,p)):(this._events=new E,this._eventsCount=0),this},y.prototype.off=y.prototype.removeListener,y.prototype.addListener=y.prototype.on,y.prefixed=x,y.EventEmitter=y,g.exports=y})(Cu);var fp=Cu.exports;const Te=bn(fp),dp=Math.PI*2,cp=180/Math.PI,vp=Math.PI/180;class $t{constructor(h=0,x=0){this.x=0,this.y=0,this.x=h,this.y=x}clone(){return new $t(this.x,this.y)}copyFrom(h){return this.set(h.x,h.y),this}copyTo(h){return h.set(this.x,this.y),h}equals(h){return h.x===this.x&&h.y===this.y}set(h=0,x=h){return this.x=h,this.y=x,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return _n.x=0,_n.y=0,_n}}const _n=new $t;class yt{constructor(h=1,x=0,E=0,M=1,w=0,v=0){this.array=null,this.a=h,this.b=x,this.c=E,this.d=M,this.tx=w,this.ty=v}fromArray(h){this.a=h[0],this.b=h[1],this.c=h[3],this.d=h[4],this.tx=h[2],this.ty=h[5]}set(h,x,E,M,w,v){return this.a=h,this.b=x,this.c=E,this.d=M,this.tx=w,this.ty=v,this}toArray(h,x){this.array||(this.array=new Float32Array(9));const E=x||this.array;return h?(E[0]=this.a,E[1]=this.b,E[2]=0,E[3]=this.c,E[4]=this.d,E[5]=0,E[6]=this.tx,E[7]=this.ty,E[8]=1):(E[0]=this.a,E[1]=this.c,E[2]=this.tx,E[3]=this.b,E[4]=this.d,E[5]=this.ty,E[6]=0,E[7]=0,E[8]=1),E}apply(h,x){x=x||new $t;const E=h.x,M=h.y;return x.x=this.a*E+this.c*M+this.tx,x.y=this.b*E+this.d*M+this.ty,x}applyInverse(h,x){x=x||new $t;const E=this.a,M=this.b,w=this.c,v=this.d,y=this.tx,t=this.ty,o=1/(E*v+w*-M),p=h.x,a=h.y;return x.x=v*o*p+-w*o*a+(t*w-y*v)*o,x.y=E*o*a+-M*o*p+(-t*E+y*M)*o,x}translate(h,x){return this.tx+=h,this.ty+=x,this}scale(h,x){return this.a*=h,this.d*=x,this.c*=h,this.b*=x,this.tx*=h,this.ty*=x,this}rotate(h){const x=Math.cos(h),E=Math.sin(h),M=this.a,w=this.c,v=this.tx;return this.a=M*x-this.b*E,this.b=M*E+this.b*x,this.c=w*x-this.d*E,this.d=w*E+this.d*x,this.tx=v*x-this.ty*E,this.ty=v*E+this.ty*x,this}append(h){const x=this.a,E=this.b,M=this.c,w=this.d;return this.a=h.a*x+h.b*M,this.b=h.a*E+h.b*w,this.c=h.c*x+h.d*M,this.d=h.c*E+h.d*w,this.tx=h.tx*x+h.ty*M+this.tx,this.ty=h.tx*E+h.ty*w+this.ty,this}appendFrom(h,x){const E=h.a,M=h.b,w=h.c,v=h.d,y=h.tx,t=h.ty,o=x.a,p=x.b,a=x.c,n=x.d;return this.a=E*o+M*a,this.b=E*p+M*n,this.c=w*o+v*a,this.d=w*p+v*n,this.tx=y*o+t*a+x.tx,this.ty=y*p+t*n+x.ty,this}setTransform(h,x,E,M,w,v,y,t,o){return this.a=Math.cos(y+o)*w,this.b=Math.sin(y+o)*w,this.c=-Math.sin(y-t)*v,this.d=Math.cos(y-t)*v,this.tx=h-(E*this.a+M*this.c),this.ty=x-(E*this.b+M*this.d),this}prepend(h){const x=this.tx;if(h.a!==1||h.b!==0||h.c!==0||h.d!==1){const E=this.a,M=this.c;this.a=E*h.a+this.b*h.c,this.b=E*h.b+this.b*h.d,this.c=M*h.a+this.d*h.c,this.d=M*h.b+this.d*h.d}return this.tx=x*h.a+this.ty*h.c+h.tx,this.ty=x*h.b+this.ty*h.d+h.ty,this}decompose(h){const x=this.a,E=this.b,M=this.c,w=this.d,v=h.pivot,y=-Math.atan2(-M,w),t=Math.atan2(E,x),o=Math.abs(y+t);return o<1e-5||Math.abs(dp-o)<1e-5?(h.rotation=t,h.skew.x=h.skew.y=0):(h.rotation=0,h.skew.x=y,h.skew.y=t),h.scale.x=Math.sqrt(x*x+E*E),h.scale.y=Math.sqrt(M*M+w*w),h.position.x=this.tx+(v.x*x+v.y*M),h.position.y=this.ty+(v.x*E+v.y*w),h}invert(){const h=this.a,x=this.b,E=this.c,M=this.d,w=this.tx,v=h*M-x*E;return this.a=M/v,this.b=-x/v,this.c=-E/v,this.d=h/v,this.tx=(E*this.ty-M*w)/v,this.ty=-(h*this.ty-x*w)/v,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const h=new yt;return h.a=this.a,h.b=this.b,h.c=this.c,h.d=this.d,h.tx=this.tx,h.ty=this.ty,h}copyTo(h){return h.a=this.a,h.b=this.b,h.c=this.c,h.d=this.d,h.tx=this.tx,h.ty=this.ty,h}copyFrom(h){return this.a=h.a,this.b=h.b,this.c=h.c,this.d=h.d,this.tx=h.tx,this.ty=h.ty,this}equals(h){return h.a===this.a&&h.b===this.b&&h.c===this.c&&h.d===this.d&&h.tx===this.tx&&h.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return mp.identity()}static get shared(){return pp.identity()}}const pp=new yt,mp=new yt,fi=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],di=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],ci=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],vi=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Kr=[],Eu=[],Ys=Math.sign;function gp(){for(let g=0;g<16;g++){const h=[];Kr.push(h);for(let x=0;x<16;x++){const E=Ys(fi[g]*fi[x]+ci[g]*di[x]),M=Ys(di[g]*fi[x]+vi[g]*di[x]),w=Ys(fi[g]*ci[x]+ci[g]*vi[x]),v=Ys(di[g]*ci[x]+vi[g]*vi[x]);for(let y=0;y<16;y++)if(fi[y]===E&&di[y]===M&&ci[y]===w&&vi[y]===v){h.push(y);break}}}for(let g=0;g<16;g++){const h=new yt;h.set(fi[g],di[g],ci[g],vi[g],0,0),Eu.push(h)}}gp();const wt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:g=>fi[g],uY:g=>di[g],vX:g=>ci[g],vY:g=>vi[g],inv:g=>g&8?g&15:-g&7,add:(g,h)=>Kr[g][h],sub:(g,h)=>Kr[g][wt.inv(h)],rotate180:g=>g^4,isVertical:g=>(g&3)===2,byDirection:(g,h)=>Math.abs(g)*2<=Math.abs(h)?h>=0?wt.S:wt.N:Math.abs(h)*2<=Math.abs(g)?g>0?wt.E:wt.W:h>0?g>0?wt.SE:wt.SW:g>0?wt.NE:wt.NW,matrixAppendRotationInv:(g,h,x=0,E=0)=>{const M=Eu[wt.inv(h)];M.tx=x,M.ty=E,g.append(M)}},Ws=[new $t,new $t,new $t,new $t];class Vt{constructor(h=0,x=0,E=0,M=0){this.type="rectangle",this.x=Number(h),this.y=Number(x),this.width=Number(E),this.height=Number(M)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new Vt(0,0,0,0)}clone(){return new Vt(this.x,this.y,this.width,this.height)}copyFromBounds(h){return this.x=h.minX,this.y=h.minY,this.width=h.maxX-h.minX,this.height=h.maxY-h.minY,this}copyFrom(h){return this.x=h.x,this.y=h.y,this.width=h.width,this.height=h.height,this}copyTo(h){return h.copyFrom(this),h}contains(h,x){return this.width<=0||this.height<=0?!1:h>=this.x&&h<this.x+this.width&&x>=this.y&&x<this.y+this.height}strokeContains(h,x,E,M=.5){const{width:w,height:v}=this;if(w<=0||v<=0)return!1;const y=this.x,t=this.y,o=E*(1-M),p=E-o,a=y-o,n=y+w+o,i=t-o,e=t+v+o,r=y+p,l=y+w-p,s=t+p,u=t+v-p;return h>=a&&h<=n&&x>=i&&x<=e&&!(h>r&&h<l&&x>s&&x<u)}intersects(h,x){if(!x){const C=this.x<h.x?h.x:this.x;if((this.right>h.right?h.right:this.right)<=C)return!1;const A=this.y<h.y?h.y:this.y;return(this.bottom>h.bottom?h.bottom:this.bottom)>A}const E=this.left,M=this.right,w=this.top,v=this.bottom;if(M<=E||v<=w)return!1;const y=Ws[0].set(h.left,h.top),t=Ws[1].set(h.left,h.bottom),o=Ws[2].set(h.right,h.top),p=Ws[3].set(h.right,h.bottom);if(o.x<=y.x||t.y<=y.y)return!1;const a=Math.sign(x.a*x.d-x.b*x.c);if(a===0||(x.apply(y,y),x.apply(t,t),x.apply(o,o),x.apply(p,p),Math.max(y.x,t.x,o.x,p.x)<=E||Math.min(y.x,t.x,o.x,p.x)>=M||Math.max(y.y,t.y,o.y,p.y)<=w||Math.min(y.y,t.y,o.y,p.y)>=v))return!1;const n=a*(t.y-y.y),i=a*(y.x-t.x),e=n*E+i*w,r=n*M+i*w,l=n*E+i*v,s=n*M+i*v;if(Math.max(e,r,l,s)<=n*y.x+i*y.y||Math.min(e,r,l,s)>=n*p.x+i*p.y)return!1;const u=a*(y.y-o.y),d=a*(o.x-y.x),f=u*E+d*w,c=u*M+d*w,m=u*E+d*v,T=u*M+d*v;return!(Math.max(f,c,m,T)<=u*y.x+d*y.y||Math.min(f,c,m,T)>=u*p.x+d*p.y)}pad(h=0,x=h){return this.x-=h,this.y-=x,this.width+=h*2,this.height+=x*2,this}fit(h){const x=Math.max(this.x,h.x),E=Math.min(this.x+this.width,h.x+h.width),M=Math.max(this.y,h.y),w=Math.min(this.y+this.height,h.y+h.height);return this.x=x,this.width=Math.max(E-x,0),this.y=M,this.height=Math.max(w-M,0),this}ceil(h=1,x=.001){const E=Math.ceil((this.x+this.width-x)*h)/h,M=Math.ceil((this.y+this.height-x)*h)/h;return this.x=Math.floor((this.x+x)*h)/h,this.y=Math.floor((this.y+x)*h)/h,this.width=E-this.x,this.height=M-this.y,this}enlarge(h){const x=Math.min(this.x,h.x),E=Math.max(this.x+this.width,h.x+h.width),M=Math.min(this.y,h.y),w=Math.max(this.y+this.height,h.y+h.height);return this.x=x,this.width=E-x,this.y=M,this.height=w-M,this}getBounds(h){return h||(h=new Vt),h.copyFrom(this),h}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}const tr={default:-1};function bt(g="default"){return tr[g]===void 0&&(tr[g]=-1),++tr[g]}const Vo={},zt="8.0.0",xp="8.3.4";function Ot(g,h,x=3){if(Vo[h])return;let E=new Error().stack;typeof E>"u"?console.warn("PixiJS Deprecation Warning: ",`${h}
Deprecated since v${g}`):(E=E.split(`
`).splice(x).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${h}
Deprecated since v${g}`),console.warn(E),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${h}
Deprecated since v${g}`),console.warn(E))),Vo[h]=!0}const Au=()=>{};function xn(g){return g+=g===0?1:0,--g,g|=g>>>1,g|=g>>>2,g|=g>>>4,g|=g>>>8,g|=g>>>16,g+1}function Xo(g){return!(g&g-1)&&!!g}function yp(g){const h={};for(const x in g)g[x]!==void 0&&(h[x]=g[x]);return h}const Yo=Object.create(null);function Tp(g){const h=Yo[g];return h===void 0&&(Yo[g]=bt("resource")),h}const Pu=class Mu extends Te{constructor(h={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,h={...Mu.defaultOptions,...h},this.addressMode=h.addressMode,this.addressModeU=h.addressModeU??this.addressModeU,this.addressModeV=h.addressModeV??this.addressModeV,this.addressModeW=h.addressModeW??this.addressModeW,this.scaleMode=h.scaleMode,this.magFilter=h.magFilter??this.magFilter,this.minFilter=h.minFilter??this.minFilter,this.mipmapFilter=h.mipmapFilter??this.mipmapFilter,this.lodMinClamp=h.lodMinClamp,this.lodMaxClamp=h.lodMaxClamp,this.compare=h.compare,this.maxAnisotropy=h.maxAnisotropy??1}set addressMode(h){this.addressModeU=h,this.addressModeV=h,this.addressModeW=h}get addressMode(){return this.addressModeU}set wrapMode(h){Ot(zt,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=h}get wrapMode(){return this.addressMode}set scaleMode(h){this.magFilter=h,this.minFilter=h,this.mipmapFilter=h}get scaleMode(){return this.magFilter}set maxAnisotropy(h){this._maxAnisotropy=Math.min(h,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this.emit("change",this),this._sharedResourceId=null}_generateResourceId(){const h=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=Tp(h),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};Pu.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let Sp=Pu;const Ru=class wu extends Te{constructor(h={}){super(),this.options=h,this.uid=bt("textureSource"),this._resourceType="textureSource",this._resourceId=bt("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,h={...wu.defaultOptions,...h},this.label=h.label??"",this.resource=h.resource,this.autoGarbageCollect=h.autoGarbageCollect,this._resolution=h.resolution,h.width?this.pixelWidth=h.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,h.height?this.pixelHeight=h.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=h.format,this.dimension=h.dimensions,this.mipLevelCount=h.mipLevelCount,this.autoGenerateMipmaps=h.autoGenerateMipmaps,this.sampleCount=h.sampleCount,this.antialias=h.antialias,this.alphaMode=h.alphaMode,this.style=new Sp(yp(h)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(h){var x,E;this.style!==h&&((x=this._style)==null||x.off("change",this._onStyleChange,this),this._style=h,(E=this._style)==null||E.on("change",this._onStyleChange,this),this._onStyleChange())}get addressMode(){return this._style.addressMode}set addressMode(h){this._style.addressMode=h}get repeatMode(){return this._style.addressMode}set repeatMode(h){this._style.addressMode=h}get magFilter(){return this._style.magFilter}set magFilter(h){this._style.magFilter=h}get minFilter(){return this._style.minFilter}set minFilter(h){this._style.minFilter=h}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(h){this._style.mipmapFilter=h}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(h){this._style.lodMinClamp=h}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(h){this._style.lodMaxClamp=h}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const h=this._resolution;if(this.resize(this.resourceWidth/h,this.resourceHeight/h))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=bt("resource"),this.emit("change",this),this.emit("unload",this)}get resourceWidth(){const{resource:h}=this;return h.naturalWidth||h.videoWidth||h.displayWidth||h.width}get resourceHeight(){const{resource:h}=this;return h.naturalHeight||h.videoHeight||h.displayHeight||h.height}get resolution(){return this._resolution}set resolution(h){this._resolution!==h&&(this._resolution=h,this.width=this.pixelWidth/h,this.height=this.pixelHeight/h)}resize(h,x,E){E||(E=this._resolution),h||(h=this.width),x||(x=this.height);const M=Math.round(h*E),w=Math.round(x*E);return this.width=M/E,this.height=w/E,this._resolution=E,this.pixelWidth===M&&this.pixelHeight===w?!1:(this._refreshPOT(),this.pixelWidth=M,this.pixelHeight=w,this.emit("resize",this),this._resourceId=bt("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(h){this._style.wrapMode=h}get wrapMode(){return this._style.wrapMode}set scaleMode(h){this._style.scaleMode=h}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=Xo(this.pixelWidth)&&Xo(this.pixelHeight)}static test(h){throw new Error("Unimplemented")}};Ru.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let Le=Ru;class Ba extends Le{constructor(h){const x=h.resource||new Float32Array(h.width*h.height*4);let E=h.format;E||(x instanceof Float32Array?E="rgba32float":x instanceof Int32Array||x instanceof Uint32Array?E="rgba32uint":x instanceof Int16Array||x instanceof Uint16Array?E="rgba16uint":(x instanceof Int8Array,E="bgra8unorm")),super({...h,resource:x,format:E}),this.uploadMethodId="buffer"}static test(h){return h instanceof Int8Array||h instanceof Uint8Array||h instanceof Uint8ClampedArray||h instanceof Int16Array||h instanceof Uint16Array||h instanceof Int32Array||h instanceof Uint32Array||h instanceof Float32Array}}Ba.extension=ut.TextureSource;const Wo=new yt;class Cp{constructor(h,x){this.mapCoord=new yt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof x>"u"?this.clampMargin=h.width<10?0:.5:this.clampMargin=x,this.isSimple=!1,this.texture=h}get texture(){return this._texture}set texture(h){var x;this.texture!==h&&((x=this._texture)==null||x.removeListener("update",this.update,this),this._texture=h,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(h,x){x===void 0&&(x=h);const E=this.mapCoord;for(let M=0;M<h.length;M+=2){const w=h[M],v=h[M+1];x[M]=w*E.a+v*E.c+E.tx,x[M+1]=w*E.b+v*E.d+E.ty}return x}update(){const h=this._texture;this._updateID++;const x=h.uvs;this.mapCoord.set(x.x1-x.x0,x.y1-x.y0,x.x3-x.x0,x.y3-x.y0,x.x0,x.y0);const E=h.orig,M=h.trim;M&&(Wo.set(E.width/M.width,0,0,E.height/M.height,-M.x/M.width,-M.y/M.height),this.mapCoord.append(Wo));const w=h.source,v=this.uClampFrame,y=this.clampMargin/w._resolution,t=this.clampOffset/w._resolution;return v[0]=(h.frame.x+y+t)/w.width,v[1]=(h.frame.y+y+t)/w.height,v[2]=(h.frame.x+h.frame.width-y+t)/w.width,v[3]=(h.frame.y+h.frame.height-y+t)/w.height,this.uClampOffset[0]=this.clampOffset/w.pixelWidth,this.uClampOffset[1]=this.clampOffset/w.pixelHeight,this.isSimple=h.frame.width===w.width&&h.frame.height===w.height&&h.rotate===0,!0}}class xt extends Te{constructor({source:h,label:x,frame:E,orig:M,trim:w,defaultAnchor:v,defaultBorders:y,rotate:t,dynamic:o}={}){if(super(),this.uid=bt("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new Vt,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=x,this.source=(h==null?void 0:h.source)??new Le,this.noFrame=!E,E)this.frame.copyFrom(E);else{const{width:p,height:a}=this._source;this.frame.width=p,this.frame.height=a}this.orig=M||this.frame,this.trim=w,this.rotate=t??0,this.defaultAnchor=v,this.defaultBorders=y,this.destroyed=!1,this.dynamic=o||!1,this.updateUvs()}set source(h){this._source&&this._source.off("resize",this.update,this),this._source=h,h.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new Cp(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:h,frame:x}=this,{width:E,height:M}=this._source,w=x.x/E,v=x.y/M,y=x.width/E,t=x.height/M;let o=this.rotate;if(o){const p=y/2,a=t/2,n=w+p,i=v+a;o=wt.add(o,wt.NW),h.x0=n+p*wt.uX(o),h.y0=i+a*wt.uY(o),o=wt.add(o,2),h.x1=n+p*wt.uX(o),h.y1=i+a*wt.uY(o),o=wt.add(o,2),h.x2=n+p*wt.uX(o),h.y2=i+a*wt.uY(o),o=wt.add(o,2),h.x3=n+p*wt.uX(o),h.y3=i+a*wt.uY(o)}else h.x0=w,h.y0=v,h.x1=w+y,h.y1=v,h.x2=w+y,h.y2=v+t,h.x3=w,h.y3=v+t}destroy(h=!1){this._source&&h&&(this._source.destroy(),this._source=null),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return Ot(zt,"Texture.baseTexture is now Texture.source"),this._source}}xt.EMPTY=new xt({label:"EMPTY",source:new Le({label:"EMPTY"})});xt.EMPTY.destroy=Au;xt.WHITE=new xt({source:new Ba({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});xt.WHITE.destroy=Au;function Ep(g,h,x){const{width:E,height:M}=x.orig,w=x.trim;if(w){const v=w.width,y=w.height;g.minX=w.x-h._x*E,g.maxX=g.minX+v,g.minY=w.y-h._y*M,g.maxY=g.minY+y}else g.minX=-h._x*E,g.maxX=g.minX+E,g.minY=-h._y*M,g.maxY=g.minY+M}const Ho=new yt;class xe{constructor(h=1/0,x=1/0,E=-1/0,M=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=Ho,this.minX=h,this.minY=x,this.maxX=E,this.maxY=M}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new Vt);const h=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(h.x=0,h.y=0,h.width=0,h.height=0):h.copyFromBounds(this),h}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=Ho,this}set(h,x,E,M){this.minX=h,this.minY=x,this.maxX=E,this.maxY=M}addFrame(h,x,E,M,w){w||(w=this.matrix);const v=w.a,y=w.b,t=w.c,o=w.d,p=w.tx,a=w.ty;let n=this.minX,i=this.minY,e=this.maxX,r=this.maxY,l=v*h+t*x+p,s=y*h+o*x+a;l<n&&(n=l),s<i&&(i=s),l>e&&(e=l),s>r&&(r=s),l=v*E+t*x+p,s=y*E+o*x+a,l<n&&(n=l),s<i&&(i=s),l>e&&(e=l),s>r&&(r=s),l=v*h+t*M+p,s=y*h+o*M+a,l<n&&(n=l),s<i&&(i=s),l>e&&(e=l),s>r&&(r=s),l=v*E+t*M+p,s=y*E+o*M+a,l<n&&(n=l),s<i&&(i=s),l>e&&(e=l),s>r&&(r=s),this.minX=n,this.minY=i,this.maxX=e,this.maxY=r}addRect(h,x){this.addFrame(h.x,h.y,h.x+h.width,h.y+h.height,x)}addBounds(h,x){this.addFrame(h.minX,h.minY,h.maxX,h.maxY,x)}addBoundsMask(h){this.minX=this.minX>h.minX?this.minX:h.minX,this.minY=this.minY>h.minY?this.minY:h.minY,this.maxX=this.maxX<h.maxX?this.maxX:h.maxX,this.maxY=this.maxY<h.maxY?this.maxY:h.maxY}applyMatrix(h){const x=this.minX,E=this.minY,M=this.maxX,w=this.maxY,{a:v,b:y,c:t,d:o,tx:p,ty:a}=h;let n=v*x+t*E+p,i=y*x+o*E+a;this.minX=n,this.minY=i,this.maxX=n,this.maxY=i,n=v*M+t*E+p,i=y*M+o*E+a,this.minX=n<this.minX?n:this.minX,this.minY=i<this.minY?i:this.minY,this.maxX=n>this.maxX?n:this.maxX,this.maxY=i>this.maxY?i:this.maxY,n=v*x+t*w+p,i=y*x+o*w+a,this.minX=n<this.minX?n:this.minX,this.minY=i<this.minY?i:this.minY,this.maxX=n>this.maxX?n:this.maxX,this.maxY=i>this.maxY?i:this.maxY,n=v*M+t*w+p,i=y*M+o*w+a,this.minX=n<this.minX?n:this.minX,this.minY=i<this.minY?i:this.minY,this.maxX=n>this.maxX?n:this.maxX,this.maxY=i>this.maxY?i:this.maxY}fit(h){return this.minX<h.left&&(this.minX=h.left),this.maxX>h.right&&(this.maxX=h.right),this.minY<h.top&&(this.minY=h.top),this.maxY>h.bottom&&(this.maxY=h.bottom),this}fitBounds(h,x,E,M){return this.minX<h&&(this.minX=h),this.maxX>x&&(this.maxX=x),this.minY<E&&(this.minY=E),this.maxY>M&&(this.maxY=M),this}pad(h,x=h){return this.minX-=h,this.maxX+=h,this.minY-=x,this.maxY+=x,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new xe(this.minX,this.minY,this.maxX,this.maxY)}scale(h,x=h){return this.minX*=h,this.minY*=x,this.maxX*=h,this.maxY*=x,this}get x(){return this.minX}set x(h){const x=this.maxX-this.minX;this.minX=h,this.maxX=h+x}get y(){return this.minY}set y(h){const x=this.maxY-this.minY;this.minY=h,this.maxY=h+x}get width(){return this.maxX-this.minX}set width(h){this.maxX=this.minX+h}get height(){return this.maxY-this.minY}set height(h){this.maxY=this.minY+h}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(h,x,E,M){let w=this.minX,v=this.minY,y=this.maxX,t=this.maxY;M||(M=this.matrix);const o=M.a,p=M.b,a=M.c,n=M.d,i=M.tx,e=M.ty;for(let r=x;r<E;r+=2){const l=h[r],s=h[r+1],u=o*l+a*s+i,d=p*l+n*s+e;w=u<w?u:w,v=d<v?d:v,y=u>y?u:y,t=d>t?d:t}this.minX=w,this.minY=v,this.maxX=y,this.maxY=t}containsPoint(h,x){return this.minX<=h&&this.minY<=x&&this.maxX>=h&&this.maxY>=x}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}copyFrom(h){return this.minX=h.minX,this.minY=h.minY,this.maxX=h.maxX,this.maxY=h.maxY,this}}var Ap={grad:.9,turn:360,rad:360/(2*Math.PI)},Oe=function(g){return typeof g=="string"?g.length>0:typeof g=="number"},Kt=function(g,h,x){return h===void 0&&(h=0),x===void 0&&(x=Math.pow(10,h)),Math.round(x*g)/x+0},ue=function(g,h,x){return h===void 0&&(h=0),x===void 0&&(x=1),g>x?x:g>h?g:h},Fu=function(g){return(g=isFinite(g)?g%360:0)>0?g:g+360},Ko=function(g){return{r:ue(g.r,0,255),g:ue(g.g,0,255),b:ue(g.b,0,255),a:ue(g.a)}},er=function(g){return{r:Kt(g.r),g:Kt(g.g),b:Kt(g.b),a:Kt(g.a,3)}},Pp=/^#([0-9a-f]{3,8})$/i,Hs=function(g){var h=g.toString(16);return h.length<2?"0"+h:h},Lu=function(g){var h=g.r,x=g.g,E=g.b,M=g.a,w=Math.max(h,x,E),v=w-Math.min(h,x,E),y=v?w===h?(x-E)/v:w===x?2+(E-h)/v:4+(h-x)/v:0;return{h:60*(y<0?y+6:y),s:w?v/w*100:0,v:w/255*100,a:M}},Ou=function(g){var h=g.h,x=g.s,E=g.v,M=g.a;h=h/360*6,x/=100,E/=100;var w=Math.floor(h),v=E*(1-x),y=E*(1-(h-w)*x),t=E*(1-(1-h+w)*x),o=w%6;return{r:255*[E,y,v,v,t,E][o],g:255*[t,E,E,y,v,v][o],b:255*[v,v,t,E,E,y][o],a:M}},Zo=function(g){return{h:Fu(g.h),s:ue(g.s,0,100),l:ue(g.l,0,100),a:ue(g.a)}},Qo=function(g){return{h:Kt(g.h),s:Kt(g.s),l:Kt(g.l),a:Kt(g.a,3)}},Jo=function(g){return Ou((x=(h=g).s,{h:h.h,s:(x*=((E=h.l)<50?E:100-E)/100)>0?2*x/(E+x)*100:0,v:E+x,a:h.a}));var h,x,E},us=function(g){return{h:(h=Lu(g)).h,s:(M=(200-(x=h.s))*(E=h.v)/100)>0&&M<200?x*E/100/(M<=100?M:200-M)*100:0,l:M/2,a:h.a};var h,x,E,M},Mp=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Rp=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,wp=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Fp=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Zr={string:[[function(g){var h=Pp.exec(g);return h?(g=h[1]).length<=4?{r:parseInt(g[0]+g[0],16),g:parseInt(g[1]+g[1],16),b:parseInt(g[2]+g[2],16),a:g.length===4?Kt(parseInt(g[3]+g[3],16)/255,2):1}:g.length===6||g.length===8?{r:parseInt(g.substr(0,2),16),g:parseInt(g.substr(2,2),16),b:parseInt(g.substr(4,2),16),a:g.length===8?Kt(parseInt(g.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(g){var h=wp.exec(g)||Fp.exec(g);return h?h[2]!==h[4]||h[4]!==h[6]?null:Ko({r:Number(h[1])/(h[2]?100/255:1),g:Number(h[3])/(h[4]?100/255:1),b:Number(h[5])/(h[6]?100/255:1),a:h[7]===void 0?1:Number(h[7])/(h[8]?100:1)}):null},"rgb"],[function(g){var h=Mp.exec(g)||Rp.exec(g);if(!h)return null;var x,E,M=Zo({h:(x=h[1],E=h[2],E===void 0&&(E="deg"),Number(x)*(Ap[E]||1)),s:Number(h[3]),l:Number(h[4]),a:h[5]===void 0?1:Number(h[5])/(h[6]?100:1)});return Jo(M)},"hsl"]],object:[[function(g){var h=g.r,x=g.g,E=g.b,M=g.a,w=M===void 0?1:M;return Oe(h)&&Oe(x)&&Oe(E)?Ko({r:Number(h),g:Number(x),b:Number(E),a:Number(w)}):null},"rgb"],[function(g){var h=g.h,x=g.s,E=g.l,M=g.a,w=M===void 0?1:M;if(!Oe(h)||!Oe(x)||!Oe(E))return null;var v=Zo({h:Number(h),s:Number(x),l:Number(E),a:Number(w)});return Jo(v)},"hsl"],[function(g){var h=g.h,x=g.s,E=g.v,M=g.a,w=M===void 0?1:M;if(!Oe(h)||!Oe(x)||!Oe(E))return null;var v=function(y){return{h:Fu(y.h),s:ue(y.s,0,100),v:ue(y.v,0,100),a:ue(y.a)}}({h:Number(h),s:Number(x),v:Number(E),a:Number(w)});return Ou(v)},"hsv"]]},$o=function(g,h){for(var x=0;x<h.length;x++){var E=h[x][0](g);if(E)return[E,h[x][1]]}return[null,void 0]},Lp=function(g){return typeof g=="string"?$o(g.trim(),Zr.string):typeof g=="object"&&g!==null?$o(g,Zr.object):[null,void 0]},ir=function(g,h){var x=us(g);return{h:x.h,s:ue(x.s+100*h,0,100),l:x.l,a:x.a}},sr=function(g){return(299*g.r+587*g.g+114*g.b)/1e3/255},jo=function(g,h){var x=us(g);return{h:x.h,s:x.s,l:ue(x.l+100*h,0,100),a:x.a}},Qr=function(){function g(h){this.parsed=Lp(h)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return g.prototype.isValid=function(){return this.parsed!==null},g.prototype.brightness=function(){return Kt(sr(this.rgba),2)},g.prototype.isDark=function(){return sr(this.rgba)<.5},g.prototype.isLight=function(){return sr(this.rgba)>=.5},g.prototype.toHex=function(){return h=er(this.rgba),x=h.r,E=h.g,M=h.b,v=(w=h.a)<1?Hs(Kt(255*w)):"","#"+Hs(x)+Hs(E)+Hs(M)+v;var h,x,E,M,w,v},g.prototype.toRgb=function(){return er(this.rgba)},g.prototype.toRgbString=function(){return h=er(this.rgba),x=h.r,E=h.g,M=h.b,(w=h.a)<1?"rgba("+x+", "+E+", "+M+", "+w+")":"rgb("+x+", "+E+", "+M+")";var h,x,E,M,w},g.prototype.toHsl=function(){return Qo(us(this.rgba))},g.prototype.toHslString=function(){return h=Qo(us(this.rgba)),x=h.h,E=h.s,M=h.l,(w=h.a)<1?"hsla("+x+", "+E+"%, "+M+"%, "+w+")":"hsl("+x+", "+E+"%, "+M+"%)";var h,x,E,M,w},g.prototype.toHsv=function(){return h=Lu(this.rgba),{h:Kt(h.h),s:Kt(h.s),v:Kt(h.v),a:Kt(h.a,3)};var h},g.prototype.invert=function(){return Pe({r:255-(h=this.rgba).r,g:255-h.g,b:255-h.b,a:h.a});var h},g.prototype.saturate=function(h){return h===void 0&&(h=.1),Pe(ir(this.rgba,h))},g.prototype.desaturate=function(h){return h===void 0&&(h=.1),Pe(ir(this.rgba,-h))},g.prototype.grayscale=function(){return Pe(ir(this.rgba,-1))},g.prototype.lighten=function(h){return h===void 0&&(h=.1),Pe(jo(this.rgba,h))},g.prototype.darken=function(h){return h===void 0&&(h=.1),Pe(jo(this.rgba,-h))},g.prototype.rotate=function(h){return h===void 0&&(h=15),this.hue(this.hue()+h)},g.prototype.alpha=function(h){return typeof h=="number"?Pe({r:(x=this.rgba).r,g:x.g,b:x.b,a:h}):Kt(this.rgba.a,3);var x},g.prototype.hue=function(h){var x=us(this.rgba);return typeof h=="number"?Pe({h,s:x.s,l:x.l,a:x.a}):Kt(x.h)},g.prototype.isEqual=function(h){return this.toHex()===Pe(h).toHex()},g}(),Pe=function(g){return g instanceof Qr?g:new Qr(g)},ko=[],Op=function(g){g.forEach(function(h){ko.indexOf(h)<0&&(h(Qr,Zr),ko.push(h))})};function Dp(g,h){var x={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},E={};for(var M in x)E[x[M]]=M;var w={};g.prototype.toName=function(v){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var y,t,o=E[this.toHex()];if(o)return o;if(v!=null&&v.closest){var p=this.toRgb(),a=1/0,n="black";if(!w.length)for(var i in x)w[i]=new g(x[i]).toRgb();for(var e in x){var r=(y=p,t=w[e],Math.pow(y.r-t.r,2)+Math.pow(y.g-t.g,2)+Math.pow(y.b-t.b,2));r<a&&(a=r,n=e)}return n}},h.string.push([function(v){var y=v.toLowerCase(),t=y==="transparent"?"#0000":x[y];return t?new g(t).toRgb():null},"name"])}Op([Dp]);const Gi=class ts{constructor(h=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=h}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(h){return this.value=h,this}set value(h){if(h instanceof ts)this._value=this._cloneSource(h._value),this._int=h._int,this._components.set(h._components);else{if(h===null)throw new Error("Cannot set Color#value to null");(this._value===null||!this._isSourceEqual(this._value,h))&&(this._value=this._cloneSource(h),this._normalize(this._value))}}get value(){return this._value}_cloneSource(h){return typeof h=="string"||typeof h=="number"||h instanceof Number||h===null?h:Array.isArray(h)||ArrayBuffer.isView(h)?h.slice(0):typeof h=="object"&&h!==null?{...h}:h}_isSourceEqual(h,x){const E=typeof h;if(E!==typeof x)return!1;if(E==="number"||E==="string"||h instanceof Number)return h===x;if(Array.isArray(h)&&Array.isArray(x)||ArrayBuffer.isView(h)&&ArrayBuffer.isView(x))return h.length!==x.length?!1:h.every((w,v)=>w===x[v]);if(h!==null&&x!==null){const w=Object.keys(h),v=Object.keys(x);return w.length!==v.length?!1:w.every(y=>h[y]===x[y])}return h===x}toRgba(){const[h,x,E,M]=this._components;return{r:h,g:x,b:E,a:M}}toRgb(){const[h,x,E]=this._components;return{r:h,g:x,b:E}}toRgbaString(){const[h,x,E]=this.toUint8RgbArray();return`rgba(${h},${x},${E},${this.alpha})`}toUint8RgbArray(h){const[x,E,M]=this._components;return this._arrayRgb||(this._arrayRgb=[]),h||(h=this._arrayRgb),h[0]=Math.round(x*255),h[1]=Math.round(E*255),h[2]=Math.round(M*255),h}toArray(h){this._arrayRgba||(this._arrayRgba=[]),h||(h=this._arrayRgba);const[x,E,M,w]=this._components;return h[0]=x,h[1]=E,h[2]=M,h[3]=w,h}toRgbArray(h){this._arrayRgb||(this._arrayRgb=[]),h||(h=this._arrayRgb);const[x,E,M]=this._components;return h[0]=x,h[1]=E,h[2]=M,h}toNumber(){return this._int}toBgrNumber(){const[h,x,E]=this.toUint8RgbArray();return(E<<16)+(x<<8)+h}toLittleEndianNumber(){const h=this._int;return(h>>16)+(h&65280)+((h&255)<<16)}multiply(h){const[x,E,M,w]=ts._temp.setValue(h)._components;return this._components[0]*=x,this._components[1]*=E,this._components[2]*=M,this._components[3]*=w,this._refreshInt(),this._value=null,this}premultiply(h,x=!0){return x&&(this._components[0]*=h,this._components[1]*=h,this._components[2]*=h),this._components[3]=h,this._refreshInt(),this._value=null,this}toPremultiplied(h,x=!0){if(h===1)return(255<<24)+this._int;if(h===0)return x?0:this._int;let E=this._int>>16&255,M=this._int>>8&255,w=this._int&255;return x&&(E=E*h+.5|0,M=M*h+.5|0,w=w*h+.5|0),(h*255<<24)+(E<<16)+(M<<8)+w}toHex(){const h=this._int.toString(16);return`#${"000000".substring(0,6-h.length)+h}`}toHexa(){const x=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-x.length)+x}setAlpha(h){return this._components[3]=this._clamp(h),this}_normalize(h){let x,E,M,w;if((typeof h=="number"||h instanceof Number)&&h>=0&&h<=16777215){const v=h;x=(v>>16&255)/255,E=(v>>8&255)/255,M=(v&255)/255,w=1}else if((Array.isArray(h)||h instanceof Float32Array)&&h.length>=3&&h.length<=4)h=this._clamp(h),[x,E,M,w=1]=h;else if((h instanceof Uint8Array||h instanceof Uint8ClampedArray)&&h.length>=3&&h.length<=4)h=this._clamp(h,0,255),[x,E,M,w=255]=h,x/=255,E/=255,M/=255,w/=255;else if(typeof h=="string"||typeof h=="object"){if(typeof h=="string"){const y=ts.HEX_PATTERN.exec(h);y&&(h=`#${y[2]}`)}const v=Pe(h);v.isValid()&&({r:x,g:E,b:M,a:w}=v.rgba,x/=255,E/=255,M/=255)}if(x!==void 0)this._components[0]=x,this._components[1]=E,this._components[2]=M,this._components[3]=w,this._refreshInt();else throw new Error(`Unable to convert color ${h}`)}_refreshInt(){this._clamp(this._components);const[h,x,E]=this._components;this._int=(h*255<<16)+(x*255<<8)+(E*255|0)}_clamp(h,x=0,E=1){return typeof h=="number"?Math.min(Math.max(h,x),E):(h.forEach((M,w)=>{h[w]=Math.min(Math.max(M,x),E)}),h)}static isColorLike(h){return typeof h=="number"||typeof h=="string"||h instanceof Number||h instanceof ts||Array.isArray(h)||h instanceof Uint8Array||h instanceof Uint8ClampedArray||h instanceof Float32Array||h.r!==void 0&&h.g!==void 0&&h.b!==void 0||h.r!==void 0&&h.g!==void 0&&h.b!==void 0&&h.a!==void 0||h.h!==void 0&&h.s!==void 0&&h.l!==void 0||h.h!==void 0&&h.s!==void 0&&h.l!==void 0&&h.a!==void 0||h.h!==void 0&&h.s!==void 0&&h.v!==void 0||h.h!==void 0&&h.s!==void 0&&h.v!==void 0&&h.a!==void 0}};Gi.shared=new Gi;Gi._temp=new Gi;Gi.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let Gt=Gi;const Ip={cullArea:null,cullable:!1,cullableChildren:!0};class ba{constructor(h,x){this._pool=[],this._count=0,this._index=0,this._classType=h,x&&this.prepopulate(x)}prepopulate(h){for(let x=0;x<h;x++)this._pool[this._index++]=new this._classType;this._count+=h}get(h){var E;let x;return this._index>0?x=this._pool[--this._index]:x=new this._classType,(E=x.init)==null||E.call(x,h),x}return(h){var x;(x=h.reset)==null||x.call(h),this._pool[this._index++]=h}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}clear(){this._pool.length=0,this._index=0}}class Bp{constructor(){this._poolsByClass=new Map}prepopulate(h,x){this.getPool(h).prepopulate(x)}get(h,x){return this.getPool(h).get(x)}return(h){this.getPool(h.constructor).return(h)}getPool(h){return this._poolsByClass.has(h)||this._poolsByClass.set(h,new ba(h)),this._poolsByClass.get(h)}stats(){const h={};return this._poolsByClass.forEach(x=>{const E=h[x._classType.name]?x._classType.name+x._classType.ID:x._classType.name;h[E]={free:x.totalFree,used:x.totalUsed,size:x.totalSize}}),h}}const Ge=new Bp,bp={get isCachedAsTexture(){var g;return!!((g=this.renderGroup)!=null&&g.isCachedAsTexture)},cacheAsTexture(g){typeof g=="boolean"&&g===!1?this.disableRenderGroup():(this.enableRenderGroup(),this.renderGroup.enableCacheAsTexture(g===!0?{}:g))},updateCacheTexture(){var g;(g=this.renderGroup)==null||g.updateCacheTexture()},get cacheAsBitmap(){return this.isCachedAsTexture},set cacheAsBitmap(g){Ot("v8.6.0","cacheAsBitmap is deprecated, use cacheAsTexture instead."),this.cacheAsTexture(g)}};function Gp(g,h,x){const E=g.length;let M;if(h>=E||x===0)return;x=h+x>E?E-h:x;const w=E-x;for(M=h;M<w;++M)g[M]=g[M+x];g.length=w}const Np={allowChildren:!0,removeChildren(g=0,h){const x=h??this.children.length,E=x-g,M=[];if(E>0&&E<=x){for(let v=x-1;v>=g;v--){const y=this.children[v];y&&(M.push(y),y.parent=null)}Gp(this.children,g,x);const w=this.renderGroup||this.parentRenderGroup;w&&w.removeChildren(M);for(let v=0;v<M.length;++v)this.emit("childRemoved",M[v],this,v),M[v].emit("removed",this);return M}else if(E===0&&this.children.length===0)return M;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(g){const h=this.getChildAt(g);return this.removeChild(h)},getChildAt(g){if(g<0||g>=this.children.length)throw new Error(`getChildAt: Index (${g}) does not exist.`);return this.children[g]},setChildIndex(g,h){if(h<0||h>=this.children.length)throw new Error(`The index ${h} supplied is out of bounds ${this.children.length}`);this.getChildIndex(g),this.addChildAt(g,h)},getChildIndex(g){const h=this.children.indexOf(g);if(h===-1)throw new Error("The supplied Container must be a child of the caller");return h},addChildAt(g,h){this.allowChildren||Ot(zt,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:x}=this;if(h<0||h>x.length)throw new Error(`${g}addChildAt: The index ${h} supplied is out of bounds ${x.length}`);if(g.parent){const M=g.parent.children.indexOf(g);if(g.parent===this&&M===h)return g;M!==-1&&g.parent.children.splice(M,1)}h===x.length?x.push(g):x.splice(h,0,g),g.parent=this,g.didChange=!0,g._updateFlags=15;const E=this.renderGroup||this.parentRenderGroup;return E&&E.addChild(g),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",g,this,h),g.emit("added",this),g},swapChildren(g,h){if(g===h)return;const x=this.getChildIndex(g),E=this.getChildIndex(h);this.children[x]=h,this.children[E]=g;const M=this.renderGroup||this.parentRenderGroup;M&&(M.structureDidChange=!0),this._didContainerChangeTick++},removeFromParent(){var g;(g=this.parent)==null||g.removeChild(this)},reparentChild(...g){return g.length===1?this.reparentChildAt(g[0],this.children.length):(g.forEach(h=>this.reparentChildAt(h,this.children.length)),g[0])},reparentChildAt(g,h){if(g.parent===this)return this.setChildIndex(g,h),g;const x=g.worldTransform.clone();g.removeFromParent(),this.addChildAt(g,h);const E=this.worldTransform.clone();return E.invert(),x.prepend(E),g.setFromMatrix(x),g}},zp={collectRenderables(g,h,x){this.parentRenderLayer&&this.parentRenderLayer!==x||this.globalDisplayStatus<7||!this.includeInBuild||(this.sortableChildren&&this.sortChildren(),this.isSimple?this.collectRenderablesSimple(g,h,x):this.renderGroup?h.renderPipes.renderGroup.addRenderGroup(this.renderGroup,g):this.collectRenderablesWithEffects(g,h,x))},collectRenderablesSimple(g,h,x){const E=this.children,M=E.length;for(let w=0;w<M;w++)E[w].collectRenderables(g,h,x)},collectRenderablesWithEffects(g,h,x){const{renderPipes:E}=h;for(let M=0;M<this.effects.length;M++){const w=this.effects[M];E[w.pipe].push(w,this,g)}this.collectRenderablesSimple(g,h,x);for(let M=this.effects.length-1;M>=0;M--){const w=this.effects[M];E[w.pipe].pop(w,this,g)}}};class qo{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let h=0;h<this.filters.length;h++)this.filters[h].destroy();this.filters=null,this.filterArea=null}}class Up{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(h=>{this.add({test:h.test,maskClass:h})}))}add(h){this._tests.push(h)}getMaskEffect(h){this._initialized||this.init();for(let x=0;x<this._tests.length;x++){const E=this._tests[x];if(E.test(h))return Ge.get(E.maskClass,h)}return h}returnMaskEffect(h){Ge.return(h)}}const Jr=new Up;_t.handleByList(ut.MaskEffect,Jr._effectClasses);const Vp={_maskEffect:null,_maskOptions:{inverse:!1},_filterEffect:null,effects:[],_markStructureAsChanged(){const g=this.renderGroup||this.parentRenderGroup;g&&(g.structureDidChange=!0)},addEffect(g){this.effects.indexOf(g)===-1&&(this.effects.push(g),this.effects.sort((x,E)=>x.priority-E.priority),this._markStructureAsChanged(),this._updateIsSimple())},removeEffect(g){const h=this.effects.indexOf(g);h!==-1&&(this.effects.splice(h,1),this._markStructureAsChanged(),this._updateIsSimple())},set mask(g){const h=this._maskEffect;(h==null?void 0:h.mask)!==g&&(h&&(this.removeEffect(h),Jr.returnMaskEffect(h),this._maskEffect=null),g!=null&&(this._maskEffect=Jr.getMaskEffect(g),this.addEffect(this._maskEffect)))},setMask(g){this._maskOptions={...this._maskOptions,...g},g.mask&&(this.mask=g.mask),this._markStructureAsChanged()},get mask(){var g;return(g=this._maskEffect)==null?void 0:g.mask},set filters(g){var w;!Array.isArray(g)&&g&&(g=[g]);const h=this._filterEffect||(this._filterEffect=new qo);g=g;const x=(g==null?void 0:g.length)>0,E=((w=h.filters)==null?void 0:w.length)>0,M=x!==E;g=Array.isArray(g)?g.slice(0):g,h.filters=Object.freeze(g),M&&(x?this.addEffect(h):(this.removeEffect(h),h.filters=g??null))},get filters(){var g;return(g=this._filterEffect)==null?void 0:g.filters},set filterArea(g){this._filterEffect||(this._filterEffect=new qo),this._filterEffect.filterArea=g},get filterArea(){var g;return(g=this._filterEffect)==null?void 0:g.filterArea}},Xp={label:null,get name(){return Ot(zt,"Container.name property has been removed, use Container.label instead"),this.label},set name(g){Ot(zt,"Container.name property has been removed, use Container.label instead"),this.label=g},getChildByName(g,h=!1){return this.getChildByLabel(g,h)},getChildByLabel(g,h=!1){const x=this.children;for(let E=0;E<x.length;E++){const M=x[E];if(M.label===g||g instanceof RegExp&&g.test(M.label))return M}if(h)for(let E=0;E<x.length;E++){const w=x[E].getChildByLabel(g,!0);if(w)return w}return null},getChildrenByLabel(g,h=!1,x=[]){const E=this.children;for(let M=0;M<E.length;M++){const w=E[M];(w.label===g||g instanceof RegExp&&g.test(w.label))&&x.push(w)}if(h)for(let M=0;M<E.length;M++)E[M].getChildrenByLabel(g,!0,x);return x}},qt=new ba(yt),Ne=new ba(xe),Yp=new yt,Wp={getFastGlobalBounds(g,h){h||(h=new xe),h.clear(),this._getGlobalBoundsRecursive(!!g,h,this.parentRenderLayer),h.isValid||h.set(0,0,0,0);const x=this.renderGroup||this.parentRenderGroup;return h.applyMatrix(x.worldTransform),h},_getGlobalBoundsRecursive(g,h,x){let E=h;if(g&&this.parentRenderLayer!==x||this.localDisplayStatus!==7||!this.measurable)return;const M=!!this.effects.length;if((this.renderGroup||M)&&(E=Ne.get().clear()),this.boundsArea)h.addRect(this.boundsArea,this.worldTransform);else{if(this.renderPipeId){const v=this.bounds;E.addFrame(v.minX,v.minY,v.maxX,v.maxY,this.groupTransform)}const w=this.children;for(let v=0;v<w.length;v++)w[v]._getGlobalBoundsRecursive(g,E,x)}if(M){let w=!1;const v=this.renderGroup||this.parentRenderGroup;for(let y=0;y<this.effects.length;y++)this.effects[y].addBounds&&(w||(w=!0,E.applyMatrix(v.worldTransform)),this.effects[y].addBounds(E,!0));w&&(E.applyMatrix(v.worldTransform.copyTo(Yp).invert()),h.addBounds(E,this.relativeGroupTransform)),h.addBounds(E),Ne.return(E)}else this.renderGroup&&(h.addBounds(E,this.relativeGroupTransform),Ne.return(E))}};function Du(g,h,x){x.clear();let E,M;return g.parent?h?E=g.parent.worldTransform:(M=qt.get().identity(),E=Ga(g,M)):E=yt.IDENTITY,Iu(g,x,E,h),M&&qt.return(M),x.isValid||x.set(0,0,0,0),x}function Iu(g,h,x,E){var y,t;if(!g.visible||!g.measurable)return;let M;E?M=g.worldTransform:(g.updateLocalTransform(),M=qt.get(),M.appendFrom(g.localTransform,x));const w=h,v=!!g.effects.length;if(v&&(h=Ne.get().clear()),g.boundsArea)h.addRect(g.boundsArea,M);else{g.bounds&&(h.matrix=M,h.addBounds(g.bounds));for(let o=0;o<g.children.length;o++)Iu(g.children[o],h,M,E)}if(v){for(let o=0;o<g.effects.length;o++)(t=(y=g.effects[o]).addBounds)==null||t.call(y,h);w.addBounds(h,yt.IDENTITY),Ne.return(h)}E||qt.return(M)}function Ga(g,h){const x=g.parent;return x&&(Ga(x,h),x.updateLocalTransform(),h.append(x.localTransform)),h}function Bu(g,h){if(g===16777215||!h)return h;if(h===16777215||!g)return g;const x=g>>16&255,E=g>>8&255,M=g&255,w=h>>16&255,v=h>>8&255,y=h&255,t=x*w/255|0,o=E*v/255|0,p=M*y/255|0;return(t<<16)+(o<<8)+p}const _o=16777215;function th(g,h){return g===_o?h:h===_o?g:Bu(g,h)}function hn(g){return((g&255)<<16)+(g&65280)+(g>>16&255)}const Hp={getGlobalAlpha(g){if(g)return this.renderGroup?this.renderGroup.worldAlpha:this.parentRenderGroup?this.parentRenderGroup.worldAlpha*this.alpha:this.alpha;let h=this.alpha,x=this.parent;for(;x;)h*=x.alpha,x=x.parent;return h},getGlobalTransform(g,h){if(h)return g.copyFrom(this.worldTransform);this.updateLocalTransform();const x=Ga(this,qt.get().identity());return g.appendFrom(this.localTransform,x),qt.return(x),g},getGlobalTint(g){if(g)return this.renderGroup?hn(this.renderGroup.worldColor):this.parentRenderGroup?hn(th(this.localColor,this.parentRenderGroup.worldColor)):this.tint;let h=this.localColor,x=this.parent;for(;x;)h=th(h,x.localColor),x=x.parent;return hn(h)}};let nr=0;const eh=500;function Nt(...g){nr!==eh&&(nr++,nr===eh?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",...g))}function bu(g,h,x){return h.clear(),x||(x=yt.IDENTITY),Gu(g,h,x,g,!0),h.isValid||h.set(0,0,0,0),h}function Gu(g,h,x,E,M){var t,o;let w;if(M)w=qt.get(),w=x.copyTo(w);else{if(!g.visible||!g.measurable)return;g.updateLocalTransform();const p=g.localTransform;w=qt.get(),w.appendFrom(p,x)}const v=h,y=!!g.effects.length;if(y&&(h=Ne.get().clear()),g.boundsArea)h.addRect(g.boundsArea,w);else{g.renderPipeId&&(h.matrix=w,h.addBounds(g.bounds));const p=g.children;for(let a=0;a<p.length;a++)Gu(p[a],h,w,E,!1)}if(y){for(let p=0;p<g.effects.length;p++)(o=(t=g.effects[p]).addLocalBounds)==null||o.call(t,h,E);v.addBounds(h,yt.IDENTITY),Ne.return(h)}qt.return(w)}function Nu(g,h){const x=g.children;for(let E=0;E<x.length;E++){const M=x[E],w=M.uid,v=(M._didViewChangeTick&65535)<<16|M._didContainerChangeTick&65535,y=h.index;(h.data[y]!==w||h.data[y+1]!==v)&&(h.data[h.index]=w,h.data[h.index+1]=v,h.didChange=!0),h.index=y+2,M.children.length&&Nu(M,h)}return h.didChange}const Kp=new yt,Zp={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(g,h){const x=Math.sign(this.scale.x)||1;h!==0?this.scale.x=g/h*x:this.scale.x=x},_setHeight(g,h){const x=Math.sign(this.scale.y)||1;h!==0?this.scale.y=g/h*x:this.scale.y=x},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new xe});const g=this._localBoundsCacheData;return g.index=1,g.didChange=!1,g.data[0]!==this._didViewChangeTick&&(g.didChange=!0,g.data[0]=this._didViewChangeTick),Nu(this,g),g.didChange&&bu(this,g.localBounds,Kp),g.localBounds},getBounds(g,h){return Du(this,g,h||new xe)}},Qp={_onRender:null,set onRender(g){const h=this.renderGroup||this.parentRenderGroup;if(!g){this._onRender&&(h==null||h.removeOnRender(this)),this._onRender=null;return}this._onRender||h==null||h.addOnRender(this),this._onRender=g},get onRender(){return this._onRender}},Jp={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(g){this._zIndex!==g&&(this._zIndex=g,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort($p))}};function $p(g,h){return g._zIndex-h._zIndex}const jp={getGlobalPosition(g=new $t,h=!1){return this.parent?this.parent.toGlobal(this._position,g,h):(g.x=this._position.x,g.y=this._position.y),g},toGlobal(g,h,x=!1){const E=this.getGlobalTransform(qt.get(),x);return h=E.apply(g,h),qt.return(E),h},toLocal(g,h,x,E){h&&(g=h.toGlobal(g,x,E));const M=this.getGlobalTransform(qt.get(),E);return x=M.applyInverse(g,x),qt.return(M),x}};class zu{constructor(){this.uid=bt("instructionSet"),this.instructions=[],this.instructionSize=0,this.renderables=[],this.gcTick=0}reset(){this.instructionSize=0}add(h){this.instructions[this.instructionSize++]=h}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}let kp=0;class qp{constructor(h){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=h||{},this.enableFullScreen=!1}createTexture(h,x,E){const M=new Le({...this.textureOptions,width:h,height:x,resolution:1,antialias:E,autoGarbageCollect:!1});return new xt({source:M,label:`texturePool_${kp++}`})}getOptimalTexture(h,x,E=1,M){let w=Math.ceil(h*E-1e-6),v=Math.ceil(x*E-1e-6);w=xn(w),v=xn(v);const y=(w<<17)+(v<<1)+(M?1:0);this._texturePool[y]||(this._texturePool[y]=[]);let t=this._texturePool[y].pop();return t||(t=this.createTexture(w,v,M)),t.source._resolution=E,t.source.width=w/E,t.source.height=v/E,t.source.pixelWidth=w,t.source.pixelHeight=v,t.frame.x=0,t.frame.y=0,t.frame.width=h,t.frame.height=x,t.updateUvs(),this._poolKeyHash[t.uid]=y,t}getSameSizeTexture(h,x=!1){const E=h.source;return this.getOptimalTexture(h.width,h.height,E._resolution,x)}returnTexture(h){const x=this._poolKeyHash[h.uid];this._texturePool[x].push(h)}clear(h){if(h=h!==!1,h)for(const x in this._texturePool){const E=this._texturePool[x];if(E)for(let M=0;M<E.length;M++)E[M].destroy(!0)}this._texturePool={}}}const _p=new qp;class t0{constructor(){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new yt,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.gcTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new zu,this._onRenderContainers=[],this.textureNeedsUpdate=!0,this.isCachedAsTexture=!1,this._matrixDirty=7}init(h){this.root=h,h._onRender&&this.addOnRender(h),h.didChange=!0;const x=h.children;for(let E=0;E<x.length;E++){const M=x[E];M._updateFlags=15,this.addChild(M)}}enableCacheAsTexture(h={}){this.textureOptions=h,this.isCachedAsTexture=!0,this.textureNeedsUpdate=!0}disableCacheAsTexture(){this.isCachedAsTexture=!1,this.texture&&(_p.returnTexture(this.texture),this.texture=null)}updateCacheTexture(){this.textureNeedsUpdate=!0}reset(){this.renderGroupChildren.length=0;for(const h in this.childrenToUpdate){const x=this.childrenToUpdate[h];x.list.fill(null),x.index=0}this.childrenRenderablesToUpdate.index=0,this.childrenRenderablesToUpdate.list.fill(null),this.root=null,this.updateTick=0,this.structureDidChange=!0,this._onRenderContainers.length=0,this.renderGroupParent=null,this.disableCacheAsTexture()}get localTransform(){return this.root.localTransform}addRenderGroupChild(h){h.renderGroupParent&&h.renderGroupParent._removeRenderGroupChild(h),h.renderGroupParent=this,this.renderGroupChildren.push(h)}_removeRenderGroupChild(h){const x=this.renderGroupChildren.indexOf(h);x>-1&&this.renderGroupChildren.splice(x,1),h.renderGroupParent=null}addChild(h){if(this.structureDidChange=!0,h.parentRenderGroup=this,h.updateTick=-1,h.parent===this.root?h.relativeRenderGroupDepth=1:h.relativeRenderGroupDepth=h.parent.relativeRenderGroupDepth+1,h.didChange=!0,this.onChildUpdate(h),h.renderGroup){this.addRenderGroupChild(h.renderGroup);return}h._onRender&&this.addOnRender(h);const x=h.children;for(let E=0;E<x.length;E++)this.addChild(x[E])}removeChild(h){if(this.structureDidChange=!0,h._onRender&&(h.renderGroup||this.removeOnRender(h)),h.parentRenderGroup=null,h.renderGroup){this._removeRenderGroupChild(h.renderGroup);return}const x=h.children;for(let E=0;E<x.length;E++)this.removeChild(x[E])}removeChildren(h){for(let x=0;x<h.length;x++)this.removeChild(h[x])}onChildUpdate(h){let x=this.childrenToUpdate[h.relativeRenderGroupDepth];x||(x=this.childrenToUpdate[h.relativeRenderGroupDepth]={index:0,list:[]}),x.list[x.index++]=h}updateRenderable(h){h.globalDisplayStatus<7||(this.instructionSet.renderPipes[h.renderPipeId].updateRenderable(h),h.didViewUpdate=!1)}onChildViewUpdate(h){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=h}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(h){this._onRenderContainers.push(h)}removeOnRender(h){this._onRenderContainers.splice(this._onRenderContainers.indexOf(h),1)}runOnRender(h){for(let x=0;x<this._onRenderContainers.length;x++)this._onRenderContainers[x]._onRender(h)}destroy(){this.disableCacheAsTexture(),this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(h=[]){const x=this.root.children;for(let E=0;E<x.length;E++)this._getChildren(x[E],h);return h}_getChildren(h,x=[]){if(x.push(h),h.renderGroup)return x;const E=h.children;for(let M=0;M<E.length;M++)this._getChildren(E[M],x);return x}invalidateMatrices(){this._matrixDirty=7}get inverseWorldTransform(){return this._matrixDirty&1?(this._matrixDirty&=-2,this._inverseWorldTransform||(this._inverseWorldTransform=new yt),this._inverseWorldTransform.copyFrom(this.worldTransform).invert()):this._inverseWorldTransform}get textureOffsetInverseTransform(){return this._matrixDirty&2?(this._matrixDirty&=-3,this._textureOffsetInverseTransform||(this._textureOffsetInverseTransform=new yt),this._textureOffsetInverseTransform.copyFrom(this.inverseWorldTransform).translate(-this._textureBounds.x,-this._textureBounds.y)):this._textureOffsetInverseTransform}get inverseParentTextureTransform(){if(!(this._matrixDirty&4))return this._inverseParentTextureTransform;this._matrixDirty&=-5;const h=this._parentCacheAsTextureRenderGroup;return h?(this._inverseParentTextureTransform||(this._inverseParentTextureTransform=new yt),this._inverseParentTextureTransform.copyFrom(this.worldTransform).prepend(h.inverseWorldTransform).translate(-h._textureBounds.x,-h._textureBounds.y)):this.worldTransform}get cacheToLocalTransform(){return this._parentCacheAsTextureRenderGroup?this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform:null}}function e0(g,h,x={}){for(const E in h)!x[E]&&h[E]!==void 0&&(g[E]=h[E])}const rr=new re(null),ar=new re(null),or=new re(null,1,1),ih=1,i0=2,hr=4;class Xt extends Te{constructor(h={}){var x,E;super(),this.uid=bt("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.updateTick=-1,this.localTransform=new yt,this.relativeGroupTransform=new yt,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new re(this,0,0),this._scale=or,this._pivot=ar,this._skew=rr,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didContainerChangeTick=0,this._didViewChangeTick=0,this._didLocalTransformChangeId=-1,this.effects=[],e0(this,h,{children:!0,parent:!0,effects:!0}),(x=h.children)==null||x.forEach(M=>this.addChild(M)),(E=h.parent)==null||E.addChild(this)}static mixin(h){Object.defineProperties(Xt.prototype,Object.getOwnPropertyDescriptors(h))}set _didChangeId(h){this._didViewChangeTick=h>>12&4095,this._didContainerChangeTick=h&4095}get _didChangeId(){return this._didContainerChangeTick&4095|(this._didViewChangeTick&4095)<<12}addChild(...h){if(this.allowChildren||Ot(zt,"addChild: Only Containers will be allowed to add children in v8.0.0"),h.length>1){for(let M=0;M<h.length;M++)this.addChild(h[M]);return h[0]}const x=h[0],E=this.renderGroup||this.parentRenderGroup;return x.parent===this?(this.children.splice(this.children.indexOf(x),1),this.children.push(x),E&&(E.structureDidChange=!0),x):(x.parent&&x.parent.removeChild(x),this.children.push(x),this.sortableChildren&&(this.sortDirty=!0),x.parent=this,x.didChange=!0,x._updateFlags=15,E&&E.addChild(x),this.emit("childAdded",x,this,this.children.length-1),x.emit("added",this),this._didViewChangeTick++,x._zIndex!==0&&x.depthOfChildModified(),x)}removeChild(...h){if(h.length>1){for(let M=0;M<h.length;M++)this.removeChild(h[M]);return h[0]}const x=h[0],E=this.children.indexOf(x);return E>-1&&(this._didViewChangeTick++,this.children.splice(E,1),this.renderGroup?this.renderGroup.removeChild(x):this.parentRenderGroup&&this.parentRenderGroup.removeChild(x),x.parentRenderLayer&&x.parentRenderLayer.detach(x),x.parent=null,this.emit("childRemoved",x,this,E),x.emit("removed",this)),x}_onUpdate(h){h&&h===this._skew&&this._updateSkew(),this._didContainerChangeTick++,!this.didChange&&(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(h){!!this.renderGroup!==h&&(h?this.enableRenderGroup():this.disableRenderGroup())}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const h=this.parentRenderGroup;h==null||h.removeChild(this),this.renderGroup=Ge.get(t0,this),this.groupTransform=yt.IDENTITY,h==null||h.addChild(this),this._updateIsSimple()}disableRenderGroup(){if(!this.renderGroup)return;const h=this.parentRenderGroup;h==null||h.removeChild(this),Ge.return(this.renderGroup),this.renderGroup=null,this.groupTransform=this.relativeGroupTransform,h==null||h.addChild(this),this._updateIsSimple()}_updateIsSimple(){this.isSimple=!this.renderGroup&&this.effects.length===0}get worldTransform(){return this._worldTransform||(this._worldTransform=new yt),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(h){this._position.x=h}get y(){return this._position.y}set y(h){this._position.y=h}get position(){return this._position}set position(h){this._position.copyFrom(h)}get rotation(){return this._rotation}set rotation(h){this._rotation!==h&&(this._rotation=h,this._onUpdate(this._skew))}get angle(){return this.rotation*cp}set angle(h){this.rotation=h*vp}get pivot(){return this._pivot===ar&&(this._pivot=new re(this,0,0)),this._pivot}set pivot(h){this._pivot===ar&&(this._pivot=new re(this,0,0)),typeof h=="number"?this._pivot.set(h):this._pivot.copyFrom(h)}get skew(){return this._skew===rr&&(this._skew=new re(this,0,0)),this._skew}set skew(h){this._skew===rr&&(this._skew=new re(this,0,0)),this._skew.copyFrom(h)}get scale(){return this._scale===or&&(this._scale=new re(this,1,1)),this._scale}set scale(h){this._scale===or&&(this._scale=new re(this,0,0)),typeof h=="number"?this._scale.set(h):this._scale.copyFrom(h)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(h){const x=this.getLocalBounds().width;this._setWidth(h,x)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(h){const x=this.getLocalBounds().height;this._setHeight(h,x)}getSize(h){h||(h={});const x=this.getLocalBounds();return h.width=Math.abs(this.scale.x*x.width),h.height=Math.abs(this.scale.y*x.height),h}setSize(h,x){const E=this.getLocalBounds();typeof h=="object"?(x=h.height??h.width,h=h.width):x??(x=h),h!==void 0&&this._setWidth(h,E.width),x!==void 0&&this._setHeight(x,E.height)}_updateSkew(){const h=this._rotation,x=this._skew;this._cx=Math.cos(h+x._y),this._sx=Math.sin(h+x._y),this._cy=-Math.sin(h-x._x),this._sy=Math.cos(h-x._x)}updateTransform(h){return this.position.set(typeof h.x=="number"?h.x:this.position.x,typeof h.y=="number"?h.y:this.position.y),this.scale.set(typeof h.scaleX=="number"?h.scaleX||1:this.scale.x,typeof h.scaleY=="number"?h.scaleY||1:this.scale.y),this.rotation=typeof h.rotation=="number"?h.rotation:this.rotation,this.skew.set(typeof h.skewX=="number"?h.skewX:this.skew.x,typeof h.skewY=="number"?h.skewY:this.skew.y),this.pivot.set(typeof h.pivotX=="number"?h.pivotX:this.pivot.x,typeof h.pivotY=="number"?h.pivotY:this.pivot.y),this}setFromMatrix(h){h.decompose(this)}updateLocalTransform(){const h=this._didContainerChangeTick;if(this._didLocalTransformChangeId===h)return;this._didLocalTransformChangeId=h;const x=this.localTransform,E=this._scale,M=this._pivot,w=this._position,v=E._x,y=E._y,t=M._x,o=M._y;x.a=this._cx*v,x.b=this._sx*v,x.c=this._cy*y,x.d=this._sy*y,x.tx=w._x-(t*x.a+o*x.c),x.ty=w._y-(t*x.b+o*x.d)}set alpha(h){h!==this.localAlpha&&(this.localAlpha=h,this._updateFlags|=ih,this._onUpdate())}get alpha(){return this.localAlpha}set tint(h){const E=Gt.shared.setValue(h??16777215).toBgrNumber();E!==this.localColor&&(this.localColor=E,this._updateFlags|=ih,this._onUpdate())}get tint(){return hn(this.localColor)}set blendMode(h){this.localBlendMode!==h&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=i0,this.localBlendMode=h,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(h){const x=h?2:0;(this.localDisplayStatus&2)!==x&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=hr,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(this.localDisplayStatus&4)}set culled(h){const x=h?0:4;(this.localDisplayStatus&4)!==x&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=hr,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(h){const x=h?1:0;(this.localDisplayStatus&1)!==x&&(this._updateFlags|=hr,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(h=!1){var M;if(this.destroyed)return;this.destroyed=!0;let x;if(this.children.length&&(x=this.removeChildren(0,this.children.length)),this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),(typeof h=="boolean"?h:h==null?void 0:h.children)&&x)for(let w=0;w<x.length;++w)x[w].destroy(h);(M=this.renderGroup)==null||M.destroy(),this.renderGroup=null}}Xt.mixin(Np);Xt.mixin(Wp);Xt.mixin(jp);Xt.mixin(Qp);Xt.mixin(Zp);Xt.mixin(Vp);Xt.mixin(Xp);Xt.mixin(Jp);Xt.mixin(Ip);Xt.mixin(bp);Xt.mixin(Hp);Xt.mixin(zp);class s0 extends Xt{constructor(){super(...arguments),this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=-1,this._bounds=new xe(0,1,0,0),this._boundsDirty=!0}get bounds(){return this._boundsDirty?(this.updateBounds(),this._boundsDirty=!1,this._bounds):this._bounds}get roundPixels(){return!!this._roundPixels}set roundPixels(h){this._roundPixels=h?1:0}containsPoint(h){const x=this.bounds,{x:E,y:M}=h;return E>=x.minX&&E<=x.maxX&&M>=x.minY&&M<=x.maxY}onViewUpdate(){if(this._didViewChangeTick++,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const h=this.renderGroup||this.parentRenderGroup;h&&h.onChildViewUpdate(this)}destroy(h){super.destroy(h),this._bounds=null}collectRenderablesSimple(h,x,E){const{renderPipes:M,renderableGC:w}=x;M.blendMode.setBlendMode(this,this.groupBlendMode,h),M[this.renderPipeId].addRenderable(this,h),w.addRenderable(this),this.didViewUpdate=!1;const y=this.children,t=y.length;for(let o=0;o<t;o++)y[o].collectRenderables(h,x,E)}}class Ni extends s0{constructor(h=xt.EMPTY){h instanceof xt&&(h={texture:h});const{texture:x=xt.EMPTY,anchor:E,roundPixels:M,width:w,height:v,...y}=h;super({label:"Sprite",...y}),this.renderPipeId="sprite",this.batched=!0,this._visualBounds={minX:0,maxX:1,minY:0,maxY:0},this._anchor=new re({_onUpdate:()=>{this.onViewUpdate()}}),E?this.anchor=E:x.defaultAnchor&&(this.anchor=x.defaultAnchor),this.texture=x,this.allowChildren=!1,this.roundPixels=M??!1,w!==void 0&&(this.width=w),v!==void 0&&(this.height=v)}static from(h,x=!1){return h instanceof xt?new Ni(h):new Ni(xt.from(h,x))}set texture(h){h||(h=xt.EMPTY);const x=this._texture;x!==h&&(x&&x.dynamic&&x.off("update",this.onViewUpdate,this),h.dynamic&&h.on("update",this.onViewUpdate,this),this._texture=h,this._width&&this._setWidth(this._width,this._texture.orig.width),this._height&&this._setHeight(this._height,this._texture.orig.height),this.onViewUpdate())}get texture(){return this._texture}get visualBounds(){return Ep(this._visualBounds,this._anchor,this._texture),this._visualBounds}get sourceBounds(){return Ot("8.6.1","Sprite.sourceBounds is deprecated, use visualBounds instead."),this.visualBounds}updateBounds(){const h=this._anchor,x=this._texture,E=this._bounds,{width:M,height:w}=x.orig;E.minX=-h._x*M,E.maxX=E.minX+M,E.minY=-h._y*w,E.maxY=E.minY+w}destroy(h=!1){if(super.destroy(h),typeof h=="boolean"?h:h==null?void 0:h.texture){const E=typeof h=="boolean"?h:h==null?void 0:h.textureSource;this._texture.destroy(E)}this._texture=null,this._visualBounds=null,this._bounds=null,this._anchor=null}get anchor(){return this._anchor}set anchor(h){typeof h=="number"?this._anchor.set(h):this._anchor.copyFrom(h)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(h){this._setWidth(h,this._texture.orig.width),this._width=h}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(h){this._setHeight(h,this._texture.orig.height),this._height=h}getSize(h){return h||(h={}),h.width=Math.abs(this.scale.x)*this._texture.orig.width,h.height=Math.abs(this.scale.y)*this._texture.orig.height,h}setSize(h,x){typeof h=="object"?(x=h.height??h.width,h=h.width):x??(x=h),h!==void 0&&this._setWidth(h,this._texture.orig.width),x!==void 0&&this._setHeight(x,this._texture.orig.height)}}const n0=new xe;function Uu(g,h,x){const E=n0;g.measurable=!0,Du(g,x,E),h.addBoundsMask(E),g.measurable=!1}function Vu(g,h,x){const E=Ne.get();g.measurable=!0;const M=qt.get().identity(),w=Xu(g,x,M);bu(g,E,w),g.measurable=!1,h.addBoundsMask(E),qt.return(M),Ne.return(E)}function Xu(g,h,x){return g?(g!==h&&(Xu(g.parent,h,x),g.updateLocalTransform(),x.append(g.localTransform)),x):(Nt("Mask bounds, renderable is not inside the root container"),x)}class Yu{constructor(h){this.priority=0,this.inverse=!1,this.pipe="alphaMask",h!=null&&h.mask&&this.init(h.mask)}init(h){this.mask=h,this.renderMaskToTexture=!(h instanceof Ni),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask=null}addBounds(h,x){this.inverse||Uu(this.mask,h,x)}addLocalBounds(h,x){Vu(this.mask,h,x)}containsPoint(h,x){const E=this.mask;return x(E,h)}destroy(){this.reset()}static test(h){return h instanceof Ni}}Yu.extension=ut.MaskEffect;class Wu{constructor(h){this.priority=0,this.pipe="colorMask",h!=null&&h.mask&&this.init(h.mask)}init(h){this.mask=h}destroy(){}static test(h){return typeof h=="number"}}Wu.extension=ut.MaskEffect;class Hu{constructor(h){this.priority=0,this.pipe="stencilMask",h!=null&&h.mask&&this.init(h.mask)}init(h){this.mask=h,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null}addBounds(h,x){Uu(this.mask,h,x)}addLocalBounds(h,x){Vu(this.mask,h,x)}containsPoint(h,x){const E=this.mask;return x(E,h)}destroy(){this.reset()}static test(h){return h instanceof Xt}}Hu.extension=ut.MaskEffect;const r0={createCanvas:(g,h)=>{const x=document.createElement("canvas");return x.width=g,x.height=h,x},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(g,h)=>fetch(g,h),parseXML:g=>new DOMParser().parseFromString(g,"text/xml")};let sh=r0;const Dt={get(){return sh},set(g){sh=g}};class Ku extends Le{constructor(h){h.resource||(h.resource=Dt.get().createCanvas()),h.width||(h.width=h.resource.width,h.autoDensity||(h.width/=h.resolution)),h.height||(h.height=h.resource.height,h.autoDensity||(h.height/=h.resolution)),super(h),this.uploadMethodId="image",this.autoDensity=h.autoDensity,this.resizeCanvas(),this.transparent=!!h.transparent}resizeCanvas(){this.autoDensity&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)&&(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(h=this.width,x=this.height,E=this._resolution){const M=super.resize(h,x,E);return M&&this.resizeCanvas(),M}static test(h){return globalThis.HTMLCanvasElement&&h instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&h instanceof OffscreenCanvas}get context2D(){return this._context2D||(this._context2D=this.resource.getContext("2d"))}}Ku.extension=ut.TextureSource;class Wi extends Le{constructor(h){if(h.resource&&globalThis.HTMLImageElement&&h.resource instanceof HTMLImageElement){const x=Dt.get().createCanvas(h.resource.width,h.resource.height);x.getContext("2d").drawImage(h.resource,0,0,h.resource.width,h.resource.height),h.resource=x,Nt("ImageSource: Image element passed, converting to canvas. Use CanvasSource instead.")}super(h),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(h){return globalThis.HTMLImageElement&&h instanceof HTMLImageElement||typeof ImageBitmap<"u"&&h instanceof ImageBitmap||globalThis.VideoFrame&&h instanceof VideoFrame}}Wi.extension=ut.TextureSource;var $r=(g=>(g[g.INTERACTION=50]="INTERACTION",g[g.HIGH=25]="HIGH",g[g.NORMAL=0]="NORMAL",g[g.LOW=-25]="LOW",g[g.UTILITY=-50]="UTILITY",g))($r||{});class lr{constructor(h,x=null,E=0,M=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=h,this._context=x,this.priority=E,this._once=M}match(h,x=null){return this._fn===h&&this._context===x}emit(h){this._fn&&(this._context?this._fn.call(this._context,h):this._fn(h));const x=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),x}connect(h){this.previous=h,h.next&&(h.next.previous=this),this.next=h.next,h.next=this}destroy(h=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const x=this.next;return this.next=h?null:x,this.previous=null,x}}const Zu=class ne{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new lr(null,null,1/0),this.deltaMS=1/ne.targetFPMS,this.elapsedMS=1/ne.targetFPMS,this._tick=h=>{this._requestId=null,this.started&&(this.update(h),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(h,x,E=$r.NORMAL){return this._addListener(new lr(h,x,E))}addOnce(h,x,E=$r.NORMAL){return this._addListener(new lr(h,x,E,!0))}_addListener(h){let x=this._head.next,E=this._head;if(!x)h.connect(E);else{for(;x;){if(h.priority>x.priority){h.connect(E);break}E=x,x=x.next}h.previous||h.connect(E)}return this._startIfPossible(),this}remove(h,x){let E=this._head.next;for(;E;)E.match(h,x)?E=E.destroy():E=E.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let h=0,x=this._head;for(;x=x.next;)h++;return h}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let h=this._head.next;for(;h;)h=h.destroy(!0);this._head.destroy(),this._head=null}}update(h=performance.now()){let x;if(h>this.lastTime){if(x=this.elapsedMS=h-this.lastTime,x>this._maxElapsedMS&&(x=this._maxElapsedMS),x*=this.speed,this._minElapsedMS){const w=h-this._lastFrame|0;if(w<this._minElapsedMS)return;this._lastFrame=h-w%this._minElapsedMS}this.deltaMS=x,this.deltaTime=this.deltaMS*ne.targetFPMS;const E=this._head;let M=E.next;for(;M;)M=M.emit(this);E.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=h}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(h){const x=Math.min(this.maxFPS,h),E=Math.min(Math.max(0,x)/1e3,ne.targetFPMS);this._maxElapsedMS=1/E}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(h){if(h===0)this._minElapsedMS=0;else{const x=Math.max(this.minFPS,h);this._minElapsedMS=1/(x/1e3)}}static get shared(){if(!ne._shared){const h=ne._shared=new ne;h.autoStart=!0,h._protected=!0}return ne._shared}static get system(){if(!ne._system){const h=ne._system=new ne;h.autoStart=!0,h._protected=!0}return ne._system}};Zu.targetFPMS=.06;let Ks=Zu,ur;async function Qu(){return ur??(ur=(async()=>{var v;const h=document.createElement("canvas").getContext("webgl");if(!h)return"premultiply-alpha-on-upload";const x=await new Promise(y=>{const t=document.createElement("video");t.onloadeddata=()=>y(t),t.onerror=()=>y(null),t.autoplay=!1,t.crossOrigin="anonymous",t.preload="auto",t.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",t.load()});if(!x)return"premultiply-alpha-on-upload";const E=h.createTexture();h.bindTexture(h.TEXTURE_2D,E);const M=h.createFramebuffer();h.bindFramebuffer(h.FRAMEBUFFER,M),h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,E,0),h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),h.pixelStorei(h.UNPACK_COLORSPACE_CONVERSION_WEBGL,h.NONE),h.texImage2D(h.TEXTURE_2D,0,h.RGBA,h.RGBA,h.UNSIGNED_BYTE,x);const w=new Uint8Array(4);return h.readPixels(0,0,1,1,h.RGBA,h.UNSIGNED_BYTE,w),h.deleteFramebuffer(M),h.deleteTexture(E),(v=h.getExtension("WEBGL_lose_context"))==null||v.loseContext(),w[0]<=w[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),ur}const Gn=class Ju extends Le{constructor(h){super(h),this.isReady=!1,this.uploadMethodId="video",h={...Ju.defaultOptions,...h},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=h.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=h.autoPlay!==!1,this.alphaMode=h.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),h.autoLoad!==!1&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const h=Ks.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-h)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const h=this.resource,x=this.options;return(h.readyState===h.HAVE_ENOUGH_DATA||h.readyState===h.HAVE_FUTURE_DATA)&&h.width&&h.height&&(h.complete=!0),h.addEventListener("play",this._onPlayStart),h.addEventListener("pause",this._onPlayStop),h.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(x.preload||h.addEventListener("canplay",this._onCanPlay),h.addEventListener("canplaythrough",this._onCanPlayThrough),h.addEventListener("error",this._onError,!0)),this.alphaMode=await Qu(),this._load=new Promise((E,M)=>{this.isValid?E(this):(this._resolve=E,this._reject=M,x.preloadTimeoutMs!==void 0&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${x.preloadTimeoutMs}ms`))})),h.load())}),this._load}_onError(h){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",h),this._reject&&(this._reject(h),this._reject=null,this._resolve=null)}_isSourcePlaying(){const h=this.resource;return!h.paused&&!h.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const h=this.resource;this.isValid&&(this.isReady=!0,this.resize(h.videoWidth,h.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const h=this.resource;h&&(h.removeEventListener("play",this._onPlayStart),h.removeEventListener("pause",this._onPlayStop),h.removeEventListener("seeked",this._onSeeked),h.removeEventListener("canplay",this._onCanPlay),h.removeEventListener("canplaythrough",this._onCanPlayThrough),h.removeEventListener("error",this._onError,!0),h.pause(),h.src="",h.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(h){h!==this._autoUpdate&&(this._autoUpdate=h,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(h){h!==this._updateFPS&&(this._updateFPS=h,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(Ks.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Ks.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Ks.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(h){return globalThis.HTMLVideoElement&&h instanceof HTMLVideoElement}};Gn.extension=ut.TextureSource;Gn.defaultOptions={...Le.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};Gn.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let ln=Gn;const pe=(g,h,x=!1)=>(Array.isArray(g)||(g=[g]),h?g.map(E=>typeof E=="string"||x?h(E):E):g);class a0{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(h){return this._cache.has(h)}get(h){const x=this._cache.get(h);return x||Nt(`[Assets] Asset id ${h} was not found in the Cache`),x}set(h,x){const E=pe(h);let M;for(let t=0;t<this.parsers.length;t++){const o=this.parsers[t];if(o.test(x)){M=o.getCacheableAssets(E,x);break}}const w=new Map(Object.entries(M||{}));M||E.forEach(t=>{w.set(t,x)});const v=[...w.keys()],y={cacheKeys:v,keys:E};E.forEach(t=>{this._cacheMap.set(t,y)}),v.forEach(t=>{const o=M?M[t]:x;this._cache.has(t)&&this._cache.get(t)!==o&&Nt("[Cache] already has key:",t),this._cache.set(t,w.get(t))})}remove(h){if(!this._cacheMap.has(h)){Nt(`[Assets] Asset id ${h} was not found in the Cache`);return}const x=this._cacheMap.get(h);x.cacheKeys.forEach(M=>{this._cache.delete(M)}),x.keys.forEach(M=>{this._cacheMap.delete(M)})}get parsers(){return this._parsers}}const Lt=new a0,jr=[];_t.handleByList(ut.TextureSource,jr);function $u(g={}){const h=g&&g.resource,x=h?g.resource:g,E=h?g:{resource:g};for(let M=0;M<jr.length;M++){const w=jr[M];if(w.test(x))return new w(E)}throw new Error(`Could not find a source type for resource: ${E.resource}`)}function o0(g={},h=!1){const x=g&&g.resource,E=x?g.resource:g,M=x?g:{resource:g};if(!h&&Lt.has(E))return Lt.get(E);const w=new xt({source:$u(M)});return w.on("destroy",()=>{Lt.has(E)&&Lt.remove(E)}),h||Lt.set(E,w),w}function h0(g,h=!1){return typeof g=="string"?Lt.get(g):g instanceof Le?new xt({source:g}):o0(g,h)}xt.from=h0;Le.from=$u;_t.add(Yu,Wu,Hu,ln,Wi,Ku,Ba);var ii=(g=>(g[g.Low=0]="Low",g[g.Normal=1]="Normal",g[g.High=2]="High",g))(ii||{});function de(g){if(typeof g!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(g)}`)}function Ji(g){return g.split("?")[0].split("#")[0]}function l0(g){return g.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function u0(g,h,x){return g.replace(new RegExp(l0(h),"g"),x)}function f0(g,h){let x="",E=0,M=-1,w=0,v=-1;for(let y=0;y<=g.length;++y){if(y<g.length)v=g.charCodeAt(y);else{if(v===47)break;v=47}if(v===47){if(!(M===y-1||w===1))if(M!==y-1&&w===2){if(x.length<2||E!==2||x.charCodeAt(x.length-1)!==46||x.charCodeAt(x.length-2)!==46){if(x.length>2){const t=x.lastIndexOf("/");if(t!==x.length-1){t===-1?(x="",E=0):(x=x.slice(0,t),E=x.length-1-x.lastIndexOf("/")),M=y,w=0;continue}}else if(x.length===2||x.length===1){x="",E=0,M=y,w=0;continue}}}else x.length>0?x+=`/${g.slice(M+1,y)}`:x=g.slice(M+1,y),E=y-M-1;M=y,w=0}else v===46&&w!==-1?++w:w=-1}return x}const ae={toPosix(g){return u0(g,"\\","/")},isUrl(g){return/^https?:/.test(this.toPosix(g))},isDataUrl(g){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(g)},isBlobUrl(g){return g.startsWith("blob:")},hasProtocol(g){return/^[^/:]+:/.test(this.toPosix(g))},getProtocol(g){de(g),g=this.toPosix(g);const h=/^file:\/\/\//.exec(g);if(h)return h[0];const x=/^[^/:]+:\/{0,2}/.exec(g);return x?x[0]:""},toAbsolute(g,h,x){if(de(g),this.isDataUrl(g)||this.isBlobUrl(g))return g;const E=Ji(this.toPosix(h??Dt.get().getBaseUrl())),M=Ji(this.toPosix(x??this.rootname(E)));return g=this.toPosix(g),g.startsWith("/")?ae.join(M,g.slice(1)):this.isAbsolute(g)?g:this.join(E,g)},normalize(g){if(de(g),g.length===0)return".";if(this.isDataUrl(g)||this.isBlobUrl(g))return g;g=this.toPosix(g);let h="";const x=g.startsWith("/");this.hasProtocol(g)&&(h=this.rootname(g),g=g.slice(h.length));const E=g.endsWith("/");return g=f0(g),g.length>0&&E&&(g+="/"),x?`/${g}`:h+g},isAbsolute(g){return de(g),g=this.toPosix(g),this.hasProtocol(g)?!0:g.startsWith("/")},join(...g){if(g.length===0)return".";let h;for(let x=0;x<g.length;++x){const E=g[x];if(de(E),E.length>0)if(h===void 0)h=E;else{const M=g[x-1]??"";this.joinExtensions.includes(this.extname(M).toLowerCase())?h+=`/../${E}`:h+=`/${E}`}}return h===void 0?".":this.normalize(h)},dirname(g){if(de(g),g.length===0)return".";g=this.toPosix(g);let h=g.charCodeAt(0);const x=h===47;let E=-1,M=!0;const w=this.getProtocol(g),v=g;g=g.slice(w.length);for(let y=g.length-1;y>=1;--y)if(h=g.charCodeAt(y),h===47){if(!M){E=y;break}}else M=!1;return E===-1?x?"/":this.isUrl(v)?w+g:w:x&&E===1?"//":w+g.slice(0,E)},rootname(g){de(g),g=this.toPosix(g);let h="";if(g.startsWith("/")?h="/":h=this.getProtocol(g),this.isUrl(g)){const x=g.indexOf("/",h.length);x!==-1?h=g.slice(0,x):h=g,h.endsWith("/")||(h+="/")}return h},basename(g,h){de(g),h&&de(h),g=Ji(this.toPosix(g));let x=0,E=-1,M=!0,w;if(h!==void 0&&h.length>0&&h.length<=g.length){if(h.length===g.length&&h===g)return"";let v=h.length-1,y=-1;for(w=g.length-1;w>=0;--w){const t=g.charCodeAt(w);if(t===47){if(!M){x=w+1;break}}else y===-1&&(M=!1,y=w+1),v>=0&&(t===h.charCodeAt(v)?--v===-1&&(E=w):(v=-1,E=y))}return x===E?E=y:E===-1&&(E=g.length),g.slice(x,E)}for(w=g.length-1;w>=0;--w)if(g.charCodeAt(w)===47){if(!M){x=w+1;break}}else E===-1&&(M=!1,E=w+1);return E===-1?"":g.slice(x,E)},extname(g){de(g),g=Ji(this.toPosix(g));let h=-1,x=0,E=-1,M=!0,w=0;for(let v=g.length-1;v>=0;--v){const y=g.charCodeAt(v);if(y===47){if(!M){x=v+1;break}continue}E===-1&&(M=!1,E=v+1),y===46?h===-1?h=v:w!==1&&(w=1):h!==-1&&(w=-1)}return h===-1||E===-1||w===0||w===1&&h===E-1&&h===x+1?"":g.slice(h,E)},parse(g){de(g);const h={root:"",dir:"",base:"",ext:"",name:""};if(g.length===0)return h;g=Ji(this.toPosix(g));let x=g.charCodeAt(0);const E=this.isAbsolute(g);let M;h.root=this.rootname(g),E||this.hasProtocol(g)?M=1:M=0;let w=-1,v=0,y=-1,t=!0,o=g.length-1,p=0;for(;o>=M;--o){if(x=g.charCodeAt(o),x===47){if(!t){v=o+1;break}continue}y===-1&&(t=!1,y=o+1),x===46?w===-1?w=o:p!==1&&(p=1):w!==-1&&(p=-1)}return w===-1||y===-1||p===0||p===1&&w===y-1&&w===v+1?y!==-1&&(v===0&&E?h.base=h.name=g.slice(1,y):h.base=h.name=g.slice(v,y)):(v===0&&E?(h.name=g.slice(1,w),h.base=g.slice(1,y)):(h.name=g.slice(v,w),h.base=g.slice(v,y)),h.ext=g.slice(w,y)),h.dir=this.dirname(g),h},sep:"/",delimiter:":",joinExtensions:[".html"]};function ju(g,h,x,E,M){const w=h[x];for(let v=0;v<w.length;v++){const y=w[v];x<h.length-1?ju(g.replace(E[x],y),h,x+1,E,M):M.push(g.replace(E[x],y))}}function d0(g){const h=/\{(.*?)\}/g,x=g.match(h),E=[];if(x){const M=[];x.forEach(w=>{const v=w.substring(1,w.length-1).split(",");M.push(v)}),ju(g,M,0,x,E)}else E.push(g);return E}const yn=g=>!Array.isArray(g);class Hi{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(h,x)=>`${h}${this._bundleIdConnector}${x}`,extractAssetIdFromBundle:(h,x)=>x.replace(`${h}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(h){if(this._bundleIdConnector=h.connector??this._bundleIdConnector,this._createBundleAssetId=h.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=h.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...h){h.forEach(x=>{this._preferredOrder.push(x),x.priority||(x.priority=Object.keys(x.params))}),this._resolverHash={}}set basePath(h){this._basePath=h}get basePath(){return this._basePath}set rootPath(h){this._rootPath=h}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(h){if(typeof h=="string")this._defaultSearchParams=h;else{const x=h;this._defaultSearchParams=Object.keys(x).map(E=>`${encodeURIComponent(E)}=${encodeURIComponent(x[E])}`).join("&")}}getAlias(h){const{alias:x,src:E}=h;return pe(x||E,w=>typeof w=="string"?w:Array.isArray(w)?w.map(v=>(v==null?void 0:v.src)??v):w!=null&&w.src?w.src:w,!0)}addManifest(h){this._manifest&&Nt("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=h,h.bundles.forEach(x=>{this.addBundle(x.name,x.assets)})}addBundle(h,x){const E=[];let M=x;Array.isArray(x)||(M=Object.entries(x).map(([w,v])=>typeof v=="string"||Array.isArray(v)?{alias:w,src:v}:{alias:w,...v})),M.forEach(w=>{const v=w.src,y=w.alias;let t;if(typeof y=="string"){const o=this._createBundleAssetId(h,y);E.push(o),t=[y,o]}else{const o=y.map(p=>this._createBundleAssetId(h,p));E.push(...o),t=[...y,...o]}this.add({...w,alias:t,src:v})}),this._bundles[h]=E}add(h){const x=[];Array.isArray(h)?x.push(...h):x.push(h);let E;E=w=>{this.hasKey(w)&&Nt(`[Resolver] already has key: ${w} overwriting`)},pe(x).forEach(w=>{const{src:v}=w;let{data:y,format:t,loadParser:o}=w;const p=pe(v).map(i=>typeof i=="string"?d0(i):Array.isArray(i)?i:[i]),a=this.getAlias(w);Array.isArray(a)?a.forEach(E):E(a);const n=[];p.forEach(i=>{i.forEach(e=>{let r={};if(typeof e!="object"){r.src=e;for(let l=0;l<this._parsers.length;l++){const s=this._parsers[l];if(s.test(e)){r=s.parse(e);break}}}else y=e.data??y,t=e.format??t,o=e.loadParser??o,r={...r,...e};if(!a)throw new Error(`[Resolver] alias is undefined for this asset: ${r.src}`);r=this._buildResolvedAsset(r,{aliases:a,data:y,format:t,loadParser:o}),n.push(r)})}),a.forEach(i=>{this._assetMap[i]=n})})}resolveBundle(h){const x=yn(h);h=pe(h);const E={};return h.forEach(M=>{const w=this._bundles[M];if(w){const v=this.resolve(w),y={};for(const t in v){const o=v[t];y[this._extractAssetIdFromBundle(M,t)]=o}E[M]=y}}),x?E[h[0]]:E}resolveUrl(h){const x=this.resolve(h);if(typeof h!="string"){const E={};for(const M in x)E[M]=x[M].src;return E}return x.src}resolve(h){const x=yn(h);h=pe(h);const E={};return h.forEach(M=>{if(!this._resolverHash[M])if(this._assetMap[M]){let w=this._assetMap[M];const v=this._getPreferredOrder(w);v==null||v.priority.forEach(y=>{v.params[y].forEach(t=>{const o=w.filter(p=>p[y]?p[y]===t:!1);o.length&&(w=o)})}),this._resolverHash[M]=w[0]}else this._resolverHash[M]=this._buildResolvedAsset({alias:[M],src:M},{});E[M]=this._resolverHash[M]}),x?E[h[0]]:E}hasKey(h){return!!this._assetMap[h]}hasBundle(h){return!!this._bundles[h]}_getPreferredOrder(h){for(let x=0;x<h.length;x++){const E=h[x],M=this._preferredOrder.find(w=>w.params.format.includes(E.format));if(M)return M}return this._preferredOrder[0]}_appendDefaultSearchParams(h){if(!this._defaultSearchParams)return h;const x=/\?/.test(h)?"&":"?";return`${h}${x}${this._defaultSearchParams}`}_buildResolvedAsset(h,x){const{aliases:E,data:M,loadParser:w,format:v}=x;return(this._basePath||this._rootPath)&&(h.src=ae.toAbsolute(h.src,this._basePath,this._rootPath)),h.alias=E??h.alias??[h.src],h.src=this._appendDefaultSearchParams(h.src),h.data={...M||{},...h.data},h.loadParser=w??h.loadParser,h.format=v??h.format??c0(h.src),h}}Hi.RETINA_PREFIX=/@([0-9\.]+)x/;function c0(g){return g.split(".").pop().split("?").shift().split("#").shift()}const kr=(g,h)=>{const x=h.split("?")[1];return x&&(g+=`?${x}`),g},ku=class es{constructor(h,x){this.linkedSheets=[],this._texture=h instanceof xt?h:null,this.textureSource=h.source,this.textures={},this.animations={},this.data=x;const E=parseFloat(x.meta.scale);E?(this.resolution=E,h.source.resolution=this.resolution):this.resolution=h.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(h=>{this._callback=h,this._batchIndex=0,this._frameKeys.length<=es.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(h){let x=h;const E=es.BATCH_SIZE;for(;x-h<E&&x<this._frameKeys.length;){const M=this._frameKeys[x],w=this._frames[M],v=w.frame;if(v){let y=null,t=null;const o=w.trimmed!==!1&&w.sourceSize?w.sourceSize:w.frame,p=new Vt(0,0,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution);w.rotated?y=new Vt(Math.floor(v.x)/this.resolution,Math.floor(v.y)/this.resolution,Math.floor(v.h)/this.resolution,Math.floor(v.w)/this.resolution):y=new Vt(Math.floor(v.x)/this.resolution,Math.floor(v.y)/this.resolution,Math.floor(v.w)/this.resolution,Math.floor(v.h)/this.resolution),w.trimmed!==!1&&w.spriteSourceSize&&(t=new Vt(Math.floor(w.spriteSourceSize.x)/this.resolution,Math.floor(w.spriteSourceSize.y)/this.resolution,Math.floor(v.w)/this.resolution,Math.floor(v.h)/this.resolution)),this.textures[M]=new xt({source:this.textureSource,frame:y,orig:p,trim:t,rotate:w.rotated?2:0,defaultAnchor:w.anchor,defaultBorders:w.borders,label:M.toString()})}x++}}_processAnimations(){const h=this.data.animations||{};for(const x in h){this.animations[x]=[];for(let E=0;E<h[x].length;E++){const M=h[x][E];this.animations[x].push(this.textures[M])}}}_parseComplete(){const h=this._callback;this._callback=null,this._batchIndex=0,h.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*es.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*es.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(h=!1){var x;for(const E in this.textures)this.textures[E].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,h&&((x=this._texture)==null||x.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};ku.BATCH_SIZE=1e3;let nh=ku;const v0=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function qu(g,h,x){const E={};if(g.forEach(M=>{E[M]=h}),Object.keys(h.textures).forEach(M=>{E[M]=h.textures[M]}),!x){const M=ae.dirname(g[0]);h.linkedSheets.forEach((w,v)=>{const y=qu([`${M}/${h.data.meta.related_multi_packs[v]}`],w,!0);Object.assign(E,y)})}return E}const p0={extension:ut.Asset,cache:{test:g=>g instanceof nh,getCacheableAssets:(g,h)=>qu(g,h,!1)},resolver:{extension:{type:ut.ResolveParser,name:"resolveSpritesheet"},test:g=>{const x=g.split("?")[0].split("."),E=x.pop(),M=x.pop();return E==="json"&&v0.includes(M)},parse:g=>{var x;const h=g.split(".");return{resolution:parseFloat(((x=Hi.RETINA_PREFIX.exec(g))==null?void 0:x[1])??"1"),format:h[h.length-2],src:g}}},loader:{name:"spritesheetLoader",extension:{type:ut.LoadParser,priority:ii.Normal,name:"spritesheetLoader"},async testParse(g,h){return ae.extname(h.src).toLowerCase()===".json"&&!!g.frames},async parse(g,h,x){var p,a;const{texture:E,imageFilename:M,textureOptions:w}=(h==null?void 0:h.data)??{};let v=ae.dirname(h.src);v&&v.lastIndexOf("/")!==v.length-1&&(v+="/");let y;if(E instanceof xt)y=E;else{const n=kr(v+(M??g.meta.image),h.src);y=(await x.load([{src:n,data:w}]))[n]}const t=new nh(y.source,g);await t.parse();const o=(p=g==null?void 0:g.meta)==null?void 0:p.related_multi_packs;if(Array.isArray(o)){const n=[];for(const e of o){if(typeof e!="string")continue;let r=v+e;(a=h.data)!=null&&a.ignoreMultiPack||(r=kr(r,h.src),n.push(x.load({src:r,data:{ignoreMultiPack:!0}})))}const i=await Promise.all(n);t.linkedSheets=i,i.forEach(e=>{e.linkedSheets=[t].concat(t.linkedSheets.filter(r=>r!==e))})}return t},async unload(g,h,x){await x.unload(g.textureSource._sourceOrigin),g.destroy(!1)}}};_t.add(p0);const fr=Object.create(null),rh=Object.create(null);function Na(g,h){let x=rh[g];return x===void 0&&(fr[h]===void 0&&(fr[h]=1),rh[g]=x=fr[h]++),x}let Ai;function _u(){return(!Ai||Ai!=null&&Ai.isContextLost())&&(Ai=Dt.get().createCanvas().getContext("webgl",{})),Ai}let Zs;function m0(){if(!Zs){Zs="mediump";const g=_u();g&&g.getShaderPrecisionFormat&&(Zs=g.getShaderPrecisionFormat(g.FRAGMENT_SHADER,g.HIGH_FLOAT).precision?"highp":"mediump")}return Zs}function g0(g,h,x){return h?g:x?(g=g.replace("out vec4 finalColor;",""),`
        
        #ifdef GL_ES // This checks if it is WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${g}
        `):`
        
        #ifdef GL_ES // This checks if it is WebGL1
        #define in attribute
        #define out varying
        #endif
        ${g}
        `}function x0(g,h,x){const E=x?h.maxSupportedFragmentPrecision:h.maxSupportedVertexPrecision;if(g.substring(0,9)!=="precision"){let M=x?h.requestedFragmentPrecision:h.requestedVertexPrecision;return M==="highp"&&E!=="highp"&&(M="mediump"),`precision ${M} float;
${g}`}else if(E!=="highp"&&g.substring(0,15)==="precision highp")return g.replace("precision highp","precision mediump");return g}function y0(g,h){return h?`#version 300 es
${g}`:g}const T0={},S0={};function C0(g,{name:h="pixi-program"},x=!0){h=h.replace(/\s+/g,"-"),h+=x?"-fragment":"-vertex";const E=x?T0:S0;return E[h]?(E[h]++,h+=`-${E[h]}`):E[h]=1,g.indexOf("#define SHADER_NAME")!==-1?g:`${`#define SHADER_NAME ${h}`}
${g}`}function E0(g,h){return h?g.replace("#version 300 es",""):g}const dr={stripVersion:E0,ensurePrecision:x0,addProgramDefines:g0,setProgramName:C0,insertVersion:y0},cr=Object.create(null),tf=class qr{constructor(h){h={...qr.defaultOptions,...h};const x=h.fragment.indexOf("#version 300 es")!==-1,E={stripVersion:x,ensurePrecision:{requestedFragmentPrecision:h.preferredFragmentPrecision,requestedVertexPrecision:h.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:m0()},setProgramName:{name:h.name},addProgramDefines:x,insertVersion:x};let M=h.fragment,w=h.vertex;Object.keys(dr).forEach(v=>{const y=E[v];M=dr[v](M,y,!0),w=dr[v](w,y,!1)}),this.fragment=M,this.vertex=w,this.transformFeedbackVaryings=h.transformFeedbackVaryings,this._key=Na(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null}static from(h){const x=`${h.vertex}:${h.fragment}`;return cr[x]||(cr[x]=new qr(h)),cr[x]}};tf.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let ef=tf;const ah={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function A0(g){return ah[g]??ah.float32}const P0={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"};function M0({source:g,entryPoint:h}){const x={},E=g.indexOf(`fn ${h}`);if(E!==-1){const M=g.indexOf("->",E);if(M!==-1){const w=g.substring(E,M),v=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;let y;for(;(y=v.exec(w))!==null;){const t=P0[y[3]]??"float32";x[y[2]]={location:parseInt(y[1],10),format:t,stride:A0(t).stride,offset:0,instance:!1,start:0}}}}return x}function vr(g){var a,n;const h=/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,x=/@group\((\d+)\)/,E=/@binding\((\d+)\)/,M=/var(<[^>]+>)? (\w+)/,w=/:\s*(\w+)/,v=/struct\s+(\w+)\s*{([^}]+)}/g,y=/(\w+)\s*:\s*([\w\<\>]+)/g,t=/struct\s+(\w+)/,o=(a=g.match(h))==null?void 0:a.map(i=>({group:parseInt(i.match(x)[1],10),binding:parseInt(i.match(E)[1],10),name:i.match(M)[2],isUniform:i.match(M)[1]==="<uniform>",type:i.match(w)[1]}));if(!o)return{groups:[],structs:[]};const p=((n=g.match(v))==null?void 0:n.map(i=>{const e=i.match(t)[1],r=i.match(y).reduce((l,s)=>{const[u,d]=s.split(":");return l[u.trim()]=d.trim(),l},{});return r?{name:e,members:r}:null}).filter(({name:i})=>o.some(e=>e.type===i)))??[];return{groups:o,structs:p}}var is=(g=>(g[g.VERTEX=1]="VERTEX",g[g.FRAGMENT=2]="FRAGMENT",g[g.COMPUTE=4]="COMPUTE",g))(is||{});function R0({groups:g}){const h=[];for(let x=0;x<g.length;x++){const E=g[x];h[E.group]||(h[E.group]=[]),E.isUniform?h[E.group].push({binding:E.binding,visibility:is.VERTEX|is.FRAGMENT,buffer:{type:"uniform"}}):E.type==="sampler"?h[E.group].push({binding:E.binding,visibility:is.FRAGMENT,sampler:{type:"filtering"}}):E.type==="texture_2d"&&h[E.group].push({binding:E.binding,visibility:is.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return h}function w0({groups:g}){const h=[];for(let x=0;x<g.length;x++){const E=g[x];h[E.group]||(h[E.group]={}),h[E.group][E.name]=E.binding}return h}function F0(g,h){const x=new Set,E=new Set,M=[...g.structs,...h.structs].filter(v=>x.has(v.name)?!1:(x.add(v.name),!0)),w=[...g.groups,...h.groups].filter(v=>{const y=`${v.name}-${v.binding}`;return E.has(y)?!1:(E.add(y),!0)});return{structs:M,groups:w}}const pr=Object.create(null);class Nn{constructor(h){var y,t;this._layoutKey=0,this._attributeLocationsKey=0;const{fragment:x,vertex:E,layout:M,gpuLayout:w,name:v}=h;if(this.name=v,this.fragment=x,this.vertex=E,x.source===E.source){const o=vr(x.source);this.structsAndGroups=o}else{const o=vr(E.source),p=vr(x.source);this.structsAndGroups=F0(o,p)}this.layout=M??w0(this.structsAndGroups),this.gpuLayout=w??R0(this.structsAndGroups),this.autoAssignGlobalUniforms=((y=this.layout[0])==null?void 0:y.globalUniforms)!==void 0,this.autoAssignLocalUniforms=((t=this.layout[1])==null?void 0:t.localUniforms)!==void 0,this._generateProgramKey()}_generateProgramKey(){const{vertex:h,fragment:x}=this,E=h.source+x.source+h.entryPoint+x.entryPoint;this._layoutKey=Na(E,"program")}get attributeData(){return this._attributeData??(this._attributeData=M0(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null}static from(h){const x=`${h.vertex.source}:${h.fragment.source}:${h.fragment.entryPoint}:${h.vertex.entryPoint}`;return pr[x]||(pr[x]=new Nn(h)),pr[x]}}const sf=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>","vec2<i32>","vec3<i32>","vec4<i32>"],L0=sf.reduce((g,h)=>(g[h]=!0,g),{});function O0(g,h){switch(g){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*h);case"vec3<f32>":return new Float32Array(3*h);case"vec4<f32>":return new Float32Array(4*h);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const nf=class rf{constructor(h,x){this._touched=0,this.uid=bt("uniform"),this._resourceType="uniformGroup",this._resourceId=bt("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,x={...rf.defaultOptions,...x},this.uniformStructures=h;const E={};for(const M in h){const w=h[M];if(w.name=M,w.size=w.size??1,!L0[w.type])throw new Error(`Uniform type ${w.type} is not supported. Supported uniform types are: ${sf.join(", ")}`);w.value??(w.value=O0(w.type,w.size)),E[M]=w.value}this.uniforms=E,this._dirtyId=1,this.ubo=x.ubo,this.isStatic=x.isStatic,this._signature=Na(Object.keys(E).map(M=>`${M}-${h[M].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}};nf.defaultOptions={ubo:!1,isStatic:!1};let af=nf;class un{constructor(h){this.resources=Object.create(null),this._dirty=!0;let x=0;for(const E in h){const M=h[E];this.setResource(M,x++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const h=[];let x=0;for(const E in this.resources)h[x++]=this.resources[E]._resourceId;this._key=h.join("|")}setResource(h,x){var M,w;const E=this.resources[x];h!==E&&(E&&((M=h.off)==null||M.call(h,"change",this.onResourceChange,this)),(w=h.on)==null||w.call(h,"change",this.onResourceChange,this),this.resources[x]=h,this._dirty=!0)}getResource(h){return this.resources[h]}_touch(h){const x=this.resources;for(const E in x)x[E]._touched=h}destroy(){var x;const h=this.resources;for(const E in h){const M=h[E];(x=M.off)==null||x.call(M,"change",this.onResourceChange,this)}this.resources=null}onResourceChange(h){if(this._dirty=!0,h.destroyed){const x=this.resources;for(const E in x)x[E]===h&&(x[E]=null)}else this._updateKey()}}var _r=(g=>(g[g.WEBGL=1]="WEBGL",g[g.WEBGPU=2]="WEBGPU",g[g.BOTH=3]="BOTH",g))(_r||{});class za extends Te{constructor(h){super(),this.uid=bt("shader"),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[];let{gpuProgram:x,glProgram:E,groups:M,resources:w,compatibleRenderers:v,groupMap:y}=h;this.gpuProgram=x,this.glProgram=E,v===void 0&&(v=0,x&&(v|=_r.WEBGPU),E&&(v|=_r.WEBGL)),this.compatibleRenderers=v;const t={};if(!w&&!M&&(w={}),w&&M)throw new Error("[Shader] Cannot have both resources and groups");if(!x&&M&&!y)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!x&&M&&y)for(const o in y)for(const p in y[o]){const a=y[o][p];t[a]={group:o,binding:p,name:a}}else if(x&&M&&!y){const o=x.structsAndGroups.groups;y={},o.forEach(p=>{y[p.group]=y[p.group]||{},y[p.group][p.binding]=p.name,t[p.name]=p})}else if(w){M={},y={},x&&x.structsAndGroups.groups.forEach(a=>{y[a.group]=y[a.group]||{},y[a.group][a.binding]=a.name,t[a.name]=a});let o=0;for(const p in w)t[p]||(M[99]||(M[99]=new un,this._ownedBindGroups.push(M[99])),t[p]={group:99,binding:o,name:p},y[99]=y[99]||{},y[99][o]=p,o++);for(const p in w){const a=p;let n=w[p];!n.source&&!n._resourceType&&(n=new af(n));const i=t[a];i&&(M[i.group]||(M[i.group]=new un,this._ownedBindGroups.push(M[i.group])),M[i.group].setResource(n,i.binding))}}this.groups=M,this._uniformBindMap=y,this.resources=this._buildResourceAccessor(M,t)}addResource(h,x,E){var M,w;(M=this._uniformBindMap)[x]||(M[x]={}),(w=this._uniformBindMap[x])[E]||(w[E]=h),this.groups[x]||(this.groups[x]=new un,this._ownedBindGroups.push(this.groups[x]))}_buildResourceAccessor(h,x){const E={};for(const M in x){const w=x[M];Object.defineProperty(E,w.name,{get(){return h[w.group].getResource(w.binding)},set(v){h[w.group].setResource(v,w.binding)}})}return E}destroy(h=!1){var x,E;this.emit("destroy",this),h&&((x=this.gpuProgram)==null||x.destroy(),(E=this.glProgram)==null||E.destroy()),this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach(M=>{M.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null}static from(h){const{gpu:x,gl:E,...M}=h;let w,v;return x&&(w=Nn.from(x)),E&&(v=ef.from(E)),new za({gpuProgram:w,glProgram:v,...M})}}const ta=[];_t.handleByNamedList(ut.Environment,ta);async function D0(g){if(!g)for(let h=0;h<ta.length;h++){const x=ta[h];if(x.value.test()){await x.value.load();return}}}let $i;function I0(){if(typeof $i=="boolean")return $i;try{$i=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{$i=!1}return $i}var Ua={exports:{}};Ua.exports=zn;Ua.exports.default=zn;function zn(g,h,x){x=x||2;var E=h&&h.length,M=E?h[0]*x:g.length,w=of(g,0,M,x,!0),v=[];if(!w||w.next===w.prev)return v;var y,t,o,p,a,n,i;if(E&&(w=z0(g,h,w,x)),g.length>80*x){y=o=g[0],t=p=g[1];for(var e=x;e<M;e+=x)a=g[e],n=g[e+1],a<y&&(y=a),n<t&&(t=n),a>o&&(o=a),n>p&&(p=n);i=Math.max(o-y,p-t),i=i!==0?32767/i:0}return Cs(w,v,x,y,t,i,0),v}function of(g,h,x,E,M){var w,v;if(M===sa(g,h,x,E)>0)for(w=h;w<x;w+=E)v=oh(w,g[w],g[w+1],v);else for(w=x-E;w>=h;w-=E)v=oh(w,g[w],g[w+1],v);return v&&Un(v,v.next)&&(As(v),v=v.next),v}function Ci(g,h){if(!g)return g;h||(h=g);var x=g,E;do if(E=!1,!x.steiner&&(Un(x,x.next)||Ft(x.prev,x,x.next)===0)){if(As(x),x=h=x.prev,x===x.next)break;E=!0}else x=x.next;while(E||x!==h);return h}function Cs(g,h,x,E,M,w,v){if(g){!v&&w&&W0(g,E,M,w);for(var y=g,t,o;g.prev!==g.next;){if(t=g.prev,o=g.next,w?b0(g,E,M,w):B0(g)){h.push(t.i/x|0),h.push(g.i/x|0),h.push(o.i/x|0),As(g),g=o.next,y=o.next;continue}if(g=o,g===y){v?v===1?(g=G0(Ci(g),h,x),Cs(g,h,x,E,M,w,2)):v===2&&N0(g,h,x,E,M,w):Cs(Ci(g),h,x,E,M,w,1);break}}}}function B0(g){var h=g.prev,x=g,E=g.next;if(Ft(h,x,E)>=0)return!1;for(var M=h.x,w=x.x,v=E.x,y=h.y,t=x.y,o=E.y,p=M<w?M<v?M:v:w<v?w:v,a=y<t?y<o?y:o:t<o?t:o,n=M>w?M>v?M:v:w>v?w:v,i=y>t?y>o?y:o:t>o?t:o,e=E.next;e!==h;){if(e.x>=p&&e.x<=n&&e.y>=a&&e.y<=i&&Fi(M,y,w,t,v,o,e.x,e.y)&&Ft(e.prev,e,e.next)>=0)return!1;e=e.next}return!0}function b0(g,h,x,E){var M=g.prev,w=g,v=g.next;if(Ft(M,w,v)>=0)return!1;for(var y=M.x,t=w.x,o=v.x,p=M.y,a=w.y,n=v.y,i=y<t?y<o?y:o:t<o?t:o,e=p<a?p<n?p:n:a<n?a:n,r=y>t?y>o?y:o:t>o?t:o,l=p>a?p>n?p:n:a>n?a:n,s=ea(i,e,h,x,E),u=ea(r,l,h,x,E),d=g.prevZ,f=g.nextZ;d&&d.z>=s&&f&&f.z<=u;){if(d.x>=i&&d.x<=r&&d.y>=e&&d.y<=l&&d!==M&&d!==v&&Fi(y,p,t,a,o,n,d.x,d.y)&&Ft(d.prev,d,d.next)>=0||(d=d.prevZ,f.x>=i&&f.x<=r&&f.y>=e&&f.y<=l&&f!==M&&f!==v&&Fi(y,p,t,a,o,n,f.x,f.y)&&Ft(f.prev,f,f.next)>=0))return!1;f=f.nextZ}for(;d&&d.z>=s;){if(d.x>=i&&d.x<=r&&d.y>=e&&d.y<=l&&d!==M&&d!==v&&Fi(y,p,t,a,o,n,d.x,d.y)&&Ft(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;f&&f.z<=u;){if(f.x>=i&&f.x<=r&&f.y>=e&&f.y<=l&&f!==M&&f!==v&&Fi(y,p,t,a,o,n,f.x,f.y)&&Ft(f.prev,f,f.next)>=0)return!1;f=f.nextZ}return!0}function G0(g,h,x){var E=g;do{var M=E.prev,w=E.next.next;!Un(M,w)&&hf(M,E,E.next,w)&&Es(M,w)&&Es(w,M)&&(h.push(M.i/x|0),h.push(E.i/x|0),h.push(w.i/x|0),As(E),As(E.next),E=g=w),E=E.next}while(E!==g);return Ci(E)}function N0(g,h,x,E,M,w){var v=g;do{for(var y=v.next.next;y!==v.prev;){if(v.i!==y.i&&Z0(v,y)){var t=lf(v,y);v=Ci(v,v.next),t=Ci(t,t.next),Cs(v,h,x,E,M,w,0),Cs(t,h,x,E,M,w,0);return}y=y.next}v=v.next}while(v!==g)}function z0(g,h,x,E){var M=[],w,v,y,t,o;for(w=0,v=h.length;w<v;w++)y=h[w]*E,t=w<v-1?h[w+1]*E:g.length,o=of(g,y,t,E,!1),o===o.next&&(o.steiner=!0),M.push(K0(o));for(M.sort(U0),w=0;w<M.length;w++)x=V0(M[w],x);return x}function U0(g,h){return g.x-h.x}function V0(g,h){var x=X0(g,h);if(!x)return h;var E=lf(x,g);return Ci(E,E.next),Ci(x,x.next)}function X0(g,h){var x=h,E=g.x,M=g.y,w=-1/0,v;do{if(M<=x.y&&M>=x.next.y&&x.next.y!==x.y){var y=x.x+(M-x.y)*(x.next.x-x.x)/(x.next.y-x.y);if(y<=E&&y>w&&(w=y,v=x.x<x.next.x?x:x.next,y===E))return v}x=x.next}while(x!==h);if(!v)return null;var t=v,o=v.x,p=v.y,a=1/0,n;x=v;do E>=x.x&&x.x>=o&&E!==x.x&&Fi(M<p?E:w,M,o,p,M<p?w:E,M,x.x,x.y)&&(n=Math.abs(M-x.y)/(E-x.x),Es(x,g)&&(n<a||n===a&&(x.x>v.x||x.x===v.x&&Y0(v,x)))&&(v=x,a=n)),x=x.next;while(x!==t);return v}function Y0(g,h){return Ft(g.prev,g,h.prev)<0&&Ft(h.next,g,g.next)<0}function W0(g,h,x,E){var M=g;do M.z===0&&(M.z=ea(M.x,M.y,h,x,E)),M.prevZ=M.prev,M.nextZ=M.next,M=M.next;while(M!==g);M.prevZ.nextZ=null,M.prevZ=null,H0(M)}function H0(g){var h,x,E,M,w,v,y,t,o=1;do{for(x=g,g=null,w=null,v=0;x;){for(v++,E=x,y=0,h=0;h<o&&(y++,E=E.nextZ,!!E);h++);for(t=o;y>0||t>0&&E;)y!==0&&(t===0||!E||x.z<=E.z)?(M=x,x=x.nextZ,y--):(M=E,E=E.nextZ,t--),w?w.nextZ=M:g=M,M.prevZ=w,w=M;x=E}w.nextZ=null,o*=2}while(v>1);return g}function ea(g,h,x,E,M){return g=(g-x)*M|0,h=(h-E)*M|0,g=(g|g<<8)&16711935,g=(g|g<<4)&252645135,g=(g|g<<2)&858993459,g=(g|g<<1)&1431655765,h=(h|h<<8)&16711935,h=(h|h<<4)&252645135,h=(h|h<<2)&858993459,h=(h|h<<1)&1431655765,g|h<<1}function K0(g){var h=g,x=g;do(h.x<x.x||h.x===x.x&&h.y<x.y)&&(x=h),h=h.next;while(h!==g);return x}function Fi(g,h,x,E,M,w,v,y){return(M-v)*(h-y)>=(g-v)*(w-y)&&(g-v)*(E-y)>=(x-v)*(h-y)&&(x-v)*(w-y)>=(M-v)*(E-y)}function Z0(g,h){return g.next.i!==h.i&&g.prev.i!==h.i&&!Q0(g,h)&&(Es(g,h)&&Es(h,g)&&J0(g,h)&&(Ft(g.prev,g,h.prev)||Ft(g,h.prev,h))||Un(g,h)&&Ft(g.prev,g,g.next)>0&&Ft(h.prev,h,h.next)>0)}function Ft(g,h,x){return(h.y-g.y)*(x.x-h.x)-(h.x-g.x)*(x.y-h.y)}function Un(g,h){return g.x===h.x&&g.y===h.y}function hf(g,h,x,E){var M=Js(Ft(g,h,x)),w=Js(Ft(g,h,E)),v=Js(Ft(x,E,g)),y=Js(Ft(x,E,h));return!!(M!==w&&v!==y||M===0&&Qs(g,x,h)||w===0&&Qs(g,E,h)||v===0&&Qs(x,g,E)||y===0&&Qs(x,h,E))}function Qs(g,h,x){return h.x<=Math.max(g.x,x.x)&&h.x>=Math.min(g.x,x.x)&&h.y<=Math.max(g.y,x.y)&&h.y>=Math.min(g.y,x.y)}function Js(g){return g>0?1:g<0?-1:0}function Q0(g,h){var x=g;do{if(x.i!==g.i&&x.next.i!==g.i&&x.i!==h.i&&x.next.i!==h.i&&hf(x,x.next,g,h))return!0;x=x.next}while(x!==g);return!1}function Es(g,h){return Ft(g.prev,g,g.next)<0?Ft(g,h,g.next)>=0&&Ft(g,g.prev,h)>=0:Ft(g,h,g.prev)<0||Ft(g,g.next,h)<0}function J0(g,h){var x=g,E=!1,M=(g.x+h.x)/2,w=(g.y+h.y)/2;do x.y>w!=x.next.y>w&&x.next.y!==x.y&&M<(x.next.x-x.x)*(w-x.y)/(x.next.y-x.y)+x.x&&(E=!E),x=x.next;while(x!==g);return E}function lf(g,h){var x=new ia(g.i,g.x,g.y),E=new ia(h.i,h.x,h.y),M=g.next,w=h.prev;return g.next=h,h.prev=g,x.next=M,M.prev=x,E.next=x,x.prev=E,w.next=E,E.prev=w,E}function oh(g,h,x,E){var M=new ia(g,h,x);return E?(M.next=E.next,M.prev=E,E.next.prev=M,E.next=M):(M.prev=M,M.next=M),M}function As(g){g.next.prev=g.prev,g.prev.next=g.next,g.prevZ&&(g.prevZ.nextZ=g.nextZ),g.nextZ&&(g.nextZ.prevZ=g.prevZ)}function ia(g,h,x){this.i=g,this.x=h,this.y=x,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}zn.deviation=function(g,h,x,E){var M=h&&h.length,w=M?h[0]*x:g.length,v=Math.abs(sa(g,0,w,x));if(M)for(var y=0,t=h.length;y<t;y++){var o=h[y]*x,p=y<t-1?h[y+1]*x:g.length;v-=Math.abs(sa(g,o,p,x))}var a=0;for(y=0;y<E.length;y+=3){var n=E[y]*x,i=E[y+1]*x,e=E[y+2]*x;a+=Math.abs((g[n]-g[e])*(g[i+1]-g[n+1])-(g[n]-g[i])*(g[e+1]-g[n+1]))}return v===0&&a===0?0:Math.abs((a-v)/v)};function sa(g,h,x,E){for(var M=0,w=h,v=x-E;w<x;w+=E)M+=(g[v]-g[w])*(g[w+1]+g[v+1]),v=w;return M}zn.flatten=function(g){for(var h=g[0][0].length,x={vertices:[],holes:[],dimensions:h},E=0,M=0;M<g.length;M++){for(var w=0;w<g[M].length;w++)for(var v=0;v<h;v++)x.vertices.push(g[M][w][v]);M>0&&(E+=g[M-1].length,x.holes.push(E))}return x};var $0=Ua.exports;const j0=bn($0);var uf=(g=>(g[g.NONE=0]="NONE",g[g.COLOR=16384]="COLOR",g[g.STENCIL=1024]="STENCIL",g[g.DEPTH=256]="DEPTH",g[g.COLOR_DEPTH=16640]="COLOR_DEPTH",g[g.COLOR_STENCIL=17408]="COLOR_STENCIL",g[g.DEPTH_STENCIL=1280]="DEPTH_STENCIL",g[g.ALL=17664]="ALL",g))(uf||{});class k0{constructor(h){this.items=[],this._name=h}emit(h,x,E,M,w,v,y,t){const{name:o,items:p}=this;for(let a=0,n=p.length;a<n;a++)p[a][o](h,x,E,M,w,v,y,t);return this}add(h){return h[this._name]&&(this.remove(h),this.items.push(h)),this}remove(h){const x=this.items.indexOf(h);return x!==-1&&this.items.splice(x,1),this}contains(h){return this.items.indexOf(h)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}const q0=["init","destroy","contextChange","resolutionChange","resetState","renderEnd","renderStart","render","update","postrender","prerender"],ff=class df extends Te{constructor(h){super(),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=h.type,this.name=h.name,this.config=h;const x=[...q0,...this.config.runners??[]];this._addRunners(...x),this._unsafeEvalCheck()}async init(h={}){const x=h.skipExtensionImports===!0?!0:h.manageImports===!1;await D0(x),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(const E in this._systemsHash)h={...this._systemsHash[E].constructor.defaultOptions,...h};h={...df.defaultOptions,...h},this._roundPixels=h.roundPixels?1:0;for(let E=0;E<this.runners.init.items.length;E++)await this.runners.init.items[E].init(h);this._initOptions=h}render(h,x){let E=h;if(E instanceof Xt&&(E={container:E},x&&(Ot(zt,"passing a second argument is deprecated, please use render options instead"),E.target=x.renderTexture)),E.target||(E.target=this.view.renderTarget),E.target===this.view.renderTarget&&(this._lastObjectRendered=E.container,E.clearColor??(E.clearColor=this.background.colorRgba),E.clear??(E.clear=this.background.clearBeforeRender)),E.clearColor){const M=Array.isArray(E.clearColor)&&E.clearColor.length===4;E.clearColor=M?E.clearColor:Gt.shared.setValue(E.clearColor).toArray()}E.transform||(E.container.updateLocalTransform(),E.transform=E.container.localTransform),E.container.enableRenderGroup(),this.runners.prerender.emit(E),this.runners.renderStart.emit(E),this.runners.render.emit(E),this.runners.renderEnd.emit(E),this.runners.postrender.emit(E)}resize(h,x,E){const M=this.view.resolution;this.view.resize(h,x,E),this.emit("resize",this.view.screen.width,this.view.screen.height,this.view.resolution),E!==void 0&&E!==M&&this.runners.resolutionChange.emit(E)}clear(h={}){const x=this;h.target||(h.target=x.renderTarget.renderTarget),h.clearColor||(h.clearColor=this.background.colorRgba),h.clear??(h.clear=uf.ALL);const{clear:E,clearColor:M,target:w}=h;Gt.shared.setValue(M??this.background.colorRgba),x.renderTarget.clear(w,E,Gt.shared.toArray())}get resolution(){return this.view.resolution}set resolution(h){this.view.resolution=h,this.runners.resolutionChange.emit(h)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...h){h.forEach(x=>{this.runners[x]=new k0(x)})}_addSystems(h){let x;for(x in h){const E=h[x];this._addSystem(E.value,E.name)}}_addSystem(h,x){const E=new h(this);if(this[x])throw new Error(`Whoops! The name "${x}" is already in use`);this[x]=E,this._systemsHash[x]=E;for(const M in this.runners)this.runners[M].add(E);return this}_addPipes(h,x){const E=x.reduce((M,w)=>(M[w.name]=w.value,M),{});h.forEach(M=>{const w=M.value,v=M.name,y=E[v];this.renderPipes[v]=new w(this,y?new y:null)})}destroy(h=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(h),Object.values(this.runners).forEach(x=>{x.destroy()}),this._systemsHash=null,this.renderPipes=null}generateTexture(h){return this.textureGenerator.generateTexture(h)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!I0())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}resetState(){this.runners.resetState.emit()}};ff.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let cf=ff,$s;function _0(g){return $s!==void 0||($s=(()=>{var x;const h={stencil:!0,failIfMajorPerformanceCaveat:g??cf.defaultOptions.failIfMajorPerformanceCaveat};try{if(!Dt.get().getWebGLRenderingContext())return!1;let M=Dt.get().createCanvas().getContext("webgl",h);const w=!!((x=M==null?void 0:M.getContextAttributes())!=null&&x.stencil);if(M){const v=M.getExtension("WEBGL_lose_context");v&&v.loseContext()}return M=null,w}catch{return!1}})()),$s}let js;async function tm(g={}){return js!==void 0||(js=await(async()=>{const h=Dt.get().getNavigator().gpu;if(!h)return!1;try{return await(await h.requestAdapter(g)).requestDevice(),!0}catch{return!1}})()),js}const hh=["webgl","webgpu","canvas"];async function em(g){let h=[];g.preference?(h.push(g.preference),hh.forEach(w=>{w!==g.preference&&h.push(w)})):h=hh.slice();let x,E={};for(let w=0;w<h.length;w++){const v=h[w];if(v==="webgpu"&&await tm()){const{WebGPURenderer:y}=await ke(async()=>{const{WebGPURenderer:t}=await import("./WebGPURenderer-D_4O3esk.js");return{WebGPURenderer:t}},__vite__mapDeps([3,2,4]));x=y,E={...g,...g.webgpu};break}else if(v==="webgl"&&_0(g.failIfMajorPerformanceCaveat??cf.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer:y}=await ke(async()=>{const{WebGLRenderer:t}=await import("./WebGLRenderer-B23gfqFg.js");return{WebGLRenderer:t}},__vite__mapDeps([5,2,4]));x=y,E={...g,...g.webgl};break}else if(v==="canvas")throw E={...g},new Error("CanvasRenderer is not yet implemented")}if(delete E.webgpu,delete E.webgl,!x)throw new Error("No available renderer for the current environment");const M=new x;return await M.init(E),M}const vf="8.7.3";class pf{static init(){var h;(h=globalThis.__PIXI_APP_INIT__)==null||h.call(globalThis,this,vf)}static destroy(){}}pf.extension=ut.Application;class im{constructor(h){this._renderer=h}init(){var h;(h=globalThis.__PIXI_RENDERER_INIT__)==null||h.call(globalThis,this._renderer,vf)}destroy(){this._renderer=null}}im.extension={type:[ut.WebGLSystem,ut.WebGPUSystem],name:"initHook",priority:-10};const mf=class na{constructor(...h){this.stage=new Xt,h[0]!==void 0&&Ot(zt,"Application constructor options are deprecated, please use Application.init() instead.")}async init(h){h={...h},this.renderer=await em(h),na._plugins.forEach(x=>{x.init.call(this,h)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return Ot(zt,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(h=!1,x=!1){const E=na._plugins.slice(0);E.reverse(),E.forEach(M=>{M.destroy.call(this)}),this.stage.destroy(x),this.stage=null,this.renderer.destroy(h),this.renderer=null}};mf._plugins=[];let gf=mf;_t.handleByList(ut.Application,gf._plugins);_t.add(pf);class xf extends Te{constructor(){super(...arguments),this.chars=Object.create(null),this.lineHeight=0,this.fontFamily="",this.fontMetrics={fontSize:0,ascent:0,descent:0},this.baseLineOffset=0,this.distanceField={type:"none",range:0},this.pages=[],this.applyFillAsTint=!0,this.baseMeasurementFontSize=100,this.baseRenderedFontSize=100}get font(){return Ot(zt,"BitmapFont.font is deprecated, please use BitmapFont.fontFamily instead."),this.fontFamily}get pageTextures(){return Ot(zt,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}get size(){return Ot(zt,"BitmapFont.size is deprecated, please use BitmapFont.fontMetrics.fontSize instead."),this.fontMetrics.fontSize}get distanceFieldRange(){return Ot(zt,"BitmapFont.distanceFieldRange is deprecated, please use BitmapFont.distanceField.range instead."),this.distanceField.range}get distanceFieldType(){return Ot(zt,"BitmapFont.distanceFieldType is deprecated, please use BitmapFont.distanceField.type instead."),this.distanceField.type}destroy(h=!1){var x;this.emit("destroy",this),this.removeAllListeners();for(const E in this.chars)(x=this.chars[E].texture)==null||x.destroy();this.chars=null,h&&(this.pages.forEach(E=>E.texture.destroy(!0)),this.pages=null)}}const yf=class ra{constructor(h,x,E,M){this.uid=bt("fillGradient"),this.type="linear",this.gradientStops=[],this._styleKey=null,this.x0=h,this.y0=x,this.x1=E,this.y1=M}addColorStop(h,x){return this.gradientStops.push({offset:h,color:Gt.shared.setValue(x).toHexa()}),this._styleKey=null,this}buildLinearGradient(){if(this.texture)return;const h=ra.defaultTextureSize,{gradientStops:x}=this,E=Dt.get().createCanvas();E.width=h,E.height=h;const M=E.getContext("2d"),w=M.createLinearGradient(0,0,ra.defaultTextureSize,1);for(let r=0;r<x.length;r++){const l=x[r];w.addColorStop(l.offset,l.color)}M.fillStyle=w,M.fillRect(0,0,h,h),this.texture=new xt({source:new Wi({resource:E,addressModeU:"clamp-to-edge",addressModeV:"repeat"})});const{x0:v,y0:y,x1:t,y1:o}=this,p=new yt,a=t-v,n=o-y,i=Math.sqrt(a*a+n*n),e=Math.atan2(n,a);p.translate(-v,-y),p.scale(1/h,1/h),p.rotate(-e),p.scale(256/i,1),this.transform=p,this._styleKey=null}get styleKey(){if(this._styleKey)return this._styleKey;const h=this.gradientStops.map(M=>`${M.offset}-${M.color}`).join("-"),x=this.texture.uid,E=this.transform.toArray().join("-");return`fill-gradient-${this.uid}-${h}-${x}-${E}-${this.x0}-${this.y0}-${this.x1}-${this.y1}`}};yf.defaultTextureSize=256;let Ps=yf;const lh={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class Vn{constructor(h,x){this.uid=bt("fillPattern"),this.transform=new yt,this._styleKey=null,this.texture=h,this.transform.scale(1/h.frame.width,1/h.frame.height),x&&(h.source.style.addressModeU=lh[x].addressModeU,h.source.style.addressModeV=lh[x].addressModeV)}setTransform(h){const x=this.texture;this.transform.copyFrom(h),this.transform.invert(),this.transform.scale(1/x.frame.width,1/x.frame.height),this._styleKey=null}get styleKey(){return this._styleKey?this._styleKey:(this._styleKey=`fill-pattern-${this.uid}-${this.texture.uid}-${this.transform.toArray().join("-")}`,this._styleKey)}}var sm=rm,mr={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},nm=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function rm(g){var h=[];return g.replace(nm,function(x,E,M){var w=E.toLowerCase();for(M=om(M),w=="m"&&M.length>2&&(h.push([E].concat(M.splice(0,2))),w="l",E=E=="m"?"l":"L");;){if(M.length==mr[w])return M.unshift(E),h.push(M);if(M.length<mr[w])throw new Error("malformed path data");h.push([E].concat(M.splice(0,mr[w])))}}),h}var am=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function om(g){var h=g.match(am);return h?h.map(Number):[]}const hm=bn(sm);function lm(g,h){const x=hm(g),E=[];let M=null,w=0,v=0;for(let y=0;y<x.length;y++){const t=x[y],o=t[0],p=t;switch(o){case"M":w=p[1],v=p[2],h.moveTo(w,v);break;case"m":w+=p[1],v+=p[2],h.moveTo(w,v);break;case"H":w=p[1],h.lineTo(w,v);break;case"h":w+=p[1],h.lineTo(w,v);break;case"V":v=p[1],h.lineTo(w,v);break;case"v":v+=p[1],h.lineTo(w,v);break;case"L":w=p[1],v=p[2],h.lineTo(w,v);break;case"l":w+=p[1],v+=p[2],h.lineTo(w,v);break;case"C":w=p[5],v=p[6],h.bezierCurveTo(p[1],p[2],p[3],p[4],w,v);break;case"c":h.bezierCurveTo(w+p[1],v+p[2],w+p[3],v+p[4],w+p[5],v+p[6]),w+=p[5],v+=p[6];break;case"S":w=p[3],v=p[4],h.bezierCurveToShort(p[1],p[2],w,v);break;case"s":h.bezierCurveToShort(w+p[1],v+p[2],w+p[3],v+p[4]),w+=p[3],v+=p[4];break;case"Q":w=p[3],v=p[4],h.quadraticCurveTo(p[1],p[2],w,v);break;case"q":h.quadraticCurveTo(w+p[1],v+p[2],w+p[3],v+p[4]),w+=p[3],v+=p[4];break;case"T":w=p[1],v=p[2],h.quadraticCurveToShort(w,v);break;case"t":w+=p[1],v+=p[2],h.quadraticCurveToShort(w,v);break;case"A":w=p[6],v=p[7],h.arcToSvg(p[1],p[2],p[3],p[4],p[5],w,v);break;case"a":w+=p[6],v+=p[7],h.arcToSvg(p[1],p[2],p[3],p[4],p[5],w,v);break;case"Z":case"z":h.closePath(),E.length>0&&(M=E.pop(),M?(w=M.startX,v=M.startY):(w=0,v=0)),M=null;break;default:Nt(`Unknown SVG path command: ${o}`)}o!=="Z"&&o!=="z"&&M===null&&(M={startX:w,startY:v},E.push(M))}return h}class Va{constructor(h=0,x=0,E=0){this.type="circle",this.x=h,this.y=x,this.radius=E}clone(){return new Va(this.x,this.y,this.radius)}contains(h,x){if(this.radius<=0)return!1;const E=this.radius*this.radius;let M=this.x-h,w=this.y-x;return M*=M,w*=w,M+w<=E}strokeContains(h,x,E,M=.5){if(this.radius===0)return!1;const w=this.x-h,v=this.y-x,y=this.radius,t=(1-M)*E,o=Math.sqrt(w*w+v*v);return o<=y+t&&o>y-(E-t)}getBounds(h){return h||(h=new Vt),h.x=this.x-this.radius,h.y=this.y-this.radius,h.width=this.radius*2,h.height=this.radius*2,h}copyFrom(h){return this.x=h.x,this.y=h.y,this.radius=h.radius,this}copyTo(h){return h.copyFrom(this),h}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class Xa{constructor(h=0,x=0,E=0,M=0){this.type="ellipse",this.x=h,this.y=x,this.halfWidth=E,this.halfHeight=M}clone(){return new Xa(this.x,this.y,this.halfWidth,this.halfHeight)}contains(h,x){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let E=(h-this.x)/this.halfWidth,M=(x-this.y)/this.halfHeight;return E*=E,M*=M,E+M<=1}strokeContains(h,x,E,M=.5){const{halfWidth:w,halfHeight:v}=this;if(w<=0||v<=0)return!1;const y=E*(1-M),t=E-y,o=w-t,p=v-t,a=w+y,n=v+y,i=h-this.x,e=x-this.y,r=i*i/(o*o)+e*e/(p*p),l=i*i/(a*a)+e*e/(n*n);return r>1&&l<=1}getBounds(h){return h||(h=new Vt),h.x=this.x-this.halfWidth,h.y=this.y-this.halfHeight,h.width=this.halfWidth*2,h.height=this.halfHeight*2,h}copyFrom(h){return this.x=h.x,this.y=h.y,this.halfWidth=h.halfWidth,this.halfHeight=h.halfHeight,this}copyTo(h){return h.copyFrom(this),h}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function um(g,h,x,E,M,w){const v=g-x,y=h-E,t=M-x,o=w-E,p=v*t+y*o,a=t*t+o*o;let n=-1;a!==0&&(n=p/a);let i,e;n<0?(i=x,e=E):n>1?(i=M,e=w):(i=x+n*t,e=E+n*o);const r=g-i,l=h-e;return r*r+l*l}class fs{constructor(...h){this.type="polygon";let x=Array.isArray(h[0])?h[0]:h;if(typeof x[0]!="number"){const E=[];for(let M=0,w=x.length;M<w;M++)E.push(x[M].x,x[M].y);x=E}this.points=x,this.closePath=!0}clone(){const h=this.points.slice(),x=new fs(h);return x.closePath=this.closePath,x}contains(h,x){let E=!1;const M=this.points.length/2;for(let w=0,v=M-1;w<M;v=w++){const y=this.points[w*2],t=this.points[w*2+1],o=this.points[v*2],p=this.points[v*2+1];t>x!=p>x&&h<(o-y)*((x-t)/(p-t))+y&&(E=!E)}return E}strokeContains(h,x,E,M=.5){const w=E*E,v=w*(1-M),y=w-v,{points:t}=this,o=t.length-(this.closePath?0:2);for(let p=0;p<o;p+=2){const a=t[p],n=t[p+1],i=t[(p+2)%t.length],e=t[(p+3)%t.length],r=um(h,x,a,n,i,e),l=Math.sign((i-a)*(x-n)-(e-n)*(h-a));if(r<=(l<0?y:v))return!0}return!1}getBounds(h){h||(h=new Vt);const x=this.points;let E=1/0,M=-1/0,w=1/0,v=-1/0;for(let y=0,t=x.length;y<t;y+=2){const o=x[y],p=x[y+1];E=o<E?o:E,M=o>M?o:M,w=p<w?p:w,v=p>v?p:v}return h.x=E,h.width=M-E,h.y=w,h.height=v-w,h}copyFrom(h){return this.points=h.points.slice(),this.closePath=h.closePath,this}copyTo(h){return h.copyFrom(this),h}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((h,x)=>`${h}, ${x}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return this.points[this.points.length-2]}get y(){return this.points[this.points.length-1]}}const ks=(g,h,x,E,M,w,v)=>{const y=g-x,t=h-E,o=Math.sqrt(y*y+t*t);return o>=M-w&&o<=M+v};class Ya{constructor(h=0,x=0,E=0,M=0,w=20){this.type="roundedRectangle",this.x=h,this.y=x,this.width=E,this.height=M,this.radius=w}getBounds(h){return h||(h=new Vt),h.x=this.x,h.y=this.y,h.width=this.width,h.height=this.height,h}clone(){return new Ya(this.x,this.y,this.width,this.height,this.radius)}copyFrom(h){return this.x=h.x,this.y=h.y,this.width=h.width,this.height=h.height,this}copyTo(h){return h.copyFrom(this),h}contains(h,x){if(this.width<=0||this.height<=0)return!1;if(h>=this.x&&h<=this.x+this.width&&x>=this.y&&x<=this.y+this.height){const E=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(x>=this.y+E&&x<=this.y+this.height-E||h>=this.x+E&&h<=this.x+this.width-E)return!0;let M=h-(this.x+E),w=x-(this.y+E);const v=E*E;if(M*M+w*w<=v||(M=h-(this.x+this.width-E),M*M+w*w<=v)||(w=x-(this.y+this.height-E),M*M+w*w<=v)||(M=h-(this.x+E),M*M+w*w<=v))return!0}return!1}strokeContains(h,x,E,M=.5){const{x:w,y:v,width:y,height:t,radius:o}=this,p=E*(1-M),a=E-p,n=w+o,i=v+o,e=y-o*2,r=t-o*2,l=w+y,s=v+t;return(h>=w-p&&h<=w+a||h>=l-a&&h<=l+p)&&x>=i&&x<=i+r||(x>=v-p&&x<=v+a||x>=s-a&&x<=s+p)&&h>=n&&h<=n+e?!0:h<n&&x<i&&ks(h,x,n,i,o,a,p)||h>l-o&&x<i&&ks(h,x,l-o,i,o,a,p)||h>l-o&&x>s-o&&ks(h,x,l-o,s-o,o,a,p)||h<n&&x>s-o&&ks(h,x,n,s-o,o,a,p)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}const fm=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function dm(g){let h="";for(let x=0;x<g;++x)x>0&&(h+=`
else `),x<g-1&&(h+=`if(test == ${x}.0){}`);return h}function cm(g,h){if(g===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const x=h.createShader(h.FRAGMENT_SHADER);try{for(;;){const E=fm.replace(/%forloop%/gi,dm(g));if(h.shaderSource(x,E),h.compileShader(x),!h.getShaderParameter(x,h.COMPILE_STATUS))g=g/2|0;else break}}finally{h.deleteShader(x)}return g}let Pi=null;function Tf(){var h;if(Pi)return Pi;const g=_u();return Pi=g.getParameter(g.MAX_TEXTURE_IMAGE_UNITS),Pi=cm(Pi,g),(h=g.getExtension("WEBGL_lose_context"))==null||h.loseContext(),Pi}const Sf={};function vm(g,h){let x=2166136261;for(let E=0;E<h;E++)x^=g[E].uid,x=Math.imul(x,16777619),x>>>=0;return Sf[x]||pm(g,h,x)}let gr=0;function pm(g,h,x){const E={};let M=0;gr||(gr=Tf());for(let v=0;v<gr;v++){const y=v<h?g[v]:xt.EMPTY.source;E[M++]=y.source,E[M++]=y.style}const w=new un(E);return Sf[x]=w,w}class uh{constructor(h){typeof h=="number"?this.rawBinaryData=new ArrayBuffer(h):h instanceof Uint8Array?this.rawBinaryData=h.buffer:this.rawBinaryData=h,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(h){return this[`${h}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this.uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(h){switch(h){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${h} isn't a valid view type`)}}}function fh(g,h){const x=g.byteLength/8|0,E=new Float64Array(g,0,x);new Float64Array(h,0,x).set(E);const w=g.byteLength-x*8;if(w>0){const v=new Uint8Array(g,x*8,w);new Uint8Array(h,x*8,w).set(v)}}const mm={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var gm=(g=>(g[g.DISABLED=0]="DISABLED",g[g.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",g[g.MASK_ACTIVE=2]="MASK_ACTIVE",g[g.INVERSE_MASK_ACTIVE=3]="INVERSE_MASK_ACTIVE",g[g.RENDERING_MASK_REMOVE=4]="RENDERING_MASK_REMOVE",g[g.NONE=5]="NONE",g))(gm||{});function dh(g,h){return h.alphaMode==="no-premultiply-alpha"&&mm[g]||g}class xm{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let h=0;h<this.count;h++){const x=this.textures[h];this.textures[h]=null,this.ids[x.uid]=null}this.count=0}}class ym{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.textures=new xm,this.blendMode="normal",this.topology="triangle-strip",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}const Cf=[];let aa=0;function ch(){return aa>0?Cf[--aa]:new ym}function vh(g){Cf[aa++]=g}let ji=0;const Ef=class fn{constructor(h={}){this.uid=bt("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._elements=[],fn.defaultOptions.maxTextures=fn.defaultOptions.maxTextures??Tf(),h={...fn.defaultOptions,...h};const{maxTextures:x,attributesInitialSize:E,indicesInitialSize:M}=h;this.attributeBuffer=new uh(E*4),this.indexBuffer=new Uint16Array(M),this.maxTextures=x}begin(){this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0;for(let h=0;h<this.batchIndex;h++)vh(this.batches[h]);this.batchIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(h){this._elements[this.elementSize++]=h,h._indexStart=this.indexSize,h._attributeStart=this.attributeSize,h._batcher=this,this.indexSize+=h.indexSize,this.attributeSize+=h.attributeSize*this.vertexSize}checkAndUpdateTexture(h,x){const E=h._batch.textures.ids[x._source.uid];return!E&&E!==0?!1:(h._textureId=E,h.texture=x,!0)}updateElement(h){this.dirty=!0;const x=this.attributeBuffer;h.packAsQuad?this.packQuadAttributes(h,x.float32View,x.uint32View,h._attributeStart,h._textureId):this.packAttributes(h,x.float32View,x.uint32View,h._attributeStart,h._textureId)}break(h){const x=this._elements;if(!x[this.elementStart])return;let E=ch(),M=E.textures;M.clear();const w=x[this.elementStart];let v=dh(w.blendMode,w.texture._source),y=w.topology;this.attributeSize*4>this.attributeBuffer.size&&this._resizeAttributeBuffer(this.attributeSize*4),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const t=this.attributeBuffer.float32View,o=this.attributeBuffer.uint32View,p=this.indexBuffer;let a=this._batchIndexSize,n=this._batchIndexStart,i="startBatch";const e=this.maxTextures;for(let r=this.elementStart;r<this.elementSize;++r){const l=x[r];x[r]=null;const u=l.texture._source,d=dh(l.blendMode,u),f=v!==d||y!==l.topology;if(u._batchTick===ji&&!f){l._textureId=u._textureBindLocation,a+=l.indexSize,l.packAsQuad?(this.packQuadAttributes(l,t,o,l._attributeStart,l._textureId),this.packQuadIndex(p,l._indexStart,l._attributeStart/this.vertexSize)):(this.packAttributes(l,t,o,l._attributeStart,l._textureId),this.packIndex(l,p,l._indexStart,l._attributeStart/this.vertexSize)),l._batch=E;continue}u._batchTick=ji,(M.count>=e||f)&&(this._finishBatch(E,n,a-n,M,v,y,h,i),i="renderBatch",n=a,v=d,y=l.topology,E=ch(),M=E.textures,M.clear(),++ji),l._textureId=u._textureBindLocation=M.count,M.ids[u.uid]=M.count,M.textures[M.count++]=u,l._batch=E,a+=l.indexSize,l.packAsQuad?(this.packQuadAttributes(l,t,o,l._attributeStart,l._textureId),this.packQuadIndex(p,l._indexStart,l._attributeStart/this.vertexSize)):(this.packAttributes(l,t,o,l._attributeStart,l._textureId),this.packIndex(l,p,l._indexStart,l._attributeStart/this.vertexSize))}M.count>0&&(this._finishBatch(E,n,a-n,M,v,y,h,i),n=a,++ji),this.elementStart=this.elementSize,this._batchIndexStart=n,this._batchIndexSize=a}_finishBatch(h,x,E,M,w,v,y,t){h.gpuBindGroup=null,h.bindGroup=null,h.action=t,h.batcher=this,h.textures=M,h.blendMode=w,h.topology=v,h.start=x,h.size=E,++ji,this.batches[this.batchIndex++]=h,y.add(h)}finish(h){this.break(h)}ensureAttributeBuffer(h){h*4<=this.attributeBuffer.size||this._resizeAttributeBuffer(h*4)}ensureIndexBuffer(h){h<=this.indexBuffer.length||this._resizeIndexBuffer(h)}_resizeAttributeBuffer(h){const x=Math.max(h,this.attributeBuffer.size*2),E=new uh(x);fh(this.attributeBuffer.rawBinaryData,E.rawBinaryData),this.attributeBuffer=E}_resizeIndexBuffer(h){const x=this.indexBuffer;let E=Math.max(h,x.length*1.5);E+=E%2;const M=E>65535?new Uint32Array(E):new Uint16Array(E);if(M.BYTES_PER_ELEMENT!==x.BYTES_PER_ELEMENT)for(let w=0;w<x.length;w++)M[w]=x[w];else fh(x.buffer,M.buffer);this.indexBuffer=M}packQuadIndex(h,x,E){h[x]=E+0,h[x+1]=E+1,h[x+2]=E+2,h[x+3]=E+0,h[x+4]=E+2,h[x+5]=E+3}packIndex(h,x,E,M){const w=h.indices,v=h.indexSize,y=h.indexOffset,t=h.attributeOffset;for(let o=0;o<v;o++)x[E++]=M+w[o+y]-t}destroy(){for(let h=0;h<this.batches.length;h++)vh(this.batches[h]);this.batches=null;for(let h=0;h<this._elements.length;h++)this._elements[h]._batch=null;this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}};Ef.defaultOptions={maxTextures:null,attributesInitialSize:4,indicesInitialSize:6};let Tm=Ef;var ie=(g=>(g[g.MAP_READ=1]="MAP_READ",g[g.MAP_WRITE=2]="MAP_WRITE",g[g.COPY_SRC=4]="COPY_SRC",g[g.COPY_DST=8]="COPY_DST",g[g.INDEX=16]="INDEX",g[g.VERTEX=32]="VERTEX",g[g.UNIFORM=64]="UNIFORM",g[g.STORAGE=128]="STORAGE",g[g.INDIRECT=256]="INDIRECT",g[g.QUERY_RESOLVE=512]="QUERY_RESOLVE",g[g.STATIC=1024]="STATIC",g))(ie||{});class Ms extends Te{constructor(h){let{data:x,size:E}=h;const{usage:M,label:w,shrinkToFit:v}=h;super(),this.uid=bt("buffer"),this._resourceType="buffer",this._resourceId=bt("resource"),this._touched=0,this._updateID=1,this._dataInt32=null,this.shrinkToFit=!0,this.destroyed=!1,x instanceof Array&&(x=new Float32Array(x)),this._data=x,E??(E=x==null?void 0:x.byteLength);const y=!!x;this.descriptor={size:E,usage:M,mappedAtCreation:y,label:w},this.shrinkToFit=v??!0}get data(){return this._data}set data(h){this.setDataWithSize(h,h.length,!0)}get dataInt32(){return this._dataInt32||(this._dataInt32=new Int32Array(this.data.buffer)),this._dataInt32}get static(){return!!(this.descriptor.usage&ie.STATIC)}set static(h){h?this.descriptor.usage|=ie.STATIC:this.descriptor.usage&=~ie.STATIC}setDataWithSize(h,x,E){if(this._updateID++,this._updateSize=x*h.BYTES_PER_ELEMENT,this._data===h){E&&this.emit("update",this);return}const M=this._data;if(this._data=h,this._dataInt32=null,!M||M.length!==h.length){!this.shrinkToFit&&M&&h.byteLength<M.byteLength?E&&this.emit("update",this):(this.descriptor.size=h.byteLength,this._resourceId=bt("resource"),this.emit("change",this));return}E&&this.emit("update",this)}update(h){this._updateSize=h??this._updateSize,this._updateID++,this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}}function Af(g,h){if(!(g instanceof Ms)){let x=h?ie.INDEX:ie.VERTEX;g instanceof Array&&(h?(g=new Uint32Array(g),x=ie.INDEX|ie.COPY_DST):(g=new Float32Array(g),x=ie.VERTEX|ie.COPY_DST)),g=new Ms({data:g,label:h?"index-mesh-buffer":"vertex-mesh-buffer",usage:x})}return g}function Sm(g,h,x){const E=g.getAttribute(h);if(!E)return x.minX=0,x.minY=0,x.maxX=0,x.maxY=0,x;const M=E.buffer.data;let w=1/0,v=1/0,y=-1/0,t=-1/0;const o=M.BYTES_PER_ELEMENT,p=(E.offset||0)/o,a=(E.stride||2*4)/o;for(let n=p;n<M.length;n+=a){const i=M[n],e=M[n+1];i>y&&(y=i),e>t&&(t=e),i<w&&(w=i),e<v&&(v=e)}return x.minX=w,x.minY=v,x.maxX=y,x.maxY=t,x}function Cm(g){return(g instanceof Ms||Array.isArray(g)||g.BYTES_PER_ELEMENT)&&(g={buffer:g}),g.buffer=Af(g.buffer,!1),g}class Em extends Te{constructor(h={}){super(),this.uid=bt("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new xe,this._boundsDirty=!0;const{attributes:x,indexBuffer:E,topology:M}=h;if(this.buffers=[],this.attributes={},x)for(const w in x)this.addAttribute(w,x[w]);this.instanceCount=h.instanceCount??1,E&&this.addIndex(E),this.topology=M||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(h){return this.attributes[h]}getIndex(){return this.indexBuffer}getBuffer(h){return this.getAttribute(h).buffer}getSize(){for(const h in this.attributes){const x=this.attributes[h];return x.buffer.data.length/(x.stride/4||x.size)}return 0}addAttribute(h,x){const E=Cm(x);this.buffers.indexOf(E.buffer)===-1&&(this.buffers.push(E.buffer),E.buffer.on("update",this.onBufferUpdate,this),E.buffer.on("change",this.onBufferUpdate,this)),this.attributes[h]=E}addIndex(h){this.indexBuffer=Af(h,!0),this.buffers.push(this.indexBuffer)}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,Sm(this,"aPosition",this._bounds)):this._bounds}destroy(h=!1){this.emit("destroy",this),this.removeAllListeners(),h&&this.buffers.forEach(x=>x.destroy()),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}const Am=new Float32Array(1),Pm=new Uint32Array(1);class Mm extends Em{constructor(){const x=new Ms({data:Am,label:"attribute-batch-buffer",usage:ie.VERTEX|ie.COPY_DST,shrinkToFit:!1}),E=new Ms({data:Pm,label:"index-batch-buffer",usage:ie.INDEX|ie.COPY_DST,shrinkToFit:!1}),M=6*4;super({attributes:{aPosition:{buffer:x,format:"float32x2",stride:M,offset:0},aUV:{buffer:x,format:"float32x2",stride:M,offset:2*4},aColor:{buffer:x,format:"unorm8x4",stride:M,offset:4*4},aTextureIdAndRound:{buffer:x,format:"uint16x2",stride:M,offset:5*4}},indexBuffer:E})}}function ph(g,h,x){if(g)for(const E in g){const M=E.toLocaleLowerCase(),w=h[M];if(w){let v=g[E];E==="header"&&(v=v.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),x&&w.push(`//----${x}----//`),w.push(v)}else Nt(`${E} placement hook does not exist in shader`)}}const Rm=/\{\{(.*?)\}\}/g;function mh(g){var E;const h={};return(((E=g.match(Rm))==null?void 0:E.map(M=>M.replace(/[{()}]/g,"")))??[]).forEach(M=>{h[M]=[]}),h}function gh(g,h){let x;const E=/@in\s+([^;]+);/g;for(;(x=E.exec(g))!==null;)h.push(x[1])}function xh(g,h,x=!1){const E=[];gh(h,E),g.forEach(y=>{y.header&&gh(y.header,E)});const M=E;x&&M.sort();const w=M.map((y,t)=>`       @location(${t}) ${y},`).join(`
`);let v=h.replace(/@in\s+[^;]+;\s*/g,"");return v=v.replace("{{in}}",`
${w}
`),v}function yh(g,h){let x;const E=/@out\s+([^;]+);/g;for(;(x=E.exec(g))!==null;)h.push(x[1])}function wm(g){const x=/\b(\w+)\s*:/g.exec(g);return x?x[1]:""}function Fm(g){const h=/@.*?\s+/g;return g.replace(h,"")}function Lm(g,h){const x=[];yh(h,x),g.forEach(t=>{t.header&&yh(t.header,x)});let E=0;const M=x.sort().map(t=>t.indexOf("builtin")>-1?t:`@location(${E++}) ${t}`).join(`,
`),w=x.sort().map(t=>`       var ${Fm(t)};`).join(`
`),v=`return VSOutput(
            ${x.sort().map(t=>` ${wm(t)}`).join(`,
`)});`;let y=h.replace(/@out\s+[^;]+;\s*/g,"");return y=y.replace("{{struct}}",`
${M}
`),y=y.replace("{{start}}",`
${w}
`),y=y.replace("{{return}}",`
${v}
`),y}function Th(g,h){let x=g;for(const E in h){const M=h[E];M.join(`
`).length?x=x.replace(`{{${E}}}`,`//-----${E} START-----//
${M.join(`
`)}
//----${E} FINISH----//`):x=x.replace(`{{${E}}}`,"")}return x}const Je=Object.create(null),xr=new Map;let Om=0;function Dm({template:g,bits:h}){const x=Pf(g,h);if(Je[x])return Je[x];const{vertex:E,fragment:M}=Bm(g,h);return Je[x]=Mf(E,M,h),Je[x]}function Im({template:g,bits:h}){const x=Pf(g,h);return Je[x]||(Je[x]=Mf(g.vertex,g.fragment,h)),Je[x]}function Bm(g,h){const x=h.map(v=>v.vertex).filter(v=>!!v),E=h.map(v=>v.fragment).filter(v=>!!v);let M=xh(x,g.vertex,!0);M=Lm(x,M);const w=xh(E,g.fragment,!0);return{vertex:M,fragment:w}}function Pf(g,h){return h.map(x=>(xr.has(x)||xr.set(x,Om++),xr.get(x))).sort((x,E)=>x-E).join("-")+g.vertex+g.fragment}function Mf(g,h,x){const E=mh(g),M=mh(h);return x.forEach(w=>{ph(w.vertex,E,w.name),ph(w.fragment,M,w.name)}),{vertex:Th(g,E),fragment:Th(h,M)}}const bm=`
    @in aPosition: vec2<f32>;
    @in aUV: vec2<f32>;

    @out @builtin(position) vPosition: vec4<f32>;
    @out vUV : vec2<f32>;
    @out vColor : vec4<f32>;

    {{header}}

    struct VSOutput {
        {{struct}}
    };

    @vertex
    fn main( {{in}} ) -> VSOutput {

        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
        var modelMatrix = mat3x3<f32>(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        var position = aPosition;
        var uv = aUV;

        {{start}}
        
        vColor = vec4<f32>(1., 1., 1., 1.);

        {{main}}

        vUV = uv;

        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);
       
        vColor *= globalUniforms.uWorldColorAlpha;

        {{end}}

        {{return}}
    };
`,Gm=`
    @in vUV : vec2<f32>;
    @in vColor : vec4<f32>;
   
    {{header}}

    @fragment
    fn main(
        {{in}}
      ) -> @location(0) vec4<f32> {
        
        {{start}}

        var outColor:vec4<f32>;
      
        {{main}}
        
        var finalColor:vec4<f32> = outColor * vColor;

        {{end}}

        return finalColor;
      };
`,Nm=`
    in vec2 aPosition;
    in vec2 aUV;

    out vec4 vColor;
    out vec2 vUV;

    {{header}}

    void main(void){

        mat3 worldTransformMatrix = uWorldTransformMatrix;
        mat3 modelMatrix = mat3(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        vec2 position = aPosition;
        vec2 uv = aUV;
        
        {{start}}
        
        vColor = vec4(1.);
        
        {{main}}
        
        vUV = uv;
        
        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

        vColor *= uWorldColorAlpha;

        {{end}}
    }
`,zm=`
   
    in vec4 vColor;
    in vec2 vUV;

    out vec4 finalColor;

    {{header}}

    void main(void) {
        
        {{start}}

        vec4 outColor;
      
        {{main}}
        
        finalColor = outColor * vColor;
        
        {{end}}
    }
`,Um={name:"global-uniforms-bit",vertex:{header:`
        struct GlobalUniforms {
            uProjectionMatrix:mat3x3<f32>,
            uWorldTransformMatrix:mat3x3<f32>,
            uWorldColorAlpha: vec4<f32>,
            uResolution: vec2<f32>,
        }

        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
        `}},Vm={name:"global-uniforms-bit",vertex:{header:`
          uniform mat3 uProjectionMatrix;
          uniform mat3 uWorldTransformMatrix;
          uniform vec4 uWorldColorAlpha;
          uniform vec2 uResolution;
        `}};function Xm({bits:g,name:h}){const x=Dm({template:{fragment:Gm,vertex:bm},bits:[Um,...g]});return Nn.from({name:h,vertex:{source:x.vertex,entryPoint:"main"},fragment:{source:x.fragment,entryPoint:"main"}})}function Ym({bits:g,name:h}){return new ef({name:h,...Im({template:{vertex:Nm,fragment:zm},bits:[Vm,...g]})})}const Wm={name:"color-bit",vertex:{header:`
            @in aColor: vec4<f32>;
        `,main:`
            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
        `}},Hm={name:"color-bit",vertex:{header:`
            in vec4 aColor;
        `,main:`
            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
        `}},yr={};function Km(g){const h=[];if(g===1)h.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),h.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let x=0;for(let E=0;E<g;E++)h.push(`@group(1) @binding(${x++}) var textureSource${E+1}: texture_2d<f32>;`),h.push(`@group(1) @binding(${x++}) var textureSampler${E+1}: sampler;`)}return h.join(`
`)}function Zm(g){const h=[];if(g===1)h.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{h.push("switch vTextureId {");for(let x=0;x<g;x++)x===g-1?h.push("  default:{"):h.push(`  case ${x}:{`),h.push(`      outColor = textureSampleGrad(textureSource${x+1}, textureSampler${x+1}, vUV, uvDx, uvDy);`),h.push("      break;}");h.push("}")}return h.join(`
`)}function Qm(g){return yr[g]||(yr[g]={name:"texture-batch-bit",vertex:{header:`
                @in aTextureIdAndRound: vec2<u32>;
                @out @interpolate(flat) vTextureId : u32;
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1)
                {
                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
                }
            `},fragment:{header:`
                @in @interpolate(flat) vTextureId: u32;

                ${Km(g)}
            `,main:`
                var uvDx = dpdx(vUV);
                var uvDy = dpdy(vUV);

                ${Zm(g)}
            `}}),yr[g]}const Tr={};function Jm(g){const h=[];for(let x=0;x<g;x++)x>0&&h.push("else"),x<g-1&&h.push(`if(vTextureId < ${x}.5)`),h.push("{"),h.push(`	outColor = texture(uTextures[${x}], vUV);`),h.push("}");return h.join(`
`)}function $m(g){return Tr[g]||(Tr[g]={name:"texture-batch-bit",vertex:{header:`
                in vec2 aTextureIdAndRound;
                out float vTextureId;

            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1.)
                {
                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
                }
            `},fragment:{header:`
                in float vTextureId;

                uniform sampler2D uTextures[${g}];

            `,main:`

                ${Jm(g)}
            `}}),Tr[g]}const jm={name:"round-pixels-bit",vertex:{header:`
            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32> 
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},km={name:"round-pixels-bit",vertex:{header:`   
            vec2 roundPixels(vec2 position, vec2 targetSize)
            {       
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},Sh={};function qm(g){let h=Sh[g];if(h)return h;const x=new Int32Array(g);for(let E=0;E<g;E++)x[E]=E;return h=Sh[g]=new af({uTextures:{value:x,type:"i32",size:g}},{isStatic:!0}),h}class _m extends za{constructor(h){const x=Ym({name:"batch",bits:[Hm,$m(h),km]}),E=Xm({name:"batch",bits:[Wm,Qm(h),jm]});super({glProgram:x,gpuProgram:E,resources:{batchSamplers:qm(h)}})}}let Ch=null;const Rf=class wf extends Tm{constructor(){super(...arguments),this.geometry=new Mm,this.shader=Ch||(Ch=new _m(this.maxTextures)),this.name=wf.extension.name,this.vertexSize=6}packAttributes(h,x,E,M,w){const v=w<<16|h.roundPixels&65535,y=h.transform,t=y.a,o=y.b,p=y.c,a=y.d,n=y.tx,i=y.ty,{positions:e,uvs:r}=h,l=h.color,s=h.attributeOffset,u=s+h.attributeSize;for(let d=s;d<u;d++){const f=d*2,c=e[f],m=e[f+1];x[M++]=t*c+p*m+n,x[M++]=a*m+o*c+i,x[M++]=r[f],x[M++]=r[f+1],E[M++]=l,E[M++]=v}}packQuadAttributes(h,x,E,M,w){const v=h.texture,y=h.transform,t=y.a,o=y.b,p=y.c,a=y.d,n=y.tx,i=y.ty,e=h.bounds,r=e.maxX,l=e.minX,s=e.maxY,u=e.minY,d=v.uvs,f=h.color,c=w<<16|h.roundPixels&65535;x[M+0]=t*l+p*u+n,x[M+1]=a*u+o*l+i,x[M+2]=d.x0,x[M+3]=d.y0,E[M+4]=f,E[M+5]=c,x[M+6]=t*r+p*u+n,x[M+7]=a*u+o*r+i,x[M+8]=d.x1,x[M+9]=d.y1,E[M+10]=f,E[M+11]=c,x[M+12]=t*r+p*s+n,x[M+13]=a*s+o*r+i,x[M+14]=d.x2,x[M+15]=d.y2,E[M+16]=f,E[M+17]=c,x[M+18]=t*l+p*s+n,x[M+19]=a*s+o*l+i,x[M+20]=d.x3,x[M+21]=d.y3,E[M+22]=f,E[M+23]=c}};Rf.extension={type:[ut.Batcher],name:"default"};let tg=Rf;function eg(g,h,x,E,M,w,v,y=null){let t=0;x*=h,M*=w;const o=y.a,p=y.b,a=y.c,n=y.d,i=y.tx,e=y.ty;for(;t<v;){const r=g[x],l=g[x+1];E[M]=o*r+a*l+i,E[M+1]=p*r+n*l+e,M+=w,x+=h,t++}}function ig(g,h,x,E){let M=0;for(h*=x;M<E;)g[h]=0,g[h+1]=0,h+=x,M++}function Ff(g,h,x,E,M){const w=h.a,v=h.b,y=h.c,t=h.d,o=h.tx,p=h.ty;x||(x=0),E||(E=2),M||(M=g.length/E-x);let a=x*E;for(let n=0;n<M;n++){const i=g[a],e=g[a+1];g[a]=w*i+y*e+o,g[a+1]=v*i+t*e+p,a+=E}}const sg=new yt;class Lf{constructor(){this.packAsQuad=!1,this.batcherName="default",this.topology="triangle-list",this.applyTransform=!0,this.roundPixels=0,this._batcher=null,this._batch=null}get uvs(){return this.geometryData.uvs}get positions(){return this.geometryData.vertices}get indices(){return this.geometryData.indices}get blendMode(){return this.applyTransform?this.renderable.groupBlendMode:"normal"}get color(){const h=this.baseColor,x=h>>16|h&65280|(h&255)<<16,E=this.renderable;return E?Bu(x,E.groupColor)+(this.alpha*E.groupAlpha*255<<24):x+(this.alpha*255<<24)}get transform(){var h;return((h=this.renderable)==null?void 0:h.groupTransform)||sg}copyTo(h){h.indexOffset=this.indexOffset,h.indexSize=this.indexSize,h.attributeOffset=this.attributeOffset,h.attributeSize=this.attributeSize,h.baseColor=this.baseColor,h.alpha=this.alpha,h.texture=this.texture,h.geometryData=this.geometryData,h.topology=this.topology}reset(){this.applyTransform=!0,this.renderable=null,this.topology="triangle-list"}}const Rs={extension:{type:ut.ShapeBuilder,name:"circle"},build(g,h){let x,E,M,w,v,y;if(g.type==="circle"){const f=g;x=f.x,E=f.y,v=y=f.radius,M=w=0}else if(g.type==="ellipse"){const f=g;x=f.x,E=f.y,v=f.halfWidth,y=f.halfHeight,M=w=0}else{const f=g,c=f.width/2,m=f.height/2;x=f.x+c,E=f.y+m,v=y=Math.max(0,Math.min(f.radius,Math.min(c,m))),M=c-v,w=m-y}if(!(v>=0&&y>=0&&M>=0&&w>=0))return h;const t=Math.ceil(2.3*Math.sqrt(v+y)),o=t*8+(M?4:0)+(w?4:0);if(o===0)return h;if(t===0)return h[0]=h[6]=x+M,h[1]=h[3]=E+w,h[2]=h[4]=x-M,h[5]=h[7]=E-w,h;let p=0,a=t*4+(M?2:0)+2,n=a,i=o,e=M+v,r=w,l=x+e,s=x-e,u=E+r;if(h[p++]=l,h[p++]=u,h[--a]=u,h[--a]=s,w){const f=E-r;h[n++]=s,h[n++]=f,h[--i]=f,h[--i]=l}for(let f=1;f<t;f++){const c=Math.PI/2*(f/t),m=M+Math.cos(c)*v,T=w+Math.sin(c)*y,C=x+m,S=x-m,A=E+T,P=E-T;h[p++]=C,h[p++]=A,h[--a]=A,h[--a]=S,h[n++]=S,h[n++]=P,h[--i]=P,h[--i]=C}e=M,r=w+y,l=x+e,s=x-e,u=E+r;const d=E-r;return h[p++]=l,h[p++]=u,h[--i]=d,h[--i]=l,M&&(h[p++]=s,h[p++]=u,h[--i]=d,h[--i]=s),h},triangulate(g,h,x,E,M,w){if(g.length===0)return;let v=0,y=0;for(let p=0;p<g.length;p+=2)v+=g[p],y+=g[p+1];v/=g.length/2,y/=g.length/2;let t=E;h[t*x]=v,h[t*x+1]=y;const o=t++;for(let p=0;p<g.length;p+=2)h[t*x]=g[p],h[t*x+1]=g[p+1],p>0&&(M[w++]=t,M[w++]=o,M[w++]=t-1),t++;M[w++]=o+1,M[w++]=o,M[w++]=t-1}},ng={...Rs,extension:{...Rs.extension,name:"ellipse"}},rg={...Rs,extension:{...Rs.extension,name:"roundedRectangle"}},Of=1e-4,Eh=1e-4;function ag(g){const h=g.length;if(h<6)return 1;let x=0;for(let E=0,M=g[h-2],w=g[h-1];E<h;E+=2){const v=g[E],y=g[E+1];x+=(v-M)*(y+w),M=v,w=y}return x<0?-1:1}function Ah(g,h,x,E,M,w,v,y){const t=g-x*M,o=h-E*M,p=g+x*w,a=h+E*w;let n,i;v?(n=E,i=-x):(n=-E,i=x);const e=t+n,r=o+i,l=p+n,s=a+i;return y.push(e,r),y.push(l,s),2}function ui(g,h,x,E,M,w,v,y){const t=x-g,o=E-h;let p=Math.atan2(t,o),a=Math.atan2(M-g,w-h);y&&p<a?p+=Math.PI*2:!y&&p>a&&(a+=Math.PI*2);let n=p;const i=a-p,e=Math.abs(i),r=Math.sqrt(t*t+o*o),l=(15*e*Math.sqrt(r)/Math.PI>>0)+1,s=i/l;if(n+=s,y){v.push(g,h),v.push(x,E);for(let u=1,d=n;u<l;u++,d+=s)v.push(g,h),v.push(g+Math.sin(d)*r,h+Math.cos(d)*r);v.push(g,h),v.push(M,w)}else{v.push(x,E),v.push(g,h);for(let u=1,d=n;u<l;u++,d+=s)v.push(g+Math.sin(d)*r,h+Math.cos(d)*r),v.push(g,h);v.push(M,w),v.push(g,h)}return l*2}function og(g,h,x,E,M,w){const v=Of;if(g.length===0)return;const y=h;let t=y.alignment;if(h.alignment!==.5){let z=ag(g);t=(t-.5)*z+.5}const o=new $t(g[0],g[1]),p=new $t(g[g.length-2],g[g.length-1]),a=E,n=Math.abs(o.x-p.x)<v&&Math.abs(o.y-p.y)<v;if(a){g=g.slice(),n&&(g.pop(),g.pop(),p.set(g[g.length-2],g[g.length-1]));const z=(o.x+p.x)*.5,V=(p.y+o.y)*.5;g.unshift(z,V),g.push(z,V)}const i=M,e=g.length/2;let r=g.length;const l=i.length/2,s=y.width/2,u=s*s,d=y.miterLimit*y.miterLimit;let f=g[0],c=g[1],m=g[2],T=g[3],C=0,S=0,A=-(c-T),P=f-m,R=0,F=0,D=Math.sqrt(A*A+P*P);A/=D,P/=D,A*=s,P*=s;const L=t,O=(1-L)*2,B=L*2;a||(y.cap==="round"?r+=ui(f-A*(O-B)*.5,c-P*(O-B)*.5,f-A*O,c-P*O,f+A*B,c+P*B,i,!0)+2:y.cap==="square"&&(r+=Ah(f,c,A,P,O,B,!0,i))),i.push(f-A*O,c-P*O),i.push(f+A*B,c+P*B);for(let z=1;z<e-1;++z){f=g[(z-1)*2],c=g[(z-1)*2+1],m=g[z*2],T=g[z*2+1],C=g[(z+1)*2],S=g[(z+1)*2+1],A=-(c-T),P=f-m,D=Math.sqrt(A*A+P*P),A/=D,P/=D,A*=s,P*=s,R=-(T-S),F=m-C,D=Math.sqrt(R*R+F*F),R/=D,F/=D,R*=s,F*=s;const V=m-f,W=c-T,K=m-C,U=S-T,Y=V*K+W*U,I=W*K-U*V,N=I<0;if(Math.abs(I)<.001*Math.abs(Y)){i.push(m-A*O,T-P*O),i.push(m+A*B,T+P*B),Y>=0&&(y.join==="round"?r+=ui(m,T,m-A*O,T-P*O,m-R*O,T-F*O,i,!1)+4:r+=2,i.push(m-R*B,T-F*B),i.push(m+R*O,T+F*O));continue}const G=(-A+f)*(-P+T)-(-A+m)*(-P+c),X=(-R+C)*(-F+T)-(-R+m)*(-F+S),H=(V*X-K*G)/I,Q=(U*G-W*X)/I,$=(H-m)*(H-m)+(Q-T)*(Q-T),Z=m+(H-m)*O,J=T+(Q-T)*O,j=m-(H-m)*B,k=T-(Q-T)*B,_=Math.min(V*V+W*W,K*K+U*U),q=N?O:B,et=_+q*q*u;$<=et?y.join==="bevel"||$/u>d?(N?(i.push(Z,J),i.push(m+A*B,T+P*B),i.push(Z,J),i.push(m+R*B,T+F*B)):(i.push(m-A*O,T-P*O),i.push(j,k),i.push(m-R*O,T-F*O),i.push(j,k)),r+=2):y.join==="round"?N?(i.push(Z,J),i.push(m+A*B,T+P*B),r+=ui(m,T,m+A*B,T+P*B,m+R*B,T+F*B,i,!0)+4,i.push(Z,J),i.push(m+R*B,T+F*B)):(i.push(m-A*O,T-P*O),i.push(j,k),r+=ui(m,T,m-A*O,T-P*O,m-R*O,T-F*O,i,!1)+4,i.push(m-R*O,T-F*O),i.push(j,k)):(i.push(Z,J),i.push(j,k)):(i.push(m-A*O,T-P*O),i.push(m+A*B,T+P*B),y.join==="round"?N?r+=ui(m,T,m+A*B,T+P*B,m+R*B,T+F*B,i,!0)+2:r+=ui(m,T,m-A*O,T-P*O,m-R*O,T-F*O,i,!1)+2:y.join==="miter"&&$/u<=d&&(N?(i.push(j,k),i.push(j,k)):(i.push(Z,J),i.push(Z,J)),r+=2),i.push(m-R*O,T-F*O),i.push(m+R*B,T+F*B),r+=2)}f=g[(e-2)*2],c=g[(e-2)*2+1],m=g[(e-1)*2],T=g[(e-1)*2+1],A=-(c-T),P=f-m,D=Math.sqrt(A*A+P*P),A/=D,P/=D,A*=s,P*=s,i.push(m-A*O,T-P*O),i.push(m+A*B,T+P*B),a||(y.cap==="round"?r+=ui(m-A*(O-B)*.5,T-P*(O-B)*.5,m-A*O,T-P*O,m+A*B,T+P*B,i,!1)+2:y.cap==="square"&&(r+=Ah(m,T,A,P,O,B,!1,i)));const b=Eh*Eh;for(let z=l;z<r+l-2;++z)f=i[z*2],c=i[z*2+1],m=i[(z+1)*2],T=i[(z+1)*2+1],C=i[(z+2)*2],S=i[(z+2)*2+1],!(Math.abs(f*(T-S)+m*(S-c)+C*(c-T))<b)&&w.push(z,z+1,z+2)}function hg(g,h,x,E){const M=Of;if(g.length===0)return;const w=g[0],v=g[1],y=g[g.length-2],t=g[g.length-1],o=h||Math.abs(w-y)<M&&Math.abs(v-t)<M,p=x,a=g.length/2,n=p.length/2;for(let i=0;i<a;i++)p.push(g[i*2]),p.push(g[i*2+1]);for(let i=0;i<a-1;i++)E.push(n+i,n+i+1);o&&E.push(n+a-1,n)}function Df(g,h,x,E,M,w,v){const y=j0(g,h,2);if(!y)return;for(let o=0;o<y.length;o+=3)w[v++]=y[o]+M,w[v++]=y[o+1]+M,w[v++]=y[o+2]+M;let t=M*E;for(let o=0;o<g.length;o+=2)x[t]=g[o],x[t+1]=g[o+1],t+=E}const lg=[],ug={extension:{type:ut.ShapeBuilder,name:"polygon"},build(g,h){for(let x=0;x<g.points.length;x++)h[x]=g.points[x];return h},triangulate(g,h,x,E,M,w){Df(g,lg,h,x,E,M,w)}},fg={extension:{type:ut.ShapeBuilder,name:"rectangle"},build(g,h){const x=g,E=x.x,M=x.y,w=x.width,v=x.height;return w>=0&&v>=0&&(h[0]=E,h[1]=M,h[2]=E+w,h[3]=M,h[4]=E+w,h[5]=M+v,h[6]=E,h[7]=M+v),h},triangulate(g,h,x,E,M,w){let v=0;E*=x,h[E+v]=g[0],h[E+v+1]=g[1],v+=x,h[E+v]=g[2],h[E+v+1]=g[3],v+=x,h[E+v]=g[6],h[E+v+1]=g[7],v+=x,h[E+v]=g[4],h[E+v+1]=g[5],v+=x;const y=E/x;M[w++]=y,M[w++]=y+1,M[w++]=y+2,M[w++]=y+1,M[w++]=y+3,M[w++]=y+2}},dg={extension:{type:ut.ShapeBuilder,name:"triangle"},build(g,h){return h[0]=g.x,h[1]=g.y,h[2]=g.x2,h[3]=g.y2,h[4]=g.x3,h[5]=g.y3,h},triangulate(g,h,x,E,M,w){let v=0;E*=x,h[E+v]=g[0],h[E+v+1]=g[1],v+=x,h[E+v]=g[2],h[E+v+1]=g[3],v+=x,h[E+v]=g[4],h[E+v+1]=g[5];const y=E/x;M[w++]=y,M[w++]=y+1,M[w++]=y+2}},Xn={};_t.handleByMap(ut.ShapeBuilder,Xn);_t.add(fg,ug,dg,Rs,ng,rg);const cg=new Vt;function vg(g,h){const{geometryData:x,batches:E}=h;E.length=0,x.indices.length=0,x.vertices.length=0,x.uvs.length=0;for(let M=0;M<g.instructions.length;M++){const w=g.instructions[M];if(w.action==="texture")pg(w.data,E,x);else if(w.action==="fill"||w.action==="stroke"){const v=w.action==="stroke",y=w.data.path.shapePath,t=w.data.style,o=w.data.hole;v&&o&&Ph(o.shapePath,t,null,!0,E,x),Ph(y,t,o,v,E,x)}}}function pg(g,h,x){const{vertices:E,uvs:M,indices:w}=x,v=w.length,y=E.length/2,t=[],o=Xn.rectangle,p=cg,a=g.image;p.x=g.dx,p.y=g.dy,p.width=g.dw,p.height=g.dh;const n=g.transform;o.build(p,t),n&&Ff(t,n),o.triangulate(t,E,2,y,w,v);const i=a.uvs;M.push(i.x0,i.y0,i.x1,i.y1,i.x3,i.y3,i.x2,i.y2);const e=Ge.get(Lf);e.indexOffset=v,e.indexSize=w.length-v,e.attributeOffset=y,e.attributeSize=E.length/2-y,e.baseColor=g.style,e.alpha=g.alpha,e.texture=a,e.geometryData=x,h.push(e)}function Ph(g,h,x,E,M,w){const{vertices:v,uvs:y,indices:t}=w,o=g.shapePrimitives.length-1;g.shapePrimitives.forEach(({shape:p,transform:a},n)=>{const i=t.length,e=v.length/2,r=[],l=Xn[p.type];let s="triangle-list";if(l.build(p,r),a&&Ff(r,a),E){const c=p.closePath??!0,m=h;m.pixelLine?(hg(r,c,v,t),s="line-list"):og(r,m,!1,c,v,t)}else if(x&&o===n){o!==0&&console.warn("[Pixi Graphics] only the last shape have be cut out");const c=[],m=r.slice();mg(x.shapePath).forEach(C=>{c.push(m.length/2),m.push(...C)}),Df(m,c,v,2,e,t,i)}else l.triangulate(r,v,2,e,t,i);const u=y.length/2,d=h.texture;if(d!==xt.WHITE){const c=h.matrix;c&&(a&&c.append(a.clone().invert()),eg(v,2,e,y,u,2,v.length/2-e,c))}else ig(y,u,2,v.length/2-e);const f=Ge.get(Lf);f.indexOffset=i,f.indexSize=t.length-i,f.attributeOffset=e,f.attributeSize=v.length/2-e,f.baseColor=h.color,f.alpha=h.alpha,f.texture=d,f.geometryData=w,f.topology=s,M.push(f)})}function mg(g){if(!g)return[];const h=g.shapePrimitives,x=[];for(let E=0;E<h.length;E++){const M=h[E].shape,w=[];Xn[M.type].build(M,w),x.push(w)}return x}class gg{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}}class xg{constructor(){this.batcher=new tg,this.instructions=new zu}init(){this.instructions.reset()}get geometry(){return Ot(xp,"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."),this.batcher.geometry}}const Wa=class oa{constructor(h){this._gpuContextHash={},this._graphicsDataContextHash=Object.create(null),h.renderableGC.addManagedHash(this,"_gpuContextHash"),h.renderableGC.addManagedHash(this,"_graphicsDataContextHash")}init(h){oa.defaultOptions.bezierSmoothness=(h==null?void 0:h.bezierSmoothness)??oa.defaultOptions.bezierSmoothness}getContextRenderData(h){return this._graphicsDataContextHash[h.uid]||this._initContextRenderData(h)}updateGpuContext(h){let x=this._gpuContextHash[h.uid]||this._initContext(h);if(h.dirty){x?this._cleanGraphicsContextData(h):x=this._initContext(h),vg(h,x);const E=h.batchMode;h.customShader||E==="no-batch"?x.isBatchable=!1:E==="auto"&&(x.isBatchable=x.geometryData.vertices.length<400),h.dirty=!1}return x}getGpuContext(h){return this._gpuContextHash[h.uid]||this._initContext(h)}_initContextRenderData(h){const x=Ge.get(xg),{batches:E,geometryData:M}=this._gpuContextHash[h.uid],w=M.vertices.length,v=M.indices.length;for(let p=0;p<E.length;p++)E[p].applyTransform=!1;const y=x.batcher;y.ensureAttributeBuffer(w),y.ensureIndexBuffer(v),y.begin();for(let p=0;p<E.length;p++){const a=E[p];y.add(a)}y.finish(x.instructions);const t=y.geometry;t.indexBuffer.setDataWithSize(y.indexBuffer,y.indexSize,!0),t.buffers[0].setDataWithSize(y.attributeBuffer.float32View,y.attributeSize,!0);const o=y.batches;for(let p=0;p<o.length;p++){const a=o[p];a.bindGroup=vm(a.textures.textures,a.textures.count)}return this._graphicsDataContextHash[h.uid]=x,x}_initContext(h){const x=new gg;return x.context=h,this._gpuContextHash[h.uid]=x,h.on("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[h.uid]}onGraphicsContextDestroy(h){this._cleanGraphicsContextData(h),h.off("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[h.uid]=null}_cleanGraphicsContextData(h){const x=this._gpuContextHash[h.uid];x.isBatchable||this._graphicsDataContextHash[h.uid]&&(Ge.return(this.getContextRenderData(h)),this._graphicsDataContextHash[h.uid]=null),x.batches&&x.batches.forEach(E=>{Ge.return(E)})}destroy(){for(const h in this._gpuContextHash)this._gpuContextHash[h]&&this.onGraphicsContextDestroy(this._gpuContextHash[h].context)}};Wa.extension={type:[ut.WebGLSystem,ut.WebGPUSystem,ut.CanvasSystem],name:"graphicsContext"};Wa.defaultOptions={bezierSmoothness:.5};let If=Wa;const yg=8,qs=11920929e-14,Tg=1;function Bf(g,h,x,E,M,w,v,y,t,o){const a=Math.min(.99,Math.max(0,o??If.defaultOptions.bezierSmoothness));let n=(Tg-a)/1;return n*=n,Sg(h,x,E,M,w,v,y,t,g,n),g}function Sg(g,h,x,E,M,w,v,y,t,o){ha(g,h,x,E,M,w,v,y,t,o,0),t.push(v,y)}function ha(g,h,x,E,M,w,v,y,t,o,p){if(p>yg)return;const a=(g+x)/2,n=(h+E)/2,i=(x+M)/2,e=(E+w)/2,r=(M+v)/2,l=(w+y)/2,s=(a+i)/2,u=(n+e)/2,d=(i+r)/2,f=(e+l)/2,c=(s+d)/2,m=(u+f)/2;if(p>0){let T=v-g,C=y-h;const S=Math.abs((x-v)*C-(E-y)*T),A=Math.abs((M-v)*C-(w-y)*T);if(S>qs&&A>qs){if((S+A)*(S+A)<=o*(T*T+C*C)){t.push(c,m);return}}else if(S>qs){if(S*S<=o*(T*T+C*C)){t.push(c,m);return}}else if(A>qs){if(A*A<=o*(T*T+C*C)){t.push(c,m);return}}else if(T=c-(g+v)/2,C=m-(h+y)/2,T*T+C*C<=o){t.push(c,m);return}}ha(g,h,a,n,s,u,c,m,t,o,p+1),ha(c,m,d,f,r,l,v,y,t,o,p+1)}const Cg=8,Eg=11920929e-14,Ag=1;function Pg(g,h,x,E,M,w,v,y){const o=Math.min(.99,Math.max(0,y??If.defaultOptions.bezierSmoothness));let p=(Ag-o)/1;return p*=p,Mg(h,x,E,M,w,v,g,p),g}function Mg(g,h,x,E,M,w,v,y){la(v,g,h,x,E,M,w,y,0),v.push(M,w)}function la(g,h,x,E,M,w,v,y,t){if(t>Cg)return;const o=(h+E)/2,p=(x+M)/2,a=(E+w)/2,n=(M+v)/2,i=(o+a)/2,e=(p+n)/2;let r=w-h,l=v-x;const s=Math.abs((E-w)*l-(M-v)*r);if(s>Eg){if(s*s<=y*(r*r+l*l)){g.push(i,e);return}}else if(r=i-(h+w)/2,l=e-(x+v)/2,r*r+l*l<=y){g.push(i,e);return}la(g,h,x,o,p,i,e,y,t+1),la(g,i,e,a,n,w,v,y,t+1)}function bf(g,h,x,E,M,w,v,y){let t=Math.abs(M-w);(!v&&M>w||v&&w>M)&&(t=2*Math.PI-t),y||(y=Math.max(6,Math.floor(6*Math.pow(E,1/3)*(t/Math.PI)))),y=Math.max(y,3);let o=t/y,p=M;o*=v?-1:1;for(let a=0;a<y+1;a++){const n=Math.cos(p),i=Math.sin(p),e=h+n*E,r=x+i*E;g.push(e,r),p+=o}}function Rg(g,h,x,E,M,w){const v=g[g.length-2],t=g[g.length-1]-x,o=v-h,p=M-x,a=E-h,n=Math.abs(t*a-o*p);if(n<1e-8||w===0){(g[g.length-2]!==h||g[g.length-1]!==x)&&g.push(h,x);return}const i=t*t+o*o,e=p*p+a*a,r=t*p+o*a,l=w*Math.sqrt(i)/n,s=w*Math.sqrt(e)/n,u=l*r/i,d=s*r/e,f=l*a+s*o,c=l*p+s*t,m=o*(s+u),T=t*(s+u),C=a*(l+d),S=p*(l+d),A=Math.atan2(T-c,m-f),P=Math.atan2(S-c,C-f);bf(g,f+h,c+x,w,A,P,o*p>a*t)}const ds=Math.PI*2,Sr={centerX:0,centerY:0,ang1:0,ang2:0},Cr=({x:g,y:h},x,E,M,w,v,y,t)=>{g*=x,h*=E;const o=M*g-w*h,p=w*g+M*h;return t.x=o+v,t.y=p+y,t};function wg(g,h){const x=h===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(h/4),E=h===1.5707963267948966?.551915024494:x,M=Math.cos(g),w=Math.sin(g),v=Math.cos(g+h),y=Math.sin(g+h);return[{x:M-w*E,y:w+M*E},{x:v+y*E,y:y-v*E},{x:v,y}]}const Mh=(g,h,x,E)=>{const M=g*E-h*x<0?-1:1;let w=g*x+h*E;return w>1&&(w=1),w<-1&&(w=-1),M*Math.acos(w)},Fg=(g,h,x,E,M,w,v,y,t,o,p,a,n)=>{const i=Math.pow(M,2),e=Math.pow(w,2),r=Math.pow(p,2),l=Math.pow(a,2);let s=i*e-i*l-e*r;s<0&&(s=0),s/=i*l+e*r,s=Math.sqrt(s)*(v===y?-1:1);const u=s*M/w*a,d=s*-w/M*p,f=o*u-t*d+(g+x)/2,c=t*u+o*d+(h+E)/2,m=(p-u)/M,T=(a-d)/w,C=(-p-u)/M,S=(-a-d)/w,A=Mh(1,0,m,T);let P=Mh(m,T,C,S);y===0&&P>0&&(P-=ds),y===1&&P<0&&(P+=ds),n.centerX=f,n.centerY=c,n.ang1=A,n.ang2=P};function Lg(g,h,x,E,M,w,v,y=0,t=0,o=0){if(w===0||v===0)return;const p=Math.sin(y*ds/360),a=Math.cos(y*ds/360),n=a*(h-E)/2+p*(x-M)/2,i=-p*(h-E)/2+a*(x-M)/2;if(n===0&&i===0)return;w=Math.abs(w),v=Math.abs(v);const e=Math.pow(n,2)/Math.pow(w,2)+Math.pow(i,2)/Math.pow(v,2);e>1&&(w*=Math.sqrt(e),v*=Math.sqrt(e)),Fg(h,x,E,M,w,v,t,o,p,a,n,i,Sr);let{ang1:r,ang2:l}=Sr;const{centerX:s,centerY:u}=Sr;let d=Math.abs(l)/(ds/4);Math.abs(1-d)<1e-7&&(d=1);const f=Math.max(Math.ceil(d),1);l/=f;let c=g[g.length-2],m=g[g.length-1];const T={x:0,y:0};for(let C=0;C<f;C++){const S=wg(r,l),{x:A,y:P}=Cr(S[0],w,v,a,p,s,u,T),{x:R,y:F}=Cr(S[1],w,v,a,p,s,u,T),{x:D,y:L}=Cr(S[2],w,v,a,p,s,u,T);Bf(g,c,m,A,P,R,F,D,L),c=D,m=L,r+=l}}function Og(g,h,x){const E=(v,y)=>{const t=y.x-v.x,o=y.y-v.y,p=Math.sqrt(t*t+o*o),a=t/p,n=o/p;return{len:p,nx:a,ny:n}},M=(v,y)=>{v===0?g.moveTo(y.x,y.y):g.lineTo(y.x,y.y)};let w=h[h.length-1];for(let v=0;v<h.length;v++){const y=h[v%h.length],t=y.radius??x;if(t<=0){M(v,y),w=y;continue}const o=h[(v+1)%h.length],p=E(y,w),a=E(y,o);if(p.len<1e-4||a.len<1e-4){M(v,y),w=y;continue}let n=Math.asin(p.nx*a.ny-p.ny*a.nx),i=1,e=!1;p.nx*a.nx-p.ny*-a.ny<0?n<0?n=Math.PI+n:(n=Math.PI-n,i=-1,e=!0):n>0&&(i=-1,e=!0);const r=n/2;let l,s=Math.abs(Math.cos(r)*t/Math.sin(r));s>Math.min(p.len/2,a.len/2)?(s=Math.min(p.len/2,a.len/2),l=Math.abs(s*Math.sin(r)/Math.cos(r))):l=t;const u=y.x+a.nx*s+-a.ny*l*i,d=y.y+a.ny*s+a.nx*l*i,f=Math.atan2(p.ny,p.nx)+Math.PI/2*i,c=Math.atan2(a.ny,a.nx)-Math.PI/2*i;v===0&&g.moveTo(u+Math.cos(f)*l,d+Math.sin(f)*l),g.arc(u,d,l,f,c,e),w=y}}function Dg(g,h,x,E){const M=(y,t)=>Math.sqrt((y.x-t.x)**2+(y.y-t.y)**2),w=(y,t,o)=>({x:y.x+(t.x-y.x)*o,y:y.y+(t.y-y.y)*o}),v=h.length;for(let y=0;y<v;y++){const t=h[(y+1)%v],o=t.radius??x;if(o<=0){y===0?g.moveTo(t.x,t.y):g.lineTo(t.x,t.y);continue}const p=h[y],a=h[(y+2)%v],n=M(p,t);let i;if(n<1e-4)i=t;else{const l=Math.min(n/2,o);i=w(t,p,l/n)}const e=M(a,t);let r;if(e<1e-4)r=t;else{const l=Math.min(e/2,o);r=w(t,a,l/e)}y===0?g.moveTo(i.x,i.y):g.lineTo(i.x,i.y),g.quadraticCurveTo(t.x,t.y,r.x,r.y,E)}}const Ig=new Vt;class Bg{constructor(h){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new xe,this._graphicsPath2D=h}moveTo(h,x){return this.startPoly(h,x),this}lineTo(h,x){this._ensurePoly();const E=this._currentPoly.points,M=E[E.length-2],w=E[E.length-1];return(M!==h||w!==x)&&E.push(h,x),this}arc(h,x,E,M,w,v){this._ensurePoly(!1);const y=this._currentPoly.points;return bf(y,h,x,E,M,w,v),this}arcTo(h,x,E,M,w){this._ensurePoly();const v=this._currentPoly.points;return Rg(v,h,x,E,M,w),this}arcToSvg(h,x,E,M,w,v,y){const t=this._currentPoly.points;return Lg(t,this._currentPoly.lastX,this._currentPoly.lastY,v,y,h,x,E,M,w),this}bezierCurveTo(h,x,E,M,w,v,y){this._ensurePoly();const t=this._currentPoly;return Bf(this._currentPoly.points,t.lastX,t.lastY,h,x,E,M,w,v,y),this}quadraticCurveTo(h,x,E,M,w){this._ensurePoly();const v=this._currentPoly;return Pg(this._currentPoly.points,v.lastX,v.lastY,h,x,E,M,w),this}closePath(){return this.endPoly(!0),this}addPath(h,x){this.endPoly(),x&&!x.isIdentity()&&(h=h.clone(!0),h.transform(x));for(let E=0;E<h.instructions.length;E++){const M=h.instructions[E];this[M.action](...M.data)}return this}finish(h=!1){this.endPoly(h)}rect(h,x,E,M,w){return this.drawShape(new Vt(h,x,E,M),w),this}circle(h,x,E,M){return this.drawShape(new Va(h,x,E),M),this}poly(h,x,E){const M=new fs(h);return M.closePath=x,this.drawShape(M,E),this}regularPoly(h,x,E,M,w=0,v){M=Math.max(M|0,3);const y=-1*Math.PI/2+w,t=Math.PI*2/M,o=[];for(let p=0;p<M;p++){const a=y-p*t;o.push(h+E*Math.cos(a),x+E*Math.sin(a))}return this.poly(o,!0,v),this}roundPoly(h,x,E,M,w,v=0,y){if(M=Math.max(M|0,3),w<=0)return this.regularPoly(h,x,E,M,v);const t=E*Math.sin(Math.PI/M)-.001;w=Math.min(w,t);const o=-1*Math.PI/2+v,p=Math.PI*2/M,a=(M-2)*Math.PI/M/2;for(let n=0;n<M;n++){const i=n*p+o,e=h+E*Math.cos(i),r=x+E*Math.sin(i),l=i+Math.PI+a,s=i-Math.PI-a,u=e+w*Math.cos(l),d=r+w*Math.sin(l),f=e+w*Math.cos(s),c=r+w*Math.sin(s);n===0?this.moveTo(u,d):this.lineTo(u,d),this.quadraticCurveTo(e,r,f,c,y)}return this.closePath()}roundShape(h,x,E=!1,M){return h.length<3?this:(E?Dg(this,h,x,M):Og(this,h,x),this.closePath())}filletRect(h,x,E,M,w){if(w===0)return this.rect(h,x,E,M);const v=Math.min(E,M)/2,y=Math.min(v,Math.max(-v,w)),t=h+E,o=x+M,p=y<0?-y:0,a=Math.abs(y);return this.moveTo(h,x+a).arcTo(h+p,x+p,h+a,x,a).lineTo(t-a,x).arcTo(t-p,x+p,t,x+a,a).lineTo(t,o-a).arcTo(t-p,o-p,h+E-a,o,a).lineTo(h+a,o).arcTo(h+p,o-p,h,o-a,a).closePath()}chamferRect(h,x,E,M,w,v){if(w<=0)return this.rect(h,x,E,M);const y=Math.min(w,Math.min(E,M)/2),t=h+E,o=x+M,p=[h+y,x,t-y,x,t,x+y,t,o-y,t-y,o,h+y,o,h,o-y,h,x+y];for(let a=p.length-1;a>=2;a-=2)p[a]===p[a-2]&&p[a-1]===p[a-3]&&p.splice(a-1,2);return this.poly(p,!0,v)}ellipse(h,x,E,M,w){return this.drawShape(new Xa(h,x,E,M),w),this}roundRect(h,x,E,M,w,v){return this.drawShape(new Ya(h,x,E,M,w),v),this}drawShape(h,x){return this.endPoly(),this.shapePrimitives.push({shape:h,transform:x}),this}startPoly(h,x){let E=this._currentPoly;return E&&this.endPoly(),E=new fs,E.points.push(h,x),this._currentPoly=E,this}endPoly(h=!1){const x=this._currentPoly;return x&&x.points.length>2&&(x.closePath=h,this.shapePrimitives.push({shape:x})),this._currentPoly=null,this}_ensurePoly(h=!0){if(!this._currentPoly&&(this._currentPoly=new fs,h)){const x=this.shapePrimitives[this.shapePrimitives.length-1];if(x){let E=x.shape.x,M=x.shape.y;if(x.transform&&!x.transform.isIdentity()){const w=x.transform,v=E;E=w.a*E+w.c*M+w.tx,M=w.b*v+w.d*M+w.ty}this._currentPoly.points.push(E,M)}else this._currentPoly.points.push(0,0)}}buildPath(){const h=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let x=0;x<h.instructions.length;x++){const E=h.instructions[x];this[E.action](...E.data)}this.finish()}get bounds(){const h=this._bounds;h.clear();const x=this.shapePrimitives;for(let E=0;E<x.length;E++){const M=x[E],w=M.shape.getBounds(Ig);M.transform?h.addRect(w,M.transform):h.addRect(w)}return h}}class zi{constructor(h){this.instructions=[],this.uid=bt("graphicsPath"),this._dirty=!0,typeof h=="string"?lm(h,this):this.instructions=(h==null?void 0:h.slice())??[]}get shapePath(){return this._shapePath||(this._shapePath=new Bg(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(h,x){return h=h.clone(),this.instructions.push({action:"addPath",data:[h,x]}),this._dirty=!0,this}arc(...h){return this.instructions.push({action:"arc",data:h}),this._dirty=!0,this}arcTo(...h){return this.instructions.push({action:"arcTo",data:h}),this._dirty=!0,this}arcToSvg(...h){return this.instructions.push({action:"arcToSvg",data:h}),this._dirty=!0,this}bezierCurveTo(...h){return this.instructions.push({action:"bezierCurveTo",data:h}),this._dirty=!0,this}bezierCurveToShort(h,x,E,M,w){const v=this.instructions[this.instructions.length-1],y=this.getLastPoint($t.shared);let t=0,o=0;if(!v||v.action!=="bezierCurveTo")t=y.x,o=y.y;else{t=v.data[2],o=v.data[3];const p=y.x,a=y.y;t=p+(p-t),o=a+(a-o)}return this.instructions.push({action:"bezierCurveTo",data:[t,o,h,x,E,M,w]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...h){return this.instructions.push({action:"ellipse",data:h}),this._dirty=!0,this}lineTo(...h){return this.instructions.push({action:"lineTo",data:h}),this._dirty=!0,this}moveTo(...h){return this.instructions.push({action:"moveTo",data:h}),this}quadraticCurveTo(...h){return this.instructions.push({action:"quadraticCurveTo",data:h}),this._dirty=!0,this}quadraticCurveToShort(h,x,E){const M=this.instructions[this.instructions.length-1],w=this.getLastPoint($t.shared);let v=0,y=0;if(!M||M.action!=="quadraticCurveTo")v=w.x,y=w.y;else{v=M.data[0],y=M.data[1];const t=w.x,o=w.y;v=t+(t-v),y=o+(o-y)}return this.instructions.push({action:"quadraticCurveTo",data:[v,y,h,x,E]}),this._dirty=!0,this}rect(h,x,E,M,w){return this.instructions.push({action:"rect",data:[h,x,E,M,w]}),this._dirty=!0,this}circle(h,x,E,M){return this.instructions.push({action:"circle",data:[h,x,E,M]}),this._dirty=!0,this}roundRect(...h){return this.instructions.push({action:"roundRect",data:h}),this._dirty=!0,this}poly(...h){return this.instructions.push({action:"poly",data:h}),this._dirty=!0,this}regularPoly(...h){return this.instructions.push({action:"regularPoly",data:h}),this._dirty=!0,this}roundPoly(...h){return this.instructions.push({action:"roundPoly",data:h}),this._dirty=!0,this}roundShape(...h){return this.instructions.push({action:"roundShape",data:h}),this._dirty=!0,this}filletRect(...h){return this.instructions.push({action:"filletRect",data:h}),this._dirty=!0,this}chamferRect(...h){return this.instructions.push({action:"chamferRect",data:h}),this._dirty=!0,this}star(h,x,E,M,w,v,y){w||(w=M/2);const t=-1*Math.PI/2+v,o=E*2,p=Math.PI*2/o,a=[];for(let n=0;n<o;n++){const i=n%2?w:M,e=n*p+t;a.push(h+i*Math.cos(e),x+i*Math.sin(e))}return this.poly(a,!0,y),this}clone(h=!1){const x=new zi;if(!h)x.instructions=this.instructions.slice();else for(let E=0;E<this.instructions.length;E++){const M=this.instructions[E];x.instructions.push({action:M.action,data:M.data.slice()})}return x}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(h){if(h.isIdentity())return this;const x=h.a,E=h.b,M=h.c,w=h.d,v=h.tx,y=h.ty;let t=0,o=0,p=0,a=0,n=0,i=0,e=0,r=0;for(let l=0;l<this.instructions.length;l++){const s=this.instructions[l],u=s.data;switch(s.action){case"moveTo":case"lineTo":t=u[0],o=u[1],u[0]=x*t+M*o+v,u[1]=E*t+w*o+y;break;case"bezierCurveTo":p=u[0],a=u[1],n=u[2],i=u[3],t=u[4],o=u[5],u[0]=x*p+M*a+v,u[1]=E*p+w*a+y,u[2]=x*n+M*i+v,u[3]=E*n+w*i+y,u[4]=x*t+M*o+v,u[5]=E*t+w*o+y;break;case"quadraticCurveTo":p=u[0],a=u[1],t=u[2],o=u[3],u[0]=x*p+M*a+v,u[1]=E*p+w*a+y,u[2]=x*t+M*o+v,u[3]=E*t+w*o+y;break;case"arcToSvg":t=u[5],o=u[6],e=u[0],r=u[1],u[0]=x*e+M*r,u[1]=E*e+w*r,u[5]=x*t+M*o+v,u[6]=E*t+w*o+y;break;case"circle":u[4]=ki(u[3],h);break;case"rect":u[4]=ki(u[4],h);break;case"ellipse":u[8]=ki(u[8],h);break;case"roundRect":u[5]=ki(u[5],h);break;case"addPath":u[0].transform(h);break;case"poly":u[2]=ki(u[2],h);break;default:Nt("unknown transform action",s.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(h){let x=this.instructions.length-1,E=this.instructions[x];if(!E)return h.x=0,h.y=0,h;for(;E.action==="closePath";){if(x--,x<0)return h.x=0,h.y=0,h;E=this.instructions[x]}switch(E.action){case"moveTo":case"lineTo":h.x=E.data[0],h.y=E.data[1];break;case"quadraticCurveTo":h.x=E.data[2],h.y=E.data[3];break;case"bezierCurveTo":h.x=E.data[4],h.y=E.data[5];break;case"arc":case"arcToSvg":h.x=E.data[5],h.y=E.data[6];break;case"addPath":E.data[0].getLastPoint(h);break}return h}}function ki(g,h){return g?g.prepend(h):h.clone()}function bg(g,h){if(typeof g=="string"){const E=document.createElement("div");E.innerHTML=g.trim(),g=E.querySelector("svg")}const x={context:h,path:new zi};return Gf(g,x,null,null),h}function Gf(g,h,x,E){const M=g.children,{fillStyle:w,strokeStyle:v}=Gg(g);w&&x?x={...x,...w}:w&&(x=w),v&&E?E={...E,...v}:v&&(E=v),h.context.fillStyle=x,h.context.strokeStyle=E;let y,t,o,p,a,n,i,e,r,l,s,u,d,f,c,m,T;switch(g.nodeName.toLowerCase()){case"path":f=g.getAttribute("d"),c=new zi(f),h.context.path(c),x&&h.context.fill(),E&&h.context.stroke();break;case"circle":i=Ht(g,"cx",0),e=Ht(g,"cy",0),r=Ht(g,"r",0),h.context.ellipse(i,e,r,r),x&&h.context.fill(),E&&h.context.stroke();break;case"rect":y=Ht(g,"x",0),t=Ht(g,"y",0),m=Ht(g,"width",0),T=Ht(g,"height",0),l=Ht(g,"rx",0),s=Ht(g,"ry",0),l||s?h.context.roundRect(y,t,m,T,l||s):h.context.rect(y,t,m,T),x&&h.context.fill(),E&&h.context.stroke();break;case"ellipse":i=Ht(g,"cx",0),e=Ht(g,"cy",0),l=Ht(g,"rx",0),s=Ht(g,"ry",0),h.context.beginPath(),h.context.ellipse(i,e,l,s),x&&h.context.fill(),E&&h.context.stroke();break;case"line":o=Ht(g,"x1",0),p=Ht(g,"y1",0),a=Ht(g,"x2",0),n=Ht(g,"y2",0),h.context.beginPath(),h.context.moveTo(o,p),h.context.lineTo(a,n),E&&h.context.stroke();break;case"polygon":d=g.getAttribute("points"),u=d.match(/\d+/g).map(C=>parseInt(C,10)),h.context.poly(u,!0),x&&h.context.fill(),E&&h.context.stroke();break;case"polyline":d=g.getAttribute("points"),u=d.match(/\d+/g).map(C=>parseInt(C,10)),h.context.poly(u,!1),E&&h.context.stroke();break;case"g":case"svg":break;default:{console.info(`[SVG parser] <${g.nodeName}> elements unsupported`);break}}for(let C=0;C<M.length;C++)Gf(M[C],h,x,E)}function Ht(g,h,x){const E=g.getAttribute(h);return E?Number(E):x}function Gg(g){const h=g.getAttribute("style"),x={},E={};let M=!1,w=!1;if(h){const v=h.split(";");for(let y=0;y<v.length;y++){const t=v[y],[o,p]=t.split(":");switch(o){case"stroke":p!=="none"&&(x.color=Gt.shared.setValue(p).toNumber(),w=!0);break;case"stroke-width":x.width=Number(p);break;case"fill":p!=="none"&&(M=!0,E.color=Gt.shared.setValue(p).toNumber());break;case"fill-opacity":E.alpha=Number(p);break;case"stroke-opacity":x.alpha=Number(p);break;case"opacity":E.alpha=Number(p),x.alpha=Number(p);break}}}else{const v=g.getAttribute("stroke");v&&v!=="none"&&(w=!0,x.color=Gt.shared.setValue(v).toNumber(),x.width=Ht(g,"stroke-width",1));const y=g.getAttribute("fill");y&&y!=="none"&&(M=!0,E.color=Gt.shared.setValue(y).toNumber())}return{strokeStyle:w?x:null,fillStyle:M?E:null}}function Ng(g){return Gt.isColorLike(g)}function Rh(g){return g instanceof Vn}function wh(g){return g instanceof Ps}function zg(g,h,x){const E=Gt.shared.setValue(h??0);return g.color=E.toNumber(),g.alpha=E.alpha===1?x.alpha:E.alpha,g.texture=xt.WHITE,{...x,...g}}function Fh(g,h,x){return g.fill=h,g.color=16777215,g.texture=h.texture,g.matrix=h.transform,{...x,...g}}function Lh(g,h,x){return h.buildLinearGradient(),g.fill=h,g.color=16777215,g.texture=h.texture,g.matrix=h.transform,{...x,...g}}function Ug(g,h){var M;const x={...h,...g};if(x.texture){if(x.texture!==xt.WHITE){const v=((M=x.matrix)==null?void 0:M.clone().invert())||new yt;v.translate(x.texture.frame.x,x.texture.frame.y),v.scale(1/x.texture.source.width,1/x.texture.source.height),x.matrix=v}const w=x.texture.source.style;w.addressMode==="clamp-to-edge"&&(w.addressMode="repeat",w.update())}const E=Gt.shared.setValue(x.color);return x.alpha*=E.alpha,x.color=E.toNumber(),x.matrix=x.matrix?x.matrix.clone():null,x}function yi(g,h){if(g==null)return null;const x={},E=g;return Ng(g)?zg(x,g,h):Rh(g)?Fh(x,g,h):wh(g)?Lh(x,g,h):E.fill&&Rh(E.fill)?Fh(E,E.fill,h):E.fill&&wh(E.fill)?Lh(E,E.fill,h):Ug(E,h)}function Tn(g,h){const{width:x,alignment:E,miterLimit:M,cap:w,join:v,pixelLine:y,...t}=h,o=yi(g,t);return o?{width:x,alignment:E,miterLimit:M,cap:w,join:v,pixelLine:y,...o}:null}const Vg=new $t,Oh=new yt,Ha=class Me extends Te{constructor(){super(...arguments),this.uid=bt("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this._activePath=new zi,this._transform=new yt,this._fillStyle={...Me.defaultFillStyle},this._strokeStyle={...Me.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new xe,this._boundsDirty=!0}clone(){const h=new Me;return h.batchMode=this.batchMode,h.instructions=this.instructions.slice(),h._activePath=this._activePath.clone(),h._transform=this._transform.clone(),h._fillStyle={...this._fillStyle},h._strokeStyle={...this._strokeStyle},h._stateStack=this._stateStack.slice(),h._bounds=this._bounds.clone(),h._boundsDirty=!0,h}get fillStyle(){return this._fillStyle}set fillStyle(h){this._fillStyle=yi(h,Me.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(h){this._strokeStyle=Tn(h,Me.defaultStrokeStyle)}setFillStyle(h){return this._fillStyle=yi(h,Me.defaultFillStyle),this}setStrokeStyle(h){return this._strokeStyle=yi(h,Me.defaultStrokeStyle),this}texture(h,x,E,M,w,v){return this.instructions.push({action:"texture",data:{image:h,dx:E||0,dy:M||0,dw:w||h.frame.width,dh:v||h.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:x?Gt.shared.setValue(x).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new zi,this}fill(h,x){let E;const M=this.instructions[this.instructions.length-1];return this._tick===0&&M&&M.action==="stroke"?E=M.data.path:E=this._activePath.clone(),E?(h!=null&&(x!==void 0&&typeof h=="number"&&(Ot(zt,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),h={color:h,alpha:x}),this._fillStyle=yi(h,Me.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:E}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:h,y:x}=this._activePath.getLastPoint($t.shared);this._activePath.clear(),this._activePath.moveTo(h,x)}stroke(h){let x;const E=this.instructions[this.instructions.length-1];return this._tick===0&&E&&E.action==="fill"?x=E.data.path:x=this._activePath.clone(),x?(h!=null&&(this._strokeStyle=Tn(h,Me.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:x}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let h=0;h<2;h++){const x=this.instructions[this.instructions.length-1-h],E=this._activePath.clone();if(x&&(x.action==="stroke"||x.action==="fill"))if(x.data.hole)x.data.hole.addPath(E);else{x.data.hole=E;break}}return this._initNextPathLocation(),this}arc(h,x,E,M,w,v){this._tick++;const y=this._transform;return this._activePath.arc(y.a*h+y.c*x+y.tx,y.b*h+y.d*x+y.ty,E,M,w,v),this}arcTo(h,x,E,M,w){this._tick++;const v=this._transform;return this._activePath.arcTo(v.a*h+v.c*x+v.tx,v.b*h+v.d*x+v.ty,v.a*E+v.c*M+v.tx,v.b*E+v.d*M+v.ty,w),this}arcToSvg(h,x,E,M,w,v,y){this._tick++;const t=this._transform;return this._activePath.arcToSvg(h,x,E,M,w,t.a*v+t.c*y+t.tx,t.b*v+t.d*y+t.ty),this}bezierCurveTo(h,x,E,M,w,v,y){this._tick++;const t=this._transform;return this._activePath.bezierCurveTo(t.a*h+t.c*x+t.tx,t.b*h+t.d*x+t.ty,t.a*E+t.c*M+t.tx,t.b*E+t.d*M+t.ty,t.a*w+t.c*v+t.tx,t.b*w+t.d*v+t.ty,y),this}closePath(){var h;return this._tick++,(h=this._activePath)==null||h.closePath(),this}ellipse(h,x,E,M){return this._tick++,this._activePath.ellipse(h,x,E,M,this._transform.clone()),this}circle(h,x,E){return this._tick++,this._activePath.circle(h,x,E,this._transform.clone()),this}path(h){return this._tick++,this._activePath.addPath(h,this._transform.clone()),this}lineTo(h,x){this._tick++;const E=this._transform;return this._activePath.lineTo(E.a*h+E.c*x+E.tx,E.b*h+E.d*x+E.ty),this}moveTo(h,x){this._tick++;const E=this._transform,M=this._activePath.instructions,w=E.a*h+E.c*x+E.tx,v=E.b*h+E.d*x+E.ty;return M.length===1&&M[0].action==="moveTo"?(M[0].data[0]=w,M[0].data[1]=v,this):(this._activePath.moveTo(w,v),this)}quadraticCurveTo(h,x,E,M,w){this._tick++;const v=this._transform;return this._activePath.quadraticCurveTo(v.a*h+v.c*x+v.tx,v.b*h+v.d*x+v.ty,v.a*E+v.c*M+v.tx,v.b*E+v.d*M+v.ty,w),this}rect(h,x,E,M){return this._tick++,this._activePath.rect(h,x,E,M,this._transform.clone()),this}roundRect(h,x,E,M,w){return this._tick++,this._activePath.roundRect(h,x,E,M,w,this._transform.clone()),this}poly(h,x){return this._tick++,this._activePath.poly(h,x,this._transform.clone()),this}regularPoly(h,x,E,M,w=0,v){return this._tick++,this._activePath.regularPoly(h,x,E,M,w,v),this}roundPoly(h,x,E,M,w,v){return this._tick++,this._activePath.roundPoly(h,x,E,M,w,v),this}roundShape(h,x,E,M){return this._tick++,this._activePath.roundShape(h,x,E,M),this}filletRect(h,x,E,M,w){return this._tick++,this._activePath.filletRect(h,x,E,M,w),this}chamferRect(h,x,E,M,w,v){return this._tick++,this._activePath.chamferRect(h,x,E,M,w,v),this}star(h,x,E,M,w=0,v=0){return this._tick++,this._activePath.star(h,x,E,M,w,v,this._transform.clone()),this}svg(h){return this._tick++,bg(h,this),this}restore(){const h=this._stateStack.pop();return h&&(this._transform=h.transform,this._fillStyle=h.fillStyle,this._strokeStyle=h.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(h){return this._transform.rotate(h),this}scale(h,x=h){return this._transform.scale(h,x),this}setTransform(h,x,E,M,w,v){return h instanceof yt?(this._transform.set(h.a,h.b,h.c,h.d,h.tx,h.ty),this):(this._transform.set(h,x,E,M,w,v),this)}transform(h,x,E,M,w,v){return h instanceof yt?(this._transform.append(h),this):(Oh.set(h,x,E,M,w,v),this._transform.append(Oh),this)}translate(h,x=h){return this._transform.translate(h,x),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this.dirty||(this.emit("update",this,16),this.dirty=!0,this._boundsDirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;const h=this._bounds;h.clear();for(let x=0;x<this.instructions.length;x++){const E=this.instructions[x],M=E.action;if(M==="fill"){const w=E.data;h.addBounds(w.path.bounds)}else if(M==="texture"){const w=E.data;h.addFrame(w.dx,w.dy,w.dx+w.dw,w.dy+w.dh,w.transform)}if(M==="stroke"){const w=E.data,v=w.style.alignment,y=w.style.width*(1-v),t=w.path.bounds;h.addFrame(t.minX-y,t.minY-y,t.maxX+y,t.maxY+y)}}return h}containsPoint(h){var M;if(!this.bounds.containsPoint(h.x,h.y))return!1;const x=this.instructions;let E=!1;for(let w=0;w<x.length;w++){const v=x[w],y=v.data,t=y.path;if(!v.action||!t)continue;const o=y.style,p=t.shapePath.shapePrimitives;for(let a=0;a<p.length;a++){const n=p[a].shape;if(!o||!n)continue;const i=p[a].transform,e=i?i.applyInverse(h,Vg):h;if(v.action==="fill")E=n.contains(e.x,e.y);else{const l=o;E=n.strokeContains(e.x,e.y,l.width,l.alignment)}const r=y.hole;if(r){const l=(M=r.shapePath)==null?void 0:M.shapePrimitives;if(l)for(let s=0;s<l.length;s++)l[s].shape.contains(e.x,e.y)&&(E=!1)}if(E)return!0}}return E}destroy(h=!1){if(this._stateStack.length=0,this._transform=null,this.emit("destroy",this),this.removeAllListeners(),typeof h=="boolean"?h:h==null?void 0:h.texture){const E=typeof h=="boolean"?h:h==null?void 0:h.textureSource;this._fillStyle.texture&&this._fillStyle.texture.destroy(E),this._strokeStyle.texture&&this._strokeStyle.texture.destroy(E)}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};Ha.defaultFillStyle={color:16777215,alpha:1,texture:xt.WHITE,matrix:null,fill:null};Ha.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:xt.WHITE,matrix:null,fill:null,pixelLine:!1};let pi=Ha;const Dh=["align","breakWords","cssOverrides","fontVariant","fontWeight","leading","letterSpacing","lineHeight","padding","textBaseline","trim","whiteSpace","wordWrap","wordWrapWidth","fontFamily","fontStyle","fontSize"];function Xg(g){const h=[];let x=0;for(let E=0;E<Dh.length;E++){const M=`_${Dh[E]}`;h[x++]=g[M]}return x=Nf(g._fill,h,x),x=Yg(g._stroke,h,x),x=Wg(g.dropShadow,h,x),h.join("-")}function Nf(g,h,x){var E;return g&&(h[x++]=g.color,h[x++]=g.alpha,h[x++]=(E=g.fill)==null?void 0:E.styleKey),x}function Yg(g,h,x){return g&&(x=Nf(g,h,x),h[x++]=g.width,h[x++]=g.alignment,h[x++]=g.cap,h[x++]=g.join,h[x++]=g.miterLimit),x}function Wg(g,h,x){return g&&(h[x++]=g.alpha,h[x++]=g.angle,h[x++]=g.blur,h[x++]=g.distance,h[x++]=Gt.shared.setValue(g.color).toNumber()),x}const Ka=class Ri extends Te{constructor(h={}){super(),Hg(h);const x={...Ri.defaultTextStyle,...h};for(const E in x){const M=E;this[M]=x[E]}this.update()}get align(){return this._align}set align(h){this._align=h,this.update()}get breakWords(){return this._breakWords}set breakWords(h){this._breakWords=h,this.update()}get dropShadow(){return this._dropShadow}set dropShadow(h){h!==null&&typeof h=="object"?this._dropShadow=this._createProxy({...Ri.defaultDropShadow,...h}):this._dropShadow=h?this._createProxy({...Ri.defaultDropShadow}):null,this.update()}get fontFamily(){return this._fontFamily}set fontFamily(h){this._fontFamily=h,this.update()}get fontSize(){return this._fontSize}set fontSize(h){typeof h=="string"?this._fontSize=parseInt(h,10):this._fontSize=h,this.update()}get fontStyle(){return this._fontStyle}set fontStyle(h){this._fontStyle=h.toLowerCase(),this.update()}get fontVariant(){return this._fontVariant}set fontVariant(h){this._fontVariant=h,this.update()}get fontWeight(){return this._fontWeight}set fontWeight(h){this._fontWeight=h,this.update()}get leading(){return this._leading}set leading(h){this._leading=h,this.update()}get letterSpacing(){return this._letterSpacing}set letterSpacing(h){this._letterSpacing=h,this.update()}get lineHeight(){return this._lineHeight}set lineHeight(h){this._lineHeight=h,this.update()}get padding(){return this._padding}set padding(h){this._padding=h,this.update()}get trim(){return this._trim}set trim(h){this._trim=h,this.update()}get textBaseline(){return this._textBaseline}set textBaseline(h){this._textBaseline=h,this.update()}get whiteSpace(){return this._whiteSpace}set whiteSpace(h){this._whiteSpace=h,this.update()}get wordWrap(){return this._wordWrap}set wordWrap(h){this._wordWrap=h,this.update()}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(h){this._wordWrapWidth=h,this.update()}get fill(){return this._originalFill}set fill(h){h!==this._originalFill&&(this._originalFill=h,this._isFillStyle(h)&&(this._originalFill=this._createProxy({...pi.defaultFillStyle,...h},()=>{this._fill=yi({...this._originalFill},pi.defaultFillStyle)})),this._fill=yi(h===0?"black":h,pi.defaultFillStyle),this.update())}get stroke(){return this._originalStroke}set stroke(h){h!==this._originalStroke&&(this._originalStroke=h,this._isFillStyle(h)&&(this._originalStroke=this._createProxy({...pi.defaultStrokeStyle,...h},()=>{this._stroke=Tn({...this._originalStroke},pi.defaultStrokeStyle)})),this._stroke=Tn(h,pi.defaultStrokeStyle),this.update())}_generateKey(){return this._styleKey=Xg(this),this._styleKey}update(){this._styleKey=null,this.emit("update",this)}reset(){const h=Ri.defaultTextStyle;for(const x in h)this[x]=h[x]}get styleKey(){return this._styleKey||this._generateKey()}clone(){return new Ri({align:this.align,breakWords:this.breakWords,dropShadow:this._dropShadow?{...this._dropShadow}:null,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,leading:this.leading,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,textBaseline:this.textBaseline,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth})}destroy(h=!1){var E,M,w,v;if(this.removeAllListeners(),typeof h=="boolean"?h:h==null?void 0:h.texture){const y=typeof h=="boolean"?h:h==null?void 0:h.textureSource;(E=this._fill)!=null&&E.texture&&this._fill.texture.destroy(y),(M=this._originalFill)!=null&&M.texture&&this._originalFill.texture.destroy(y),(w=this._stroke)!=null&&w.texture&&this._stroke.texture.destroy(y),(v=this._originalStroke)!=null&&v.texture&&this._originalStroke.texture.destroy(y)}this._fill=null,this._stroke=null,this.dropShadow=null,this._originalStroke=null,this._originalFill=null}_createProxy(h,x){return new Proxy(h,{set:(E,M,w)=>(E[M]=w,x==null||x(M,w),this.update(),!0)})}_isFillStyle(h){return(h??null)!==null&&!(Gt.isColorLike(h)||h instanceof Ps||h instanceof Vn)}};Ka.defaultDropShadow={alpha:1,angle:Math.PI/6,blur:0,color:"black",distance:5};Ka.defaultTextStyle={align:"left",breakWords:!1,dropShadow:null,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,padding:0,stroke:null,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let ws=Ka;function Hg(g){const h=g;if(typeof h.dropShadow=="boolean"&&h.dropShadow){const x=ws.defaultDropShadow;g.dropShadow={alpha:h.dropShadowAlpha??x.alpha,angle:h.dropShadowAngle??x.angle,blur:h.dropShadowBlur??x.blur,color:h.dropShadowColor??x.color,distance:h.dropShadowDistance??x.distance}}if(h.strokeThickness!==void 0){Ot(zt,"strokeThickness is now a part of stroke");const x=h.stroke;let E={};if(Gt.isColorLike(x))E.color=x;else if(x instanceof Ps||x instanceof Vn)E.fill=x;else if(Object.hasOwnProperty.call(x,"color")||Object.hasOwnProperty.call(x,"fill"))E=x;else throw new Error("Invalid stroke value.");g.stroke={...E,width:h.strokeThickness}}if(Array.isArray(h.fillGradientStops)){Ot(zt,"gradient fill is now a fill pattern: `new FillGradient(...)`");let x;g.fontSize==null?g.fontSize=ws.defaultTextStyle.fontSize:typeof g.fontSize=="string"?x=parseInt(g.fontSize,10):x=g.fontSize;const E=new Ps(0,0,0,x*1.7),M=h.fillGradientStops.map(w=>Gt.shared.setValue(w).toNumber());M.forEach((w,v)=>{const y=v/(M.length-1);E.addColorStop(y,w)}),g.fill={fill:E}}}class Kg{constructor(h){this._canvasPool=Object.create(null),this.canvasOptions=h||{},this.enableFullScreen=!1}_createCanvasAndContext(h,x){const E=Dt.get().createCanvas();E.width=h,E.height=x;const M=E.getContext("2d");return{canvas:E,context:M}}getOptimalCanvasAndContext(h,x,E=1){h=Math.ceil(h*E-1e-6),x=Math.ceil(x*E-1e-6),h=xn(h),x=xn(x);const M=(h<<17)+(x<<1);this._canvasPool[M]||(this._canvasPool[M]=[]);let w=this._canvasPool[M].pop();return w||(w=this._createCanvasAndContext(h,x)),w}returnCanvasAndContext(h){const x=h.canvas,{width:E,height:M}=x,w=(E<<17)+(M<<1);h.context.clearRect(0,0,E,M),this._canvasPool[w].push(h)}clear(){this._canvasPool={}}}const Ih=new Kg,Zg=["serif","sans-serif","monospace","cursive","fantasy","system-ui"];function ua(g){const h=typeof g.fontSize=="number"?`${g.fontSize}px`:g.fontSize;let x=g.fontFamily;Array.isArray(g.fontFamily)||(x=g.fontFamily.split(","));for(let E=x.length-1;E>=0;E--){let M=x[E].trim();!/([\"\'])[^\'\"]+\1/.test(M)&&!Zg.includes(M)&&(M=`"${M}"`),x[E]=M}return`${g.fontStyle} ${g.fontVariant} ${g.fontWeight} ${h} ${x.join(",")}`}const Er={willReadFrequently:!0},Se=class lt{static get experimentalLetterSpacingSupported(){let h=lt._experimentalLetterSpacingSupported;if(h!==void 0){const x=Dt.get().getCanvasRenderingContext2D().prototype;h=lt._experimentalLetterSpacingSupported="letterSpacing"in x||"textLetterSpacing"in x}return h}constructor(h,x,E,M,w,v,y,t,o){this.text=h,this.style=x,this.width=E,this.height=M,this.lines=w,this.lineWidths=v,this.lineHeight=y,this.maxLineWidth=t,this.fontProperties=o}static measureText(h=" ",x,E=lt._canvas,M=x.wordWrap){var u;const w=`${h}:${x.styleKey}`;if(lt._measurementCache[w])return lt._measurementCache[w];const v=ua(x),y=lt.measureFont(v);y.fontSize===0&&(y.fontSize=x.fontSize,y.ascent=x.fontSize);const t=lt.__context;t.font=v;const p=(M?lt._wordWrap(h,x,E):h).split(/(?:\r\n|\r|\n)/),a=new Array(p.length);let n=0;for(let d=0;d<p.length;d++){const f=lt._measureText(p[d],x.letterSpacing,t);a[d]=f,n=Math.max(n,f)}const i=((u=x._stroke)==null?void 0:u.width)||0;let e=n+i;x.dropShadow&&(e+=x.dropShadow.distance);const r=x.lineHeight||y.fontSize;let l=Math.max(r,y.fontSize+i)+(p.length-1)*(r+x.leading);return x.dropShadow&&(l+=x.dropShadow.distance),new lt(h,x,e,l,p,a,r+x.leading,n,y)}static _measureText(h,x,E){let M=!1;lt.experimentalLetterSpacingSupported&&(lt.experimentalLetterSpacing?(E.letterSpacing=`${x}px`,E.textLetterSpacing=`${x}px`,M=!0):(E.letterSpacing="0px",E.textLetterSpacing="0px"));const w=E.measureText(h);let v=w.width;const y=-w.actualBoundingBoxLeft;let o=w.actualBoundingBoxRight-y;if(v>0)if(M)v-=x,o-=x;else{const p=(lt.graphemeSegmenter(h).length-1)*x;v+=p,o+=p}return Math.max(v,o)}static _wordWrap(h,x,E=lt._canvas){const M=E.getContext("2d",Er);let w=0,v="",y="";const t=Object.create(null),{letterSpacing:o,whiteSpace:p}=x,a=lt._collapseSpaces(p),n=lt._collapseNewlines(p);let i=!a;const e=x.wordWrapWidth+o,r=lt._tokenize(h);for(let l=0;l<r.length;l++){let s=r[l];if(lt._isNewline(s)){if(!n){y+=lt._addLine(v),i=!a,v="",w=0;continue}s=" "}if(a){const d=lt.isBreakingSpace(s),f=lt.isBreakingSpace(v[v.length-1]);if(d&&f)continue}const u=lt._getFromCache(s,o,t,M);if(u>e)if(v!==""&&(y+=lt._addLine(v),v="",w=0),lt.canBreakWords(s,x.breakWords)){const d=lt.wordWrapSplit(s);for(let f=0;f<d.length;f++){let c=d[f],m=c,T=1;for(;d[f+T];){const S=d[f+T];if(!lt.canBreakChars(m,S,s,f,x.breakWords))c+=S;else break;m=S,T++}f+=T-1;const C=lt._getFromCache(c,o,t,M);C+w>e&&(y+=lt._addLine(v),i=!1,v="",w=0),v+=c,w+=C}}else{v.length>0&&(y+=lt._addLine(v),v="",w=0);const d=l===r.length-1;y+=lt._addLine(s,!d),i=!1,v="",w=0}else u+w>e&&(i=!1,y+=lt._addLine(v),v="",w=0),(v.length>0||!lt.isBreakingSpace(s)||i)&&(v+=s,w+=u)}return y+=lt._addLine(v,!1),y}static _addLine(h,x=!0){return h=lt._trimRight(h),h=x?`${h}
`:h,h}static _getFromCache(h,x,E,M){let w=E[h];return typeof w!="number"&&(w=lt._measureText(h,x,M)+x,E[h]=w),w}static _collapseSpaces(h){return h==="normal"||h==="pre-line"}static _collapseNewlines(h){return h==="normal"}static _trimRight(h){if(typeof h!="string")return"";for(let x=h.length-1;x>=0;x--){const E=h[x];if(!lt.isBreakingSpace(E))break;h=h.slice(0,-1)}return h}static _isNewline(h){return typeof h!="string"?!1:lt._newlines.includes(h.charCodeAt(0))}static isBreakingSpace(h,x){return typeof h!="string"?!1:lt._breakingSpaces.includes(h.charCodeAt(0))}static _tokenize(h){const x=[];let E="";if(typeof h!="string")return x;for(let M=0;M<h.length;M++){const w=h[M],v=h[M+1];if(lt.isBreakingSpace(w,v)||lt._isNewline(w)){E!==""&&(x.push(E),E=""),x.push(w);continue}E+=w}return E!==""&&x.push(E),x}static canBreakWords(h,x){return x}static canBreakChars(h,x,E,M,w){return!0}static wordWrapSplit(h){return lt.graphemeSegmenter(h)}static measureFont(h){if(lt._fonts[h])return lt._fonts[h];const x=lt._context;x.font=h;const E=x.measureText(lt.METRICS_STRING+lt.BASELINE_SYMBOL),M={ascent:E.actualBoundingBoxAscent,descent:E.actualBoundingBoxDescent,fontSize:E.actualBoundingBoxAscent+E.actualBoundingBoxDescent};return lt._fonts[h]=M,M}static clearMetrics(h=""){h?delete lt._fonts[h]:lt._fonts={}}static get _canvas(){if(!lt.__canvas){let h;try{const x=new OffscreenCanvas(0,0),E=x.getContext("2d",Er);if(E!=null&&E.measureText)return lt.__canvas=x,x;h=Dt.get().createCanvas()}catch{h=Dt.get().createCanvas()}h.width=h.height=10,lt.__canvas=h}return lt.__canvas}static get _context(){return lt.__context||(lt.__context=lt._canvas.getContext("2d",Er)),lt.__context}};Se.METRICS_STRING="|ÉqÅ";Se.BASELINE_SYMBOL="M";Se.BASELINE_MULTIPLIER=1.4;Se.HEIGHT_MULTIPLIER=2;Se.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const g=new Intl.Segmenter;return h=>[...g.segment(h)].map(x=>x.segment)}return g=>[...g]})();Se.experimentalLetterSpacing=!1;Se._fonts={};Se._newlines=[10,13];Se._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];Se._measurementCache={};let Bh=Se;function bh(g,h){if(g.texture===xt.WHITE&&!g.fill)return Gt.shared.setValue(g.color).setAlpha(g.alpha??1).toHexa();if(g.fill){if(g.fill instanceof Vn){const x=g.fill,E=h.createPattern(x.texture.source.resource,"repeat"),M=x.transform.copyTo(yt.shared);return M.scale(x.texture.frame.width,x.texture.frame.height),E.setTransform(M),E}else if(g.fill instanceof Ps){const x=g.fill;if(x.type==="linear"){const E=h.createLinearGradient(x.x0,x.y0,x.x1,x.y1);return x.gradientStops.forEach(M=>{E.addColorStop(M.offset,Gt.shared.setValue(M.color).toHex())}),E}}}else{const x=h.createPattern(g.texture.source.resource,"repeat"),E=g.matrix.copyTo(yt.shared);return E.scale(g.texture.frame.width,g.texture.frame.height),x.setTransform(E),x}return Nt("FillStyle not recognised",g),"red"}function zf(g){if(g==="")return[];typeof g=="string"&&(g=[g]);const h=[];for(let x=0,E=g.length;x<E;x++){const M=g[x];if(Array.isArray(M)){if(M.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${M.length}.`);if(M[0].length===0||M[1].length===0)throw new Error("[BitmapFont]: Invalid character delimiter.");const w=M[0].charCodeAt(0),v=M[1].charCodeAt(0);if(v<w)throw new Error("[BitmapFont]: Invalid character range.");for(let y=w,t=v;y<=t;y++)h.push(String.fromCharCode(y))}else h.push(...Array.from(M))}if(h.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return h}const Uf=class Vf extends xf{constructor(h){super(),this.resolution=1,this.pages=[],this._padding=0,this._measureCache=Object.create(null),this._currentChars=[],this._currentX=0,this._currentY=0,this._currentPageIndex=-1,this._skipKerning=!1;const x={...Vf.defaultOptions,...h};this._textureSize=x.textureSize,this._mipmap=x.mipmap;const E=x.style.clone();x.overrideFill&&(E._fill.color=16777215,E._fill.alpha=1,E._fill.texture=xt.WHITE,E._fill.fill=null),this.applyFillAsTint=x.overrideFill;const M=E.fontSize;E.fontSize=this.baseMeasurementFontSize;const w=ua(E);x.overrideSize?E._stroke&&(E._stroke.width*=this.baseRenderedFontSize/M):E.fontSize=this.baseRenderedFontSize=M,this._style=E,this._skipKerning=x.skipKerning??!1,this.resolution=x.resolution??1,this._padding=x.padding??4,this.fontMetrics=Bh.measureFont(w),this.lineHeight=E.lineHeight||this.fontMetrics.fontSize||E.fontSize}ensureCharacters(h){var l,s;const x=zf(h).filter(u=>!this._currentChars.includes(u)).filter((u,d,f)=>f.indexOf(u)===d);if(!x.length)return;this._currentChars=[...this._currentChars,...x];let E;this._currentPageIndex===-1?E=this._nextPage():E=this.pages[this._currentPageIndex];let{canvas:M,context:w}=E.canvasAndContext,v=E.texture.source;const y=this._style;let t=this._currentX,o=this._currentY;const p=this.baseRenderedFontSize/this.baseMeasurementFontSize,a=this._padding*p;let n=0,i=!1;const e=M.width/this.resolution,r=M.height/this.resolution;for(let u=0;u<x.length;u++){const d=x[u],f=Bh.measureText(d,y,M,!1);f.lineHeight=f.height;const c=f.width*p,m=Math.ceil((y.fontStyle==="italic"?2:1)*c),T=f.height*p,C=m+a*2,S=T+a*2;if(i=!1,d!==`
`&&d!=="\r"&&d!=="	"&&d!==" "&&(i=!0,n=Math.ceil(Math.max(S,n))),t+C>e&&(o+=n,n=S,t=0,o+n>r)){v.update();const P=this._nextPage();M=P.canvasAndContext.canvas,w=P.canvasAndContext.context,v=P.texture.source,o=0}const A=c/p-(((l=y.dropShadow)==null?void 0:l.distance)??0)-(((s=y._stroke)==null?void 0:s.width)??0);if(this.chars[d]={id:d.codePointAt(0),xOffset:-this._padding,yOffset:-this._padding,xAdvance:A,kerning:{}},i){this._drawGlyph(w,f,t+a,o+a,p,y);const P=v.width*p,R=v.height*p,F=new Vt(t/P*v.width,o/R*v.height,C/P*v.width,S/R*v.height);this.chars[d].texture=new xt({source:v,frame:F}),t+=Math.ceil(C)}}v.update(),this._currentX=t,this._currentY=o,this._skipKerning&&this._applyKerning(x,w)}get pageTextures(){return Ot(zt,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}_applyKerning(h,x){const E=this._measureCache;for(let M=0;M<h.length;M++){const w=h[M];for(let v=0;v<this._currentChars.length;v++){const y=this._currentChars[v];let t=E[w];t||(t=E[w]=x.measureText(w).width);let o=E[y];o||(o=E[y]=x.measureText(y).width);let p=x.measureText(w+y).width,a=p-(t+o);a&&(this.chars[w].kerning[y]=a),p=x.measureText(w+y).width,a=p-(t+o),a&&(this.chars[y].kerning[w]=a)}}}_nextPage(){this._currentPageIndex++;const h=this.resolution,x=Ih.getOptimalCanvasAndContext(this._textureSize,this._textureSize,h);this._setupContext(x.context,this._style,h);const E=h*(this.baseRenderedFontSize/this.baseMeasurementFontSize),M=new xt({source:new Wi({resource:x.canvas,resolution:E,alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:this._mipmap})}),w={canvasAndContext:x,texture:M};return this.pages[this._currentPageIndex]=w,w}_setupContext(h,x,E){x.fontSize=this.baseRenderedFontSize,h.scale(E,E),h.font=ua(x),x.fontSize=this.baseMeasurementFontSize,h.textBaseline=x.textBaseline;const M=x._stroke,w=(M==null?void 0:M.width)??0;if(M&&(h.lineWidth=w,h.lineJoin=M.join,h.miterLimit=M.miterLimit,h.strokeStyle=bh(M,h)),x._fill&&(h.fillStyle=bh(x._fill,h)),x.dropShadow){const v=x.dropShadow,y=Gt.shared.setValue(v.color).toArray(),t=v.blur*E,o=v.distance*E;h.shadowColor=`rgba(${y[0]*255},${y[1]*255},${y[2]*255},${v.alpha})`,h.shadowBlur=t,h.shadowOffsetX=Math.cos(v.angle)*o,h.shadowOffsetY=Math.sin(v.angle)*o}else h.shadowColor="black",h.shadowBlur=0,h.shadowOffsetX=0,h.shadowOffsetY=0}_drawGlyph(h,x,E,M,w,v){const y=x.text,t=x.fontProperties,o=v._stroke,p=((o==null?void 0:o.width)??0)*w,a=E+p/2,n=M-p/2,i=t.descent*w,e=x.lineHeight*w;v.stroke&&p&&h.strokeText(y,a,n+e-i),v._fill&&h.fillText(y,a,n+e-i)}destroy(){super.destroy();for(let h=0;h<this.pages.length;h++){const{canvasAndContext:x,texture:E}=this.pages[h];Ih.returnCanvasAndContext(x),E.destroy(!0)}this.pages=null}};Uf.defaultOptions={textureSize:512,style:new ws,mipmap:!0};let Gh=Uf;function Qg(g,h,x,E){const M={width:0,height:0,offsetY:0,scale:h.fontSize/x.baseMeasurementFontSize,lines:[{width:0,charPositions:[],spaceWidth:0,spacesIndex:[],chars:[]}]};M.offsetY=x.baseLineOffset;let w=M.lines[0],v=null,y=!0;const t={width:0,start:0,index:0,positions:[],chars:[]},o=e=>{const r=w.width;for(let l=0;l<t.index;l++){const s=e.positions[l];w.chars.push(e.chars[l]),w.charPositions.push(s+r)}w.width+=e.width,y=!1,t.width=0,t.index=0,t.chars.length=0},p=()=>{let e=w.chars.length-1;if(E){let r=w.chars[e];for(;r===" ";)w.width-=x.chars[r].xAdvance,r=w.chars[--e]}M.width=Math.max(M.width,w.width),w={width:0,charPositions:[],chars:[],spaceWidth:0,spacesIndex:[]},y=!0,M.lines.push(w),M.height+=x.lineHeight},a=x.baseMeasurementFontSize/h.fontSize,n=h.letterSpacing*a,i=h.wordWrapWidth*a;for(let e=0;e<g.length+1;e++){let r;const l=e===g.length;l||(r=g[e]);const s=x.chars[r]||x.chars[" "];if(/(?:\s)/.test(r)||r==="\r"||r===`
`||l){if(!y&&h.wordWrap&&w.width+t.width-n>i?(p(),o(t),l||w.charPositions.push(0)):(t.start=w.width,o(t),l||w.charPositions.push(0)),r==="\r"||r===`
`)w.width!==0&&p();else if(!l){const c=s.xAdvance+(s.kerning[v]||0)+n;w.width+=c,w.spaceWidth=c,w.spacesIndex.push(w.charPositions.length),w.chars.push(r)}}else{const f=s.kerning[v]||0,c=s.xAdvance+f+n;t.positions[t.index++]=t.width+f,t.chars.push(r),t.width+=c}v=r}return p(),h.align==="center"?Jg(M):h.align==="right"?$g(M):h.align==="justify"&&jg(M),M}function Jg(g){for(let h=0;h<g.lines.length;h++){const x=g.lines[h],E=g.width/2-x.width/2;for(let M=0;M<x.charPositions.length;M++)x.charPositions[M]+=E}}function $g(g){for(let h=0;h<g.lines.length;h++){const x=g.lines[h],E=g.width-x.width;for(let M=0;M<x.charPositions.length;M++)x.charPositions[M]+=E}}function jg(g){const h=g.width;for(let x=0;x<g.lines.length;x++){const E=g.lines[x];let M=0,w=E.spacesIndex[M++],v=0;const y=E.spacesIndex.length,o=(h-E.width)/y;for(let p=0;p<E.charPositions.length;p++)p===w&&(w=E.spacesIndex[M++],v+=o),E.charPositions[p]+=v}}let _s=0;class kg{constructor(){this.ALPHA=[["a","z"],["A","Z"]," "],this.NUMERIC=[["0","9"]],this.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],this.ASCII=[[" ","~"]],this.defaultOptions={chars:this.ALPHANUMERIC,resolution:1,padding:4,skipKerning:!1}}getFont(h,x){var v;let E=`${x.fontFamily}-bitmap`,M=!0;if(x._fill.fill&&!x._stroke)E+=x._fill.fill.styleKey,M=!1;else if(x._stroke||x.dropShadow){let y=x.styleKey;y=y.substring(0,y.lastIndexOf("-")),E=`${y}-bitmap`,M=!1}if(!Lt.has(E)){const y=new Gh({style:x,overrideFill:M,overrideSize:!0,...this.defaultOptions});_s++,_s>50&&Nt("BitmapText",`You have dynamically created ${_s} bitmap fonts, this can be inefficient. Try pre installing your font styles using \`BitmapFont.install({name:"style1", style})\``),y.once("destroy",()=>{_s--,Lt.remove(E)}),Lt.set(E,y)}const w=Lt.get(E);return(v=w.ensureCharacters)==null||v.call(w,h),w}getLayout(h,x,E=!0){const M=this.getFont(h,x);return Qg([...h],x,M,E)}measureText(h,x,E=!0){return this.getLayout(h,x,E)}install(...h){var o,p,a,n;let x=h[0];typeof x=="string"&&(x={name:x,style:h[1],chars:(o=h[2])==null?void 0:o.chars,resolution:(p=h[2])==null?void 0:p.resolution,padding:(a=h[2])==null?void 0:a.padding,skipKerning:(n=h[2])==null?void 0:n.skipKerning},Ot(zt,"BitmapFontManager.install(name, style, options) is deprecated, use BitmapFontManager.install({name, style, ...options})"));const E=x==null?void 0:x.name;if(!E)throw new Error("[BitmapFontManager] Property `name` is required.");x={...this.defaultOptions,...x};const M=x.style,w=M instanceof ws?M:new ws(M),v=w._fill.fill!==null&&w._fill.fill!==void 0,y=new Gh({style:w,overrideFill:v,skipKerning:x.skipKerning,padding:x.padding,resolution:x.resolution,overrideSize:!1}),t=zf(x.chars);return y.ensureCharacters(t.join("")),Lt.set(`${E}-bitmap`,y),y.once("destroy",()=>Lt.remove(`${E}-bitmap`)),y}uninstall(h){const x=`${h}-bitmap`,E=Lt.get(x);E&&E.destroy()}}const Nh=new kg;class Xf extends xf{constructor(h,x){super();const{textures:E,data:M}=h;Object.keys(M.pages).forEach(w=>{const v=M.pages[parseInt(w,10)],y=E[v.id];this.pages.push({texture:y})}),Object.keys(M.chars).forEach(w=>{const v=M.chars[w],{frame:y,source:t}=E[v.page],o=new Vt(v.x+y.x,v.y+y.y,v.width,v.height),p=new xt({source:t,frame:o});this.chars[w]={id:w.codePointAt(0),xOffset:v.xOffset,yOffset:v.yOffset,xAdvance:v.xAdvance,kerning:v.kerning??{},texture:p}}),this.baseRenderedFontSize=M.fontSize,this.baseMeasurementFontSize=M.fontSize,this.fontMetrics={ascent:0,descent:0,fontSize:M.fontSize},this.baseLineOffset=M.baseLineOffset,this.lineHeight=M.lineHeight,this.fontFamily=M.fontFamily,this.distanceField=M.distanceField??{type:"none",range:0},this.url=x}destroy(){super.destroy();for(let h=0;h<this.pages.length;h++){const{texture:x}=this.pages[h];x.destroy(!0)}this.pages=null}static install(h){Nh.install(h)}static uninstall(h){Nh.uninstall(h)}}const Ar={test(g){return typeof g=="string"&&g.startsWith("info face=")},parse(g){const h=g.match(/^[a-z]+\s+.+$/gm),x={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const a in h){const n=h[a].match(/^[a-z]+/gm)[0],i=h[a].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),e={};for(const r in i){const l=i[r].split("="),s=l[0],u=l[1].replace(/"/gm,""),d=parseFloat(u),f=isNaN(d)?u:d;e[s]=f}x[n].push(e)}const E={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},[M]=x.info,[w]=x.common,[v]=x.distanceField??[];v&&(E.distanceField={range:parseInt(v.distanceRange,10),type:v.fieldType}),E.fontSize=parseInt(M.size,10),E.fontFamily=M.face,E.lineHeight=parseInt(w.lineHeight,10);const y=x.page;for(let a=0;a<y.length;a++)E.pages.push({id:parseInt(y[a].id,10)||0,file:y[a].file});const t={};E.baseLineOffset=E.lineHeight-parseInt(w.base,10);const o=x.char;for(let a=0;a<o.length;a++){const n=o[a],i=parseInt(n.id,10);let e=n.letter??n.char??String.fromCharCode(i);e==="space"&&(e=" "),t[i]=e,E.chars[e]={id:i,page:parseInt(n.page,10)||0,x:parseInt(n.x,10),y:parseInt(n.y,10),width:parseInt(n.width,10),height:parseInt(n.height,10),xOffset:parseInt(n.xoffset,10),yOffset:parseInt(n.yoffset,10),xAdvance:parseInt(n.xadvance,10),kerning:{}}}const p=x.kerning||[];for(let a=0;a<p.length;a++){const n=parseInt(p[a].first,10),i=parseInt(p[a].second,10),e=parseInt(p[a].amount,10);E.chars[t[i]].kerning[t[n]]=e}return E}},zh={test(g){const h=g;return typeof h!="string"&&"getElementsByTagName"in h&&h.getElementsByTagName("page").length&&h.getElementsByTagName("info")[0].getAttribute("face")!==null},parse(g){const h={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},x=g.getElementsByTagName("info")[0],E=g.getElementsByTagName("common")[0],M=g.getElementsByTagName("distanceField")[0];M&&(h.distanceField={type:M.getAttribute("fieldType"),range:parseInt(M.getAttribute("distanceRange"),10)});const w=g.getElementsByTagName("page"),v=g.getElementsByTagName("char"),y=g.getElementsByTagName("kerning");h.fontSize=parseInt(x.getAttribute("size"),10),h.fontFamily=x.getAttribute("face"),h.lineHeight=parseInt(E.getAttribute("lineHeight"),10);for(let o=0;o<w.length;o++)h.pages.push({id:parseInt(w[o].getAttribute("id"),10)||0,file:w[o].getAttribute("file")});const t={};h.baseLineOffset=h.lineHeight-parseInt(E.getAttribute("base"),10);for(let o=0;o<v.length;o++){const p=v[o],a=parseInt(p.getAttribute("id"),10);let n=p.getAttribute("letter")??p.getAttribute("char")??String.fromCharCode(a);n==="space"&&(n=" "),t[a]=n,h.chars[n]={id:a,page:parseInt(p.getAttribute("page"),10)||0,x:parseInt(p.getAttribute("x"),10),y:parseInt(p.getAttribute("y"),10),width:parseInt(p.getAttribute("width"),10),height:parseInt(p.getAttribute("height"),10),xOffset:parseInt(p.getAttribute("xoffset"),10),yOffset:parseInt(p.getAttribute("yoffset"),10),xAdvance:parseInt(p.getAttribute("xadvance"),10),kerning:{}}}for(let o=0;o<y.length;o++){const p=parseInt(y[o].getAttribute("first"),10),a=parseInt(y[o].getAttribute("second"),10),n=parseInt(y[o].getAttribute("amount"),10);h.chars[t[a]].kerning[t[p]]=n}return h}},Uh={test(g){return typeof g=="string"&&g.includes("<font>")?zh.test(Dt.get().parseXML(g)):!1},parse(g){return zh.parse(Dt.get().parseXML(g))}},qg=[".xml",".fnt"],_g={extension:{type:ut.CacheParser,name:"cacheBitmapFont"},test:g=>g instanceof Xf,getCacheableAssets(g,h){const x={};return g.forEach(E=>{x[E]=h,x[`${E}-bitmap`]=h}),x[`${h.fontFamily}-bitmap`]=h,x}},tx={extension:{type:ut.LoadParser,priority:ii.Normal},name:"loadBitmapFont",test(g){return qg.includes(ae.extname(g).toLowerCase())},async testParse(g){return Ar.test(g)||Uh.test(g)},async parse(g,h,x){const E=Ar.test(g)?Ar.parse(g):Uh.parse(g),{src:M}=h,{pages:w}=E,v=[],y=E.distanceField?{scaleMode:"linear",alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:!1,resolution:1}:{};for(let a=0;a<w.length;++a){const n=w[a].file;let i=ae.join(ae.dirname(M),n);i=kr(i,M),v.push({src:i,data:y})}const t=await x.load(v),o=v.map(a=>t[a.src]);return new Xf({data:E,textures:o},M)},async load(g,h){return await(await Dt.get().fetch(g)).text()},async unload(g,h,x){await Promise.all(g.pages.map(E=>x.unload(E.texture.source._sourceOrigin))),g.destroy()}};class ex{constructor(h,x=!1){this._loader=h,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=x}add(h){h.forEach(x=>{this._assetList.push(x)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const h=[],x=Math.min(this._assetList.length,this._maxConcurrent);for(let E=0;E<x;E++)h.push(this._assetList.pop());await this._loader.load(h),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(h){this._isActive!==h&&(this._isActive=h,h&&!this._isLoading&&this._next())}}const ix={extension:{type:ut.CacheParser,name:"cacheTextureArray"},test:g=>Array.isArray(g)&&g.every(h=>h instanceof xt),getCacheableAssets:(g,h)=>{const x={};return g.forEach(E=>{h.forEach((M,w)=>{x[E+(w===0?"":w+1)]=M})}),x}};async function Yf(g){if("Image"in globalThis)return new Promise(h=>{const x=new Image;x.onload=()=>{h(!0)},x.onerror=()=>{h(!1)},x.src=g});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const h=await(await fetch(g)).blob();await createImageBitmap(h)}catch{return!1}return!0}return!1}const sx={extension:{type:ut.DetectionParser,priority:1},test:async()=>Yf("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async g=>[...g,"avif"],remove:async g=>g.filter(h=>h!=="avif")},Vh=["png","jpg","jpeg"],nx={extension:{type:ut.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async g=>[...g,...Vh],remove:async g=>g.filter(h=>!Vh.includes(h))},rx="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function Za(g){return rx?!1:document.createElement("video").canPlayType(g)!==""}const ax={extension:{type:ut.DetectionParser,priority:0},test:async()=>Za("video/mp4"),add:async g=>[...g,"mp4","m4v"],remove:async g=>g.filter(h=>h!=="mp4"&&h!=="m4v")},ox={extension:{type:ut.DetectionParser,priority:0},test:async()=>Za("video/ogg"),add:async g=>[...g,"ogv"],remove:async g=>g.filter(h=>h!=="ogv")},hx={extension:{type:ut.DetectionParser,priority:0},test:async()=>Za("video/webm"),add:async g=>[...g,"webm"],remove:async g=>g.filter(h=>h!=="webm")},lx={extension:{type:ut.DetectionParser,priority:0},test:async()=>Yf("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async g=>[...g,"webp"],remove:async g=>g.filter(h=>h!=="webp")};class ux{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(h,x,E)=>(this._parsersValidated=!1,h[x]=E,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(h,x){const E={promise:null,parser:null};return E.promise=(async()=>{var v,y;let M=null,w=null;if(x.loadParser&&(w=this._parserHash[x.loadParser],w||Nt(`[Assets] specified load parser "${x.loadParser}" not found while loading ${h}`)),!w){for(let t=0;t<this.parsers.length;t++){const o=this.parsers[t];if(o.load&&((v=o.test)!=null&&v.call(o,h,x,this))){w=o;break}}if(!w)return Nt(`[Assets] ${h} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}M=await w.load(h,x,this),E.parser=w;for(let t=0;t<this.parsers.length;t++){const o=this.parsers[t];o.parse&&o.parse&&await((y=o.testParse)==null?void 0:y.call(o,M,x,this))&&(M=await o.parse(M,x,this)||M,E.parser=o)}return M})(),E}async load(h,x){this._parsersValidated||this._validateParsers();let E=0;const M={},w=yn(h),v=pe(h,o=>({alias:[o],src:o,data:{}})),y=v.length,t=v.map(async o=>{const p=ae.toAbsolute(o.src);if(!M[o.src])try{this.promiseCache[p]||(this.promiseCache[p]=this._getLoadPromiseAndParser(p,o)),M[o.src]=await this.promiseCache[p].promise,x&&x(++E/y)}catch(a){throw delete this.promiseCache[p],delete M[o.src],new Error(`[Loader.load] Failed to load ${p}.
${a}`)}});return await Promise.all(t),w?M[v[0].src]:M}async unload(h){const E=pe(h,M=>({alias:[M],src:M})).map(async M=>{var y,t;const w=ae.toAbsolute(M.src),v=this.promiseCache[w];if(v){const o=await v.promise;delete this.promiseCache[w],await((t=(y=v.parser)==null?void 0:y.unload)==null?void 0:t.call(y,o,M,this))}});await Promise.all(E)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(h=>h.name).reduce((h,x)=>(x.name?h[x.name]&&Nt(`[Assets] loadParser name conflict "${x.name}"`):Nt("[Assets] loadParser should have a name"),{...h,[x.name]:x}),{})}}function Ki(g,h){if(Array.isArray(h)){for(const x of h)if(g.startsWith(`data:${x}`))return!0;return!1}return g.startsWith(`data:${h}`)}function Zi(g,h){const x=g.split("?")[0],E=ae.extname(x).toLowerCase();return Array.isArray(h)?h.includes(E):E===h}const fx=".json",dx="application/json",cx={extension:{type:ut.LoadParser,priority:ii.Low},name:"loadJson",test(g){return Ki(g,dx)||Zi(g,fx)},async load(g){return await(await Dt.get().fetch(g)).json()}},vx=".txt",px="text/plain",mx={name:"loadTxt",extension:{type:ut.LoadParser,priority:ii.Low,name:"loadTxt"},test(g){return Ki(g,px)||Zi(g,vx)},async load(g){return await(await Dt.get().fetch(g)).text()}},gx=["normal","bold","100","200","300","400","500","600","700","800","900"],xx=[".ttf",".otf",".woff",".woff2"],yx=["font/ttf","font/otf","font/woff","font/woff2"],Tx=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function Sx(g){const h=ae.extname(g),M=ae.basename(g,h).replace(/(-|_)/g," ").toLowerCase().split(" ").map(y=>y.charAt(0).toUpperCase()+y.slice(1));let w=M.length>0;for(const y of M)if(!y.match(Tx)){w=!1;break}let v=M.join(" ");return w||(v=`"${v.replace(/[\\"]/g,"\\$&")}"`),v}const Cx=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function Ex(g){return Cx.test(g)?g:encodeURI(g)}const Ax={extension:{type:ut.LoadParser,priority:ii.Low},name:"loadWebFont",test(g){return Ki(g,yx)||Zi(g,xx)},async load(g,h){var E,M,w;const x=Dt.get().getFontFaceSet();if(x){const v=[],y=((E=h.data)==null?void 0:E.family)??Sx(g),t=((w=(M=h.data)==null?void 0:M.weights)==null?void 0:w.filter(p=>gx.includes(p)))??["normal"],o=h.data??{};for(let p=0;p<t.length;p++){const a=t[p],n=new FontFace(y,`url(${Ex(g)})`,{...o,weight:a});await n.load(),x.add(n),v.push(n)}return Lt.set(`${y}-and-url`,{url:g,fontFaces:v}),v.length===1?v[0]:v}return Nt("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(g){(Array.isArray(g)?g:[g]).forEach(h=>{Lt.remove(`${h.family}-and-url`),Dt.get().getFontFaceSet().delete(h)})}};function Qa(g,h=1){var E;const x=(E=Hi.RETINA_PREFIX)==null?void 0:E.exec(g);return x?parseFloat(x[1]):h}function Ja(g,h,x){g.label=x,g._sourceOrigin=x;const E=new xt({source:g,label:x}),M=()=>{delete h.promiseCache[x],Lt.has(x)&&Lt.remove(x)};return E.source.once("destroy",()=>{h.promiseCache[x]&&(Nt("[Assets] A TextureSource managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the TextureSource."),M())}),E.once("destroy",()=>{g.destroyed||(Nt("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),M())}),E}const Px=".svg",Mx="image/svg+xml",Rx={extension:{type:ut.LoadParser,priority:ii.Low,name:"loadSVG"},name:"loadSVG",config:{crossOrigin:"anonymous",parseAsGraphicsContext:!1},test(g){return Ki(g,Mx)||Zi(g,Px)},async load(g,h,x){var E;return((E=h.data)==null?void 0:E.parseAsGraphicsContext)??this.config.parseAsGraphicsContext?Fx(g):wx(g,h,x,this.config.crossOrigin)},unload(g){g.destroy(!0)}};async function wx(g,h,x,E){var l,s,u;const w=await(await Dt.get().fetch(g)).blob(),v=URL.createObjectURL(w),y=new Image;y.src=v,y.crossOrigin=E,await y.decode(),URL.revokeObjectURL(v);const t=document.createElement("canvas"),o=t.getContext("2d"),p=((l=h.data)==null?void 0:l.resolution)||Qa(g),a=((s=h.data)==null?void 0:s.width)??y.width,n=((u=h.data)==null?void 0:u.height)??y.height;t.width=a*p,t.height=n*p,o.drawImage(y,0,0,a*p,n*p);const{parseAsGraphicsContext:i,...e}=h.data??{},r=new Wi({resource:t,alphaMode:"premultiply-alpha-on-upload",resolution:p,...e});return Ja(r,x,g)}async function Fx(g){const x=await(await Dt.get().fetch(g)).text(),E=new pi;return E.svg(x),E}const Lx=`(function () {
    'use strict';

    const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
    async function checkImageBitmap() {
      try {
        if (typeof createImageBitmap !== "function")
          return false;
        const response = await fetch(WHITE_PNG);
        const imageBlob = await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);
        return imageBitmap.width === 1 && imageBitmap.height === 1;
      } catch (_e) {
        return false;
      }
    }
    void checkImageBitmap().then((result) => {
      self.postMessage(result);
    });

})();
`;let Bi=null,fa=class{constructor(){Bi||(Bi=URL.createObjectURL(new Blob([Lx],{type:"application/javascript"}))),this.worker=new Worker(Bi)}};fa.revokeObjectURL=function(){Bi&&(URL.revokeObjectURL(Bi),Bi=null)};const Ox=`(function () {
    'use strict';

    async function loadImageBitmap(url, alphaMode) {
      const response = await fetch(url);
      if (!response.ok) {
        throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
      }
      const imageBlob = await response.blob();
      return alphaMode === "premultiplied-alpha" ? createImageBitmap(imageBlob, { premultiplyAlpha: "none" }) : createImageBitmap(imageBlob);
    }
    self.onmessage = async (event) => {
      try {
        const imageBitmap = await loadImageBitmap(event.data.data[0], event.data.data[1]);
        self.postMessage({
          data: imageBitmap,
          uuid: event.data.uuid,
          id: event.data.id
        }, [imageBitmap]);
      } catch (e) {
        self.postMessage({
          error: e,
          uuid: event.data.uuid,
          id: event.data.id
        });
      }
    };

})();
`;let bi=null;class Wf{constructor(){bi||(bi=URL.createObjectURL(new Blob([Ox],{type:"application/javascript"}))),this.worker=new Worker(bi)}}Wf.revokeObjectURL=function(){bi&&(URL.revokeObjectURL(bi),bi=null)};let Xh=0,Pr;class Dx{constructor(){this._initialized=!1,this._createdWorkers=0,this._workerPool=[],this._queue=[],this._resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(h=>{const{worker:x}=new fa;x.addEventListener("message",E=>{x.terminate(),fa.revokeObjectURL(),h(E.data)})}),this._isImageBitmapSupported)}loadImageBitmap(h,x){var E;return this._run("loadImageBitmap",[h,(E=x==null?void 0:x.data)==null?void 0:E.alphaMode])}async _initWorkers(){this._initialized||(this._initialized=!0)}_getWorker(){Pr===void 0&&(Pr=navigator.hardwareConcurrency||4);let h=this._workerPool.pop();return!h&&this._createdWorkers<Pr&&(this._createdWorkers++,h=new Wf().worker,h.addEventListener("message",x=>{this._complete(x.data),this._returnWorker(x.target),this._next()})),h}_returnWorker(h){this._workerPool.push(h)}_complete(h){h.error!==void 0?this._resolveHash[h.uuid].reject(h.error):this._resolveHash[h.uuid].resolve(h.data),this._resolveHash[h.uuid]=null}async _run(h,x){await this._initWorkers();const E=new Promise((M,w)=>{this._queue.push({id:h,arguments:x,resolve:M,reject:w})});return this._next(),E}_next(){if(!this._queue.length)return;const h=this._getWorker();if(!h)return;const x=this._queue.pop(),E=x.id;this._resolveHash[Xh]={resolve:x.resolve,reject:x.reject},h.postMessage({data:x.arguments,uuid:Xh++,id:E})}}const Yh=new Dx,Ix=[".jpeg",".jpg",".png",".webp",".avif"],Bx=["image/jpeg","image/png","image/webp","image/avif"];async function bx(g,h){var M;const x=await Dt.get().fetch(g);if(!x.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${g}: ${x.status} ${x.statusText}`);const E=await x.blob();return((M=h==null?void 0:h.data)==null?void 0:M.alphaMode)==="premultiplied-alpha"?createImageBitmap(E,{premultiplyAlpha:"none"}):createImageBitmap(E)}const Hf={name:"loadTextures",extension:{type:ut.LoadParser,priority:ii.High,name:"loadTextures"},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(g){return Ki(g,Bx)||Zi(g,Ix)},async load(g,h,x){var w;let E=null;globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await Yh.isImageBitmapSupported()?E=await Yh.loadImageBitmap(g,h):E=await bx(g,h):E=await new Promise((v,y)=>{E=new Image,E.crossOrigin=this.config.crossOrigin,E.src=g,E.complete?v(E):(E.onload=()=>{v(E)},E.onerror=y)});const M=new Wi({resource:E,alphaMode:"premultiply-alpha-on-upload",resolution:((w=h.data)==null?void 0:w.resolution)||Qa(g),...h.data});return Ja(M,x,g)},unload(g){g.destroy(!0)}},Kf=[".mp4",".m4v",".webm",".ogg",".ogv",".h264",".avi",".mov"],Gx=Kf.map(g=>`video/${g.substring(1)}`);function Nx(g,h,x){x===void 0&&!h.startsWith("data:")?g.crossOrigin=Ux(h):x!==!1&&(g.crossOrigin=typeof x=="string"?x:"anonymous")}function zx(g){return new Promise((h,x)=>{g.addEventListener("canplaythrough",E),g.addEventListener("error",M),g.load();function E(){w(),h()}function M(v){w(),x(v)}function w(){g.removeEventListener("canplaythrough",E),g.removeEventListener("error",M)}})}function Ux(g,h=globalThis.location){if(g.startsWith("data:"))return"";h||(h=globalThis.location);const x=new URL(g,document.baseURI);return x.hostname!==h.hostname||x.port!==h.port||x.protocol!==h.protocol?"anonymous":""}const Vx={name:"loadVideo",extension:{type:ut.LoadParser,name:"loadVideo"},test(g){const h=Ki(g,Gx),x=Zi(g,Kf);return h||x},async load(g,h,x){var t,o;const E={...ln.defaultOptions,resolution:((t=h.data)==null?void 0:t.resolution)||Qa(g),alphaMode:((o=h.data)==null?void 0:o.alphaMode)||await Qu(),...h.data},M=document.createElement("video"),w={preload:E.autoLoad!==!1?"auto":void 0,"webkit-playsinline":E.playsinline!==!1?"":void 0,playsinline:E.playsinline!==!1?"":void 0,muted:E.muted===!0?"":void 0,loop:E.loop===!0?"":void 0,autoplay:E.autoPlay!==!1?"":void 0};Object.keys(w).forEach(p=>{const a=w[p];a!==void 0&&M.setAttribute(p,a)}),E.muted===!0&&(M.muted=!0),Nx(M,g,E.crossorigin);const v=document.createElement("source");let y;if(g.startsWith("data:"))y=g.slice(5,g.indexOf(";"));else if(!g.startsWith("blob:")){const p=g.split("?")[0].slice(g.lastIndexOf(".")+1).toLowerCase();y=ln.MIME_TYPES[p]||`video/${p}`}return v.src=g,y&&(v.type=y),new Promise(p=>{const a=async()=>{const n=new ln({...E,resource:M});M.removeEventListener("canplay",a),h.data.preload&&await zx(M),p(Ja(n,x,g))};M.addEventListener("canplay",a),M.appendChild(v)})},unload(g){g.destroy(!0)}},Zf={extension:{type:ut.ResolveParser,name:"resolveTexture"},test:Hf.test,parse:g=>{var h;return{resolution:parseFloat(((h=Hi.RETINA_PREFIX.exec(g))==null?void 0:h[1])??"1"),format:g.split(".").pop(),src:g}}},Xx={extension:{type:ut.ResolveParser,priority:-2,name:"resolveJson"},test:g=>Hi.RETINA_PREFIX.test(g)&&g.endsWith(".json"),parse:Zf.parse};class Yx{constructor(){this._detections=[],this._initialized=!1,this.resolver=new Hi,this.loader=new ux,this.cache=Lt,this._backgroundLoader=new ex(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(h={}){var w,v;if(this._initialized){Nt("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,h.defaultSearchParams&&this.resolver.setDefaultSearchParams(h.defaultSearchParams),h.basePath&&(this.resolver.basePath=h.basePath),h.bundleIdentifier&&this.resolver.setBundleIdentifier(h.bundleIdentifier),h.manifest){let y=h.manifest;typeof y=="string"&&(y=await this.load(y)),this.resolver.addManifest(y)}const x=((w=h.texturePreference)==null?void 0:w.resolution)??1,E=typeof x=="number"?[x]:x,M=await this._detectFormats({preferredFormats:(v=h.texturePreference)==null?void 0:v.format,skipDetections:h.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:M,resolution:E}}),h.preferences&&this.setPreferences(h.preferences)}add(h){this.resolver.add(h)}async load(h,x){this._initialized||await this.init();const E=yn(h),M=pe(h).map(y=>{if(typeof y!="string"){const t=this.resolver.getAlias(y);return t.some(o=>!this.resolver.hasKey(o))&&this.add(y),Array.isArray(t)?t[0]:t}return this.resolver.hasKey(y)||this.add({alias:y,src:y}),y}),w=this.resolver.resolve(M),v=await this._mapLoadToResolve(w,x);return E?v[M[0]]:v}addBundle(h,x){this.resolver.addBundle(h,x)}async loadBundle(h,x){this._initialized||await this.init();let E=!1;typeof h=="string"&&(E=!0,h=[h]);const M=this.resolver.resolveBundle(h),w={},v=Object.keys(M);let y=0,t=0;const o=()=>{x==null||x(++y/t)},p=v.map(a=>{const n=M[a];return t+=Object.keys(n).length,this._mapLoadToResolve(n,o).then(i=>{w[a]=i})});return await Promise.all(p),E?w[h[0]]:w}async backgroundLoad(h){this._initialized||await this.init(),typeof h=="string"&&(h=[h]);const x=this.resolver.resolve(h);this._backgroundLoader.add(Object.values(x))}async backgroundLoadBundle(h){this._initialized||await this.init(),typeof h=="string"&&(h=[h]);const x=this.resolver.resolveBundle(h);Object.values(x).forEach(E=>{this._backgroundLoader.add(Object.values(E))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(h){if(typeof h=="string")return Lt.get(h);const x={};for(let E=0;E<h.length;E++)x[E]=Lt.get(h[E]);return x}async _mapLoadToResolve(h,x){const E=[...new Set(Object.values(h))];this._backgroundLoader.active=!1;const M=await this.loader.load(E,x);this._backgroundLoader.active=!0;const w={};return E.forEach(v=>{const y=M[v.src],t=[v.src];v.alias&&t.push(...v.alias),t.forEach(o=>{w[o]=y}),Lt.set(t,y)}),w}async unload(h){this._initialized||await this.init();const x=pe(h).map(M=>typeof M!="string"?M.src:M),E=this.resolver.resolve(x);await this._unloadFromResolved(E)}async unloadBundle(h){this._initialized||await this.init(),h=pe(h);const x=this.resolver.resolveBundle(h),E=Object.keys(x).map(M=>this._unloadFromResolved(x[M]));await Promise.all(E)}async _unloadFromResolved(h){const x=Object.values(h);x.forEach(E=>{Lt.remove(E.src)}),await this.loader.unload(x)}async _detectFormats(h){let x=[];h.preferredFormats&&(x=Array.isArray(h.preferredFormats)?h.preferredFormats:[h.preferredFormats]);for(const E of h.detections)h.skipDetections||await E.test()?x=await E.add(x):h.skipDetections||(x=await E.remove(x));return x=x.filter((E,M)=>x.indexOf(E)===M),x}get detections(){return this._detections}setPreferences(h){this.loader.parsers.forEach(x=>{x.config&&Object.keys(x.config).filter(E=>E in h).forEach(E=>{x.config[E]=h[E]})})}}const ss=new Yx;_t.handleByList(ut.LoadParser,ss.loader.parsers).handleByList(ut.ResolveParser,ss.resolver.parsers).handleByList(ut.CacheParser,ss.cache.parsers).handleByList(ut.DetectionParser,ss.detections);_t.add(ix,nx,sx,lx,ax,ox,hx,cx,mx,Ax,Rx,Hf,Vx,tx,_g,Zf,Xx);const Wh={loader:ut.LoadParser,resolver:ut.ResolveParser,cache:ut.CacheParser,detection:ut.DetectionParser};_t.handle(ut.Asset,g=>{const h=g.ref;Object.entries(Wh).filter(([x])=>!!h[x]).forEach(([x,E])=>_t.add(Object.assign(h[x],{extension:h[x].extension??E})))},g=>{const h=g.ref;Object.keys(Wh).filter(x=>!!h[x]).forEach(x=>_t.remove(h[x]))});_t.add(lp,up);const Wx=Os({__name:"demo1",setup(g){const h=new gf;return Ds(async()=>{await h.init({background:"#1099bb",resizeTo:window}),document.body.appendChild(h.canvas);const x=new Xt;h.stage.addChild(x);const E=await ss.load(hp);{const M=new Ni(E);x.addChild(M)}x.x=h.screen.width/2,x.y=h.screen.height/2,x.pivot.x=x.width/2,x.pivot.y=x.height/2,h.ticker.add(M=>{x.rotation-=.01*M.deltaTime})}),(x,E)=>null}}),Hx=Object.freeze(Object.defineProperty({__proto__:null,default:Wx},Symbol.toStringTag,{value:"Module"}));/*!
  * vue-router v4.3.2
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const wi=typeof document<"u";function Kx(g){return g.__esModule||g[Symbol.toStringTag]==="Module"}const Ct=Object.assign;function Mr(g,h){const x={};for(const E in h){const M=h[E];x[E]=ye(M)?M.map(g):g(M)}return x}const cs=()=>{},ye=Array.isArray,Qf=/#/g,Zx=/&/g,Qx=/\//g,Jx=/=/g,$x=/\?/g,Jf=/\+/g,jx=/%5B/g,kx=/%5D/g,$f=/%5E/g,qx=/%60/g,jf=/%7B/g,_x=/%7C/g,kf=/%7D/g,t1=/%20/g;function $a(g){return encodeURI(""+g).replace(_x,"|").replace(jx,"[").replace(kx,"]")}function e1(g){return $a(g).replace(jf,"{").replace(kf,"}").replace($f,"^")}function da(g){return $a(g).replace(Jf,"%2B").replace(t1,"+").replace(Qf,"%23").replace(Zx,"%26").replace(qx,"`").replace(jf,"{").replace(kf,"}").replace($f,"^")}function i1(g){return da(g).replace(Jx,"%3D")}function s1(g){return $a(g).replace(Qf,"%23").replace($x,"%3F")}function n1(g){return g==null?"":s1(g).replace(Qx,"%2F")}function Fs(g){try{return decodeURIComponent(""+g)}catch{}return""+g}const r1=/\/$/,a1=g=>g.replace(r1,"");function Rr(g,h,x="/"){let E,M={},w="",v="";const y=h.indexOf("#");let t=h.indexOf("?");return y<t&&y>=0&&(t=-1),t>-1&&(E=h.slice(0,t),w=h.slice(t+1,y>-1?y:h.length),M=g(w)),y>-1&&(E=E||h.slice(0,y),v=h.slice(y,h.length)),E=u1(E??h,x),{fullPath:E+(w&&"?")+w+v,path:E,query:M,hash:Fs(v)}}function o1(g,h){const x=h.query?g(h.query):"";return h.path+(x&&"?")+x+(h.hash||"")}function Hh(g,h){return!h||!g.toLowerCase().startsWith(h.toLowerCase())?g:g.slice(h.length)||"/"}function h1(g,h,x){const E=h.matched.length-1,M=x.matched.length-1;return E>-1&&E===M&&Ui(h.matched[E],x.matched[M])&&qf(h.params,x.params)&&g(h.query)===g(x.query)&&h.hash===x.hash}function Ui(g,h){return(g.aliasOf||g)===(h.aliasOf||h)}function qf(g,h){if(Object.keys(g).length!==Object.keys(h).length)return!1;for(const x in g)if(!l1(g[x],h[x]))return!1;return!0}function l1(g,h){return ye(g)?Kh(g,h):ye(h)?Kh(h,g):g===h}function Kh(g,h){return ye(h)?g.length===h.length&&g.every((x,E)=>x===h[E]):g.length===1&&g[0]===h}function u1(g,h){if(g.startsWith("/"))return g;if(!g)return h;const x=h.split("/"),E=g.split("/"),M=E[E.length-1];(M===".."||M===".")&&E.push("");let w=x.length-1,v,y;for(v=0;v<E.length;v++)if(y=E[v],y!==".")if(y==="..")w>1&&w--;else break;return x.slice(0,w).join("/")+"/"+E.slice(v).join("/")}var Ls;(function(g){g.pop="pop",g.push="push"})(Ls||(Ls={}));var vs;(function(g){g.back="back",g.forward="forward",g.unknown=""})(vs||(vs={}));function f1(g){if(!g)if(wi){const h=document.querySelector("base");g=h&&h.getAttribute("href")||"/",g=g.replace(/^\w+:\/\/[^\/]+/,"")}else g="/";return g[0]!=="/"&&g[0]!=="#"&&(g="/"+g),a1(g)}const d1=/^[^#]+#/;function c1(g,h){return g.replace(d1,"#")+h}function v1(g,h){const x=document.documentElement.getBoundingClientRect(),E=g.getBoundingClientRect();return{behavior:h.behavior,left:E.left-x.left-(h.left||0),top:E.top-x.top-(h.top||0)}}const Yn=()=>({left:window.scrollX,top:window.scrollY});function p1(g){let h;if("el"in g){const x=g.el,E=typeof x=="string"&&x.startsWith("#"),M=typeof x=="string"?E?document.getElementById(x.slice(1)):document.querySelector(x):x;if(!M)return;h=v1(M,g)}else h=g;"scrollBehavior"in document.documentElement.style?window.scrollTo(h):window.scrollTo(h.left!=null?h.left:window.scrollX,h.top!=null?h.top:window.scrollY)}function Zh(g,h){return(history.state?history.state.position-h:-1)+g}const ca=new Map;function m1(g,h){ca.set(g,h)}function g1(g){const h=ca.get(g);return ca.delete(g),h}let x1=()=>location.protocol+"//"+location.host;function _f(g,h){const{pathname:x,search:E,hash:M}=h,w=g.indexOf("#");if(w>-1){let y=M.includes(g.slice(w))?g.slice(w).length:1,t=M.slice(y);return t[0]!=="/"&&(t="/"+t),Hh(t,"")}return Hh(x,g)+E+M}function y1(g,h,x,E){let M=[],w=[],v=null;const y=({state:n})=>{const i=_f(g,location),e=x.value,r=h.value;let l=0;if(n){if(x.value=i,h.value=n,v&&v===e){v=null;return}l=r?n.position-r.position:0}else E(i);M.forEach(s=>{s(x.value,e,{delta:l,type:Ls.pop,direction:l?l>0?vs.forward:vs.back:vs.unknown})})};function t(){v=x.value}function o(n){M.push(n);const i=()=>{const e=M.indexOf(n);e>-1&&M.splice(e,1)};return w.push(i),i}function p(){const{history:n}=window;n.state&&n.replaceState(Ct({},n.state,{scroll:Yn()}),"")}function a(){for(const n of w)n();w=[],window.removeEventListener("popstate",y),window.removeEventListener("beforeunload",p)}return window.addEventListener("popstate",y),window.addEventListener("beforeunload",p,{passive:!0}),{pauseListeners:t,listen:o,destroy:a}}function Qh(g,h,x,E=!1,M=!1){return{back:g,current:h,forward:x,replaced:E,position:window.history.length,scroll:M?Yn():null}}function T1(g){const{history:h,location:x}=window,E={value:_f(g,x)},M={value:h.state};M.value||w(E.value,{back:null,current:E.value,forward:null,position:h.length-1,replaced:!0,scroll:null},!0);function w(t,o,p){const a=g.indexOf("#"),n=a>-1?(x.host&&document.querySelector("base")?g:g.slice(a))+t:x1()+g+t;try{h[p?"replaceState":"pushState"](o,"",n),M.value=o}catch(i){console.error(i),x[p?"replace":"assign"](n)}}function v(t,o){const p=Ct({},h.state,Qh(M.value.back,t,M.value.forward,!0),o,{position:M.value.position});w(t,p,!0),E.value=t}function y(t,o){const p=Ct({},M.value,h.state,{forward:t,scroll:Yn()});w(p.current,p,!0);const a=Ct({},Qh(E.value,t,null),{position:p.position+1},o);w(t,a,!1),E.value=t}return{location:E,state:M,push:y,replace:v}}function S1(g){g=f1(g);const h=T1(g),x=y1(g,h.state,h.location,h.replace);function E(w,v=!0){v||x.pauseListeners(),history.go(w)}const M=Ct({location:"",base:g,go:E,createHref:c1.bind(null,g)},h,x);return Object.defineProperty(M,"location",{enumerable:!0,get:()=>h.location.value}),Object.defineProperty(M,"state",{enumerable:!0,get:()=>h.state.value}),M}function C1(g){return g=location.host?g||location.pathname+location.search:"",g.includes("#")||(g+="#"),S1(g)}function E1(g){return typeof g=="string"||g&&typeof g=="object"}function td(g){return typeof g=="string"||typeof g=="symbol"}const Ye={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},ed=Symbol("");var Jh;(function(g){g[g.aborted=4]="aborted",g[g.cancelled=8]="cancelled",g[g.duplicated=16]="duplicated"})(Jh||(Jh={}));function Vi(g,h){return Ct(new Error,{type:g,[ed]:!0},h)}function De(g,h){return g instanceof Error&&ed in g&&(h==null||!!(g.type&h))}const $h="[^/]+?",A1={sensitive:!1,strict:!1,start:!0,end:!0},P1=/[.+*?^${}()[\]/\\]/g;function M1(g,h){const x=Ct({},A1,h),E=[];let M=x.start?"^":"";const w=[];for(const o of g){const p=o.length?[]:[90];x.strict&&!o.length&&(M+="/");for(let a=0;a<o.length;a++){const n=o[a];let i=40+(x.sensitive?.25:0);if(n.type===0)a||(M+="/"),M+=n.value.replace(P1,"\\$&"),i+=40;else if(n.type===1){const{value:e,repeatable:r,optional:l,regexp:s}=n;w.push({name:e,repeatable:r,optional:l});const u=s||$h;if(u!==$h){i+=10;try{new RegExp(`(${u})`)}catch(f){throw new Error(`Invalid custom RegExp for param "${e}" (${u}): `+f.message)}}let d=r?`((?:${u})(?:/(?:${u}))*)`:`(${u})`;a||(d=l&&o.length<2?`(?:/${d})`:"/"+d),l&&(d+="?"),M+=d,i+=20,l&&(i+=-8),r&&(i+=-20),u===".*"&&(i+=-50)}p.push(i)}E.push(p)}if(x.strict&&x.end){const o=E.length-1;E[o][E[o].length-1]+=.7000000000000001}x.strict||(M+="/?"),x.end?M+="$":x.strict&&(M+="(?:/|$)");const v=new RegExp(M,x.sensitive?"":"i");function y(o){const p=o.match(v),a={};if(!p)return null;for(let n=1;n<p.length;n++){const i=p[n]||"",e=w[n-1];a[e.name]=i&&e.repeatable?i.split("/"):i}return a}function t(o){let p="",a=!1;for(const n of g){(!a||!p.endsWith("/"))&&(p+="/"),a=!1;for(const i of n)if(i.type===0)p+=i.value;else if(i.type===1){const{value:e,repeatable:r,optional:l}=i,s=e in o?o[e]:"";if(ye(s)&&!r)throw new Error(`Provided param "${e}" is an array but it is not repeatable (* or + modifiers)`);const u=ye(s)?s.join("/"):s;if(!u)if(l)n.length<2&&(p.endsWith("/")?p=p.slice(0,-1):a=!0);else throw new Error(`Missing required param "${e}"`);p+=u}}return p||"/"}return{re:v,score:E,keys:w,parse:y,stringify:t}}function R1(g,h){let x=0;for(;x<g.length&&x<h.length;){const E=h[x]-g[x];if(E)return E;x++}return g.length<h.length?g.length===1&&g[0]===80?-1:1:g.length>h.length?h.length===1&&h[0]===80?1:-1:0}function w1(g,h){let x=0;const E=g.score,M=h.score;for(;x<E.length&&x<M.length;){const w=R1(E[x],M[x]);if(w)return w;x++}if(Math.abs(M.length-E.length)===1){if(jh(E))return 1;if(jh(M))return-1}return M.length-E.length}function jh(g){const h=g[g.length-1];return g.length>0&&h[h.length-1]<0}const F1={type:0,value:""},L1=/[a-zA-Z0-9_]/;function O1(g){if(!g)return[[]];if(g==="/")return[[F1]];if(!g.startsWith("/"))throw new Error(`Invalid path "${g}"`);function h(i){throw new Error(`ERR (${x})/"${o}": ${i}`)}let x=0,E=x;const M=[];let w;function v(){w&&M.push(w),w=[]}let y=0,t,o="",p="";function a(){o&&(x===0?w.push({type:0,value:o}):x===1||x===2||x===3?(w.length>1&&(t==="*"||t==="+")&&h(`A repeatable param (${o}) must be alone in its segment. eg: '/:ids+.`),w.push({type:1,value:o,regexp:p,repeatable:t==="*"||t==="+",optional:t==="*"||t==="?"})):h("Invalid state to consume buffer"),o="")}function n(){o+=t}for(;y<g.length;){if(t=g[y++],t==="\\"&&x!==2){E=x,x=4;continue}switch(x){case 0:t==="/"?(o&&a(),v()):t===":"?(a(),x=1):n();break;case 4:n(),x=E;break;case 1:t==="("?x=2:L1.test(t)?n():(a(),x=0,t!=="*"&&t!=="?"&&t!=="+"&&y--);break;case 2:t===")"?p[p.length-1]=="\\"?p=p.slice(0,-1)+t:x=3:p+=t;break;case 3:a(),x=0,t!=="*"&&t!=="?"&&t!=="+"&&y--,p="";break;default:h("Unknown state");break}}return x===2&&h(`Unfinished custom RegExp for param "${o}"`),a(),v(),M}function D1(g,h,x){const E=M1(O1(g.path),x),M=Ct(E,{record:g,parent:h,children:[],alias:[]});return h&&!M.record.aliasOf==!h.record.aliasOf&&h.children.push(M),M}function I1(g,h){const x=[],E=new Map;h=_h({strict:!1,end:!0,sensitive:!1},h);function M(p){return E.get(p)}function w(p,a,n){const i=!n,e=B1(p);e.aliasOf=n&&n.record;const r=_h(h,p),l=[e];if("alias"in p){const d=typeof p.alias=="string"?[p.alias]:p.alias;for(const f of d)l.push(Ct({},e,{components:n?n.record.components:e.components,path:f,aliasOf:n?n.record:e}))}let s,u;for(const d of l){const{path:f}=d;if(a&&f[0]!=="/"){const c=a.record.path,m=c[c.length-1]==="/"?"":"/";d.path=a.record.path+(f&&m+f)}if(s=D1(d,a,r),n?n.alias.push(s):(u=u||s,u!==s&&u.alias.push(s),i&&p.name&&!qh(s)&&v(p.name)),e.children){const c=e.children;for(let m=0;m<c.length;m++)w(c[m],s,n&&n.children[m])}n=n||s,(s.record.components&&Object.keys(s.record.components).length||s.record.name||s.record.redirect)&&t(s)}return u?()=>{v(u)}:cs}function v(p){if(td(p)){const a=E.get(p);a&&(E.delete(p),x.splice(x.indexOf(a),1),a.children.forEach(v),a.alias.forEach(v))}else{const a=x.indexOf(p);a>-1&&(x.splice(a,1),p.record.name&&E.delete(p.record.name),p.children.forEach(v),p.alias.forEach(v))}}function y(){return x}function t(p){let a=0;for(;a<x.length&&w1(p,x[a])>=0&&(p.record.path!==x[a].record.path||!id(p,x[a]));)a++;x.splice(a,0,p),p.record.name&&!qh(p)&&E.set(p.record.name,p)}function o(p,a){let n,i={},e,r;if("name"in p&&p.name){if(n=E.get(p.name),!n)throw Vi(1,{location:p});r=n.record.name,i=Ct(kh(a.params,n.keys.filter(u=>!u.optional).concat(n.parent?n.parent.keys.filter(u=>u.optional):[]).map(u=>u.name)),p.params&&kh(p.params,n.keys.map(u=>u.name))),e=n.stringify(i)}else if(p.path!=null)e=p.path,n=x.find(u=>u.re.test(e)),n&&(i=n.parse(e),r=n.record.name);else{if(n=a.name?E.get(a.name):x.find(u=>u.re.test(a.path)),!n)throw Vi(1,{location:p,currentLocation:a});r=n.record.name,i=Ct({},a.params,p.params),e=n.stringify(i)}const l=[];let s=n;for(;s;)l.unshift(s.record),s=s.parent;return{name:r,path:e,params:i,matched:l,meta:G1(l)}}return g.forEach(p=>w(p)),{addRoute:w,resolve:o,removeRoute:v,getRoutes:y,getRecordMatcher:M}}function kh(g,h){const x={};for(const E of h)E in g&&(x[E]=g[E]);return x}function B1(g){return{path:g.path,redirect:g.redirect,name:g.name,meta:g.meta||{},aliasOf:void 0,beforeEnter:g.beforeEnter,props:b1(g),children:g.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in g?g.components||null:g.component&&{default:g.component}}}function b1(g){const h={},x=g.props||!1;if("component"in g)h.default=x;else for(const E in g.components)h[E]=typeof x=="object"?x[E]:x;return h}function qh(g){for(;g;){if(g.record.aliasOf)return!0;g=g.parent}return!1}function G1(g){return g.reduce((h,x)=>Ct(h,x.meta),{})}function _h(g,h){const x={};for(const E in g)x[E]=E in h?h[E]:g[E];return x}function id(g,h){return h.children.some(x=>x===g||id(g,x))}function N1(g){const h={};if(g===""||g==="?")return h;const E=(g[0]==="?"?g.slice(1):g).split("&");for(let M=0;M<E.length;++M){const w=E[M].replace(Jf," "),v=w.indexOf("="),y=Fs(v<0?w:w.slice(0,v)),t=v<0?null:Fs(w.slice(v+1));if(y in h){let o=h[y];ye(o)||(o=h[y]=[o]),o.push(t)}else h[y]=t}return h}function tl(g){let h="";for(let x in g){const E=g[x];if(x=i1(x),E==null){E!==void 0&&(h+=(h.length?"&":"")+x);continue}(ye(E)?E.map(w=>w&&da(w)):[E&&da(E)]).forEach(w=>{w!==void 0&&(h+=(h.length?"&":"")+x,w!=null&&(h+="="+w))})}return h}function z1(g){const h={};for(const x in g){const E=g[x];E!==void 0&&(h[x]=ye(E)?E.map(M=>M==null?null:""+M):E==null?E:""+E)}return h}const U1=Symbol(""),el=Symbol(""),ja=Symbol(""),sd=Symbol(""),va=Symbol("");function qi(){let g=[];function h(E){return g.push(E),()=>{const M=g.indexOf(E);M>-1&&g.splice(M,1)}}function x(){g=[]}return{add:h,list:()=>g.slice(),reset:x}}function Qe(g,h,x,E,M,w=v=>v()){const v=E&&(E.enterCallbacks[M]=E.enterCallbacks[M]||[]);return()=>new Promise((y,t)=>{const o=n=>{n===!1?t(Vi(4,{from:x,to:h})):n instanceof Error?t(n):E1(n)?t(Vi(2,{from:h,to:n})):(v&&E.enterCallbacks[M]===v&&typeof n=="function"&&v.push(n),y())},p=w(()=>g.call(E&&E.instances[M],h,x,o));let a=Promise.resolve(p);g.length<3&&(a=a.then(o)),a.catch(n=>t(n))})}function wr(g,h,x,E,M=w=>w()){const w=[];for(const v of g)for(const y in v.components){let t=v.components[y];if(!(h!=="beforeRouteEnter"&&!v.instances[y]))if(V1(t)){const p=(t.__vccOpts||t)[h];p&&w.push(Qe(p,x,E,v,y,M))}else{let o=t();w.push(()=>o.then(p=>{if(!p)return Promise.reject(new Error(`Couldn't resolve component "${y}" at "${v.path}"`));const a=Kx(p)?p.default:p;v.components[y]=a;const i=(a.__vccOpts||a)[h];return i&&Qe(i,x,E,v,y,M)()}))}}return w}function V1(g){return typeof g=="object"||"displayName"in g||"props"in g||"__vccOpts"in g}function il(g){const h=be(ja),x=be(sd),E=ve(()=>{const t=Di(g.to);return h.resolve(t)}),M=ve(()=>{const{matched:t}=E.value,{length:o}=t,p=t[o-1],a=x.matched;if(!p||!a.length)return-1;const n=a.findIndex(Ui.bind(null,p));if(n>-1)return n;const i=sl(t[o-2]);return o>1&&sl(p)===i&&a[a.length-1].path!==i?a.findIndex(Ui.bind(null,t[o-2])):n}),w=ve(()=>M.value>-1&&H1(x.params,E.value.params)),v=ve(()=>M.value>-1&&M.value===x.matched.length-1&&qf(x.params,E.value.params));function y(t={}){return W1(t)?h[Di(g.replace)?"replace":"push"](Di(g.to)).catch(cs):Promise.resolve()}return{route:E,href:ve(()=>E.value.href),isActive:w,isExactActive:v,navigate:y}}const X1=Os({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:il,setup(g,{slots:h}){const x=Mn(il(g)),{options:E}=be(ja),M=ve(()=>({[nl(g.activeClass,E.linkActiveClass,"router-link-active")]:x.isActive,[nl(g.exactActiveClass,E.linkExactActiveClass,"router-link-exact-active")]:x.isExactActive}));return()=>{const w=h.default&&h.default(x);return g.custom?w:Da("a",{"aria-current":x.isExactActive?g.ariaCurrentValue:null,href:x.href,onClick:x.navigate,class:M.value},w)}}}),Y1=X1;function W1(g){if(!(g.metaKey||g.altKey||g.ctrlKey||g.shiftKey)&&!g.defaultPrevented&&!(g.button!==void 0&&g.button!==0)){if(g.currentTarget&&g.currentTarget.getAttribute){const h=g.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(h))return}return g.preventDefault&&g.preventDefault(),!0}}function H1(g,h){for(const x in h){const E=h[x],M=g[x];if(typeof E=="string"){if(E!==M)return!1}else if(!ye(M)||M.length!==E.length||E.some((w,v)=>w!==M[v]))return!1}return!0}function sl(g){return g?g.aliasOf?g.aliasOf.path:g.path:""}const nl=(g,h,x)=>g??h??x,K1=Os({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(g,{attrs:h,slots:x}){const E=be(va),M=ve(()=>g.route||E.value),w=be(el,0),v=ve(()=>{let o=Di(w);const{matched:p}=M.value;let a;for(;(a=p[o])&&!a.components;)o++;return o}),y=ve(()=>M.value.matched[v.value]);nn(el,ve(()=>v.value+1)),nn(U1,y),nn(va,M);const t=Hd();return sn(()=>[t.value,y.value,g.name],([o,p,a],[n,i,e])=>{p&&(p.instances[a]=o,i&&i!==p&&o&&o===n&&(p.leaveGuards.size||(p.leaveGuards=i.leaveGuards),p.updateGuards.size||(p.updateGuards=i.updateGuards))),o&&p&&(!i||!Ui(p,i)||!n)&&(p.enterCallbacks[a]||[]).forEach(r=>r(o))},{flush:"post"}),()=>{const o=M.value,p=g.name,a=y.value,n=a&&a.components[p];if(!n)return rl(x.default,{Component:n,route:o});const i=a.props[p],e=i?i===!0?o.params:typeof i=="function"?i(o):i:null,l=Da(n,Ct({},e,h,{onVnodeUnmounted:s=>{s.component.isUnmounted&&(a.instances[p]=null)},ref:t}));return rl(x.default,{Component:l,route:o})||l}}});function rl(g,h){if(!g)return null;const x=g(h);return x.length===1?x[0]:x}const Z1=K1;function Q1(g){const h=I1(g.routes,g),x=g.parseQuery||N1,E=g.stringifyQuery||tl,M=g.history,w=qi(),v=qi(),y=qi(),t=Kd(Ye);let o=Ye;wi&&g.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const p=Mr.bind(null,G=>""+G),a=Mr.bind(null,n1),n=Mr.bind(null,Fs);function i(G,X){let H,Q;return td(G)?(H=h.getRecordMatcher(G),Q=X):Q=G,h.addRoute(Q,H)}function e(G){const X=h.getRecordMatcher(G);X&&h.removeRoute(X)}function r(){return h.getRoutes().map(G=>G.record)}function l(G){return!!h.getRecordMatcher(G)}function s(G,X){if(X=Ct({},X||t.value),typeof G=="string"){const j=Rr(x,G,X.path),k=h.resolve({path:j.path},X),_=M.createHref(j.fullPath);return Ct(j,k,{params:n(k.params),hash:Fs(j.hash),redirectedFrom:void 0,href:_})}let H;if(G.path!=null)H=Ct({},G,{path:Rr(x,G.path,X.path).path});else{const j=Ct({},G.params);for(const k in j)j[k]==null&&delete j[k];H=Ct({},G,{params:a(j)}),X.params=a(X.params)}const Q=h.resolve(H,X),$=G.hash||"";Q.params=p(n(Q.params));const Z=o1(E,Ct({},G,{hash:e1($),path:Q.path})),J=M.createHref(Z);return Ct({fullPath:Z,hash:$,query:E===tl?z1(G.query):G.query||{}},Q,{redirectedFrom:void 0,href:J})}function u(G){return typeof G=="string"?Rr(x,G,t.value.path):Ct({},G)}function d(G,X){if(o!==G)return Vi(8,{from:X,to:G})}function f(G){return T(G)}function c(G){return f(Ct(u(G),{replace:!0}))}function m(G){const X=G.matched[G.matched.length-1];if(X&&X.redirect){const{redirect:H}=X;let Q=typeof H=="function"?H(G):H;return typeof Q=="string"&&(Q=Q.includes("?")||Q.includes("#")?Q=u(Q):{path:Q},Q.params={}),Ct({query:G.query,hash:G.hash,params:Q.path!=null?{}:G.params},Q)}}function T(G,X){const H=o=s(G),Q=t.value,$=G.state,Z=G.force,J=G.replace===!0,j=m(H);if(j)return T(Ct(u(j),{state:typeof j=="object"?Ct({},$,j.state):$,force:Z,replace:J}),X||H);const k=H;k.redirectedFrom=X;let _;return!Z&&h1(E,Q,H)&&(_=Vi(16,{to:k,from:Q}),W(Q,Q,!0,!1)),(_?Promise.resolve(_):A(k,Q)).catch(q=>De(q)?De(q,2)?q:V(q):b(q,k,Q)).then(q=>{if(q){if(De(q,2))return T(Ct({replace:J},u(q.to),{state:typeof q.to=="object"?Ct({},$,q.to.state):$,force:Z}),X||k)}else q=R(k,Q,!0,J,$);return P(k,Q,q),q})}function C(G,X){const H=d(G,X);return H?Promise.reject(H):Promise.resolve()}function S(G){const X=Y.values().next().value;return X&&typeof X.runWithContext=="function"?X.runWithContext(G):G()}function A(G,X){let H;const[Q,$,Z]=J1(G,X);H=wr(Q.reverse(),"beforeRouteLeave",G,X);for(const j of Q)j.leaveGuards.forEach(k=>{H.push(Qe(k,G,X))});const J=C.bind(null,G,X);return H.push(J),N(H).then(()=>{H=[];for(const j of w.list())H.push(Qe(j,G,X));return H.push(J),N(H)}).then(()=>{H=wr($,"beforeRouteUpdate",G,X);for(const j of $)j.updateGuards.forEach(k=>{H.push(Qe(k,G,X))});return H.push(J),N(H)}).then(()=>{H=[];for(const j of Z)if(j.beforeEnter)if(ye(j.beforeEnter))for(const k of j.beforeEnter)H.push(Qe(k,G,X));else H.push(Qe(j.beforeEnter,G,X));return H.push(J),N(H)}).then(()=>(G.matched.forEach(j=>j.enterCallbacks={}),H=wr(Z,"beforeRouteEnter",G,X,S),H.push(J),N(H))).then(()=>{H=[];for(const j of v.list())H.push(Qe(j,G,X));return H.push(J),N(H)}).catch(j=>De(j,8)?j:Promise.reject(j))}function P(G,X,H){y.list().forEach(Q=>S(()=>Q(G,X,H)))}function R(G,X,H,Q,$){const Z=d(G,X);if(Z)return Z;const J=X===Ye,j=wi?history.state:{};H&&(Q||J?M.replace(G.fullPath,Ct({scroll:J&&j&&j.scroll},$)):M.push(G.fullPath,$)),t.value=G,W(G,X,H,J),V()}let F;function D(){F||(F=M.listen((G,X,H)=>{if(!I.listening)return;const Q=s(G),$=m(Q);if($){T(Ct($,{replace:!0}),Q).catch(cs);return}o=Q;const Z=t.value;wi&&m1(Zh(Z.fullPath,H.delta),Yn()),A(Q,Z).catch(J=>De(J,12)?J:De(J,2)?(T(J.to,Q).then(j=>{De(j,20)&&!H.delta&&H.type===Ls.pop&&M.go(-1,!1)}).catch(cs),Promise.reject()):(H.delta&&M.go(-H.delta,!1),b(J,Q,Z))).then(J=>{J=J||R(Q,Z,!1),J&&(H.delta&&!De(J,8)?M.go(-H.delta,!1):H.type===Ls.pop&&De(J,20)&&M.go(-1,!1)),P(Q,Z,J)}).catch(cs)}))}let L=qi(),O=qi(),B;function b(G,X,H){V(G);const Q=O.list();return Q.length?Q.forEach($=>$(G,X,H)):console.error(G),Promise.reject(G)}function z(){return B&&t.value!==Ye?Promise.resolve():new Promise((G,X)=>{L.add([G,X])})}function V(G){return B||(B=!G,D(),L.list().forEach(([X,H])=>G?H(G):X()),L.reset()),G}function W(G,X,H,Q){const{scrollBehavior:$}=g;if(!wi||!$)return Promise.resolve();const Z=!H&&g1(Zh(G.fullPath,0))||(Q||!H)&&history.state&&history.state.scroll||null;return bl().then(()=>$(G,X,Z)).then(J=>J&&p1(J)).catch(J=>b(J,G,X))}const K=G=>M.go(G);let U;const Y=new Set,I={currentRoute:t,listening:!0,addRoute:i,removeRoute:e,hasRoute:l,getRoutes:r,resolve:s,options:g,push:f,replace:c,go:K,back:()=>K(-1),forward:()=>K(1),beforeEach:w.add,beforeResolve:v.add,afterEach:y.add,onError:O.add,isReady:z,install(G){const X=this;G.component("RouterLink",Y1),G.component("RouterView",Z1),G.config.globalProperties.$router=X,Object.defineProperty(G.config.globalProperties,"$route",{enumerable:!0,get:()=>Di(t)}),wi&&!U&&t.value===Ye&&(U=!0,f(M.location).catch($=>{}));const H={};for(const $ in Ye)Object.defineProperty(H,$,{get:()=>t.value[$],enumerable:!0});G.provide(ja,X),G.provide(sd,Rl(H)),G.provide(va,t);const Q=G.unmount;Y.add(G),G.unmount=function(){Y.delete(G),Y.size<1&&(o=Ye,F&&F(),F=null,t.value=Ye,U=!1,B=!1),Q()}}};function N(G){return G.reduce((X,H)=>X.then(()=>S(H)),Promise.resolve())}return I}function J1(g,h){const x=[],E=[],M=[],w=Math.max(h.matched.length,g.matched.length);for(let v=0;v<w;v++){const y=h.matched[v];y&&(g.matched.find(o=>Ui(o,y))?E.push(y):x.push(y));const t=g.matched[v];t&&(h.matched.find(o=>Ui(o,t))||M.push(t))}return[x,E,M]}var Wn=[{path:"/",component:()=>ke(()=>import("./home-Cc64QXlW.js"),[]),meta:{title:"Home"}},{path:"/imageHover",component:()=>ke(()=>import("./ImageHoverEnlargeView-CRrVyHF5.js"),__vite__mapDeps([6,7]))},{path:"/MediaElementPlayer",component:()=>ke(()=>import("./MediaElementPlayer-u6gE90oL.js"),__vite__mapDeps([8,9]))}];const al=Object.assign({"/src/phaser/demo1.vue":kv,"/src/phaser/demo2.vue":op});Object.keys(al).forEach(g=>{const h=g.substring(g.lastIndexOf("/"),g.length+1).replaceAll(".vue","");console.log(`2/19/2025, 3:20:44 PM
`,h);const x=al[g];Wn.push({path:`/phaser/${h}`,component:x.default||x,name:`/phaser${h}`})});const ol=Object.assign({"/src/pixi/demo1.vue":Hx});Object.keys(ol).forEach(g=>{const h=g.substring(g.lastIndexOf("/"),g.length+1).replaceAll(".vue","");console.log(`2/19/2025, 3:20:44 PM
`,h);const x=ol[g];Wn.push({path:`/pixi/${h}`,component:x.default||x,name:`/pixi${h}`})});Wn.push({path:"/:pathMatch(.*)*",component:()=>ke(()=>import("./404-CEhGrm4K.js"),__vite__mapDeps([10,11])),meta:{title:"Not Found"}});const nd=Q1({history:C1(),routes:Wn});nd.afterEach(g=>{const{title:h,keywords:x,description:E}=g.meta;if(h&&(document.title=h),x){const M=document.querySelector('meta[name="keywords"]');M&&(M.content=x)}if(E){const M=document.querySelector('meta[name="description"]');M&&(M.content=E);const w=document.querySelector('meta[name="og:description"]');w&&(w.content=E)}});const $1={};function j1(g,h){const x=hc("router-view");return ys(),Yr(x,null,{default:Br(({Component:E,route:M})=>[kt(Ia,{name:"animation"},{default:Br(()=>[(ys(),Yr(lc(E),{class:"fixed",key:M.name}))]),_:2},1024)]),_:1})}const k1=Su($1,[["render",j1],["__scopeId","data-v-98a28142"]]);Gv(k1).use(nd).mount("#app");export{Qm as $,Gp as A,Te as B,Nt as C,_t as D,ut as E,he as F,Xt as G,vm as H,fh as I,Dt as J,ie as K,Ms as L,un as M,Na as N,uf as O,$t as P,Ku as Q,Le as R,gm as S,Ks as T,$r as U,af as V,Ih as W,yt as X,Xm as Y,Wm as Z,op as _,Yi as a,jm as a0,Tf as a1,za as a2,xt as a3,cf as a4,_r as a5,Nn as a6,ef as a7,Cp as a8,tg as a9,qm as aA,s0 as aB,pi as aC,ws as aD,Xg as aE,Lf as aF,dh as aG,uh as aH,Sp as aI,Nh as aJ,Qg as aK,Lt as aL,Ep as aM,Bh as aN,xn as aO,ua as aP,bh as aQ,If as aR,Ge as aa,Du as ab,xe as ac,_p as ad,qo as ae,Ni as af,A0 as ag,I0 as ah,bt as ai,Vt as aj,k0 as ak,th as al,hr as am,ih as an,i0 as ao,Gt as ap,bu as aq,vf as ar,Ot as as,zt as at,im as au,Em as av,Ym as aw,Hm as ax,$m as ay,km as az,kt as b,du as c,Os as d,kv as e,Hx as f,hc as g,$c as h,Su as i,ny as j,Xv as k,Hd as l,Ds as m,jl as n,ys as o,ey as p,te as q,iy as r,ty as s,_1 as t,Di as u,ry as v,Br as w,ya as x,sy as y,hp as z};
